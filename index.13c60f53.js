function $parcel$export(e,t,a,n){Object.defineProperty(e,t,{get:a,set:n,enumerable:!0,configurable:!0})}function $parcel$exportWildcard(e,t){return Object.keys(t).forEach((function(a){"default"===a||"__esModule"===a||e.hasOwnProperty(a)||Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[a]}})})),e}var $parcel$global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function $parcel$interopDefault(e){return e&&e.__esModule?e.default:e}var $parcel$modules={},$parcel$inits={},parcelRequire=$parcel$global.parcelRequire2d39;null==parcelRequire&&(parcelRequire=function(e){if(e in $parcel$modules)return $parcel$modules[e].exports;if(e in $parcel$inits){var t=$parcel$inits[e];delete $parcel$inits[e];var a={id:e,exports:{}};return $parcel$modules[e]=a,t.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n},parcelRequire.register=function(e,t){$parcel$inits[e]=t},$parcel$global.parcelRequire2d39=parcelRequire),parcelRequire.register("gLWzh",(function(e,t){var a,n;$parcel$export(e.exports,"register",(function(){return a}),(function(e){return a=e})),$parcel$export(e.exports,"resolve",(function(){return n}),(function(e){return n=e}));var r={};a=function(e){for(var t=Object.keys(e),a=0;a<t.length;a++)r[t[a]]=e[t[a]]},n=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),parcelRequire.register("ijMvi",(function(e,t){})),parcelRequire.register("6kMu8",(function(e,t){!function(e,t,a){function n(e){var t,a=this,n=(t=4022871197,function(e){e=e.toString();for(var a=0;a<e.length;a++){var n=.02519603282416938*(t+=e.charCodeAt(a));n-=t=n>>>0,t=(n*=t)>>>0,t+=4294967296*(n-=t)}return 2.3283064365386963e-10*(t>>>0)});a.next=function(){var e=2091639*a.s0+2.3283064365386963e-10*a.c;return a.s0=a.s1,a.s1=a.s2,a.s2=e-(a.c=0|e)},a.c=1,a.s0=n(" "),a.s1=n(" "),a.s2=n(" "),a.s0-=n(e),a.s0<0&&(a.s0+=1),a.s1-=n(e),a.s1<0&&(a.s1+=1),a.s2-=n(e),a.s2<0&&(a.s2+=1),n=null}function r(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function o(e,t){var a=new n(e),o=t&&t.state,s=a.next;return s.int32=function(){return 4294967296*a.next()|0},s.double=function(){return s()+11102230246251565e-32*(2097152*s()|0)},s.quick=s,o&&("object"==typeof o&&r(o,a),s.state=function(){return r(a,{})}),s}t&&t.exports?t.exports=o:a&&a.amd?a((function(){return o})):this.alea=o}(0,e,"function"==typeof define&&define)})),parcelRequire.register("7PtKt",(function(e,t){!function(e,t,a){function n(e){var t=this,a="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:a+=e;for(var n=0;n<a.length+64;n++)t.x^=0|a.charCodeAt(n),t.next()}function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function o(e,t){var a=new n(e),o=t&&t.state,s=function(){return(a.next()>>>0)/4294967296};return s.double=function(){do{var e=((a.next()>>>11)+(a.next()>>>0)/4294967296)/2097152}while(0===e);return e},s.int32=a.next,s.quick=s,o&&("object"==typeof o&&r(o,a),s.state=function(){return r(a,{})}),s}t&&t.exports?t.exports=o:a&&a.amd?a((function(){return o})):this.xor128=o}(0,e,"function"==typeof define&&define)})),parcelRequire.register("8JFrq",(function(e,t){!function(e,t,a){function n(e){var t=this,a="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:a+=e;for(var n=0;n<a.length+64;n++)t.x^=0|a.charCodeAt(n),n==a.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function o(e,t){var a=new n(e),o=t&&t.state,s=function(){return(a.next()>>>0)/4294967296};return s.double=function(){do{var e=((a.next()>>>11)+(a.next()>>>0)/4294967296)/2097152}while(0===e);return e},s.int32=a.next,s.quick=s,o&&("object"==typeof o&&r(o,a),s.state=function(){return r(a,{})}),s}t&&t.exports?t.exports=o:a&&a.amd?a((function(){return o})):this.xorwow=o}(0,e,"function"==typeof define&&define)})),parcelRequire.register("kYpbT",(function(e,t){!function(e,t,a){function n(e){var t=this;t.next=function(){var e,a,n=t.x,r=t.i;return e=n[r],a=(e^=e>>>7)^e<<24,a^=(e=n[r+1&7])^e>>>10,a^=(e=n[r+3&7])^e>>>3,a^=(e=n[r+4&7])^e<<7,e=n[r+7&7],a^=(e^=e<<13)^e<<9,n[r]=a,t.i=r+1&7,a},function(e,t){var a,n=[];if(t===(0|t))n[0]=t;else for(t=""+t,a=0;a<t.length;++a)n[7&a]=n[7&a]<<15^t.charCodeAt(a)+n[a+1&7]<<13;for(;n.length<8;)n.push(0);for(a=0;a<8&&0===n[a];++a);for(8==a?n[7]=-1:n[a],e.x=n,e.i=0,a=256;a>0;--a)e.next()}(t,e)}function r(e,t){return t.x=e.x.slice(),t.i=e.i,t}function o(e,t){null==e&&(e=+new Date);var a=new n(e),o=t&&t.state,s=function(){return(a.next()>>>0)/4294967296};return s.double=function(){do{var e=((a.next()>>>11)+(a.next()>>>0)/4294967296)/2097152}while(0===e);return e},s.int32=a.next,s.quick=s,o&&(o.x&&r(o,a),s.state=function(){return r(a,{})}),s}t&&t.exports?t.exports=o:a&&a.amd?a((function(){return o})):this.xorshift7=o}(0,e,"function"==typeof define&&define)})),parcelRequire.register("2ZlHt",(function(e,t){!function(e,t,a){function n(e){var t=this;t.next=function(){var e,a,n=t.w,r=t.X,o=t.i;return t.w=n=n+1640531527|0,a=r[o+34&127],e=r[o=o+1&127],a^=a<<13,e^=e<<17,a^=a>>>15,e^=e>>>12,a=r[o]=a^e,t.i=o,a+(n^n>>>16)|0},function(e,t){var a,n,r,o,s,c=[],i=128;for(t===(0|t)?(n=t,t=null):(t+="\0",n=0,i=Math.max(i,t.length)),r=0,o=-32;o<i;++o)t&&(n^=t.charCodeAt((o+32)%t.length)),0===o&&(s=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,o>=0&&(s=s+1640531527|0,r=0==(a=c[127&o]^=n+s)?r+1:0);for(r>=128&&(c[127&(t&&t.length||0)]=-1),r=127,o=512;o>0;--o)n=c[r+34&127],a=c[r=r+1&127],n^=n<<13,a^=a<<17,n^=n>>>15,a^=a>>>12,c[r]=n^a;e.w=s,e.X=c,e.i=r}(t,e)}function r(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function o(e,t){null==e&&(e=+new Date);var a=new n(e),o=t&&t.state,s=function(){return(a.next()>>>0)/4294967296};return s.double=function(){do{var e=((a.next()>>>11)+(a.next()>>>0)/4294967296)/2097152}while(0===e);return e},s.int32=a.next,s.quick=s,o&&(o.X&&r(o,a),s.state=function(){return r(a,{})}),s}t&&t.exports?t.exports=o:a&&a.amd?a((function(){return o})):this.xor4096=o}(0,e,"function"==typeof define&&define)})),parcelRequire.register("1Vqih",(function(e,t){!function(e,t,a){function n(e){var t=this,a="";t.next=function(){var e=t.b,a=t.c,n=t.d,r=t.a;return e=e<<25^e>>>7^a,a=a-n|0,n=n<<24^n>>>8^r,r=r-e|0,t.b=e=e<<20^e>>>12^a,t.c=a=a-n|0,t.d=n<<16^a>>>16^r,t.a=r-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):a+=e;for(var n=0;n<a.length+20;n++)t.b^=0|a.charCodeAt(n),t.next()}function r(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function o(e,t){var a=new n(e),o=t&&t.state,s=function(){return(a.next()>>>0)/4294967296};return s.double=function(){do{var e=((a.next()>>>11)+(a.next()>>>0)/4294967296)/2097152}while(0===e);return e},s.int32=a.next,s.quick=s,o&&("object"==typeof o&&r(o,a),s.state=function(){return r(a,{})}),s}t&&t.exports?t.exports=o:a&&a.amd?a((function(){return o})):this.tychei=o}(0,e,"function"==typeof define&&define)})),parcelRequire.register("hFL4C",(function(module,exports){var $eKCdi=parcelRequire("eKCdi"),t;
/*!
* ONNX Runtime Web v1.11.0
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/self,t=function(__WEBPACK_EXTERNAL_MODULE__2174__){return(()=>{var __webpack_modules__={3474:(e,t,a)=>{var n,r=(n=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return R.buffer!=M&&X(R.buffer),L}function r(){return R.buffer!=M&&X(R.buffer),B}function o(){return R.buffer!=M&&X(R.buffer),U}function s(){return R.buffer!=M&&X(R.buffer),V}var c;e=e||{},c||(c=void 0!==e?e:{});var i,d,f=Object.assign;c.ready=new Promise((function(e,t){i=e,d=t}));var $,u,p,l,b,h,x=f({},c),m="./this.program",g=(e,t)=>{throw t},v="object"==typeof window,y="function"==typeof importScripts,w="object"==typeof $eKCdi&&"object"==typeof $eKCdi.versions&&"string"==typeof $eKCdi.versions.node,_=c.ENVIRONMENT_IS_PTHREAD||!1,I="";function S(e){return c.locateFile?c.locateFile(e,I):I+e}if(w){let e;I=y?a(908).dirname(I)+"/":"//",h=()=>{b||(l=a(1384),b=a(908))},$=function(e,t){return h(),e=b.normalize(e),l.readFileSync(e,t?null:"utf8")},p=e=>((e=$(e,!0)).buffer||(e=new Uint8Array(e)),e),u=(e,t,a)=>{h(),e=b.normalize(e),l.readFile(e,(function(e,n){e?a(e):t(n.buffer)}))},1<$eKCdi.argv.length&&(m=$eKCdi.argv[1].replace(/\\/g,"/")),$eKCdi.argv.slice(2),$eKCdi.on("uncaughtException",(function(e){if(!(e instanceof Ct))throw e})),$eKCdi.on("unhandledRejection",(function(e){throw e})),g=(e,t)=>{if(ae())throw $eKCdi.exitCode=e,t;t instanceof Ct||O("exiting due to exception: "+t),$eKCdi.exit(e)},c.inspect=function(){return"[Emscripten Module object]"};try{e=a(9925)}catch(e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),e}a.g.Worker=e.Worker}else(v||y)&&(y?I=self.location.href:"undefined"!=typeof document&&document.currentScript&&(I=document.currentScript.src),n&&(I=n),I=0!==I.indexOf("blob:")?I.substr(0,I.replace(/[?#].*/,"").lastIndexOf("/")+1):"",w||($=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},y&&(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),u=(e,t,a)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):a()},n.onerror=a,n.send(null)}));w&&"undefined"==typeof performance&&(a.g.performance=a(6953).performance);var T=console.log.bind(console),k=console.warn.bind(console);w&&(h(),T=e=>l.writeSync(1,e+"\n"),k=e=>l.writeSync(2,e+"\n"));var E,A,C=c.print||T,O=c.printErr||k;f(c,x),x=null,c.thisProgram&&(m=c.thisProgram),c.quit&&(g=c.quit),c.wasmBinary&&(A=c.wasmBinary);var N=c.noExitRuntime||!1;"object"!=typeof WebAssembly&&ce("no native wasm support detected");var R,F,D=!1;function P(e){var t=new TextDecoder(e);this.decode=e=>(e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode.call(t,e))}var M,L,B,U,V,W="undefined"!=typeof TextDecoder?new P("utf8"):void 0;function z(e,t,a){var n=t+a;for(a=t;e[a]&&!(a>=n);)++a;if(16<a-t&&e.subarray&&W)return W.decode(e.subarray(t,a));for(n="";t<a;){var r=e[t++];if(128&r){var o=63&e[t++];if(192==(224&r))n+=String.fromCharCode((31&r)<<6|o);else{var s=63&e[t++];65536>(r=224==(240&r)?(15&r)<<12|o<<6|s:(7&r)<<18|o<<12|s<<6|63&e[t++])?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode(55296|r>>10,56320|1023&r))}}else n+=String.fromCharCode(r)}return n}function G(e,t){return e?z(r(),e,t):""}function j(e,t,a,n){if(!(0<n))return 0;var r=a;n=a+n-1;for(var o=0;o<e.length;++o){var s=e.charCodeAt(o);if(55296<=s&&57343>=s&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),127>=s){if(a>=n)break;t[a++]=s}else{if(2047>=s){if(a+1>=n)break;t[a++]=192|s>>6}else{if(65535>=s){if(a+2>=n)break;t[a++]=224|s>>12}else{if(a+3>=n)break;t[a++]=240|s>>18,t[a++]=128|s>>12&63}t[a++]=128|s>>6&63}t[a++]=128|63&s}}return t[a]=0,a-r}function H(e,t,a){return j(e,r(),t,a)}function q(e){for(var t=0,a=0;a<e.length;++a){var n=e.charCodeAt(a);55296<=n&&57343>=n&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++a)),127>=n?++t:t=2047>=n?t+2:65535>=n?t+3:t+4}return t}function K(e){var a=q(e)+1,n=pt(a);return n&&j(e,t(),n,a),n}function X(e){M=e,c.HEAP8=L=new Int8Array(e),c.HEAP16=new Int16Array(e),c.HEAP32=U=new Int32Array(e),c.HEAPU8=B=new Uint8Array(e),c.HEAPU16=new Uint16Array(e),c.HEAPU32=new Uint32Array(e),c.HEAPF32=new Float32Array(e),c.HEAPF64=V=new Float64Array(e)}"undefined"!=typeof TextDecoder&&new P("utf-16le"),_&&(M=c.buffer);var Y=c.INITIAL_MEMORY||16777216;if(_)R=c.wasmMemory,M=c.buffer;else if(c.wasmMemory)R=c.wasmMemory;else if(!((R=new WebAssembly.Memory({initial:Y/65536,maximum:32768,shared:!0})).buffer instanceof SharedArrayBuffer))throw O("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),w&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");R&&(M=R.buffer),Y=M.byteLength,X(M);var Z,J=[],Q=[],ee=[],te=[];function ae(){return N||!1}var ne,re=0,oe=null,se=null;function ce(e){throw _?postMessage({cmd:"onAbort",arg:e}):c.onAbort&&c.onAbort(e),O(e="Aborted("+e+")"),D=!0,e=new WebAssembly.RuntimeError(e+". Build with -s ASSERTIONS=1 for more info."),d(e),e}function ie(){return ne.startsWith("data:application/octet-stream;base64,")}function de(){var e=ne;try{if(e==ne&&A)return new Uint8Array(A);if(p)return p(e);throw"both async and sync fetching of the wasm failed"}catch(e){ce(e)}}c.preloadedImages={},c.preloadedAudios={},ne="ort-wasm-threaded.wasm",ie()||(ne=S(ne));var fe={};function $e(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t(c);else{var a=t.Tb;"number"==typeof a?void 0===t.Sa?me(a)():me(a)(t.Sa):a(void 0===t.Sa?null:t.Sa)}}}function ue(e){var t=St();return e=e(),Tt(t),e}function pe(e){var t=le.Oa[e];t&&(o()[e>>2]=0,le.jb(t.worker))}var le={Pa:[],Va:[],fb:[],Wb:function(){},ub:function(){le.receiveObjectTransfer=le.zb,le.threadInit=le.lb,le.setExitStatus=le.Bb},Oa:{},Bb:function(){},kb:function(){for(var e in le.Oa){var t=le.Oa[e];t&&t.worker&&le.jb(t.worker)}for(e=0;e<le.Pa.length;++e)le.Pa[e].terminate();le.Pa=[]},jb:function(e){le.Ab((function(){delete le.Oa[e.Qa.eb],le.Pa.push(e),le.Va.splice(le.Va.indexOf(e),1),yt(e.Qa.eb),e.Qa=void 0}))},Ab:function(e){o()[At>>2]=0;try{e()}finally{o()[At>>2]=1}},zb:function(){},lb:function(){for(var e in le.fb)le.fb[e]()},wb:function(e,t){e.onmessage=a=>{var n=(a=a.data).cmd;if(e.Qa&&(le.pb=e.Qa.eb),a.targetThread&&a.targetThread!=ut()){var r=le.Oa[a.bc];r?r.worker.postMessage(a,a.transferList):O('Internal error! Worker sent a message "'+n+'" to target pthread '+a.targetThread+", but that thread no longer exists!")}else"processQueuedMainThreadWork"===n?ht():"spawnThread"===n?ve(a):"cleanupThread"===n?pe(a.thread):"killThread"===n?(a=a.thread,o()[a>>2]=0,n=le.Oa[a],delete le.Oa[a],n.worker.terminate(),yt(a),le.Va.splice(le.Va.indexOf(n.worker),1),n.worker.Qa=void 0):"cancelThread"===n?le.Oa[a.thread].worker.postMessage({cmd:"cancel"}):"loaded"===n?(e.loaded=!0,t&&t(e),e.Ua&&(e.Ua(),delete e.Ua)):"print"===n?C("Thread "+a.threadId+": "+a.text):"printErr"===n?O("Thread "+a.threadId+": "+a.text):"alert"===n?alert("Thread "+a.threadId+": "+a.text):"setimmediate"===a.target?e.postMessage(a):"onAbort"===n?c.onAbort&&c.onAbort(a.arg):O("worker sent an unknown command "+n);le.pb=void 0},e.onerror=e=>{throw O("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},w&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:c.mainScriptUrlOrBlob||n,wasmMemory:R,wasmModule:F})},mb:function(){var e=S("ort-wasm-threaded.worker.js");le.Pa.push(new Worker(e))},rb:function(){return 0==le.Pa.length&&(le.mb(),le.wb(le.Pa[0])),le.Pa.pop()}};function be(e){if(_)return Ve(1,0,e);try{Nt(e)}catch(e){e instanceof Ct||"unwind"==e||g(1,e)}}c.establishStackSpace=function(){var e=ut(),t=o()[e+44>>2];e=o()[e+48>>2],It(t,t-e),Tt(t)};var he,xe=[];function me(e){var t=xe[e];return t||(e>=xe.length&&(xe.length=e+1),xe[e]=t=Z.get(e)),t}function ge(e){this.Ta=e-16,this.Gb=function(e){o()[this.Ta+4>>2]=e},this.Db=function(e){o()[this.Ta+8>>2]=e},this.Eb=function(){o()[this.Ta>>2]=0},this.Cb=function(){t()[this.Ta+12>>0]=0},this.Fb=function(){t()[this.Ta+13>>0]=0},this.sb=function(e,t){this.Gb(e),this.Db(t),this.Eb(),this.Cb(),this.Fb()}}function ve(e){var t=le.rb();if(!t)return 6;le.Va.push(t);var a=le.Oa[e.cb]={worker:t,eb:e.cb};t.Qa=a;var n={cmd:"run",start_routine:e.Hb,arg:e.Sa,threadInfoStruct:e.cb};return t.Ua=()=>{n.time=performance.now(),t.postMessage(n,e.Mb)},t.loaded&&(t.Ua(),delete t.Ua),0}c.invokeEntryPoint=function(e,t){return me(e)(t)},he=w?()=>{var e=$eKCdi.hrtime();return 1e3*e[0]+e[1]/1e6}:_?()=>performance.now()-c.__performance_now_clock_drift:()=>performance.now();var ye={},we=[null,[],[]];function _e(e,t){var a=we[e];0===t||10===t?((1===e?C:O)(z(a,0)),a.length=0):a.push(t)}var Ie={};function Se(e,t,a){return _?Ve(2,1,e,t,a):0}function Te(e,t){if(_)return Ve(3,1,e,t)}function ke(e,t,a,n){if(_)return Ve(4,1,e,t,a,n)}function Ee(e,t){if(_)return Ve(5,1,e,t)}function Ae(e,t,a){if(_)return Ve(6,1,e,t,a)}function Ce(e,t,a){return _?Ve(7,1,e,t,a):0}function Oe(e,t){if(_)return Ve(8,1,e,t)}function Ne(e,t){return _?Ve(9,1,e,t):(e=G(e),Ie.Qb(e,t))}function Re(e,t,a,n,o,s){if(_)t=Ve(10,1,e,t,a,n,o,s);else if(s<<=12,0!=(16&n)&&0!=e%65536)t=-28;else if(0!=(32&n)){var c=65536*Math.ceil(t/65536);(e=_t(65536,c))?r().fill(0,e,e+c):e=0,e?(ye[e]={yb:e,vb:t,nb:!0,fd:o,Zb:a,flags:n,offset:s},t=e):t=-48}else t=-52;return t}function Fe(e,t){if(_)e=Ve(11,1,e,t);else{var a=ye[e];0!==t&&a?(t===a.vb&&(ye[e]=null,a.nb&&lt(a.yb)),e=0):e=-28}return e}function De(e,t,a){if(_)return Ve(12,1,e,t,a)}function Pe(e,t,a){return _?Ve(13,1,e,t,a):(e=G(e),Ie.Rb(e,t,a))}function Me(e){if(_)return Ve(14,1,e)}function Le(e,t){if(_)return Ve(15,1,e,t)}function Be(e){if(_)return Ve(16,1,e)}function Ue(e,t,a){function n(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}if(_)return Ve(17,1,e,t,a);var r=(new Date).getFullYear(),s=new Date(r,0,1),c=new Date(r,6,1);r=s.getTimezoneOffset();var i=c.getTimezoneOffset(),d=Math.max(r,i);o()[e>>2]=60*d,o()[t>>2]=Number(r!=i),e=n(s),t=n(c),e=K(e),t=K(t),i<r?(o()[a>>2]=e,o()[a+4>>2]=t):(o()[a>>2]=t,o()[a+4>>2]=e)}function Ve(e,t){var a=arguments.length-2,n=arguments;return ue((function(){for(var r=kt(8*a),o=r>>3,c=0;c<a;c++){var i=n[2+c];s()[o+c]=i}return gt(e,a,r,t)}))}var We=[],ze=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function Ge(e){return e=2<e?G(e):e,ze[e]||("undefined"!=typeof document?document.querySelector(e):void 0)}function je(e,t,a){var n,r,s,c,i=Ge(e);return i?(i.Za&&(o()[i.Za>>2]=t,o()[i.Za+4>>2]=a),!i.ib&&i.Ob?i.Za?(n=i=o()[i.Za+8>>2],r=e=e?G(e):"",s=t,c=a,ue((function(){var e=kt(12),t=0;if(r){t=q(r)+1;var a=pt(t);H(r,a,t),t=a}o()[e>>2]=t,o()[e+4>>2]=s,o()[e+8>>2]=c,vt(n,657457152,0,t,e)})),1):-4:(i.ib&&(i=i.ib),e=!1,i.Ya&&i.Ya.Xa&&(e=0===(e=i.Ya.Xa.getParameter(2978))[0]&&0===e[1]&&e[2]===i.width&&e[3]===i.height),i.width=t,i.height=a,e&&i.Ya.Xa.viewport(0,0,t,a),0)):-4}function He(e,t,a){return _?Ve(18,1,e,t,a):je(e,t,a)}var qe,Ke=["default","low-power","high-performance"],Xe={};function Ye(){if(!qe){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(e in Xe)void 0===Xe[e]?delete t[e]:t[e]=Xe[e];var a=[];for(e in t)a.push(e+"="+t[e]);qe=a}return qe}function Ze(e,a){if(_)return Ve(19,1,e,a);var n=0;return Ye().forEach((function(r,s){var c=a+n;for(s=o()[e+4*s>>2]=c,c=0;c<r.length;++c)t()[s++>>0]=r.charCodeAt(c);t()[s>>0]=0,n+=r.length+1})),0}function Je(e,t){if(_)return Ve(20,1,e,t);var a=Ye();o()[e>>2]=a.length;var n=0;return a.forEach((function(e){n+=e.length+1})),o()[t>>2]=n,0}function Qe(e){return _?Ve(21,1,e):0}function et(e,t,a,n){return _?Ve(22,1,e,t,a,n):(e=Ie.Ub(e),t=Ie.Sb(e,t,a),o()[n>>2]=t,0)}function tt(e,t,a,n,r){if(_)return Ve(23,1,e,t,a,n,r)}function at(e,t,a,n){if(_)return Ve(24,1,e,t,a,n);for(var s=0,c=0;c<a;c++){var i=o()[t>>2],d=o()[t+4>>2];t+=8;for(var f=0;f<d;f++)_e(e,r()[i+f]);s+=d}return o()[n>>2]=s,0}function nt(e){return 0==e%4&&(0!=e%100||0==e%400)}function rt(e,t){for(var a=0,n=0;n<=t;a+=e[n++]);return a}var ot=[31,29,31,30,31,30,31,31,30,31,30,31],st=[31,28,31,30,31,30,31,31,30,31,30,31];function ct(e,t){for(e=new Date(e.getTime());0<t;){var a=e.getMonth(),n=(nt(e.getFullYear())?ot:st)[a];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>a?e.setMonth(a+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return e}function it(e,a,n,r){function s(e,t,a){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=a[0]+e;return e}function c(e,t){return s(e,t,"0")}function i(e,t){function a(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=a(e.getFullYear()-t.getFullYear()))&&0===(n=a(e.getMonth()-t.getMonth()))&&(n=a(e.getDate()-t.getDate())),n}function d(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function f(e){e=ct(new Date(e.Na+1900,0,1),e.bb);var t=new Date(e.getFullYear()+1,0,4),a=d(new Date(e.getFullYear(),0,4));return t=d(t),0>=i(a,e)?0>=i(t,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var $=o()[r+40>>2];for(var u in r={Kb:o()[r>>2],Jb:o()[r+4>>2],$a:o()[r+8>>2],Wa:o()[r+12>>2],Ra:o()[r+16>>2],Na:o()[r+20>>2],ab:o()[r+24>>2],bb:o()[r+28>>2],cc:o()[r+32>>2],Ib:o()[r+36>>2],Lb:$?G($):""},n=G(n),$={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(u,"g"),$[u]);var p,l,b="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),h="January February March April May June July August September October November December".split(" ");for(u in $={"%a":function(e){return b[e.ab].substring(0,3)},"%A":function(e){return b[e.ab]},"%b":function(e){return h[e.Ra].substring(0,3)},"%B":function(e){return h[e.Ra]},"%C":function(e){return c((e.Na+1900)/100|0,2)},"%d":function(e){return c(e.Wa,2)},"%e":function(e){return s(e.Wa,2," ")},"%g":function(e){return f(e).toString().substring(2)},"%G":function(e){return f(e)},"%H":function(e){return c(e.$a,2)},"%I":function(e){return 0==(e=e.$a)?e=12:12<e&&(e-=12),c(e,2)},"%j":function(e){return c(e.Wa+rt(nt(e.Na+1900)?ot:st,e.Ra-1),3)},"%m":function(e){return c(e.Ra+1,2)},"%M":function(e){return c(e.Jb,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.$a&&12>e.$a?"AM":"PM"},"%S":function(e){return c(e.Kb,2)},"%t":function(){return"\t"},"%u":function(e){return e.ab||7},"%U":function(e){var t=new Date(e.Na+1900,0,1),a=0===t.getDay()?t:ct(t,7-t.getDay());return 0>i(a,e=new Date(e.Na+1900,e.Ra,e.Wa))?c(Math.ceil((31-a.getDate()+(rt(nt(e.getFullYear())?ot:st,e.getMonth()-1)-31)+e.getDate())/7),2):0===i(a,t)?"01":"00"},"%V":function(e){var t=new Date(e.Na+1901,0,4),a=d(new Date(e.Na+1900,0,4));t=d(t);var n=ct(new Date(e.Na+1900,0,1),e.bb);return 0>i(n,a)?"53":0>=i(t,n)?"01":c(Math.ceil((a.getFullYear()<e.Na+1900?e.bb+32-a.getDate():e.bb+1-a.getDate())/7),2)},"%w":function(e){return e.ab},"%W":function(e){var t=new Date(e.Na,0,1),a=1===t.getDay()?t:ct(t,0===t.getDay()?1:7-t.getDay()+1);return 0>i(a,e=new Date(e.Na+1900,e.Ra,e.Wa))?c(Math.ceil((31-a.getDate()+(rt(nt(e.getFullYear())?ot:st,e.getMonth()-1)-31)+e.getDate())/7),2):0===i(a,t)?"01":"00"},"%y":function(e){return(e.Na+1900).toString().substring(2)},"%Y":function(e){return e.Na+1900},"%z":function(e){var t=0<=(e=e.Ib);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Lb},"%%":function(){return"%"}})n.includes(u)&&(n=n.replace(new RegExp(u,"g"),$[u](r)));return p=n,l=Array(q(p)+1),j(p,l,0,l.length),(u=l).length>a?0:(function(e,a){t().set(e,a)}(u,e),u.length-1)}var dt=[null,be,Se,Te,ke,Ee,Ae,Ce,Oe,Ne,Re,Fe,De,Pe,Me,Le,Be,Ue,He,Ze,Je,Qe,et,tt,at],ft={b:function(e){return pt(e+16)+16},c:function(e,t,a){throw new ge(e).sb(t,a),e},M:function(e){xt(e,!y,1,!v),le.lb()},n:function(e){_?postMessage({cmd:"cleanupThread",thread:e}):pe(e)},p:function(e,t,a,n){if("undefined"==typeof SharedArrayBuffer)return O("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var r=[];return _&&0===r.length?mt(687865856,e,t,a,n):(e={Hb:a,cb:e,Sa:n,Mb:r},_?(e.Nb="spawnThread",postMessage(e,r),0):ve(e))},i:Se,U:Te,R:ke,y:Ee,A:Ae,t:Ce,S:Oe,H:Ne,G:Re,F:Fe,o:De,z:Pe,w:Me,T:Le,x:Be,j:function(){ce("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},_:function(){ce("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},E:function(){return 2097152},Z:function(e,t,a){var n=performance.now();for(a=n+a,Atomics.exchange(o(),Et>>2,e);;){if((n=performance.now())>a)return Atomics.exchange(o(),Et>>2,0),-73;if(0==(n=Atomics.exchange(o(),Et>>2,0)))break;if(ht(),Atomics.load(o(),e>>2)!=t)return-6;Atomics.exchange(o(),Et>>2,e)}return 0},N:function(e,t){if(e==t)postMessage({cmd:"processQueuedMainThreadWork"});else if(_)postMessage({targetThread:e,cmd:"processThreadQueue"});else{if(!(e=(e=le.Oa[e])&&e.worker))return;e.postMessage({cmd:"processThreadQueue"})}return 1},V:function(e,t){e=new Date(1e3*o()[e>>2]),o()[t>>2]=e.getUTCSeconds(),o()[t+4>>2]=e.getUTCMinutes(),o()[t+8>>2]=e.getUTCHours(),o()[t+12>>2]=e.getUTCDate(),o()[t+16>>2]=e.getUTCMonth(),o()[t+20>>2]=e.getUTCFullYear()-1900,o()[t+24>>2]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,o()[t+28>>2]=e},W:function(e,t){e=new Date(1e3*o()[e>>2]),o()[t>>2]=e.getSeconds(),o()[t+4>>2]=e.getMinutes(),o()[t+8>>2]=e.getHours(),o()[t+12>>2]=e.getDate(),o()[t+16>>2]=e.getMonth(),o()[t+20>>2]=e.getFullYear()-1900,o()[t+24>>2]=e.getDay();var a=new Date(e.getFullYear(),0,1),n=(e.getTime()-a.getTime())/864e5|0;o()[t+28>>2]=n,o()[t+36>>2]=-60*e.getTimezoneOffset(),n=new Date(e.getFullYear(),6,1).getTimezoneOffset(),e=0|(n!=(a=a.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(a,n)),o()[t+32>>2]=e},X:function(e){var t=new Date(o()[e+20>>2]+1900,o()[e+16>>2],o()[e+12>>2],o()[e+8>>2],o()[e+4>>2],o()[e>>2],0),a=o()[e+32>>2],n=t.getTimezoneOffset(),r=new Date(t.getFullYear(),0,1),s=new Date(t.getFullYear(),6,1).getTimezoneOffset(),c=r.getTimezoneOffset(),i=Math.min(c,s);return 0>a?o()[e+32>>2]=Number(s!=c&&i==n):0<a!=(i==n)&&(s=Math.max(c,s),t.setTime(t.getTime()+6e4*((0<a?i:s)-n))),o()[e+24>>2]=t.getDay(),a=(t.getTime()-r.getTime())/864e5|0,o()[e+28>>2]=a,o()[e>>2]=t.getSeconds(),o()[e+4>>2]=t.getMinutes(),o()[e+8>>2]=t.getHours(),o()[e+12>>2]=t.getDate(),o()[e+16>>2]=t.getMonth(),t.getTime()/1e3|0},Y:function e(t,a,n){e.ob||(e.ob=!0,Ue(t,a,n))},d:function(){ce("")},q:function(e,t){if(0===e)e=Date.now();else{if(1!==e&&4!==e)return o()[$t()>>2]=28,-1;e=he()}return o()[t>>2]=e/1e3|0,o()[t+4>>2]=e%1e3*1e6|0,0},B:function(e,t){return e-t},m:function(){w||y||(E||(E={}),E["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]||(E["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]=1,O("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")))},v:function(){return 2147483648},f:he,Q:function(e,t,a){r().copyWithin(e,t,t+a)},g:function(){return w?a(3993).cpus().length:navigator.hardwareConcurrency},I:function(e,t,a){We.length=t,a>>=3;for(var n=0;n<t;n++)We[n]=s()[a+n];return(0>e?fe[-e-1]:dt[e]).apply(null,We)},u:function(e){var t=r().length;if((e>>>=0)<=t||2147483648<e)return!1;for(var a=1;4>=a;a*=2){var n=t*(1+.2/a);n=Math.min(n,e+100663296),0<(n=Math.max(e,n))%65536&&(n+=65536-n%65536);e:{try{R.grow(Math.min(2147483648,n)-M.byteLength+65535>>>16),X(R.buffer);var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},K:function(e,t,a){return Ge(e)?je(e,t,a):He(e,t,a)},C:function(){throw"unwind"},L:function(e,t){t>>=2;var a=o()[t+6];return t={alpha:!!o()[t],depth:!!o()[t+1],stencil:!!o()[t+2],antialias:!!o()[t+3],premultipliedAlpha:!!o()[t+4],preserveDrawingBuffer:!!o()[t+5],powerPreference:Ke[a],failIfMajorPerformanceCaveat:!!o()[t+7],xb:o()[t+8],Xb:o()[t+9],gb:o()[t+10],qb:o()[t+11],$b:o()[t+12],ac:o()[t+13]},!(e=Ge(e))||t.qb?0:function(e,t){e.hb||(e.hb=e.getContext,e.getContext=function(t,a){return"webgl"==t==(a=e.hb(t,a))instanceof WebGLRenderingContext?a:null});var a=e.getContext("webgl",t);return a?function(e,t){var a=pt(8);o()[a+4>>2]=ut();var n={Vb:a,attributes:t,version:t.xb,Xa:e};return e.canvas&&(e.canvas.Ya=n),(void 0===t.gb||t.gb)&&function(e){if(e||(e=void 0),!e.tb){e.tb=!0;var t=e.Xa;(n=(a=t).getExtension("ANGLE_instanced_arrays"))&&(a.vertexAttribDivisor=function(e,t){n.vertexAttribDivisorANGLE(e,t)},a.drawArraysInstanced=function(e,t,a,r){n.drawArraysInstancedANGLE(e,t,a,r)},a.drawElementsInstanced=function(e,t,a,r,o){n.drawElementsInstancedANGLE(e,t,a,r,o)}),function(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)})}(t),function(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(e,a){t.drawBuffersWEBGL(e,a)})}(t),t.Pb=t.getExtension("EXT_disjoint_timer_query"),t.Yb=t.getExtension("WEBGL_multi_draw"),(t.getSupportedExtensions()||[]).forEach((function(e){e.includes("lose_context")||e.includes("debug")||t.getExtension(e)}))}var a,n}(n),a}(a,t):0}(e,t)},O:Ze,P:Je,D:function(e){Nt(e)},h:Qe,l:et,s:tt,k:at,J:function(e){var t=Date.now();return o()[e>>2]=t/1e3|0,o()[e+4>>2]=t%1e3*1e3|0,0},a:R||c.wasmMemory,r:it,e:function(e,t,a,n){return it(e,t,a,n)}};!function(){function e(e,t){c.asm=e.exports,le.fb.push(c.asm.xa),Z=c.asm.Ba,Q.unshift(c.asm.$),F=t,_||(re--,c.monitorRunDependencies&&c.monitorRunDependencies(re),0==re&&(null!==oe&&(clearInterval(oe),oe=null),se&&(e=se,se=null,e())))}function t(t){e(t.instance,t.module)}function a(e){return function(){if(!A&&(v||y)){if("function"==typeof fetch&&!ne.startsWith("file://"))return fetch(ne,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ne+"'";return e.arrayBuffer()})).catch((function(){return de()}));if(u)return new Promise((function(e,t){u(ne,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return de()}))}().then((function(e){return WebAssembly.instantiate(e,n)})).then((function(e){return e})).then(e,(function(e){O("failed to asynchronously prepare wasm: "+e),ce(e)}))}var n={a:ft};if(_||(re++,c.monitorRunDependencies&&c.monitorRunDependencies(re)),c.instantiateWasm)try{return c.instantiateWasm(n,e)}catch(e){return O("Module.instantiateWasm callback failed with error: "+e),!1}(A||"function"!=typeof WebAssembly.instantiateStreaming||ie()||ne.startsWith("file://")||"function"!=typeof fetch?a(t):fetch(ne,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,n).then(t,(function(e){return O("wasm streaming compile failed: "+e),O("falling back to ArrayBuffer instantiation"),a(t)}))}))).catch(d)}(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.$).apply(null,arguments)},c._OrtInit=function(){return(c._OrtInit=c.asm.aa).apply(null,arguments)},c._OrtCreateSessionOptions=function(){return(c._OrtCreateSessionOptions=c.asm.ba).apply(null,arguments)},c._OrtAddSessionConfigEntry=function(){return(c._OrtAddSessionConfigEntry=c.asm.ca).apply(null,arguments)},c._OrtReleaseSessionOptions=function(){return(c._OrtReleaseSessionOptions=c.asm.da).apply(null,arguments)},c._OrtCreateSession=function(){return(c._OrtCreateSession=c.asm.ea).apply(null,arguments)},c._OrtReleaseSession=function(){return(c._OrtReleaseSession=c.asm.fa).apply(null,arguments)},c._OrtGetInputCount=function(){return(c._OrtGetInputCount=c.asm.ga).apply(null,arguments)},c._OrtGetOutputCount=function(){return(c._OrtGetOutputCount=c.asm.ha).apply(null,arguments)},c._OrtGetInputName=function(){return(c._OrtGetInputName=c.asm.ia).apply(null,arguments)},c._OrtGetOutputName=function(){return(c._OrtGetOutputName=c.asm.ja).apply(null,arguments)},c._OrtFree=function(){return(c._OrtFree=c.asm.ka).apply(null,arguments)},c._OrtCreateTensor=function(){return(c._OrtCreateTensor=c.asm.la).apply(null,arguments)},c._OrtGetTensorData=function(){return(c._OrtGetTensorData=c.asm.ma).apply(null,arguments)},c._OrtReleaseTensor=function(){return(c._OrtReleaseTensor=c.asm.na).apply(null,arguments)},c._OrtCreateRunOptions=function(){return(c._OrtCreateRunOptions=c.asm.oa).apply(null,arguments)},c._OrtAddRunConfigEntry=function(){return(c._OrtAddRunConfigEntry=c.asm.pa).apply(null,arguments)},c._OrtReleaseRunOptions=function(){return(c._OrtReleaseRunOptions=c.asm.qa).apply(null,arguments)},c._OrtRun=function(){return(c._OrtRun=c.asm.ra).apply(null,arguments)},c._OrtEndProfiling=function(){return(c._OrtEndProfiling=c.asm.sa).apply(null,arguments)};var $t=c.___errno_location=function(){return($t=c.___errno_location=c.asm.ta).apply(null,arguments)},ut=c._pthread_self=function(){return(ut=c._pthread_self=c.asm.ua).apply(null,arguments)},pt=c._malloc=function(){return(pt=c._malloc=c.asm.va).apply(null,arguments)},lt=c._free=function(){return(lt=c._free=c.asm.wa).apply(null,arguments)};c._emscripten_tls_init=function(){return(c._emscripten_tls_init=c.asm.xa).apply(null,arguments)};var bt=c.___funcs_on_exit=function(){return(bt=c.___funcs_on_exit=c.asm.ya).apply(null,arguments)},ht=c._emscripten_main_thread_process_queued_calls=function(){return(ht=c._emscripten_main_thread_process_queued_calls=c.asm.za).apply(null,arguments)},xt=c.__emscripten_thread_init=function(){return(xt=c.__emscripten_thread_init=c.asm.Aa).apply(null,arguments)};c._emscripten_current_thread_process_queued_calls=function(){return(c._emscripten_current_thread_process_queued_calls=c.asm.Ca).apply(null,arguments)};var mt=c._emscripten_sync_run_in_main_thread_4=function(){return(mt=c._emscripten_sync_run_in_main_thread_4=c.asm.Da).apply(null,arguments)},gt=c._emscripten_run_in_main_runtime_thread_js=function(){return(gt=c._emscripten_run_in_main_runtime_thread_js=c.asm.Ea).apply(null,arguments)},vt=c._emscripten_dispatch_to_thread_=function(){return(vt=c._emscripten_dispatch_to_thread_=c.asm.Fa).apply(null,arguments)},yt=c.__emscripten_thread_free_data=function(){return(yt=c.__emscripten_thread_free_data=c.asm.Ga).apply(null,arguments)};c.__emscripten_thread_exit=function(){return(c.__emscripten_thread_exit=c.asm.Ha).apply(null,arguments)};var wt,_t=c._memalign=function(){return(_t=c._memalign=c.asm.Ia).apply(null,arguments)},It=c._emscripten_stack_set_limits=function(){return(It=c._emscripten_stack_set_limits=c.asm.Ja).apply(null,arguments)},St=c.stackSave=function(){return(St=c.stackSave=c.asm.Ka).apply(null,arguments)},Tt=c.stackRestore=function(){return(Tt=c.stackRestore=c.asm.La).apply(null,arguments)},kt=c.stackAlloc=function(){return(kt=c.stackAlloc=c.asm.Ma).apply(null,arguments)},Et=c.__emscripten_main_thread_futex=687896,At=c.__emscripten_allow_main_runtime_queued_calls=683012;function Ct(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Ot(){function e(){if(!wt&&(wt=!0,c.calledRun=!0,!D)&&(_||$e(Q),i(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),!_)){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;){var e=c.postRun.shift();te.unshift(e)}$e(te)}}if(!(0<re))if(_)i(c),_||$e(Q),postMessage({cmd:"loaded"});else{if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)t=void 0,t=c.preRun.shift(),J.unshift(t);$e(J),0<re||(c.setStatus?(c.setStatus("Running..."),setTimeout((function(){setTimeout((function(){c.setStatus("")}),1),e()}),1)):e())}var t}function Nt(e){if(_)throw be(e),"unwind";ae()||_||(bt(),$e(ee),we[1].length&&_e(1,10),we[2].length&&_e(2,10),le.kb()),ae()||(le.kb(),c.onExit&&c.onExit(e),D=!0),g(e,new Ct(e))}if(c.UTF8ToString=G,c.stringToUTF8=H,c.lengthBytesUTF8=q,c.keepRuntimeAlive=ae,c.PThread=le,c.stackSave=St,c.stackRestore=Tt,c.stackAlloc=kt,c.PThread=le,c.wasmMemory=R,c.ExitStatus=Ct,se=function e(){wt||Ot(),wt||(se=e)},c.run=Ot,c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return _&&(N=!1,le.ub()),Ot(),e.ready});e.exports=r},5118:e=>{e.exports='"use strict";var e={};if("object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node){var t=require("worker_threads"),r=t.parentPort;r.on("message",(function(e){onmessage({data:e})}));var a=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:t.Worker,importScripts:function(e){(0,eval)(a.readFileSync(e,"utf8"))},postMessage:function(e){r.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=function(){var e=Array.prototype.slice.call(arguments).join(" ");console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.threadInfoStruct,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInit();try{var a=e.invokeEntryPoint(t.data.start_routine,t.data.arg);e.keepRuntimeAlive()?e.PThread.setExitStatus(a):e.__emscripten_thread_exit(a)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processThreadQueue"===t.data.cmd?e._pthread_self()&&e._emscripten_current_thread_process_queued_calls():(s("worker.js received unknown command "+t.data.cmd),s(t.data)))}catch(e){throw s("worker.js onmessage() captured an uncaught exception: "+e),e&&e.stack&&s(e.stack),e}};\n'},932:(e,t,a)=>{var n,r=(n=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t;e=e||{},t||(t=void 0!==e?e:{});var r,o,s=Object.assign;t.ready=new Promise((function(e,t){r=e,o=t}));var c,i,d,f,$,u,p=s({},t),l="./this.program",b="object"==typeof window,h="function"==typeof importScripts,x="object"==typeof $eKCdi&&"object"==typeof $eKCdi.versions&&"string"==typeof $eKCdi.versions.node,m="";x?(m=h?a(908).dirname(m)+"/":"//",u=()=>{$||(f=a(1384),$=a(908))},c=function(e,t){return u(),e=$.normalize(e),f.readFileSync(e,t?null:"utf8")},d=e=>((e=c(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,a)=>{u(),e=$.normalize(e),f.readFile(e,(function(e,n){e?a(e):t(n.buffer)}))},1<$eKCdi.argv.length&&(l=$eKCdi.argv[1].replace(/\\/g,"/")),$eKCdi.argv.slice(2),$eKCdi.on("uncaughtException",(function(e){throw e})),$eKCdi.on("unhandledRejection",(function(e){throw e})),t.inspect=function(){return"[Emscripten Module object]"}):(b||h)&&(h?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),n&&(m=n),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",c=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},h&&(d=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,a)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):a()},n.onerror=a,n.send(null)});var g,v=t.print||console.log.bind(console),y=t.printErr||console.warn.bind(console);s(t,p),p=null,t.thisProgram&&(l=t.thisProgram),t.wasmBinary&&(g=t.wasmBinary),t.noExitRuntime,"object"!=typeof WebAssembly&&z("no native wasm support detected");var w,_,I,S,T,k=!1,E="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function A(e,t,a){var n=t+a;for(a=t;e[a]&&!(a>=n);)++a;if(16<a-t&&e.subarray&&E)return E.decode(e.subarray(t,a));for(n="";t<a;){var r=e[t++];if(128&r){var o=63&e[t++];if(192==(224&r))n+=String.fromCharCode((31&r)<<6|o);else{var s=63&e[t++];65536>(r=224==(240&r)?(15&r)<<12|o<<6|s:(7&r)<<18|o<<12|s<<6|63&e[t++])?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode(55296|r>>10,56320|1023&r))}}else n+=String.fromCharCode(r)}return n}function C(e,t){return e?A(S,e,t):""}function O(e,t,a,n){if(!(0<n))return 0;var r=a;n=a+n-1;for(var o=0;o<e.length;++o){var s=e.charCodeAt(o);if(55296<=s&&57343>=s&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),127>=s){if(a>=n)break;t[a++]=s}else{if(2047>=s){if(a+1>=n)break;t[a++]=192|s>>6}else{if(65535>=s){if(a+2>=n)break;t[a++]=224|s>>12}else{if(a+3>=n)break;t[a++]=240|s>>18,t[a++]=128|s>>12&63}t[a++]=128|s>>6&63}t[a++]=128|63&s}}return t[a]=0,a-r}function N(e){for(var t=0,a=0;a<e.length;++a){var n=e.charCodeAt(a);55296<=n&&57343>=n&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++a)),127>=n?++t:t=2047>=n?t+2:65535>=n?t+3:t+4}return t}function R(e){var t=N(e)+1,a=pe(t);return a&&O(e,I,a,t),a}function F(){var e=w.buffer;_=e,t.HEAP8=I=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=T=new Int32Array(e),t.HEAPU8=S=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var D,P,M=[],L=[],B=[],U=0,V=null,W=null;function z(e){throw t.onAbort&&t.onAbort(e),y(e="Aborted("+e+")"),k=!0,e=new WebAssembly.RuntimeError(e+". Build with -s ASSERTIONS=1 for more info."),o(e),e}function G(){return P.startsWith("data:application/octet-stream;base64,")}if(t.preloadedImages={},t.preloadedAudios={},P="ort-wasm.wasm",!G()){var j=P;P=t.locateFile?t.locateFile(j,m):m+j}function H(){var e=P;try{if(e==P&&g)return new Uint8Array(g);if(d)return d(e);throw"both async and sync fetching of the wasm failed"}catch(e){z(e)}}function q(e){for(;0<e.length;){var a=e.shift();if("function"==typeof a)a(t);else{var n=a.Na;"number"==typeof n?void 0===a.va?X(n)():X(n)(a.va):n(void 0===a.va?null:a.va)}}}var K=[];function X(e){var t=K[e];return t||(e>=K.length&&(K.length=e+1),K[e]=t=D.get(e)),t}function Y(e){this.qa=e-16,this.Fa=function(e){T[this.qa+4>>2]=e},this.Ca=function(e){T[this.qa+8>>2]=e},this.Da=function(){T[this.qa>>2]=0},this.Ba=function(){I[this.qa+12>>0]=0},this.Ea=function(){I[this.qa+13>>0]=0},this.ya=function(e,t){this.Fa(e),this.Ca(t),this.Da(),this.Ba(),this.Ea()}}var Z,J,Q={},ee=[null,[],[]],te={},ae={};function ne(){if(!J){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:l||"./this.program"};for(e in ae)void 0===ae[e]?delete t[e]:t[e]=ae[e];var a=[];for(e in t)a.push(e+"="+t[e]);J=a}return J}function re(e){return 0==e%4&&(0!=e%100||0==e%400)}function oe(e,t){for(var a=0,n=0;n<=t;a+=e[n++]);return a}var se=[31,29,31,30,31,30,31,31,30,31,30,31],ce=[31,28,31,30,31,30,31,31,30,31,30,31];function ie(e,t){for(e=new Date(e.getTime());0<t;){var a=e.getMonth(),n=(re(e.getFullYear())?se:ce)[a];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>a?e.setMonth(a+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return e}function de(e,t,a,n){function r(e,t,a){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=a[0]+e;return e}function o(e,t){return r(e,t,"0")}function s(e,t){function a(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=a(e.getFullYear()-t.getFullYear()))&&0===(n=a(e.getMonth()-t.getMonth()))&&(n=a(e.getDate()-t.getDate())),n}function c(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function i(e){e=ie(new Date(e.oa+1900,0,1),e.ua);var t=new Date(e.getFullYear()+1,0,4),a=c(new Date(e.getFullYear(),0,4));return t=c(t),0>=s(a,e)?0>=s(t,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var d=T[n+40>>2];for(var f in n={Ia:T[n>>2],Ha:T[n+4>>2],sa:T[n+8>>2],ra:T[n+12>>2],pa:T[n+16>>2],oa:T[n+20>>2],ta:T[n+24>>2],ua:T[n+28>>2],Qa:T[n+32>>2],Ga:T[n+36>>2],Ja:d?C(d):""},a=C(a),d={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})a=a.replace(new RegExp(f,"g"),d[f]);var $,u,p="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),l="January February March April May June July August September October November December".split(" ");for(f in d={"%a":function(e){return p[e.ta].substring(0,3)},"%A":function(e){return p[e.ta]},"%b":function(e){return l[e.pa].substring(0,3)},"%B":function(e){return l[e.pa]},"%C":function(e){return o((e.oa+1900)/100|0,2)},"%d":function(e){return o(e.ra,2)},"%e":function(e){return r(e.ra,2," ")},"%g":function(e){return i(e).toString().substring(2)},"%G":function(e){return i(e)},"%H":function(e){return o(e.sa,2)},"%I":function(e){return 0==(e=e.sa)?e=12:12<e&&(e-=12),o(e,2)},"%j":function(e){return o(e.ra+oe(re(e.oa+1900)?se:ce,e.pa-1),3)},"%m":function(e){return o(e.pa+1,2)},"%M":function(e){return o(e.Ha,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.sa&&12>e.sa?"AM":"PM"},"%S":function(e){return o(e.Ia,2)},"%t":function(){return"\t"},"%u":function(e){return e.ta||7},"%U":function(e){var t=new Date(e.oa+1900,0,1),a=0===t.getDay()?t:ie(t,7-t.getDay());return 0>s(a,e=new Date(e.oa+1900,e.pa,e.ra))?o(Math.ceil((31-a.getDate()+(oe(re(e.getFullYear())?se:ce,e.getMonth()-1)-31)+e.getDate())/7),2):0===s(a,t)?"01":"00"},"%V":function(e){var t=new Date(e.oa+1901,0,4),a=c(new Date(e.oa+1900,0,4));t=c(t);var n=ie(new Date(e.oa+1900,0,1),e.ua);return 0>s(n,a)?"53":0>=s(t,n)?"01":o(Math.ceil((a.getFullYear()<e.oa+1900?e.ua+32-a.getDate():e.ua+1-a.getDate())/7),2)},"%w":function(e){return e.ta},"%W":function(e){var t=new Date(e.oa,0,1),a=1===t.getDay()?t:ie(t,0===t.getDay()?1:7-t.getDay()+1);return 0>s(a,e=new Date(e.oa+1900,e.pa,e.ra))?o(Math.ceil((31-a.getDate()+(oe(re(e.getFullYear())?se:ce,e.getMonth()-1)-31)+e.getDate())/7),2):0===s(a,t)?"01":"00"},"%y":function(e){return(e.oa+1900).toString().substring(2)},"%Y":function(e){return e.oa+1900},"%z":function(e){var t=0<=(e=e.Ga);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Ja},"%%":function(){return"%"}})a.includes(f)&&(a=a.replace(new RegExp(f,"g"),d[f](n)));return $=a,u=Array(N($)+1),O($,u,0,u.length),(f=u).length>t?0:(I.set(f,e),f.length-1)}var fe={a:function(e){return pe(e+16)+16},b:function(e,t,a){throw new Y(e).ya(t,a),e},g:function(){return 0},I:function(){},F:function(){},v:function(){},y:function(){},r:function(){return 0},G:function(){},B:function(e,t){return e=C(e),te.Ka(e,t)},A:function(e,t,a,n,r,o){if(o<<=12,0!=(16&n)&&0!=e%65536)t=-28;else if(0!=(32&n)){e=65536*Math.ceil(t/65536);var s=be(65536,e);s?(S.fill(0,s,s+e),e=s):e=0,e?(Q[e]={Aa:e,za:t,wa:!0,fd:r,Pa:a,flags:n,offset:o},t=e):t=-48}else t=-52;return t},z:function(e,t){var a=Q[e];return 0!==t&&a?(t===a.za&&(Q[e]=null,a.wa&&le(a.Aa)),e=0):e=-28,e},k:function(){},x:function(e,t,a){return e=C(e),te.La(e,t,a)},t:function(){},H:function(){},u:function(){},h:function(){z("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},n:function(){z("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},J:function(e,t){e=new Date(1e3*T[e>>2]),T[t>>2]=e.getUTCSeconds(),T[t+4>>2]=e.getUTCMinutes(),T[t+8>>2]=e.getUTCHours(),T[t+12>>2]=e.getUTCDate(),T[t+16>>2]=e.getUTCMonth(),T[t+20>>2]=e.getUTCFullYear()-1900,T[t+24>>2]=e.getUTCDay(),T[t+28>>2]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},K:function(e,t){e=new Date(1e3*T[e>>2]),T[t>>2]=e.getSeconds(),T[t+4>>2]=e.getMinutes(),T[t+8>>2]=e.getHours(),T[t+12>>2]=e.getDate(),T[t+16>>2]=e.getMonth(),T[t+20>>2]=e.getFullYear()-1900,T[t+24>>2]=e.getDay();var a=new Date(e.getFullYear(),0,1);T[t+28>>2]=(e.getTime()-a.getTime())/864e5|0,T[t+36>>2]=-60*e.getTimezoneOffset();var n=new Date(e.getFullYear(),6,1).getTimezoneOffset();a=a.getTimezoneOffset(),T[t+32>>2]=0|(n!=a&&e.getTimezoneOffset()==Math.min(a,n))},L:function(e){var t=new Date(T[e+20>>2]+1900,T[e+16>>2],T[e+12>>2],T[e+8>>2],T[e+4>>2],T[e>>2],0),a=T[e+32>>2],n=t.getTimezoneOffset(),r=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=r.getTimezoneOffset(),c=Math.min(s,o);return 0>a?T[e+32>>2]=Number(o!=s&&c==n):0<a!=(c==n)&&(o=Math.max(s,o),t.setTime(t.getTime()+6e4*((0<a?c:o)-n))),T[e+24>>2]=t.getDay(),T[e+28>>2]=(t.getTime()-r.getTime())/864e5|0,T[e>>2]=t.getSeconds(),T[e+4>>2]=t.getMinutes(),T[e+8>>2]=t.getHours(),T[e+12>>2]=t.getDate(),T[e+16>>2]=t.getMonth(),t.getTime()/1e3|0},M:function e(t,a,n){e.xa||(e.xa=!0,function(e,t,a){function n(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}var r=(new Date).getFullYear(),o=new Date(r,0,1),s=new Date(r,6,1);r=o.getTimezoneOffset();var c=s.getTimezoneOffset();T[e>>2]=60*Math.max(r,c),T[t>>2]=Number(r!=c),e=n(o),t=n(s),e=R(e),t=R(t),c<r?(T[a>>2]=e,T[a+4>>2]=t):(T[a>>2]=t,T[a+4>>2]=e)}(t,a,n))},d:function(){z("")},m:function(e,t){if(0===e)e=Date.now();else{if(1!==e&&4!==e)return T[ue()>>2]=28,-1;e=Z()}return T[t>>2]=e/1e3|0,T[t+4>>2]=e%1e3*1e6|0,0},p:function(e,t){return e-t},s:function(){return 2147483648},l:Z=x?()=>{var e=$eKCdi.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),E:function(e,t,a){S.copyWithin(e,t,t+a)},f:function(e){var t=S.length;if(2147483648<(e>>>=0))return!1;for(var a=1;4>=a;a*=2){var n=t*(1+.2/a);n=Math.min(n,e+100663296),0<(n=Math.max(e,n))%65536&&(n+=65536-n%65536);e:{try{w.grow(Math.min(2147483648,n)-_.byteLength+65535>>>16),F();var r=1;break e}catch(e){}r=void 0}if(r)return!0}return!1},C:function(e,t){var a=0;return ne().forEach((function(n,r){var o=t+a;for(r=T[e+4*r>>2]=o,o=0;o<n.length;++o)I[r++>>0]=n.charCodeAt(o);I[r>>0]=0,a+=n.length+1})),0},D:function(e,t){var a=ne();T[e>>2]=a.length;var n=0;return a.forEach((function(e){n+=e.length+1})),T[t>>2]=n,0},e:function(){return 0},j:function(e,t,a,n){return e=te.Oa(e),t=te.Ma(e,t,a),T[n>>2]=t,0},q:function(){},i:function(e,t,a,n){for(var r=0,o=0;o<a;o++){var s=T[t>>2],c=T[t+4>>2];t+=8;for(var i=0;i<c;i++){var d=S[s+i],f=ee[e];0===d||10===d?((1===e?v:y)(A(f,0)),f.length=0):f.push(d)}r+=c}return T[n>>2]=r,0},w:function(e){var t=Date.now();return T[e>>2]=t/1e3|0,T[e+4>>2]=t%1e3*1e3|0,0},o:de,c:function(e,t,a,n){return de(e,t,a,n)}};!function(){function e(e){t.asm=e.exports,w=t.asm.N,F(),D=t.asm.ja,L.unshift(t.asm.O),U--,t.monitorRunDependencies&&t.monitorRunDependencies(U),0==U&&(null!==V&&(clearInterval(V),V=null),W&&(e=W,W=null,e()))}function a(t){e(t.instance)}function n(e){return function(){if(!g&&(b||h)){if("function"==typeof fetch&&!P.startsWith("file://"))return fetch(P,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+P+"'";return e.arrayBuffer()})).catch((function(){return H()}));if(i)return new Promise((function(e,t){i(P,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return H()}))}().then((function(e){return WebAssembly.instantiate(e,r)})).then((function(e){return e})).then(e,(function(e){y("failed to asynchronously prepare wasm: "+e),z(e)}))}var r={a:fe};if(U++,t.monitorRunDependencies&&t.monitorRunDependencies(U),t.instantiateWasm)try{return t.instantiateWasm(r,e)}catch(e){return y("Module.instantiateWasm callback failed with error: "+e),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||G()||P.startsWith("file://")||"function"!=typeof fetch?n(a):fetch(P,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(a,(function(e){return y("wasm streaming compile failed: "+e),y("falling back to ArrayBuffer instantiation"),n(a)}))}))).catch(o)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.O).apply(null,arguments)},t._OrtInit=function(){return(t._OrtInit=t.asm.P).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.Q).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.R).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.S).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.T).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.U).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.V).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.W).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm.X).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.Y).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm.Z).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm._).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.$).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm.aa).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.ba).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.ca).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.da).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.ea).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.fa).apply(null,arguments)};var $e,ue=t.___errno_location=function(){return(ue=t.___errno_location=t.asm.ga).apply(null,arguments)},pe=t._malloc=function(){return(pe=t._malloc=t.asm.ha).apply(null,arguments)},le=t._free=function(){return(le=t._free=t.asm.ia).apply(null,arguments)},be=t._memalign=function(){return(be=t._memalign=t.asm.ka).apply(null,arguments)},he=t.stackSave=function(){return(he=t.stackSave=t.asm.la).apply(null,arguments)},xe=t.stackRestore=function(){return(xe=t.stackRestore=t.asm.ma).apply(null,arguments)},me=t.stackAlloc=function(){return(me=t.stackAlloc=t.asm.na).apply(null,arguments)};function ge(){function e(){if(!$e&&($e=!0,t.calledRun=!0,!k)){if(q(L),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();B.unshift(e)}q(B)}}if(!(0<U)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)a=void 0,a=t.preRun.shift(),M.unshift(a);q(M),0<U||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}var a}if(t.UTF8ToString=C,t.stringToUTF8=function(e,t,a){return O(e,S,t,a)},t.lengthBytesUTF8=N,t.stackSave=he,t.stackRestore=xe,t.stackAlloc=me,W=function e(){$e||ge(),$e||(W=e)},t.run=ge,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return ge(),e.ready});e.exports=r},4537:e=>{e.exports=function(e,t){for(var a=new Array(arguments.length-1),n=0,r=2,o=!0;r<arguments.length;)a[n++]=arguments[r++];return new Promise((function(r,s){a[n]=function(e){if(o)if(o=!1,e)s(e);else{for(var t=new Array(arguments.length-1),a=0;a<t.length;)t[a++]=arguments[a];r.apply(null,t)}};try{e.apply(t||null,a)}catch(e){o&&(o=!1,s(e))}}))}},7419:(e,t)=>{var a=t;a.length=function(e){var t=e.length;if(!t)return 0;for(var a=0;--t%4>1&&"="===e.charAt(t);)++a;return Math.ceil(3*e.length)/4-a};for(var n=new Array(64),r=new Array(123),o=0;o<64;)r[n[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;a.encode=function(e,t,a){for(var r,o=null,s=[],c=0,i=0;t<a;){var d=e[t++];switch(i){case 0:s[c++]=n[d>>2],r=(3&d)<<4,i=1;break;case 1:s[c++]=n[r|d>>4],r=(15&d)<<2,i=2;break;case 2:s[c++]=n[r|d>>6],s[c++]=n[63&d],i=0}c>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),c=0)}return i&&(s[c++]=n[r],s[c++]=61,1===i&&(s[c++]=61)),o?(c&&o.push(String.fromCharCode.apply(String,s.slice(0,c))),o.join("")):String.fromCharCode.apply(String,s.slice(0,c))};var s="invalid encoding";a.decode=function(e,t,a){for(var n,o=a,c=0,i=0;i<e.length;){var d=e.charCodeAt(i++);if(61===d&&c>1)break;if(void 0===(d=r[d]))throw Error(s);switch(c){case 0:n=d,c=1;break;case 1:t[a++]=n<<2|(48&d)>>4,n=d,c=2;break;case 2:t[a++]=(15&n)<<4|(60&d)>>2,n=d,c=3;break;case 3:t[a++]=(3&n)<<6|d,c=0}}if(1===c)throw Error(s);return a-o},a.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},9211:e=>{function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,a){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:a||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var a=this._listeners[e],n=0;n<a.length;)a[n].fn===t?a.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var a=[],n=1;n<arguments.length;)a.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,a)}return this}},945:e=>{function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),a=new Uint8Array(t.buffer),n=128===a[3];function r(e,n,r){t[0]=e,n[r]=a[0],n[r+1]=a[1],n[r+2]=a[2],n[r+3]=a[3]}function o(e,n,r){t[0]=e,n[r]=a[3],n[r+1]=a[2],n[r+2]=a[1],n[r+3]=a[0]}function s(e,n){return a[0]=e[n],a[1]=e[n+1],a[2]=e[n+2],a[3]=e[n+3],t[0]}function c(e,n){return a[3]=e[n],a[2]=e[n+1],a[1]=e[n+2],a[0]=e[n+3],t[0]}e.writeFloatLE=n?r:o,e.writeFloatBE=n?o:r,e.readFloatLE=n?s:c,e.readFloatBE=n?c:s}():function(){function t(e,t,a,n){var r=t<0?1:0;if(r&&(t=-t),0===t)e(1/t>0?0:2147483648,a,n);else if(isNaN(t))e(2143289344,a,n);else if(t>34028234663852886e22)e((r<<31|2139095040)>>>0,a,n);else if(t<11754943508222875e-54)e((r<<31|Math.round(t/1401298464324817e-60))>>>0,a,n);else{var o=Math.floor(Math.log(t)/Math.LN2);e((r<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,a,n)}}function s(e,t,a){var n=e(t,a),r=2*(n>>31)+1,o=n>>>23&255,s=8388607&n;return 255===o?s?NaN:r*(1/0):0===o?1401298464324817e-60*r*s:r*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,a),e.writeFloatBE=t.bind(null,n),e.readFloatLE=s.bind(null,r),e.readFloatBE=s.bind(null,o)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),a=new Uint8Array(t.buffer),n=128===a[7];function r(e,n,r){t[0]=e,n[r]=a[0],n[r+1]=a[1],n[r+2]=a[2],n[r+3]=a[3],n[r+4]=a[4],n[r+5]=a[5],n[r+6]=a[6],n[r+7]=a[7]}function o(e,n,r){t[0]=e,n[r]=a[7],n[r+1]=a[6],n[r+2]=a[5],n[r+3]=a[4],n[r+4]=a[3],n[r+5]=a[2],n[r+6]=a[1],n[r+7]=a[0]}function s(e,n){return a[0]=e[n],a[1]=e[n+1],a[2]=e[n+2],a[3]=e[n+3],a[4]=e[n+4],a[5]=e[n+5],a[6]=e[n+6],a[7]=e[n+7],t[0]}function c(e,n){return a[7]=e[n],a[6]=e[n+1],a[5]=e[n+2],a[4]=e[n+3],a[3]=e[n+4],a[2]=e[n+5],a[1]=e[n+6],a[0]=e[n+7],t[0]}e.writeDoubleLE=n?r:o,e.writeDoubleBE=n?o:r,e.readDoubleLE=n?s:c,e.readDoubleBE=n?c:s}():function(){function t(e,t,a,n,r,o){var s=n<0?1:0;if(s&&(n=-n),0===n)e(0,r,o+t),e(1/n>0?0:2147483648,r,o+a);else if(isNaN(n))e(0,r,o+t),e(2146959360,r,o+a);else if(n>17976931348623157e292)e(0,r,o+t),e((s<<31|2146435072)>>>0,r,o+a);else{var c;if(n<22250738585072014e-324)e((c=n/5e-324)>>>0,r,o+t),e((s<<31|c/4294967296)>>>0,r,o+a);else{var i=Math.floor(Math.log(n)/Math.LN2);1024===i&&(i=1023),e(4503599627370496*(c=n*Math.pow(2,-i))>>>0,r,o+t),e((s<<31|i+1023<<20|1048576*c&1048575)>>>0,r,o+a)}}}function s(e,t,a,n,r){var o=e(n,r+t),s=e(n,r+a),c=2*(s>>31)+1,i=s>>>20&2047,d=4294967296*(1048575&s)+o;return 2047===i?d?NaN:c*(1/0):0===i?5e-324*c*d:c*Math.pow(2,i-1075)*(d+4503599627370496)}e.writeDoubleLE=t.bind(null,a,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=s.bind(null,r,0,4),e.readDoubleBE=s.bind(null,o,4,0)}(),e}function a(e,t,a){t[a]=255&e,t[a+1]=e>>>8&255,t[a+2]=e>>>16&255,t[a+3]=e>>>24}function n(e,t,a){t[a]=e>>>24,t[a+1]=e>>>16&255,t[a+2]=e>>>8&255,t[a+3]=255&e}function r(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},6662:e=>{e.exports=function(e,t,a){var n=a||8192,r=n>>>1,o=null,s=n;return function(a){if(a<1||a>r)return e(a);s+a>n&&(o=e(n),s=0);var c=t.call(o,s,s+=a);return 7&s&&(s=1+(7|s)),c}}},4997:(e,t)=>{var a=t;a.length=function(e){for(var t=0,a=0,n=0;n<e.length;++n)(a=e.charCodeAt(n))<128?t+=1:a<2048?t+=2:55296==(64512&a)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},a.read=function(e,t,a){if(a-t<1)return"";for(var n,r=null,o=[],s=0;t<a;)(n=e[t++])<128?o[s++]=n:n>191&&n<224?o[s++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(n>>10),o[s++]=56320+(1023&n)):o[s++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,o)),s=0);return r?(s&&r.push(String.fromCharCode.apply(String,o.slice(0,s))),r.join("")):String.fromCharCode.apply(String,o.slice(0,s))},a.write=function(e,t,a){for(var n,r,o=a,s=0;s<e.length;++s)(n=e.charCodeAt(s))<128?t[a++]=n:n<2048?(t[a++]=n>>6|192,t[a++]=63&n|128):55296==(64512&n)&&56320==(64512&(r=e.charCodeAt(s+1)))?(n=65536+((1023&n)<<10)+(1023&r),++s,t[a++]=n>>18|240,t[a++]=n>>12&63|128,t[a++]=n>>6&63|128,t[a++]=63&n|128):(t[a++]=n>>12|224,t[a++]=n>>6&63|128,t[a++]=63&n|128);return a-o}},4819:(e,t,a)=>{a.r(t),a.d(t,{flatbuffers:()=>n});var n={};n.Offset,n.Table,n.SIZEOF_SHORT=2,n.SIZEOF_INT=4,n.FILE_IDENTIFIER_LENGTH=4,n.SIZE_PREFIX_LENGTH=4,n.Encoding={UTF8_BYTES:1,UTF16_STRING:2},n.int32=new Int32Array(2),n.float32=new Float32Array(n.int32.buffer),n.float64=new Float64Array(n.int32.buffer),n.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],n.Long=function(e,t){this.low=0|e,this.high=0|t},n.Long.create=function(e,t){return 0==e&&0==t?n.Long.ZERO:new n.Long(e,t)},n.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},n.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},n.Long.ZERO=new n.Long(0,0),n.Builder=function(e){if(e)t=e;else var t=1024;this.bb=n.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},n.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},n.Builder.prototype.forceDefaults=function(e){this.force_defaults=e},n.Builder.prototype.dataBuffer=function(){return this.bb},n.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},n.Builder.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var a=1+~(this.bb.capacity()-this.space+t)&e-1;this.space<a+e+t;){var r=this.bb.capacity();this.bb=n.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-r}this.pad(a)},n.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},n.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},n.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},n.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},n.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},n.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},n.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},n.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},n.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},n.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},n.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},n.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},n.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},n.Builder.prototype.addFieldInt8=function(e,t,a){(this.force_defaults||t!=a)&&(this.addInt8(t),this.slot(e))},n.Builder.prototype.addFieldInt16=function(e,t,a){(this.force_defaults||t!=a)&&(this.addInt16(t),this.slot(e))},n.Builder.prototype.addFieldInt32=function(e,t,a){(this.force_defaults||t!=a)&&(this.addInt32(t),this.slot(e))},n.Builder.prototype.addFieldInt64=function(e,t,a){!this.force_defaults&&t.equals(a)||(this.addInt64(t),this.slot(e))},n.Builder.prototype.addFieldFloat32=function(e,t,a){(this.force_defaults||t!=a)&&(this.addFloat32(t),this.slot(e))},n.Builder.prototype.addFieldFloat64=function(e,t,a){(this.force_defaults||t!=a)&&(this.addFloat64(t),this.slot(e))},n.Builder.prototype.addFieldOffset=function(e,t,a){(this.force_defaults||t!=a)&&(this.addOffset(t),this.slot(e))},n.Builder.prototype.addFieldStruct=function(e,t,a){t!=a&&(this.nested(t),this.slot(e))},n.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},n.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},n.Builder.prototype.slot=function(e){this.vtable[e]=this.offset()},n.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},n.Builder.growByteBuffer=function(e){var t=e.capacity();if(3221225472&t)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var a=t<<1,r=n.ByteBuffer.allocate(a);return r.setPosition(a-t),r.bytes().set(e.bytes(),a-t),r},n.Builder.prototype.addOffset=function(e){this.prep(n.SIZEOF_INT,0),this.writeInt32(this.offset()-e+n.SIZEOF_INT)},n.Builder.prototype.startObject=function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},n.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&0==this.vtable[t];t--);for(var a=t+1;t>=0;t--)this.addInt16(0!=this.vtable[t]?e-this.vtable[t]:0);this.addInt16(e-this.object_start);var r=(a+2)*n.SIZEOF_SHORT;this.addInt16(r);var o=0,s=this.space;e:for(t=0;t<this.vtables.length;t++){var c=this.bb.capacity()-this.vtables[t];if(r==this.bb.readInt16(c)){for(var i=n.SIZEOF_SHORT;i<r;i+=n.SIZEOF_SHORT)if(this.bb.readInt16(s+i)!=this.bb.readInt16(c+i))continue e;o=this.vtables[t];break}}return o?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,o-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},n.Builder.prototype.finish=function(e,t,a){var r=a?n.SIZE_PREFIX_LENGTH:0;if(t){var o=t;if(this.prep(this.minalign,n.SIZEOF_INT+n.FILE_IDENTIFIER_LENGTH+r),o.length!=n.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+n.FILE_IDENTIFIER_LENGTH);for(var s=n.FILE_IDENTIFIER_LENGTH-1;s>=0;s--)this.writeInt8(o.charCodeAt(s))}this.prep(this.minalign,n.SIZEOF_INT+r),this.addOffset(e),r&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},n.Builder.prototype.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},n.Builder.prototype.requiredField=function(e,t){var a=this.bb.capacity()-e,n=a-this.bb.readInt32(a);if(0==this.bb.readInt16(n+t))throw new Error("FlatBuffers: field "+t+" must be set")},n.Builder.prototype.startVector=function(e,t,a){this.notNested(),this.vector_num_elems=t,this.prep(n.SIZEOF_INT,e*t),this.prep(a,e*t)},n.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},n.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e;else{t=[];for(var a=0;a<e.length;){var n,r=e.charCodeAt(a++);(n=r<55296||r>=56320?r:(r<<10)+e.charCodeAt(a++)+-56613888)<128?t.push(n):(n<2048?t.push(n>>6&31|192):(n<65536?t.push(n>>12&15|224):t.push(n>>18&7|240,n>>12&63|128),t.push(n>>6&63|128)),t.push(63&n|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),a=0;for(var o=this.space,s=this.bb.bytes();a<t.length;a++)s[o++]=t[a];return this.endVector()},n.Builder.prototype.createLong=function(e,t){return n.Long.create(e,t)},n.ByteBuffer=function(e){this.bytes_=e,this.position_=0},n.ByteBuffer.allocate=function(e){return new n.ByteBuffer(new Uint8Array(e))},n.ByteBuffer.prototype.clear=function(){this.position_=0},n.ByteBuffer.prototype.bytes=function(){return this.bytes_},n.ByteBuffer.prototype.position=function(){return this.position_},n.ByteBuffer.prototype.setPosition=function(e){this.position_=e},n.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},n.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},n.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e]},n.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},n.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},n.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},n.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0},n.ByteBuffer.prototype.readInt64=function(e){return new n.Long(this.readInt32(e),this.readInt32(e+4))},n.ByteBuffer.prototype.readUint64=function(e){return new n.Long(this.readUint32(e),this.readUint32(e+4))},n.ByteBuffer.prototype.readFloat32=function(e){return n.int32[0]=this.readInt32(e),n.float32[0]},n.ByteBuffer.prototype.readFloat64=function(e){return n.int32[n.isLittleEndian?0:1]=this.readInt32(e),n.int32[n.isLittleEndian?1:0]=this.readInt32(e+4),n.float64[0]},n.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t},n.ByteBuffer.prototype.writeUint8=function(e,t){this.bytes_[e]=t},n.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},n.ByteBuffer.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},n.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},n.ByteBuffer.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},n.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},n.ByteBuffer.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},n.ByteBuffer.prototype.writeFloat32=function(e,t){n.float32[0]=t,this.writeInt32(e,n.int32[0])},n.ByteBuffer.prototype.writeFloat64=function(e,t){n.float64[0]=t,this.writeInt32(e,n.int32[n.isLittleEndian?0:1]),this.writeInt32(e+4,n.int32[n.isLittleEndian?1:0])},n.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+n.SIZEOF_INT+n.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<n.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+n.SIZEOF_INT+t));return e},n.ByteBuffer.prototype.__offset=function(e,t){var a=e-this.readInt32(e);return t<this.readInt16(a)?this.readInt16(a+t):0},n.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},n.ByteBuffer.prototype.__string=function(e,t){e+=this.readInt32(e);var a=this.readInt32(e),r="",o=0;if(e+=n.SIZEOF_INT,t===n.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+a);for(;o<a;){var s,c=this.readUint8(e+o++);if(c<192)s=c;else{var i=this.readUint8(e+o++);if(c<224)s=(31&c)<<6|63&i;else{var d=this.readUint8(e+o++);s=c<240?(15&c)<<12|(63&i)<<6|63&d:(7&c)<<18|(63&i)<<12|(63&d)<<6|63&this.readUint8(e+o++)}}s<65536?r+=String.fromCharCode(s):(s-=65536,r+=String.fromCharCode(55296+(s>>10),56320+(1023&s)))}return r},n.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e)},n.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+n.SIZEOF_INT},n.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},n.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=n.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+n.FILE_IDENTIFIER_LENGTH);for(var t=0;t<n.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position_+n.SIZEOF_INT+t))return!1;return!0},n.ByteBuffer.prototype.createLong=function(e,t){return n.Long.create(e,t)}},3442:(e,t)=>{t.__esModule=!0;var a=function(){function e(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=e.EMPTY,t&&e.isGuid(t)&&(this.value=t)}return e.isGuid=function(t){var a=t.toString();return t&&(t instanceof e||e.validator.test(a))},e.create=function(){return new e([e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-"))},e.createEmpty=function(){return new e("emptyguid")},e.parse=function(t){return new e(t)},e.raw=function(){return[e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-")},e.gen=function(e){for(var t="",a=0;a<e;a++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t},e.prototype.equals=function(t){return e.isGuid(t)&&this.value===t.toString()},e.prototype.isEmpty=function(){return this.value===e.EMPTY},e.prototype.toString=function(){return this.value},e.prototype.toJSON=function(){return{value:this.value}},e.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),e.EMPTY="00000000-0000-0000-0000-000000000000",e}();t.Guid=a},3720:e=>{e.exports=a;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function a(e,t,a){this.low=0|e,this.high=0|t,this.unsigned=!!a}function n(e){return!0===(e&&e.__isLong__)}a.prototype.__isLong__,Object.defineProperty(a.prototype,"__isLong__",{value:!0}),a.isLong=n;var r={},o={};function s(e,t){var a,n,s;return t?(s=0<=(e>>>=0)&&e<256)&&(n=o[e])?n:(a=i(e,(0|e)<0?-1:0,!0),s&&(o[e]=a),a):(s=-128<=(e|=0)&&e<128)&&(n=r[e])?n:(a=i(e,e<0?-1:0,!1),s&&(r[e]=a),a)}function c(e,t){if(isNaN(e))return t?x:h;if(t){if(e<0)return x;if(e>=p)return w}else{if(e<=-l)return _;if(e+1>=l)return y}return e<0?c(-e,t).neg():i(e%u|0,e/u|0,t)}function i(e,t,n){return new a(e,t,n)}a.fromInt=s,a.fromNumber=c,a.fromBits=i;var d=Math.pow;function f(e,t,a){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return h;if("number"==typeof t?(a=t,t=!1):t=!!t,(a=a||10)<2||36<a)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return f(e.substring(1),t,a).neg();for(var r=c(d(a,8)),o=h,s=0;s<e.length;s+=8){var i=Math.min(8,e.length-s),$=parseInt(e.substring(s,s+i),a);if(i<8){var u=c(d(a,i));o=o.mul(u).add(c($))}else o=(o=o.mul(r)).add(c($))}return o.unsigned=t,o}function $(e,t){return"number"==typeof e?c(e,t):"string"==typeof e?f(e,t):i(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}a.fromString=f,a.fromValue=$;var u=4294967296,p=u*u,l=p/2,b=s(16777216),h=s(0);a.ZERO=h;var x=s(0,!0);a.UZERO=x;var m=s(1);a.ONE=m;var g=s(1,!0);a.UONE=g;var v=s(-1);a.NEG_ONE=v;var y=i(-1,2147483647,!1);a.MAX_VALUE=y;var w=i(-1,-1,!0);a.MAX_UNSIGNED_VALUE=w;var _=i(0,-2147483648,!1);a.MIN_VALUE=_;var I=a.prototype;I.toInt=function(){return this.unsigned?this.low>>>0:this.low},I.toNumber=function(){return this.unsigned?(this.high>>>0)*u+(this.low>>>0):this.high*u+(this.low>>>0)},I.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(_)){var t=c(e),a=this.div(t),n=a.mul(t).sub(this);return a.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var r=c(d(e,6),this.unsigned),o=this,s="";;){var i=o.div(r),f=(o.sub(i.mul(r)).toInt()>>>0).toString(e);if((o=i).isZero())return f+s;for(;f.length<6;)f="0"+f;s=""+f+s}},I.getHighBits=function(){return this.high},I.getHighBitsUnsigned=function(){return this.high>>>0},I.getLowBits=function(){return this.low},I.getLowBitsUnsigned=function(){return this.low>>>0},I.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},I.isZero=function(){return 0===this.high&&0===this.low},I.eqz=I.isZero,I.isNegative=function(){return!this.unsigned&&this.high<0},I.isPositive=function(){return this.unsigned||this.high>=0},I.isOdd=function(){return 1==(1&this.low)},I.isEven=function(){return 0==(1&this.low)},I.equals=function(e){return n(e)||(e=$(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},I.eq=I.equals,I.notEquals=function(e){return!this.eq(e)},I.neq=I.notEquals,I.ne=I.notEquals,I.lessThan=function(e){return this.comp(e)<0},I.lt=I.lessThan,I.lessThanOrEqual=function(e){return this.comp(e)<=0},I.lte=I.lessThanOrEqual,I.le=I.lessThanOrEqual,I.greaterThan=function(e){return this.comp(e)>0},I.gt=I.greaterThan,I.greaterThanOrEqual=function(e){return this.comp(e)>=0},I.gte=I.greaterThanOrEqual,I.ge=I.greaterThanOrEqual,I.compare=function(e){if(n(e)||(e=$(e)),this.eq(e))return 0;var t=this.isNegative(),a=e.isNegative();return t&&!a?-1:!t&&a?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},I.comp=I.compare,I.negate=function(){return!this.unsigned&&this.eq(_)?_:this.not().add(m)},I.neg=I.negate,I.add=function(e){n(e)||(e=$(e));var t=this.high>>>16,a=65535&this.high,r=this.low>>>16,o=65535&this.low,s=e.high>>>16,c=65535&e.high,d=e.low>>>16,f=0,u=0,p=0,l=0;return p+=(l+=o+(65535&e.low))>>>16,u+=(p+=r+d)>>>16,f+=(u+=a+c)>>>16,f+=t+s,i((p&=65535)<<16|(l&=65535),(f&=65535)<<16|(u&=65535),this.unsigned)},I.subtract=function(e){return n(e)||(e=$(e)),this.add(e.neg())},I.sub=I.subtract,I.multiply=function(e){if(this.isZero())return h;if(n(e)||(e=$(e)),t)return i(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return h;if(this.eq(_))return e.isOdd()?_:h;if(e.eq(_))return this.isOdd()?_:h;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(b)&&e.lt(b))return c(this.toNumber()*e.toNumber(),this.unsigned);var a=this.high>>>16,r=65535&this.high,o=this.low>>>16,s=65535&this.low,d=e.high>>>16,f=65535&e.high,u=e.low>>>16,p=65535&e.low,l=0,x=0,m=0,g=0;return m+=(g+=s*p)>>>16,x+=(m+=o*p)>>>16,m&=65535,x+=(m+=s*u)>>>16,l+=(x+=r*p)>>>16,x&=65535,l+=(x+=o*u)>>>16,x&=65535,l+=(x+=s*f)>>>16,l+=a*p+r*u+o*f+s*d,i((m&=65535)<<16|(g&=65535),(l&=65535)<<16|(x&=65535),this.unsigned)},I.mul=I.multiply,I.divide=function(e){if(n(e)||(e=$(e)),e.isZero())throw Error("division by zero");var a,r,o;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?i((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?x:h;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return x;if(e.gt(this.shru(1)))return g;o=x}else{if(this.eq(_))return e.eq(m)||e.eq(v)?_:e.eq(_)?m:(a=this.shr(1).div(e).shl(1)).eq(h)?e.isNegative()?m:v:(r=this.sub(e.mul(a)),o=a.add(r.div(e)));if(e.eq(_))return this.unsigned?x:h;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=h}for(r=this;r.gte(e);){a=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(a)/Math.LN2),f=s<=48?1:d(2,s-48),u=c(a),p=u.mul(e);p.isNegative()||p.gt(r);)p=(u=c(a-=f,this.unsigned)).mul(e);u.isZero()&&(u=m),o=o.add(u),r=r.sub(p)}return o},I.div=I.divide,I.modulo=function(e){return n(e)||(e=$(e)),t?i((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},I.mod=I.modulo,I.rem=I.modulo,I.not=function(){return i(~this.low,~this.high,this.unsigned)},I.and=function(e){return n(e)||(e=$(e)),i(this.low&e.low,this.high&e.high,this.unsigned)},I.or=function(e){return n(e)||(e=$(e)),i(this.low|e.low,this.high|e.high,this.unsigned)},I.xor=function(e){return n(e)||(e=$(e)),i(this.low^e.low,this.high^e.high,this.unsigned)},I.shiftLeft=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?i(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):i(0,this.low<<e-32,this.unsigned)},I.shl=I.shiftLeft,I.shiftRight=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?i(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):i(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},I.shr=I.shiftRight,I.shiftRightUnsigned=function(e){if(n(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?i(this.low>>>e|t<<32-e,t>>>e,this.unsigned):i(32===e?t:t>>>e-32,0,this.unsigned)},I.shru=I.shiftRightUnsigned,I.shr_u=I.shiftRightUnsigned,I.toSigned=function(){return this.unsigned?i(this.low,this.high,!1):this},I.toUnsigned=function(){return this.unsigned?this:i(this.low,this.high,!0)},I.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},I.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},I.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},a.fromBytes=function(e,t,n){return n?a.fromBytesLE(e,t):a.fromBytesBE(e,t)},a.fromBytesLE=function(e,t){return new a(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},a.fromBytesBE=function(e,t){return new a(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},1446:(e,t,a)=>{var n,r,o,s=a(2100),c=s.Reader,i=s.Writer,d=s.util,f=s.roots.default||(s.roots.default={});f.onnx=((o={}).Version=(n={},(r=Object.create(n))[n[0]="_START_VERSION"]=0,r[n[1]="IR_VERSION_2017_10_10"]=1,r[n[2]="IR_VERSION_2017_10_30"]=2,r[n[3]="IR_VERSION_2017_11_3"]=3,r[n[4]="IR_VERSION_2019_1_22"]=4,r[n[5]="IR_VERSION"]=5,r),o.AttributeProto=function(){function e(e){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.name="",e.prototype.refAttrName="",e.prototype.docString="",e.prototype.type=0,e.prototype.f=0,e.prototype.i=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.s=d.newBuffer([]),e.prototype.t=null,e.prototype.g=null,e.prototype.floats=d.emptyArray,e.prototype.ints=d.emptyArray,e.prototype.strings=d.emptyArray,e.prototype.tensors=d.emptyArray,e.prototype.graphs=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.f&&e.hasOwnProperty("f")&&t.uint32(21).float(e.f),null!=e.i&&e.hasOwnProperty("i")&&t.uint32(24).int64(e.i),null!=e.s&&e.hasOwnProperty("s")&&t.uint32(34).bytes(e.s),null!=e.t&&e.hasOwnProperty("t")&&f.onnx.TensorProto.encode(e.t,t.uint32(42).fork()).ldelim(),null!=e.g&&e.hasOwnProperty("g")&&f.onnx.GraphProto.encode(e.g,t.uint32(50).fork()).ldelim(),null!=e.floats&&e.floats.length){t.uint32(58).fork();for(var a=0;a<e.floats.length;++a)t.float(e.floats[a]);t.ldelim()}if(null!=e.ints&&e.ints.length){for(t.uint32(66).fork(),a=0;a<e.ints.length;++a)t.int64(e.ints[a]);t.ldelim()}if(null!=e.strings&&e.strings.length)for(a=0;a<e.strings.length;++a)t.uint32(74).bytes(e.strings[a]);if(null!=e.tensors&&e.tensors.length)for(a=0;a<e.tensors.length;++a)f.onnx.TensorProto.encode(e.tensors[a],t.uint32(82).fork()).ldelim();if(null!=e.graphs&&e.graphs.length)for(a=0;a<e.graphs.length;++a)f.onnx.GraphProto.encode(e.graphs[a],t.uint32(90).fork()).ldelim();return null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(106).string(e.docString),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(160).int32(e.type),null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&t.uint32(170).string(e.refAttrName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var a=void 0===t?e.len:e.pos+t,n=new f.onnx.AttributeProto;e.pos<a;){var r=e.uint32();switch(r>>>3){case 1:n.name=e.string();break;case 21:n.refAttrName=e.string();break;case 13:n.docString=e.string();break;case 20:n.type=e.int32();break;case 2:n.f=e.float();break;case 3:n.i=e.int64();break;case 4:n.s=e.bytes();break;case 5:n.t=f.onnx.TensorProto.decode(e,e.uint32());break;case 6:n.g=f.onnx.GraphProto.decode(e,e.uint32());break;case 7:if(n.floats&&n.floats.length||(n.floats=[]),2==(7&r))for(var o=e.uint32()+e.pos;e.pos<o;)n.floats.push(e.float());else n.floats.push(e.float());break;case 8:if(n.ints&&n.ints.length||(n.ints=[]),2==(7&r))for(o=e.uint32()+e.pos;e.pos<o;)n.ints.push(e.int64());else n.ints.push(e.int64());break;case 9:n.strings&&n.strings.length||(n.strings=[]),n.strings.push(e.bytes());break;case 10:n.tensors&&n.tensors.length||(n.tensors=[]),n.tensors.push(f.onnx.TensorProto.decode(e,e.uint32()));break;case 11:n.graphs&&n.graphs.length||(n.graphs=[]),n.graphs.push(f.onnx.GraphProto.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&!d.isString(e.refAttrName))return"refAttrName: string expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!d.isString(e.docString))return"docString: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(null!=e.f&&e.hasOwnProperty("f")&&"number"!=typeof e.f)return"f: number expected";if(null!=e.i&&e.hasOwnProperty("i")&&!(d.isInteger(e.i)||e.i&&d.isInteger(e.i.low)&&d.isInteger(e.i.high)))return"i: integer|Long expected";if(null!=e.s&&e.hasOwnProperty("s")&&!(e.s&&"number"==typeof e.s.length||d.isString(e.s)))return"s: buffer expected";if(null!=e.t&&e.hasOwnProperty("t")&&(a=f.onnx.TensorProto.verify(e.t)))return"t."+a;if(null!=e.g&&e.hasOwnProperty("g")&&(a=f.onnx.GraphProto.verify(e.g)))return"g."+a;if(null!=e.floats&&e.hasOwnProperty("floats")){if(!Array.isArray(e.floats))return"floats: array expected";for(var t=0;t<e.floats.length;++t)if("number"!=typeof e.floats[t])return"floats: number[] expected"}if(null!=e.ints&&e.hasOwnProperty("ints")){if(!Array.isArray(e.ints))return"ints: array expected";for(t=0;t<e.ints.length;++t)if(!(d.isInteger(e.ints[t])||e.ints[t]&&d.isInteger(e.ints[t].low)&&d.isInteger(e.ints[t].high)))return"ints: integer|Long[] expected"}if(null!=e.strings&&e.hasOwnProperty("strings")){if(!Array.isArray(e.strings))return"strings: array expected";for(t=0;t<e.strings.length;++t)if(!(e.strings[t]&&"number"==typeof e.strings[t].length||d.isString(e.strings[t])))return"strings: buffer[] expected"}if(null!=e.tensors&&e.hasOwnProperty("tensors")){if(!Array.isArray(e.tensors))return"tensors: array expected";for(t=0;t<e.tensors.length;++t)if(a=f.onnx.TensorProto.verify(e.tensors[t]))return"tensors."+a}if(null!=e.graphs&&e.hasOwnProperty("graphs")){if(!Array.isArray(e.graphs))return"graphs: array expected";for(t=0;t<e.graphs.length;++t){var a;if(a=f.onnx.GraphProto.verify(e.graphs[t]))return"graphs."+a}}return null},e.fromObject=function(e){if(e instanceof f.onnx.AttributeProto)return e;var t=new f.onnx.AttributeProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.refAttrName&&(t.refAttrName=String(e.refAttrName)),null!=e.docString&&(t.docString=String(e.docString)),e.type){case"UNDEFINED":case 0:t.type=0;break;case"FLOAT":case 1:t.type=1;break;case"INT":case 2:t.type=2;break;case"STRING":case 3:t.type=3;break;case"TENSOR":case 4:t.type=4;break;case"GRAPH":case 5:t.type=5;break;case"FLOATS":case 6:t.type=6;break;case"INTS":case 7:t.type=7;break;case"STRINGS":case 8:t.type=8;break;case"TENSORS":case 9:t.type=9;break;case"GRAPHS":case 10:t.type=10}if(null!=e.f&&(t.f=Number(e.f)),null!=e.i&&(d.Long?(t.i=d.Long.fromValue(e.i)).unsigned=!1:"string"==typeof e.i?t.i=parseInt(e.i,10):"number"==typeof e.i?t.i=e.i:"object"==typeof e.i&&(t.i=new d.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber())),null!=e.s&&("string"==typeof e.s?d.base64.decode(e.s,t.s=d.newBuffer(d.base64.length(e.s)),0):e.s.length&&(t.s=e.s)),null!=e.t){if("object"!=typeof e.t)throw TypeError(".onnx.AttributeProto.t: object expected");t.t=f.onnx.TensorProto.fromObject(e.t)}if(null!=e.g){if("object"!=typeof e.g)throw TypeError(".onnx.AttributeProto.g: object expected");t.g=f.onnx.GraphProto.fromObject(e.g)}if(e.floats){if(!Array.isArray(e.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");t.floats=[];for(var a=0;a<e.floats.length;++a)t.floats[a]=Number(e.floats[a])}if(e.ints){if(!Array.isArray(e.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(t.ints=[],a=0;a<e.ints.length;++a)d.Long?(t.ints[a]=d.Long.fromValue(e.ints[a])).unsigned=!1:"string"==typeof e.ints[a]?t.ints[a]=parseInt(e.ints[a],10):"number"==typeof e.ints[a]?t.ints[a]=e.ints[a]:"object"==typeof e.ints[a]&&(t.ints[a]=new d.LongBits(e.ints[a].low>>>0,e.ints[a].high>>>0).toNumber())}if(e.strings){if(!Array.isArray(e.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(t.strings=[],a=0;a<e.strings.length;++a)"string"==typeof e.strings[a]?d.base64.decode(e.strings[a],t.strings[a]=d.newBuffer(d.base64.length(e.strings[a])),0):e.strings[a].length&&(t.strings[a]=e.strings[a])}if(e.tensors){if(!Array.isArray(e.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(t.tensors=[],a=0;a<e.tensors.length;++a){if("object"!=typeof e.tensors[a])throw TypeError(".onnx.AttributeProto.tensors: object expected");t.tensors[a]=f.onnx.TensorProto.fromObject(e.tensors[a])}}if(e.graphs){if(!Array.isArray(e.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(t.graphs=[],a=0;a<e.graphs.length;++a){if("object"!=typeof e.graphs[a])throw TypeError(".onnx.AttributeProto.graphs: object expected");t.graphs[a]=f.onnx.GraphProto.fromObject(e.graphs[a])}}return t},e.toObject=function(e,t){t||(t={});var a={};if((t.arrays||t.defaults)&&(a.floats=[],a.ints=[],a.strings=[],a.tensors=[],a.graphs=[]),t.defaults){if(a.name="",a.f=0,d.Long){var n=new d.Long(0,0,!1);a.i=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else a.i=t.longs===String?"0":0;t.bytes===String?a.s="":(a.s=[],t.bytes!==Array&&(a.s=d.newBuffer(a.s))),a.t=null,a.g=null,a.docString="",a.type=t.enums===String?"UNDEFINED":0,a.refAttrName=""}if(null!=e.name&&e.hasOwnProperty("name")&&(a.name=e.name),null!=e.f&&e.hasOwnProperty("f")&&(a.f=t.json&&!isFinite(e.f)?String(e.f):e.f),null!=e.i&&e.hasOwnProperty("i")&&("number"==typeof e.i?a.i=t.longs===String?String(e.i):e.i:a.i=t.longs===String?d.Long.prototype.toString.call(e.i):t.longs===Number?new d.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber():e.i),null!=e.s&&e.hasOwnProperty("s")&&(a.s=t.bytes===String?d.base64.encode(e.s,0,e.s.length):t.bytes===Array?Array.prototype.slice.call(e.s):e.s),null!=e.t&&e.hasOwnProperty("t")&&(a.t=f.onnx.TensorProto.toObject(e.t,t)),null!=e.g&&e.hasOwnProperty("g")&&(a.g=f.onnx.GraphProto.toObject(e.g,t)),e.floats&&e.floats.length){a.floats=[];for(var r=0;r<e.floats.length;++r)a.floats[r]=t.json&&!isFinite(e.floats[r])?String(e.floats[r]):e.floats[r]}if(e.ints&&e.ints.length)for(a.ints=[],r=0;r<e.ints.length;++r)"number"==typeof e.ints[r]?a.ints[r]=t.longs===String?String(e.ints[r]):e.ints[r]:a.ints[r]=t.longs===String?d.Long.prototype.toString.call(e.ints[r]):t.longs===Number?new d.LongBits(e.ints[r].low>>>0,e.ints[r].high>>>0).toNumber():e.ints[r];if(e.strings&&e.strings.length)for(a.strings=[],r=0;r<e.strings.length;++r)a.strings[r]=t.bytes===String?d.base64.encode(e.strings[r],0,e.strings[r].length):t.bytes===Array?Array.prototype.slice.call(e.strings[r]):e.strings[r];if(e.tensors&&e.tensors.length)for(a.tensors=[],r=0;r<e.tensors.length;++r)a.tensors[r]=f.onnx.TensorProto.toObject(e.tensors[r],t);if(e.graphs&&e.graphs.length)for(a.graphs=[],r=0;r<e.graphs.length;++r)a.graphs[r]=f.onnx.GraphProto.toObject(e.graphs[r],t);return null!=e.docString&&e.hasOwnProperty("docString")&&(a.docString=e.docString),null!=e.type&&e.hasOwnProperty("type")&&(a.type=t.enums===String?f.onnx.AttributeProto.AttributeType[e.type]:e.type),null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&(a.refAttrName=e.refAttrName),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e.AttributeType=(t={},(a=Object.create(t))[t[0]="UNDEFINED"]=0,a[t[1]="FLOAT"]=1,a[t[2]="INT"]=2,a[t[3]="STRING"]=3,a[t[4]="TENSOR"]=4,a[t[5]="GRAPH"]=5,a[t[6]="FLOATS"]=6,a[t[7]="INTS"]=7,a[t[8]="STRINGS"]=8,a[t[9]="TENSORS"]=9,a[t[10]="GRAPHS"]=10,a),e;var t,a}(),o.ValueInfoProto=function(){function e(e){if(e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.name="",e.prototype.type=null,e.prototype.docString="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.type&&e.hasOwnProperty("type")&&f.onnx.TypeProto.encode(e.type,t.uint32(18).fork()).ldelim(),null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(26).string(e.docString),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var a=void 0===t?e.len:e.pos+t,n=new f.onnx.ValueInfoProto;e.pos<a;){var r=e.uint32();switch(r>>>3){case 1:n.name=e.string();break;case 2:n.type=f.onnx.TypeProto.decode(e,e.uint32());break;case 3:n.docString=e.string();break;default:e.skipType(7&r)}}return n},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(null!=e.type&&e.hasOwnProperty("type")){var t=f.onnx.TypeProto.verify(e.type);if(t)return"type."+t}return null!=e.docString&&e.hasOwnProperty("docString")&&!d.isString(e.docString)?"docString: string expected":null},e.fromObject=function(e){if(e instanceof f.onnx.ValueInfoProto)return e;var t=new f.onnx.ValueInfoProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.type){if("object"!=typeof e.type)throw TypeError(".onnx.ValueInfoProto.type: object expected");t.type=f.onnx.TypeProto.fromObject(e.type)}return null!=e.docString&&(t.docString=String(e.docString)),t},e.toObject=function(e,t){t||(t={});var a={};return t.defaults&&(a.name="",a.type=null,a.docString=""),null!=e.name&&e.hasOwnProperty("name")&&(a.name=e.name),null!=e.type&&e.hasOwnProperty("type")&&(a.type=f.onnx.TypeProto.toObject(e.type,t)),null!=e.docString&&e.hasOwnProperty("docString")&&(a.docString=e.docString),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),o.NodeProto=function(){function e(e){if(this.input=[],this.output=[],this.attribute=[],e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.input=d.emptyArray,e.prototype.output=d.emptyArray,e.prototype.name="",e.prototype.opType="",e.prototype.domain="",e.prototype.attribute=d.emptyArray,e.prototype.docString="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.input&&e.input.length)for(var a=0;a<e.input.length;++a)t.uint32(10).string(e.input[a]);if(null!=e.output&&e.output.length)for(a=0;a<e.output.length;++a)t.uint32(18).string(e.output[a]);if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(26).string(e.name),null!=e.opType&&e.hasOwnProperty("opType")&&t.uint32(34).string(e.opType),null!=e.attribute&&e.attribute.length)for(a=0;a<e.attribute.length;++a)f.onnx.AttributeProto.encode(e.attribute[a],t.uint32(42).fork()).ldelim();return null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(50).string(e.docString),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(58).string(e.domain),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var a=void 0===t?e.len:e.pos+t,n=new f.onnx.NodeProto;e.pos<a;){var r=e.uint32();switch(r>>>3){case 1:n.input&&n.input.length||(n.input=[]),n.input.push(e.string());break;case 2:n.output&&n.output.length||(n.output=[]),n.output.push(e.string());break;case 3:n.name=e.string();break;case 4:n.opType=e.string();break;case 7:n.domain=e.string();break;case 5:n.attribute&&n.attribute.length||(n.attribute=[]),n.attribute.push(f.onnx.AttributeProto.decode(e,e.uint32()));break;case 6:n.docString=e.string();break;default:e.skipType(7&r)}}return n},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.input&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var t=0;t<e.input.length;++t)if(!d.isString(e.input[t]))return"input: string[] expected"}if(null!=e.output&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(!d.isString(e.output[t]))return"output: string[] expected"}if(null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(null!=e.opType&&e.hasOwnProperty("opType")&&!d.isString(e.opType))return"opType: string expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!d.isString(e.domain))return"domain: string expected";if(null!=e.attribute&&e.hasOwnProperty("attribute")){if(!Array.isArray(e.attribute))return"attribute: array expected";for(t=0;t<e.attribute.length;++t){var a=f.onnx.AttributeProto.verify(e.attribute[t]);if(a)return"attribute."+a}}return null!=e.docString&&e.hasOwnProperty("docString")&&!d.isString(e.docString)?"docString: string expected":null},e.fromObject=function(e){if(e instanceof f.onnx.NodeProto)return e;var t=new f.onnx.NodeProto;if(e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.NodeProto.input: array expected");t.input=[];for(var a=0;a<e.input.length;++a)t.input[a]=String(e.input[a])}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.NodeProto.output: array expected");for(t.output=[],a=0;a<e.output.length;++a)t.output[a]=String(e.output[a])}if(null!=e.name&&(t.name=String(e.name)),null!=e.opType&&(t.opType=String(e.opType)),null!=e.domain&&(t.domain=String(e.domain)),e.attribute){if(!Array.isArray(e.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(t.attribute=[],a=0;a<e.attribute.length;++a){if("object"!=typeof e.attribute[a])throw TypeError(".onnx.NodeProto.attribute: object expected");t.attribute[a]=f.onnx.AttributeProto.fromObject(e.attribute[a])}}return null!=e.docString&&(t.docString=String(e.docString)),t},e.toObject=function(e,t){t||(t={});var a={};if((t.arrays||t.defaults)&&(a.input=[],a.output=[],a.attribute=[]),t.defaults&&(a.name="",a.opType="",a.docString="",a.domain=""),e.input&&e.input.length){a.input=[];for(var n=0;n<e.input.length;++n)a.input[n]=e.input[n]}if(e.output&&e.output.length)for(a.output=[],n=0;n<e.output.length;++n)a.output[n]=e.output[n];if(null!=e.name&&e.hasOwnProperty("name")&&(a.name=e.name),null!=e.opType&&e.hasOwnProperty("opType")&&(a.opType=e.opType),e.attribute&&e.attribute.length)for(a.attribute=[],n=0;n<e.attribute.length;++n)a.attribute[n]=f.onnx.AttributeProto.toObject(e.attribute[n],t);return null!=e.docString&&e.hasOwnProperty("docString")&&(a.docString=e.docString),null!=e.domain&&e.hasOwnProperty("domain")&&(a.domain=e.domain),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),o.ModelProto=function(){function e(e){if(this.opsetImport=[],this.metadataProps=[],e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.irVersion=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.opsetImport=d.emptyArray,e.prototype.producerName="",e.prototype.producerVersion="",e.prototype.domain="",e.prototype.modelVersion=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.docString="",e.prototype.graph=null,e.prototype.metadataProps=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.irVersion&&e.hasOwnProperty("irVersion")&&t.uint32(8).int64(e.irVersion),null!=e.producerName&&e.hasOwnProperty("producerName")&&t.uint32(18).string(e.producerName),null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&t.uint32(26).string(e.producerVersion),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(34).string(e.domain),null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&t.uint32(40).int64(e.modelVersion),null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(50).string(e.docString),null!=e.graph&&e.hasOwnProperty("graph")&&f.onnx.GraphProto.encode(e.graph,t.uint32(58).fork()).ldelim(),null!=e.opsetImport&&e.opsetImport.length)for(var a=0;a<e.opsetImport.length;++a)f.onnx.OperatorSetIdProto.encode(e.opsetImport[a],t.uint32(66).fork()).ldelim();if(null!=e.metadataProps&&e.metadataProps.length)for(a=0;a<e.metadataProps.length;++a)f.onnx.StringStringEntryProto.encode(e.metadataProps[a],t.uint32(114).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var a=void 0===t?e.len:e.pos+t,n=new f.onnx.ModelProto;e.pos<a;){var r=e.uint32();switch(r>>>3){case 1:n.irVersion=e.int64();break;case 8:n.opsetImport&&n.opsetImport.length||(n.opsetImport=[]),n.opsetImport.push(f.onnx.OperatorSetIdProto.decode(e,e.uint32()));break;case 2:n.producerName=e.string();break;case 3:n.producerVersion=e.string();break;case 4:n.domain=e.string();break;case 5:n.modelVersion=e.int64();break;case 6:n.docString=e.string();break;case 7:n.graph=f.onnx.GraphProto.decode(e,e.uint32());break;case 14:n.metadataProps&&n.metadataProps.length||(n.metadataProps=[]),n.metadataProps.push(f.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.irVersion&&e.hasOwnProperty("irVersion")&&!(d.isInteger(e.irVersion)||e.irVersion&&d.isInteger(e.irVersion.low)&&d.isInteger(e.irVersion.high)))return"irVersion: integer|Long expected";if(null!=e.opsetImport&&e.hasOwnProperty("opsetImport")){if(!Array.isArray(e.opsetImport))return"opsetImport: array expected";for(var t=0;t<e.opsetImport.length;++t)if(a=f.onnx.OperatorSetIdProto.verify(e.opsetImport[t]))return"opsetImport."+a}if(null!=e.producerName&&e.hasOwnProperty("producerName")&&!d.isString(e.producerName))return"producerName: string expected";if(null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&!d.isString(e.producerVersion))return"producerVersion: string expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!d.isString(e.domain))return"domain: string expected";if(null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&!(d.isInteger(e.modelVersion)||e.modelVersion&&d.isInteger(e.modelVersion.low)&&d.isInteger(e.modelVersion.high)))return"modelVersion: integer|Long expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!d.isString(e.docString))return"docString: string expected";if(null!=e.graph&&e.hasOwnProperty("graph")&&(a=f.onnx.GraphProto.verify(e.graph)))return"graph."+a;if(null!=e.metadataProps&&e.hasOwnProperty("metadataProps")){if(!Array.isArray(e.metadataProps))return"metadataProps: array expected";for(t=0;t<e.metadataProps.length;++t){var a;if(a=f.onnx.StringStringEntryProto.verify(e.metadataProps[t]))return"metadataProps."+a}}return null},e.fromObject=function(e){if(e instanceof f.onnx.ModelProto)return e;var t=new f.onnx.ModelProto;if(null!=e.irVersion&&(d.Long?(t.irVersion=d.Long.fromValue(e.irVersion)).unsigned=!1:"string"==typeof e.irVersion?t.irVersion=parseInt(e.irVersion,10):"number"==typeof e.irVersion?t.irVersion=e.irVersion:"object"==typeof e.irVersion&&(t.irVersion=new d.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber())),e.opsetImport){if(!Array.isArray(e.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");t.opsetImport=[];for(var a=0;a<e.opsetImport.length;++a){if("object"!=typeof e.opsetImport[a])throw TypeError(".onnx.ModelProto.opsetImport: object expected");t.opsetImport[a]=f.onnx.OperatorSetIdProto.fromObject(e.opsetImport[a])}}if(null!=e.producerName&&(t.producerName=String(e.producerName)),null!=e.producerVersion&&(t.producerVersion=String(e.producerVersion)),null!=e.domain&&(t.domain=String(e.domain)),null!=e.modelVersion&&(d.Long?(t.modelVersion=d.Long.fromValue(e.modelVersion)).unsigned=!1:"string"==typeof e.modelVersion?t.modelVersion=parseInt(e.modelVersion,10):"number"==typeof e.modelVersion?t.modelVersion=e.modelVersion:"object"==typeof e.modelVersion&&(t.modelVersion=new d.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber())),null!=e.docString&&(t.docString=String(e.docString)),null!=e.graph){if("object"!=typeof e.graph)throw TypeError(".onnx.ModelProto.graph: object expected");t.graph=f.onnx.GraphProto.fromObject(e.graph)}if(e.metadataProps){if(!Array.isArray(e.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(t.metadataProps=[],a=0;a<e.metadataProps.length;++a){if("object"!=typeof e.metadataProps[a])throw TypeError(".onnx.ModelProto.metadataProps: object expected");t.metadataProps[a]=f.onnx.StringStringEntryProto.fromObject(e.metadataProps[a])}}return t},e.toObject=function(e,t){t||(t={});var a={};if((t.arrays||t.defaults)&&(a.opsetImport=[],a.metadataProps=[]),t.defaults){if(d.Long){var n=new d.Long(0,0,!1);a.irVersion=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else a.irVersion=t.longs===String?"0":0;a.producerName="",a.producerVersion="",a.domain="",d.Long?(n=new d.Long(0,0,!1),a.modelVersion=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):a.modelVersion=t.longs===String?"0":0,a.docString="",a.graph=null}if(null!=e.irVersion&&e.hasOwnProperty("irVersion")&&("number"==typeof e.irVersion?a.irVersion=t.longs===String?String(e.irVersion):e.irVersion:a.irVersion=t.longs===String?d.Long.prototype.toString.call(e.irVersion):t.longs===Number?new d.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber():e.irVersion),null!=e.producerName&&e.hasOwnProperty("producerName")&&(a.producerName=e.producerName),null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&(a.producerVersion=e.producerVersion),null!=e.domain&&e.hasOwnProperty("domain")&&(a.domain=e.domain),null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&("number"==typeof e.modelVersion?a.modelVersion=t.longs===String?String(e.modelVersion):e.modelVersion:a.modelVersion=t.longs===String?d.Long.prototype.toString.call(e.modelVersion):t.longs===Number?new d.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber():e.modelVersion),null!=e.docString&&e.hasOwnProperty("docString")&&(a.docString=e.docString),null!=e.graph&&e.hasOwnProperty("graph")&&(a.graph=f.onnx.GraphProto.toObject(e.graph,t)),e.opsetImport&&e.opsetImport.length){a.opsetImport=[];for(var r=0;r<e.opsetImport.length;++r)a.opsetImport[r]=f.onnx.OperatorSetIdProto.toObject(e.opsetImport[r],t)}if(e.metadataProps&&e.metadataProps.length)for(a.metadataProps=[],r=0;r<e.metadataProps.length;++r)a.metadataProps[r]=f.onnx.StringStringEntryProto.toObject(e.metadataProps[r],t);return a},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),o.StringStringEntryProto=function(){function e(e){if(e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.key="",e.prototype.value="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.key&&e.hasOwnProperty("key")&&t.uint32(10).string(e.key),null!=e.value&&e.hasOwnProperty("value")&&t.uint32(18).string(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var a=void 0===t?e.len:e.pos+t,n=new f.onnx.StringStringEntryProto;e.pos<a;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;default:e.skipType(7&r)}}return n},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!d.isString(e.key)?"key: string expected":null!=e.value&&e.hasOwnProperty("value")&&!d.isString(e.value)?"value: string expected":null},e.fromObject=function(e){if(e instanceof f.onnx.StringStringEntryProto)return e;var t=new f.onnx.StringStringEntryProto;return null!=e.key&&(t.key=String(e.key)),null!=e.value&&(t.value=String(e.value)),t},e.toObject=function(e,t){t||(t={});var a={};return t.defaults&&(a.key="",a.value=""),null!=e.key&&e.hasOwnProperty("key")&&(a.key=e.key),null!=e.value&&e.hasOwnProperty("value")&&(a.value=e.value),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),o.TensorAnnotation=function(){function e(e){if(this.quantParameterTensorNames=[],e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.tensorName="",e.prototype.quantParameterTensorNames=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.tensorName&&e.hasOwnProperty("tensorName")&&t.uint32(10).string(e.tensorName),null!=e.quantParameterTensorNames&&e.quantParameterTensorNames.length)for(var a=0;a<e.quantParameterTensorNames.length;++a)f.onnx.StringStringEntryProto.encode(e.quantParameterTensorNames[a],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var a=void 0===t?e.len:e.pos+t,n=new f.onnx.TensorAnnotation;e.pos<a;){var r=e.uint32();switch(r>>>3){case 1:n.tensorName=e.string();break;case 2:n.quantParameterTensorNames&&n.quantParameterTensorNames.length||(n.quantParameterTensorNames=[]),n.quantParameterTensorNames.push(f.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tensorName&&e.hasOwnProperty("tensorName")&&!d.isString(e.tensorName))return"tensorName: string expected";if(null!=e.quantParameterTensorNames&&e.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(e.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var t=0;t<e.quantParameterTensorNames.length;++t){var a=f.onnx.StringStringEntryProto.verify(e.quantParameterTensorNames[t]);if(a)return"quantParameterTensorNames."+a}}return null},e.fromObject=function(e){if(e instanceof f.onnx.TensorAnnotation)return e;var t=new f.onnx.TensorAnnotation;if(null!=e.tensorName&&(t.tensorName=String(e.tensorName)),e.quantParameterTensorNames){if(!Array.isArray(e.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");t.quantParameterTensorNames=[];for(var a=0;a<e.quantParameterTensorNames.length;++a){if("object"!=typeof e.quantParameterTensorNames[a])throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");t.quantParameterTensorNames[a]=f.onnx.StringStringEntryProto.fromObject(e.quantParameterTensorNames[a])}}return t},e.toObject=function(e,t){t||(t={});var a={};if((t.arrays||t.defaults)&&(a.quantParameterTensorNames=[]),t.defaults&&(a.tensorName=""),null!=e.tensorName&&e.hasOwnProperty("tensorName")&&(a.tensorName=e.tensorName),e.quantParameterTensorNames&&e.quantParameterTensorNames.length){a.quantParameterTensorNames=[];for(var n=0;n<e.quantParameterTensorNames.length;++n)a.quantParameterTensorNames[n]=f.onnx.StringStringEntryProto.toObject(e.quantParameterTensorNames[n],t)}return a},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),o.GraphProto=function(){function e(e){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.node=d.emptyArray,e.prototype.name="",e.prototype.initializer=d.emptyArray,e.prototype.docString="",e.prototype.input=d.emptyArray,e.prototype.output=d.emptyArray,e.prototype.valueInfo=d.emptyArray,e.prototype.quantizationAnnotation=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.node&&e.node.length)for(var a=0;a<e.node.length;++a)f.onnx.NodeProto.encode(e.node[a],t.uint32(10).fork()).ldelim();if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(18).string(e.name),null!=e.initializer&&e.initializer.length)for(a=0;a<e.initializer.length;++a)f.onnx.TensorProto.encode(e.initializer[a],t.uint32(42).fork()).ldelim();if(null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(82).string(e.docString),null!=e.input&&e.input.length)for(a=0;a<e.input.length;++a)f.onnx.ValueInfoProto.encode(e.input[a],t.uint32(90).fork()).ldelim();if(null!=e.output&&e.output.length)for(a=0;a<e.output.length;++a)f.onnx.ValueInfoProto.encode(e.output[a],t.uint32(98).fork()).ldelim();if(null!=e.valueInfo&&e.valueInfo.length)for(a=0;a<e.valueInfo.length;++a)f.onnx.ValueInfoProto.encode(e.valueInfo[a],t.uint32(106).fork()).ldelim();if(null!=e.quantizationAnnotation&&e.quantizationAnnotation.length)for(a=0;a<e.quantizationAnnotation.length;++a)f.onnx.TensorAnnotation.encode(e.quantizationAnnotation[a],t.uint32(114).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var a=void 0===t?e.len:e.pos+t,n=new f.onnx.GraphProto;e.pos<a;){var r=e.uint32();switch(r>>>3){case 1:n.node&&n.node.length||(n.node=[]),n.node.push(f.onnx.NodeProto.decode(e,e.uint32()));break;case 2:n.name=e.string();break;case 5:n.initializer&&n.initializer.length||(n.initializer=[]),n.initializer.push(f.onnx.TensorProto.decode(e,e.uint32()));break;case 10:n.docString=e.string();break;case 11:n.input&&n.input.length||(n.input=[]),n.input.push(f.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 12:n.output&&n.output.length||(n.output=[]),n.output.push(f.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 13:n.valueInfo&&n.valueInfo.length||(n.valueInfo=[]),n.valueInfo.push(f.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 14:n.quantizationAnnotation&&n.quantizationAnnotation.length||(n.quantizationAnnotation=[]),n.quantizationAnnotation.push(f.onnx.TensorAnnotation.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.node&&e.hasOwnProperty("node")){if(!Array.isArray(e.node))return"node: array expected";for(var t=0;t<e.node.length;++t)if(a=f.onnx.NodeProto.verify(e.node[t]))return"node."+a}if(null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(null!=e.initializer&&e.hasOwnProperty("initializer")){if(!Array.isArray(e.initializer))return"initializer: array expected";for(t=0;t<e.initializer.length;++t)if(a=f.onnx.TensorProto.verify(e.initializer[t]))return"initializer."+a}if(null!=e.docString&&e.hasOwnProperty("docString")&&!d.isString(e.docString))return"docString: string expected";if(null!=e.input&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(t=0;t<e.input.length;++t)if(a=f.onnx.ValueInfoProto.verify(e.input[t]))return"input."+a}if(null!=e.output&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(a=f.onnx.ValueInfoProto.verify(e.output[t]))return"output."+a}if(null!=e.valueInfo&&e.hasOwnProperty("valueInfo")){if(!Array.isArray(e.valueInfo))return"valueInfo: array expected";for(t=0;t<e.valueInfo.length;++t)if(a=f.onnx.ValueInfoProto.verify(e.valueInfo[t]))return"valueInfo."+a}if(null!=e.quantizationAnnotation&&e.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(e.quantizationAnnotation))return"quantizationAnnotation: array expected";for(t=0;t<e.quantizationAnnotation.length;++t){var a;if(a=f.onnx.TensorAnnotation.verify(e.quantizationAnnotation[t]))return"quantizationAnnotation."+a}}return null},e.fromObject=function(e){if(e instanceof f.onnx.GraphProto)return e;var t=new f.onnx.GraphProto;if(e.node){if(!Array.isArray(e.node))throw TypeError(".onnx.GraphProto.node: array expected");t.node=[];for(var a=0;a<e.node.length;++a){if("object"!=typeof e.node[a])throw TypeError(".onnx.GraphProto.node: object expected");t.node[a]=f.onnx.NodeProto.fromObject(e.node[a])}}if(null!=e.name&&(t.name=String(e.name)),e.initializer){if(!Array.isArray(e.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(t.initializer=[],a=0;a<e.initializer.length;++a){if("object"!=typeof e.initializer[a])throw TypeError(".onnx.GraphProto.initializer: object expected");t.initializer[a]=f.onnx.TensorProto.fromObject(e.initializer[a])}}if(null!=e.docString&&(t.docString=String(e.docString)),e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.GraphProto.input: array expected");for(t.input=[],a=0;a<e.input.length;++a){if("object"!=typeof e.input[a])throw TypeError(".onnx.GraphProto.input: object expected");t.input[a]=f.onnx.ValueInfoProto.fromObject(e.input[a])}}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.GraphProto.output: array expected");for(t.output=[],a=0;a<e.output.length;++a){if("object"!=typeof e.output[a])throw TypeError(".onnx.GraphProto.output: object expected");t.output[a]=f.onnx.ValueInfoProto.fromObject(e.output[a])}}if(e.valueInfo){if(!Array.isArray(e.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(t.valueInfo=[],a=0;a<e.valueInfo.length;++a){if("object"!=typeof e.valueInfo[a])throw TypeError(".onnx.GraphProto.valueInfo: object expected");t.valueInfo[a]=f.onnx.ValueInfoProto.fromObject(e.valueInfo[a])}}if(e.quantizationAnnotation){if(!Array.isArray(e.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(t.quantizationAnnotation=[],a=0;a<e.quantizationAnnotation.length;++a){if("object"!=typeof e.quantizationAnnotation[a])throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");t.quantizationAnnotation[a]=f.onnx.TensorAnnotation.fromObject(e.quantizationAnnotation[a])}}return t},e.toObject=function(e,t){t||(t={});var a={};if((t.arrays||t.defaults)&&(a.node=[],a.initializer=[],a.input=[],a.output=[],a.valueInfo=[],a.quantizationAnnotation=[]),t.defaults&&(a.name="",a.docString=""),e.node&&e.node.length){a.node=[];for(var n=0;n<e.node.length;++n)a.node[n]=f.onnx.NodeProto.toObject(e.node[n],t)}if(null!=e.name&&e.hasOwnProperty("name")&&(a.name=e.name),e.initializer&&e.initializer.length)for(a.initializer=[],n=0;n<e.initializer.length;++n)a.initializer[n]=f.onnx.TensorProto.toObject(e.initializer[n],t);if(null!=e.docString&&e.hasOwnProperty("docString")&&(a.docString=e.docString),e.input&&e.input.length)for(a.input=[],n=0;n<e.input.length;++n)a.input[n]=f.onnx.ValueInfoProto.toObject(e.input[n],t);if(e.output&&e.output.length)for(a.output=[],n=0;n<e.output.length;++n)a.output[n]=f.onnx.ValueInfoProto.toObject(e.output[n],t);if(e.valueInfo&&e.valueInfo.length)for(a.valueInfo=[],n=0;n<e.valueInfo.length;++n)a.valueInfo[n]=f.onnx.ValueInfoProto.toObject(e.valueInfo[n],t);if(e.quantizationAnnotation&&e.quantizationAnnotation.length)for(a.quantizationAnnotation=[],n=0;n<e.quantizationAnnotation.length;++n)a.quantizationAnnotation[n]=f.onnx.TensorAnnotation.toObject(e.quantizationAnnotation[n],t);return a},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),o.TensorProto=function(){function e(e){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.dims=d.emptyArray,e.prototype.dataType=0,e.prototype.segment=null,e.prototype.floatData=d.emptyArray,e.prototype.int32Data=d.emptyArray,e.prototype.stringData=d.emptyArray,e.prototype.int64Data=d.emptyArray,e.prototype.name="",e.prototype.docString="",e.prototype.rawData=d.newBuffer([]),e.prototype.externalData=d.emptyArray,e.prototype.dataLocation=0,e.prototype.doubleData=d.emptyArray,e.prototype.uint64Data=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.dims&&e.dims.length){t.uint32(10).fork();for(var a=0;a<e.dims.length;++a)t.int64(e.dims[a]);t.ldelim()}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&t.uint32(16).int32(e.dataType),null!=e.segment&&e.hasOwnProperty("segment")&&f.onnx.TensorProto.Segment.encode(e.segment,t.uint32(26).fork()).ldelim(),null!=e.floatData&&e.floatData.length){for(t.uint32(34).fork(),a=0;a<e.floatData.length;++a)t.float(e.floatData[a]);t.ldelim()}if(null!=e.int32Data&&e.int32Data.length){for(t.uint32(42).fork(),a=0;a<e.int32Data.length;++a)t.int32(e.int32Data[a]);t.ldelim()}if(null!=e.stringData&&e.stringData.length)for(a=0;a<e.stringData.length;++a)t.uint32(50).bytes(e.stringData[a]);if(null!=e.int64Data&&e.int64Data.length){for(t.uint32(58).fork(),a=0;a<e.int64Data.length;++a)t.int64(e.int64Data[a]);t.ldelim()}if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(66).string(e.name),null!=e.rawData&&e.hasOwnProperty("rawData")&&t.uint32(74).bytes(e.rawData),null!=e.doubleData&&e.doubleData.length){for(t.uint32(82).fork(),a=0;a<e.doubleData.length;++a)t.double(e.doubleData[a]);t.ldelim()}if(null!=e.uint64Data&&e.uint64Data.length){for(t.uint32(90).fork(),a=0;a<e.uint64Data.length;++a)t.uint64(e.uint64Data[a]);t.ldelim()}if(null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(98).string(e.docString),null!=e.externalData&&e.externalData.length)for(a=0;a<e.externalData.length;++a)f.onnx.StringStringEntryProto.encode(e.externalData[a],t.uint32(106).fork()).ldelim();return null!=e.dataLocation&&e.hasOwnProperty("dataLocation")&&t.uint32(112).int32(e.dataLocation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var a=void 0===t?e.len:e.pos+t,n=new f.onnx.TensorProto;e.pos<a;){var r=e.uint32();switch(r>>>3){case 1:if(n.dims&&n.dims.length||(n.dims=[]),2==(7&r))for(var o=e.uint32()+e.pos;e.pos<o;)n.dims.push(e.int64());else n.dims.push(e.int64());break;case 2:n.dataType=e.int32();break;case 3:n.segment=f.onnx.TensorProto.Segment.decode(e,e.uint32());break;case 4:if(n.floatData&&n.floatData.length||(n.floatData=[]),2==(7&r))for(o=e.uint32()+e.pos;e.pos<o;)n.floatData.push(e.float());else n.floatData.push(e.float());break;case 5:if(n.int32Data&&n.int32Data.length||(n.int32Data=[]),2==(7&r))for(o=e.uint32()+e.pos;e.pos<o;)n.int32Data.push(e.int32());else n.int32Data.push(e.int32());break;case 6:n.stringData&&n.stringData.length||(n.stringData=[]),n.stringData.push(e.bytes());break;case 7:if(n.int64Data&&n.int64Data.length||(n.int64Data=[]),2==(7&r))for(o=e.uint32()+e.pos;e.pos<o;)n.int64Data.push(e.int64());else n.int64Data.push(e.int64());break;case 8:n.name=e.string();break;case 12:n.docString=e.string();break;case 9:n.rawData=e.bytes();break;case 13:n.externalData&&n.externalData.length||(n.externalData=[]),n.externalData.push(f.onnx.StringStringEntryProto.decode(e,e.uint32()));break;case 14:n.dataLocation=e.int32();break;case 10:if(n.doubleData&&n.doubleData.length||(n.doubleData=[]),2==(7&r))for(o=e.uint32()+e.pos;e.pos<o;)n.doubleData.push(e.double());else n.doubleData.push(e.double());break;case 11:if(n.uint64Data&&n.uint64Data.length||(n.uint64Data=[]),2==(7&r))for(o=e.uint32()+e.pos;e.pos<o;)n.uint64Data.push(e.uint64());else n.uint64Data.push(e.uint64());break;default:e.skipType(7&r)}}return n},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dims&&e.hasOwnProperty("dims")){if(!Array.isArray(e.dims))return"dims: array expected";for(var t=0;t<e.dims.length;++t)if(!(d.isInteger(e.dims[t])||e.dims[t]&&d.isInteger(e.dims[t].low)&&d.isInteger(e.dims[t].high)))return"dims: integer|Long[] expected"}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&!d.isInteger(e.dataType))return"dataType: integer expected";if(null!=e.segment&&e.hasOwnProperty("segment")&&(a=f.onnx.TensorProto.Segment.verify(e.segment)))return"segment."+a;if(null!=e.floatData&&e.hasOwnProperty("floatData")){if(!Array.isArray(e.floatData))return"floatData: array expected";for(t=0;t<e.floatData.length;++t)if("number"!=typeof e.floatData[t])return"floatData: number[] expected"}if(null!=e.int32Data&&e.hasOwnProperty("int32Data")){if(!Array.isArray(e.int32Data))return"int32Data: array expected";for(t=0;t<e.int32Data.length;++t)if(!d.isInteger(e.int32Data[t]))return"int32Data: integer[] expected"}if(null!=e.stringData&&e.hasOwnProperty("stringData")){if(!Array.isArray(e.stringData))return"stringData: array expected";for(t=0;t<e.stringData.length;++t)if(!(e.stringData[t]&&"number"==typeof e.stringData[t].length||d.isString(e.stringData[t])))return"stringData: buffer[] expected"}if(null!=e.int64Data&&e.hasOwnProperty("int64Data")){if(!Array.isArray(e.int64Data))return"int64Data: array expected";for(t=0;t<e.int64Data.length;++t)if(!(d.isInteger(e.int64Data[t])||e.int64Data[t]&&d.isInteger(e.int64Data[t].low)&&d.isInteger(e.int64Data[t].high)))return"int64Data: integer|Long[] expected"}if(null!=e.name&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!d.isString(e.docString))return"docString: string expected";if(null!=e.rawData&&e.hasOwnProperty("rawData")&&!(e.rawData&&"number"==typeof e.rawData.length||d.isString(e.rawData)))return"rawData: buffer expected";if(null!=e.externalData&&e.hasOwnProperty("externalData")){if(!Array.isArray(e.externalData))return"externalData: array expected";for(t=0;t<e.externalData.length;++t){var a;if(a=f.onnx.StringStringEntryProto.verify(e.externalData[t]))return"externalData."+a}}if(null!=e.dataLocation&&e.hasOwnProperty("dataLocation"))switch(e.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(null!=e.doubleData&&e.hasOwnProperty("doubleData")){if(!Array.isArray(e.doubleData))return"doubleData: array expected";for(t=0;t<e.doubleData.length;++t)if("number"!=typeof e.doubleData[t])return"doubleData: number[] expected"}if(null!=e.uint64Data&&e.hasOwnProperty("uint64Data")){if(!Array.isArray(e.uint64Data))return"uint64Data: array expected";for(t=0;t<e.uint64Data.length;++t)if(!(d.isInteger(e.uint64Data[t])||e.uint64Data[t]&&d.isInteger(e.uint64Data[t].low)&&d.isInteger(e.uint64Data[t].high)))return"uint64Data: integer|Long[] expected"}return null},e.fromObject=function(e){if(e instanceof f.onnx.TensorProto)return e;var t=new f.onnx.TensorProto;if(e.dims){if(!Array.isArray(e.dims))throw TypeError(".onnx.TensorProto.dims: array expected");t.dims=[];for(var a=0;a<e.dims.length;++a)d.Long?(t.dims[a]=d.Long.fromValue(e.dims[a])).unsigned=!1:"string"==typeof e.dims[a]?t.dims[a]=parseInt(e.dims[a],10):"number"==typeof e.dims[a]?t.dims[a]=e.dims[a]:"object"==typeof e.dims[a]&&(t.dims[a]=new d.LongBits(e.dims[a].low>>>0,e.dims[a].high>>>0).toNumber())}if(null!=e.dataType&&(t.dataType=0|e.dataType),null!=e.segment){if("object"!=typeof e.segment)throw TypeError(".onnx.TensorProto.segment: object expected");t.segment=f.onnx.TensorProto.Segment.fromObject(e.segment)}if(e.floatData){if(!Array.isArray(e.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(t.floatData=[],a=0;a<e.floatData.length;++a)t.floatData[a]=Number(e.floatData[a])}if(e.int32Data){if(!Array.isArray(e.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(t.int32Data=[],a=0;a<e.int32Data.length;++a)t.int32Data[a]=0|e.int32Data[a]}if(e.stringData){if(!Array.isArray(e.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(t.stringData=[],a=0;a<e.stringData.length;++a)"string"==typeof e.stringData[a]?d.base64.decode(e.stringData[a],t.stringData[a]=d.newBuffer(d.base64.length(e.stringData[a])),0):e.stringData[a].length&&(t.stringData[a]=e.stringData[a])}if(e.int64Data){if(!Array.isArray(e.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(t.int64Data=[],a=0;a<e.int64Data.length;++a)d.Long?(t.int64Data[a]=d.Long.fromValue(e.int64Data[a])).unsigned=!1:"string"==typeof e.int64Data[a]?t.int64Data[a]=parseInt(e.int64Data[a],10):"number"==typeof e.int64Data[a]?t.int64Data[a]=e.int64Data[a]:"object"==typeof e.int64Data[a]&&(t.int64Data[a]=new d.LongBits(e.int64Data[a].low>>>0,e.int64Data[a].high>>>0).toNumber())}if(null!=e.name&&(t.name=String(e.name)),null!=e.docString&&(t.docString=String(e.docString)),null!=e.rawData&&("string"==typeof e.rawData?d.base64.decode(e.rawData,t.rawData=d.newBuffer(d.base64.length(e.rawData)),0):e.rawData.length&&(t.rawData=e.rawData)),e.externalData){if(!Array.isArray(e.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(t.externalData=[],a=0;a<e.externalData.length;++a){if("object"!=typeof e.externalData[a])throw TypeError(".onnx.TensorProto.externalData: object expected");t.externalData[a]=f.onnx.StringStringEntryProto.fromObject(e.externalData[a])}}switch(e.dataLocation){case"DEFAULT":case 0:t.dataLocation=0;break;case"EXTERNAL":case 1:t.dataLocation=1}if(e.doubleData){if(!Array.isArray(e.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(t.doubleData=[],a=0;a<e.doubleData.length;++a)t.doubleData[a]=Number(e.doubleData[a])}if(e.uint64Data){if(!Array.isArray(e.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(t.uint64Data=[],a=0;a<e.uint64Data.length;++a)d.Long?(t.uint64Data[a]=d.Long.fromValue(e.uint64Data[a])).unsigned=!0:"string"==typeof e.uint64Data[a]?t.uint64Data[a]=parseInt(e.uint64Data[a],10):"number"==typeof e.uint64Data[a]?t.uint64Data[a]=e.uint64Data[a]:"object"==typeof e.uint64Data[a]&&(t.uint64Data[a]=new d.LongBits(e.uint64Data[a].low>>>0,e.uint64Data[a].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});var a={};if((t.arrays||t.defaults)&&(a.dims=[],a.floatData=[],a.int32Data=[],a.stringData=[],a.int64Data=[],a.doubleData=[],a.uint64Data=[],a.externalData=[]),t.defaults&&(a.dataType=0,a.segment=null,a.name="",t.bytes===String?a.rawData="":(a.rawData=[],t.bytes!==Array&&(a.rawData=d.newBuffer(a.rawData))),a.docString="",a.dataLocation=t.enums===String?"DEFAULT":0),e.dims&&e.dims.length){a.dims=[];for(var n=0;n<e.dims.length;++n)"number"==typeof e.dims[n]?a.dims[n]=t.longs===String?String(e.dims[n]):e.dims[n]:a.dims[n]=t.longs===String?d.Long.prototype.toString.call(e.dims[n]):t.longs===Number?new d.LongBits(e.dims[n].low>>>0,e.dims[n].high>>>0).toNumber():e.dims[n]}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&(a.dataType=e.dataType),null!=e.segment&&e.hasOwnProperty("segment")&&(a.segment=f.onnx.TensorProto.Segment.toObject(e.segment,t)),e.floatData&&e.floatData.length)for(a.floatData=[],n=0;n<e.floatData.length;++n)a.floatData[n]=t.json&&!isFinite(e.floatData[n])?String(e.floatData[n]):e.floatData[n];if(e.int32Data&&e.int32Data.length)for(a.int32Data=[],n=0;n<e.int32Data.length;++n)a.int32Data[n]=e.int32Data[n];if(e.stringData&&e.stringData.length)for(a.stringData=[],n=0;n<e.stringData.length;++n)a.stringData[n]=t.bytes===String?d.base64.encode(e.stringData[n],0,e.stringData[n].length):t.bytes===Array?Array.prototype.slice.call(e.stringData[n]):e.stringData[n];if(e.int64Data&&e.int64Data.length)for(a.int64Data=[],n=0;n<e.int64Data.length;++n)"number"==typeof e.int64Data[n]?a.int64Data[n]=t.longs===String?String(e.int64Data[n]):e.int64Data[n]:a.int64Data[n]=t.longs===String?d.Long.prototype.toString.call(e.int64Data[n]):t.longs===Number?new d.LongBits(e.int64Data[n].low>>>0,e.int64Data[n].high>>>0).toNumber():e.int64Data[n];if(null!=e.name&&e.hasOwnProperty("name")&&(a.name=e.name),null!=e.rawData&&e.hasOwnProperty("rawData")&&(a.rawData=t.bytes===String?d.base64.encode(e.rawData,0,e.rawData.length):t.bytes===Array?Array.prototype.slice.call(e.rawData):e.rawData),e.doubleData&&e.doubleData.length)for(a.doubleData=[],n=0;n<e.doubleData.length;++n)a.doubleData[n]=t.json&&!isFinite(e.doubleData[n])?String(e.doubleData[n]):e.doubleData[n];if(e.uint64Data&&e.uint64Data.length)for(a.uint64Data=[],n=0;n<e.uint64Data.length;++n)"number"==typeof e.uint64Data[n]?a.uint64Data[n]=t.longs===String?String(e.uint64Data[n]):e.uint64Data[n]:a.uint64Data[n]=t.longs===String?d.Long.prototype.toString.call(e.uint64Data[n]):t.longs===Number?new d.LongBits(e.uint64Data[n].low>>>0,e.uint64Data[n].high>>>0).toNumber(!0):e.uint64Data[n];if(null!=e.docString&&e.hasOwnProperty("docString")&&(a.docString=e.docString),e.externalData&&e.externalData.length)for(a.externalData=[],n=0;n<e.externalData.length;++n)a.externalData[n]=f.onnx.StringStringEntryProto.toObject(e.externalData[n],t);return null!=e.dataLocation&&e.hasOwnProperty("dataLocation")&&(a.dataLocation=t.enums===String?f.onnx.TensorProto.DataLocation[e.dataLocation]:e.dataLocation),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e.DataType=(t={},(a=Object.create(t))[t[0]="UNDEFINED"]=0,a[t[1]="FLOAT"]=1,a[t[2]="UINT8"]=2,a[t[3]="INT8"]=3,a[t[4]="UINT16"]=4,a[t[5]="INT16"]=5,a[t[6]="INT32"]=6,a[t[7]="INT64"]=7,a[t[8]="STRING"]=8,a[t[9]="BOOL"]=9,a[t[10]="FLOAT16"]=10,a[t[11]="DOUBLE"]=11,a[t[12]="UINT32"]=12,a[t[13]="UINT64"]=13,a[t[14]="COMPLEX64"]=14,a[t[15]="COMPLEX128"]=15,a[t[16]="BFLOAT16"]=16,a),e.Segment=function(){function e(e){if(e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.begin=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.end=d.Long?d.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.begin&&e.hasOwnProperty("begin")&&t.uint32(8).int64(e.begin),null!=e.end&&e.hasOwnProperty("end")&&t.uint32(16).int64(e.end),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var a=void 0===t?e.len:e.pos+t,n=new f.onnx.TensorProto.Segment;e.pos<a;){var r=e.uint32();switch(r>>>3){case 1:n.begin=e.int64();break;case 2:n.end=e.int64();break;default:e.skipType(7&r)}}return n},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.begin&&e.hasOwnProperty("begin")&&!(d.isInteger(e.begin)||e.begin&&d.isInteger(e.begin.low)&&d.isInteger(e.begin.high))?"begin: integer|Long expected":null!=e.end&&e.hasOwnProperty("end")&&!(d.isInteger(e.end)||e.end&&d.isInteger(e.end.low)&&d.isInteger(e.end.high))?"end: integer|Long expected":null},e.fromObject=function(e){if(e instanceof f.onnx.TensorProto.Segment)return e;var t=new f.onnx.TensorProto.Segment;return null!=e.begin&&(d.Long?(t.begin=d.Long.fromValue(e.begin)).unsigned=!1:"string"==typeof e.begin?t.begin=parseInt(e.begin,10):"number"==typeof e.begin?t.begin=e.begin:"object"==typeof e.begin&&(t.begin=new d.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber())),null!=e.end&&(d.Long?(t.end=d.Long.fromValue(e.end)).unsigned=!1:"string"==typeof e.end?t.end=parseInt(e.end,10):"number"==typeof e.end?t.end=e.end:"object"==typeof e.end&&(t.end=new d.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var a={};if(t.defaults){if(d.Long){var n=new d.Long(0,0,!1);a.begin=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else a.begin=t.longs===String?"0":0;d.Long?(n=new d.Long(0,0,!1),a.end=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):a.end=t.longs===String?"0":0}return null!=e.begin&&e.hasOwnProperty("begin")&&("number"==typeof e.begin?a.begin=t.longs===String?String(e.begin):e.begin:a.begin=t.longs===String?d.Long.prototype.toString.call(e.begin):t.longs===Number?new d.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber():e.begin),null!=e.end&&e.hasOwnProperty("end")&&("number"==typeof e.end?a.end=t.longs===String?String(e.end):e.end:a.end=t.longs===String?d.Long.prototype.toString.call(e.end):t.longs===Number?new d.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber():e.end),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),e.DataLocation=function(){var e={},t=Object.create(e);return t[e[0]="DEFAULT"]=0,t[e[1]="EXTERNAL"]=1,t}(),e;var t,a}(),o.TensorShapeProto=function(){function e(e){if(this.dim=[],e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.dim=d.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.dim&&e.dim.length)for(var a=0;a<e.dim.length;++a)f.onnx.TensorShapeProto.Dimension.encode(e.dim[a],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var a=void 0===t?e.len:e.pos+t,n=new f.onnx.TensorShapeProto;e.pos<a;){var r=e.uint32();r>>>3==1?(n.dim&&n.dim.length||(n.dim=[]),n.dim.push(f.onnx.TensorShapeProto.Dimension.decode(e,e.uint32()))):e.skipType(7&r)}return n},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dim&&e.hasOwnProperty("dim")){if(!Array.isArray(e.dim))return"dim: array expected";for(var t=0;t<e.dim.length;++t){var a=f.onnx.TensorShapeProto.Dimension.verify(e.dim[t]);if(a)return"dim."+a}}return null},e.fromObject=function(e){if(e instanceof f.onnx.TensorShapeProto)return e;var t=new f.onnx.TensorShapeProto;if(e.dim){if(!Array.isArray(e.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");t.dim=[];for(var a=0;a<e.dim.length;++a){if("object"!=typeof e.dim[a])throw TypeError(".onnx.TensorShapeProto.dim: object expected");t.dim[a]=f.onnx.TensorShapeProto.Dimension.fromObject(e.dim[a])}}return t},e.toObject=function(e,t){t||(t={});var a={};if((t.arrays||t.defaults)&&(a.dim=[]),e.dim&&e.dim.length){a.dim=[];for(var n=0;n<e.dim.length;++n)a.dim[n]=f.onnx.TensorShapeProto.Dimension.toObject(e.dim[n],t)}return a},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e.Dimension=function(){function e(e){if(e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}var t;return e.prototype.dimValue=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.dimParam="",e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:d.oneOfGetter(t=["dimValue","dimParam"]),set:d.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.dimValue&&e.hasOwnProperty("dimValue")&&t.uint32(8).int64(e.dimValue),null!=e.dimParam&&e.hasOwnProperty("dimParam")&&t.uint32(18).string(e.dimParam),null!=e.denotation&&e.hasOwnProperty("denotation")&&t.uint32(26).string(e.denotation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var a=void 0===t?e.len:e.pos+t,n=new f.onnx.TensorShapeProto.Dimension;e.pos<a;){var r=e.uint32();switch(r>>>3){case 1:n.dimValue=e.int64();break;case 2:n.dimParam=e.string();break;case 3:n.denotation=e.string();break;default:e.skipType(7&r)}}return n},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.dimValue&&e.hasOwnProperty("dimValue")&&(t.value=1,!(d.isInteger(e.dimValue)||e.dimValue&&d.isInteger(e.dimValue.low)&&d.isInteger(e.dimValue.high))))return"dimValue: integer|Long expected";if(null!=e.dimParam&&e.hasOwnProperty("dimParam")){if(1===t.value)return"value: multiple values";if(t.value=1,!d.isString(e.dimParam))return"dimParam: string expected"}return null!=e.denotation&&e.hasOwnProperty("denotation")&&!d.isString(e.denotation)?"denotation: string expected":null},e.fromObject=function(e){if(e instanceof f.onnx.TensorShapeProto.Dimension)return e;var t=new f.onnx.TensorShapeProto.Dimension;return null!=e.dimValue&&(d.Long?(t.dimValue=d.Long.fromValue(e.dimValue)).unsigned=!1:"string"==typeof e.dimValue?t.dimValue=parseInt(e.dimValue,10):"number"==typeof e.dimValue?t.dimValue=e.dimValue:"object"==typeof e.dimValue&&(t.dimValue=new d.LongBits(e.dimValue.low>>>0,e.dimValue.high>>>0).toNumber())),null!=e.dimParam&&(t.dimParam=String(e.dimParam)),null!=e.denotation&&(t.denotation=String(e.denotation)),t},e.toObject=function(e,t){t||(t={});var a={};return t.defaults&&(a.denotation=""),null!=e.dimValue&&e.hasOwnProperty("dimValue")&&("number"==typeof e.dimValue?a.dimValue=t.longs===String?String(e.dimValue):e.dimValue:a.dimValue=t.longs===String?d.Long.prototype.toString.call(e.dimValue):t.longs===Number?new d.LongBits(e.dimValue.low>>>0,e.dimValue.high>>>0).toNumber():e.dimValue,t.oneofs&&(a.value="dimValue")),null!=e.dimParam&&e.hasOwnProperty("dimParam")&&(a.dimParam=e.dimParam,t.oneofs&&(a.value="dimParam")),null!=e.denotation&&e.hasOwnProperty("denotation")&&(a.denotation=e.denotation),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),e}(),o.TypeProto=function(){function e(e){if(e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}var t;return e.prototype.tensorType=null,e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:d.oneOfGetter(t=["tensorType"]),set:d.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.tensorType&&e.hasOwnProperty("tensorType")&&f.onnx.TypeProto.Tensor.encode(e.tensorType,t.uint32(10).fork()).ldelim(),null!=e.denotation&&e.hasOwnProperty("denotation")&&t.uint32(50).string(e.denotation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var a=void 0===t?e.len:e.pos+t,n=new f.onnx.TypeProto;e.pos<a;){var r=e.uint32();switch(r>>>3){case 1:n.tensorType=f.onnx.TypeProto.Tensor.decode(e,e.uint32());break;case 6:n.denotation=e.string();break;default:e.skipType(7&r)}}return n},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tensorType&&e.hasOwnProperty("tensorType")){var t=f.onnx.TypeProto.Tensor.verify(e.tensorType);if(t)return"tensorType."+t}return null!=e.denotation&&e.hasOwnProperty("denotation")&&!d.isString(e.denotation)?"denotation: string expected":null},e.fromObject=function(e){if(e instanceof f.onnx.TypeProto)return e;var t=new f.onnx.TypeProto;if(null!=e.tensorType){if("object"!=typeof e.tensorType)throw TypeError(".onnx.TypeProto.tensorType: object expected");t.tensorType=f.onnx.TypeProto.Tensor.fromObject(e.tensorType)}return null!=e.denotation&&(t.denotation=String(e.denotation)),t},e.toObject=function(e,t){t||(t={});var a={};return t.defaults&&(a.denotation=""),null!=e.tensorType&&e.hasOwnProperty("tensorType")&&(a.tensorType=f.onnx.TypeProto.Tensor.toObject(e.tensorType,t),t.oneofs&&(a.value="tensorType")),null!=e.denotation&&e.hasOwnProperty("denotation")&&(a.denotation=e.denotation),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e.Tensor=function(){function e(e){if(e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.elemType=0,e.prototype.shape=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.elemType&&e.hasOwnProperty("elemType")&&t.uint32(8).int32(e.elemType),null!=e.shape&&e.hasOwnProperty("shape")&&f.onnx.TensorShapeProto.encode(e.shape,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var a=void 0===t?e.len:e.pos+t,n=new f.onnx.TypeProto.Tensor;e.pos<a;){var r=e.uint32();switch(r>>>3){case 1:n.elemType=e.int32();break;case 2:n.shape=f.onnx.TensorShapeProto.decode(e,e.uint32());break;default:e.skipType(7&r)}}return n},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.elemType&&e.hasOwnProperty("elemType")&&!d.isInteger(e.elemType))return"elemType: integer expected";if(null!=e.shape&&e.hasOwnProperty("shape")){var t=f.onnx.TensorShapeProto.verify(e.shape);if(t)return"shape."+t}return null},e.fromObject=function(e){if(e instanceof f.onnx.TypeProto.Tensor)return e;var t=new f.onnx.TypeProto.Tensor;if(null!=e.elemType&&(t.elemType=0|e.elemType),null!=e.shape){if("object"!=typeof e.shape)throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");t.shape=f.onnx.TensorShapeProto.fromObject(e.shape)}return t},e.toObject=function(e,t){t||(t={});var a={};return t.defaults&&(a.elemType=0,a.shape=null),null!=e.elemType&&e.hasOwnProperty("elemType")&&(a.elemType=e.elemType),null!=e.shape&&e.hasOwnProperty("shape")&&(a.shape=f.onnx.TensorShapeProto.toObject(e.shape,t)),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),e}(),o.OperatorSetIdProto=function(){function e(e){if(e)for(var t=Object.keys(e),a=0;a<t.length;++a)null!=e[t[a]]&&(this[t[a]]=e[t[a]])}return e.prototype.domain="",e.prototype.version=d.Long?d.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(10).string(e.domain),null!=e.version&&e.hasOwnProperty("version")&&t.uint32(16).int64(e.version),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof c||(e=c.create(e));for(var a=void 0===t?e.len:e.pos+t,n=new f.onnx.OperatorSetIdProto;e.pos<a;){var r=e.uint32();switch(r>>>3){case 1:n.domain=e.string();break;case 2:n.version=e.int64();break;default:e.skipType(7&r)}}return n},e.decodeDelimited=function(e){return e instanceof c||(e=new c(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.domain&&e.hasOwnProperty("domain")&&!d.isString(e.domain)?"domain: string expected":null!=e.version&&e.hasOwnProperty("version")&&!(d.isInteger(e.version)||e.version&&d.isInteger(e.version.low)&&d.isInteger(e.version.high))?"version: integer|Long expected":null},e.fromObject=function(e){if(e instanceof f.onnx.OperatorSetIdProto)return e;var t=new f.onnx.OperatorSetIdProto;return null!=e.domain&&(t.domain=String(e.domain)),null!=e.version&&(d.Long?(t.version=d.Long.fromValue(e.version)).unsigned=!1:"string"==typeof e.version?t.version=parseInt(e.version,10):"number"==typeof e.version?t.version=e.version:"object"==typeof e.version&&(t.version=new d.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var a={};if(t.defaults)if(a.domain="",d.Long){var n=new d.Long(0,0,!1);a.version=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else a.version=t.longs===String?"0":0;return null!=e.domain&&e.hasOwnProperty("domain")&&(a.domain=e.domain),null!=e.version&&e.hasOwnProperty("version")&&("number"==typeof e.version?a.version=t.longs===String?String(e.version):e.version:a.version=t.longs===String?d.Long.prototype.toString.call(e.version):t.longs===Number?new d.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber():e.version),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),o),e.exports=f},2100:(e,t,a)=>{e.exports=a(9482)},9482:(e,t,a)=>{var n=t;function r(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=a(1173),n.BufferWriter=a(3155),n.Reader=a(1408),n.BufferReader=a(593),n.util=a(9693),n.rpc=a(5994),n.roots=a(5054),n.configure=r,r()},1408:(e,t,a)=>{e.exports=i;var n,r=a(9693),o=r.LongBits,s=r.utf8;function c(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function i(e){this.buf=e,this.pos=0,this.len=e.length}var d,f="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new i(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new i(e);throw Error("illegal buffer")},$=function(){return r.Buffer?function(e){return(i.create=function(e){return r.Buffer.isBuffer(e)?new n(e):f(e)})(e)}:f};function u(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw c(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw c(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function l(){if(this.pos+8>this.len)throw c(this,8);return new o(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}i.create=$(),i.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,i.prototype.uint32=(d=4294967295,function(){if(d=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return d;if((this.pos+=5)>this.len)throw this.pos=this.len,c(this,10);return d}),i.prototype.int32=function(){return 0|this.uint32()},i.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},i.prototype.bool=function(){return 0!==this.uint32()},i.prototype.fixed32=function(){if(this.pos+4>this.len)throw c(this,4);return p(this.buf,this.pos+=4)},i.prototype.sfixed32=function(){if(this.pos+4>this.len)throw c(this,4);return 0|p(this.buf,this.pos+=4)},i.prototype.float=function(){if(this.pos+4>this.len)throw c(this,4);var e=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},i.prototype.double=function(){if(this.pos+8>this.len)throw c(this,4);var e=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},i.prototype.bytes=function(){var e=this.uint32(),t=this.pos,a=this.pos+e;if(a>this.len)throw c(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,a):t===a?new this.buf.constructor(0):this._slice.call(this.buf,t,a)},i.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},i.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw c(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw c(this)}while(128&this.buf[this.pos++]);return this},i.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},i._configure=function(e){n=e,i.create=$(),n._configure();var t=r.Long?"toLong":"toNumber";r.merge(i.prototype,{int64:function(){return u.call(this)[t](!1)},uint64:function(){return u.call(this)[t](!0)},sint64:function(){return u.call(this).zzDecode()[t](!1)},fixed64:function(){return l.call(this)[t](!0)},sfixed64:function(){return l.call(this)[t](!1)}})}},593:(e,t,a)=>{e.exports=o;var n=a(1408);(o.prototype=Object.create(n.prototype)).constructor=o;var r=a(9693);function o(e){n.call(this,e)}o._configure=function(){r.Buffer&&(o.prototype._slice=r.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},5054:e=>{e.exports={}},5994:(e,t,a)=>{t.Service=a(7948)},7948:(e,t,a)=>{e.exports=r;var n=a(9693);function r(e,t,a){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(a)}(r.prototype=Object.create(n.EventEmitter.prototype)).constructor=r,r.prototype.rpcCall=function e(t,a,r,o,s){if(!o)throw TypeError("request must be specified");var c=this;if(!s)return n.asPromise(e,c,t,a,r,o);if(c.rpcImpl)try{return c.rpcImpl(t,a[c.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,a){if(e)return c.emit("error",e,t),s(e);if(null!==a){if(!(a instanceof r))try{a=r[c.responseDelimited?"decodeDelimited":"decode"](a)}catch(e){return c.emit("error",e,t),s(e)}return c.emit("data",a,t),s(null,a)}c.end(!0)}))}catch(e){return c.emit("error",e,t),void setTimeout((function(){s(e)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},r.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(e,t,a)=>{e.exports=r;var n=a(9693);function r(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=r.zero=new r(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=r.zeroHash="\0\0\0\0\0\0\0\0";r.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var a=e>>>0,n=(e-a)/4294967296>>>0;return t&&(n=~n>>>0,a=~a>>>0,++a>4294967295&&(a=0,++n>4294967295&&(n=0))),new r(a,n)},r.from=function(e){if("number"==typeof e)return r.fromNumber(e);if(n.isString(e)){if(!n.Long)return r.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new r(e.low>>>0,e.high>>>0):o},r.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,a=~this.hi>>>0;return t||(a=a+1>>>0),-(t+4294967296*a)}return this.lo+4294967296*this.hi},r.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var c=String.prototype.charCodeAt;r.fromHash=function(e){return e===s?o:new r((c.call(e,0)|c.call(e,1)<<8|c.call(e,2)<<16|c.call(e,3)<<24)>>>0,(c.call(e,4)|c.call(e,5)<<8|c.call(e,6)<<16|c.call(e,7)<<24)>>>0)},r.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},r.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},r.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},r.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,a=this.hi>>>24;return 0===a?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:a<128?9:10}},9693:function(e,t,a){var n=t;function r(e,t,a){for(var n=Object.keys(t),r=0;r<n.length;++r)void 0!==e[n[r]]&&a||(e[n[r]]=t[n[r]]);return e}function o(e){function t(e,a){if(!(this instanceof t))return new t(e,a);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),a&&r(this,a)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=a(4537),n.base64=a(7419),n.EventEmitter=a(9211),n.float=a(945),n.inquire=a(7199),n.utf8=a(4997),n.pool=a(6662),n.LongBits=a(1945),n.isNode=Boolean(void 0!==a.g&&a.g&&a.g.process&&a.g.process.versions&&a.g.process.versions.node),n.global=n.isNode&&a.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var a=e[t];return!(null==a||!e.hasOwnProperty(t))&&("object"!=typeof a||(Array.isArray(a)?a.length:Object.keys(a).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var a=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(a.lo,a.hi,t):a.toNumber(Boolean(t))},n.merge=r,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},a=0;a<e.length;++a)t[e[a]]=1;return function(){for(var e=Object.keys(this),a=e.length-1;a>-1;--a)if(1===t[e[a]]&&void 0!==this[e[a]]&&null!==this[e[a]])return e[a]}},n.oneOfSetter=function(e){return function(t){for(var a=0;a<e.length;++a)e[a]!==t&&delete this[e[a]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,a){return new e(t,a)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},1173:(e,t,a)=>{e.exports=$;var n,r=a(9693),o=r.LongBits,s=r.base64,c=r.utf8;function i(e,t,a){this.fn=e,this.len=t,this.next=void 0,this.val=a}function d(){}function f(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function $(){this.len=0,this.head=new i(d,0,0),this.tail=this.head,this.states=null}var u=function(){return r.Buffer?function(){return($.create=function(){return new n})()}:function(){return new $}};function p(e,t,a){t[a]=255&e}function l(e,t){this.len=e,this.next=void 0,this.val=t}function b(e,t,a){for(;e.hi;)t[a++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[a++]=127&e.lo|128,e.lo=e.lo>>>7;t[a++]=e.lo}function h(e,t,a){t[a]=255&e,t[a+1]=e>>>8&255,t[a+2]=e>>>16&255,t[a+3]=e>>>24}$.create=u(),$.alloc=function(e){return new r.Array(e)},r.Array!==Array&&($.alloc=r.pool($.alloc,r.Array.prototype.subarray)),$.prototype._push=function(e,t,a){return this.tail=this.tail.next=new i(e,t,a),this.len+=t,this},l.prototype=Object.create(i.prototype),l.prototype.fn=function(e,t,a){for(;e>127;)t[a++]=127&e|128,e>>>=7;t[a]=e},$.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new l((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},$.prototype.int32=function(e){return e<0?this._push(b,10,o.fromNumber(e)):this.uint32(e)},$.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},$.prototype.uint64=function(e){var t=o.from(e);return this._push(b,t.length(),t)},$.prototype.int64=$.prototype.uint64,$.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(b,t.length(),t)},$.prototype.bool=function(e){return this._push(p,1,e?1:0)},$.prototype.fixed32=function(e){return this._push(h,4,e>>>0)},$.prototype.sfixed32=$.prototype.fixed32,$.prototype.fixed64=function(e){var t=o.from(e);return this._push(h,4,t.lo)._push(h,4,t.hi)},$.prototype.sfixed64=$.prototype.fixed64,$.prototype.float=function(e){return this._push(r.float.writeFloatLE,4,e)},$.prototype.double=function(e){return this._push(r.float.writeDoubleLE,8,e)};var x=r.Array.prototype.set?function(e,t,a){t.set(e,a)}:function(e,t,a){for(var n=0;n<e.length;++n)t[a+n]=e[n]};$.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(r.isString(e)){var a=$.alloc(t=s.length(e));s.decode(e,a,0),e=a}return this.uint32(t)._push(x,t,e)},$.prototype.string=function(e){var t=c.length(e);return t?this.uint32(t)._push(c.write,t,e):this._push(p,1,0)},$.prototype.fork=function(){return this.states=new f(this),this.head=this.tail=new i(d,0,0),this.len=0,this},$.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new i(d,0,0),this.len=0),this},$.prototype.ldelim=function(){var e=this.head,t=this.tail,a=this.len;return this.reset().uint32(a),a&&(this.tail.next=e.next,this.tail=t,this.len+=a),this},$.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),a=0;e;)e.fn(e.val,t,a),a+=e.len,e=e.next;return t},$._configure=function(e){n=e,$.create=u(),n._configure()}},3155:(e,t,a)=>{e.exports=o;var n=a(1173);(o.prototype=Object.create(n.prototype)).constructor=o;var r=a(9693);function o(){n.call(this)}function s(e,t,a){e.length<40?r.utf8.write(e,t,a):t.utf8Write?t.utf8Write(e,a):t.write(e,a)}o._configure=function(){o.alloc=r._Buffer_allocUnsafe,o.writeBytesBuffer=r.Buffer&&r.Buffer.prototype instanceof Uint8Array&&"set"===r.Buffer.prototype.set.name?function(e,t,a){t.set(e,a)}:function(e,t,a){if(e.copy)e.copy(t,a,0,e.length);else for(var n=0;n<e.length;)t[a++]=e[n++]}},o.prototype.bytes=function(e){r.isString(e)&&(e=r._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=r.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},o._configure()},7714:(e,t,a)=>{t.R=void 0;const n=a(6919),r=a(7448);t.R=new class{async init(){}async createSessionHandler(e,t){const a=new n.Session(t);return await a.loadModel(e),new r.OnnxjsSessionHandler(a)}}},4200:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wasmBackend=t.initializeFlags=void 0;const n=a(2203),r=a(2174),o=a(5381),s=a(8022),c=a(2157),i=a(2306);t.initializeFlags=()=>{if(("number"!=typeof r.env.wasm.initTimeout||r.env.wasm.initTimeout<0)&&(r.env.wasm.initTimeout=0),"boolean"!=typeof r.env.wasm.simd&&(r.env.wasm.simd=!0),"boolean"!=typeof r.env.wasm.proxy&&(r.env.wasm.proxy=!1),"number"!=typeof r.env.wasm.numThreads||!Number.isInteger(r.env.wasm.numThreads)||r.env.wasm.numThreads<=0){const e="undefined"==typeof navigator?o.cpus().length:navigator.hardwareConcurrency;r.env.wasm.numThreads=Math.min(4,Math.ceil((e||1)/2))}},t.wasmBackend=new class{async init(){t.initializeFlags(),await c.initWasm()}async createSessionHandler(e,t){let a;if("string"==typeof e)if("undefined"==typeof fetch)a=await s.promisify(n.readFile)(e);else{const t=await fetch(e),n=await t.arrayBuffer();a=new Uint8Array(n)}else a=e;const r=new i.OnnxruntimeWebAssemblySessionHandler;return await r.loadModel(a,t),Promise.resolve(r)}}},6018:function(e,t,a){var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(2174),t);const o=a(2174);{const e=a(7714).R;o.registerBackend("webgl",e,-1)}{const e=a(4200).wasmBackend;o.registerBackend("wasm",e,0)}},246:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createAttributeWithCacheKey=void 0;class a{constructor(e){Object.assign(this,e)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map((e=>`${this[e]}`)).join(";")),this._cacheKey}}t.createAttributeWithCacheKey=e=>new a(e)},7778:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Attribute=void 0;const n=a(1446);var r=a(9395).onnxruntime.experimental.fbs;const o=a(9162),s=a(2517);class c{constructor(e){if(this._attributes=new Map,null!=e){for(const t of e)t instanceof n.onnx.AttributeProto?this._attributes.set(t.name,[c.getValue(t),c.getType(t)]):t instanceof r.Attribute&&this._attributes.set(t.name(),[c.getValue(t),c.getType(t)]);if(this._attributes.size<e.length)throw new Error("duplicated attribute names")}}set(e,t,a){this._attributes.set(e,[a,t])}delete(e){this._attributes.delete(e)}getFloat(e,t){return this.get(e,"float",t)}getInt(e,t){return this.get(e,"int",t)}getString(e,t){return this.get(e,"string",t)}getTensor(e,t){return this.get(e,"tensor",t)}getFloats(e,t){return this.get(e,"floats",t)}getInts(e,t){return this.get(e,"ints",t)}getStrings(e,t){return this.get(e,"strings",t)}getTensors(e,t){return this.get(e,"tensors",t)}get(e,t,a){const n=this._attributes.get(e);if(void 0===n){if(void 0!==a)return a;throw new Error(`required attribute not found: ${e}`)}if(n[1]!==t)throw new Error(`type mismatch: expected ${t} but got ${n[1]}`);return n[0]}static getType(e){const t=e instanceof n.onnx.AttributeProto?e.type:e.type();switch(t){case n.onnx.AttributeProto.AttributeType.FLOAT:return"float";case n.onnx.AttributeProto.AttributeType.INT:return"int";case n.onnx.AttributeProto.AttributeType.STRING:return"string";case n.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case n.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case n.onnx.AttributeProto.AttributeType.INTS:return"ints";case n.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case n.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${n.onnx.AttributeProto.AttributeType[t]}`)}}static getValue(e){const t=e instanceof n.onnx.AttributeProto?e.type:e.type();if(t===n.onnx.AttributeProto.AttributeType.GRAPH||t===n.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const a=this.getValueNoCheck(e);if(t===n.onnx.AttributeProto.AttributeType.INT&&s.LongUtil.isLong(a))return s.LongUtil.longToNumber(a);if(t===n.onnx.AttributeProto.AttributeType.INTS){const e=a,t=new Array(e.length);for(let a=0;a<e.length;a++){const n=e[a];t[a]=s.LongUtil.longToNumber(n)}return t}if(t===n.onnx.AttributeProto.AttributeType.TENSOR)return e instanceof n.onnx.AttributeProto?o.Tensor.fromProto(a):o.Tensor.fromOrtTensor(a);if(t===n.onnx.AttributeProto.AttributeType.TENSORS){if(e instanceof n.onnx.AttributeProto)return a.map((e=>o.Tensor.fromProto(e)));if(e instanceof r.Attribute)return a.map((e=>o.Tensor.fromOrtTensor(e)))}if(t===n.onnx.AttributeProto.AttributeType.STRING&&e instanceof n.onnx.AttributeProto){const e=a;return s.decodeUtf8String(e)}return t===n.onnx.AttributeProto.AttributeType.STRINGS&&e instanceof n.onnx.AttributeProto?a.map(s.decodeUtf8String):a}static getValueNoCheck(e){return e instanceof n.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(e):this.getValueNoCheckFromOrtFormat(e)}static getValueNoCheckFromOnnxFormat(e){switch(e.type){case n.onnx.AttributeProto.AttributeType.FLOAT:return e.f;case n.onnx.AttributeProto.AttributeType.INT:return e.i;case n.onnx.AttributeProto.AttributeType.STRING:return e.s;case n.onnx.AttributeProto.AttributeType.TENSOR:return e.t;case n.onnx.AttributeProto.AttributeType.GRAPH:return e.g;case n.onnx.AttributeProto.AttributeType.FLOATS:return e.floats;case n.onnx.AttributeProto.AttributeType.INTS:return e.ints;case n.onnx.AttributeProto.AttributeType.STRINGS:return e.strings;case n.onnx.AttributeProto.AttributeType.TENSORS:return e.tensors;case n.onnx.AttributeProto.AttributeType.GRAPHS:return e.graphs;default:throw new Error(`unsupported attribute type: ${n.onnx.AttributeProto.AttributeType[e.type]}`)}}static getValueNoCheckFromOrtFormat(e){switch(e.type()){case r.AttributeType.FLOAT:return e.f();case r.AttributeType.INT:return e.i();case r.AttributeType.STRING:return e.s();case r.AttributeType.TENSOR:return e.t();case r.AttributeType.GRAPH:return e.g();case r.AttributeType.FLOATS:return e.floatsArray();case r.AttributeType.INTS:{const t=[];for(let a=0;a<e.intsLength();a++)t.push(e.ints(a));return t}case r.AttributeType.STRINGS:{const t=[];for(let a=0;a<e.stringsLength();a++)t.push(e.strings(a));return t}case r.AttributeType.TENSORS:{const t=[];for(let a=0;a<e.tensorsLength();a++)t.push(e.tensors(a));return t}default:throw new Error(`unsupported attribute type: ${r.AttributeType[e.type()]}`)}}}t.Attribute=c},7091:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resolveBackend=t.backend=void 0;const n=a(5038),r=new Map;async function o(e){const a=t.backend;if(void 0!==a[e]&&function(e){const t=e;return"initialize"in t&&"function"==typeof t.initialize&&"createSessionHandler"in t&&"function"==typeof t.createSessionHandler&&"dispose"in t&&"function"==typeof t.dispose}(a[e])){const t=a[e];let n=t.initialize();if("object"==typeof n&&"then"in n&&(n=await n),n)return r.set(e,t),t}}t.backend={webgl:new n.WebGLBackend},t.resolveBackend=async function e(t){if(!t)return e(["webgl"]);{const e="string"==typeof t?[t]:t;for(const t of e){const e=r.get(t);if(e)return e;const a=await o(t);if(a)return a}}throw new Error("no available backend to use")}},5038:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLBackend=void 0;const n=a(2174),r=a(6231),o=a(6416),s=a(7305);t.WebGLBackend=class{get contextId(){return n.env.webgl.contextId}set contextId(e){n.env.webgl.contextId=e}get matmulMaxBatchSize(){return n.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(e){n.env.webgl.matmulMaxBatchSize=e}get textureCacheMode(){return n.env.webgl.textureCacheMode}set textureCacheMode(e){n.env.webgl.textureCacheMode=e}get pack(){return n.env.webgl.pack}set pack(e){n.env.webgl.pack=e}get async(){return n.env.webgl.async}set async(e){n.env.webgl.async=e}initialize(){try{return this.glContext=s.createWebGLContext(this.contextId),"number"!=typeof this.matmulMaxBatchSize&&(this.matmulMaxBatchSize=16),"string"!=typeof this.textureCacheMode&&(this.textureCacheMode="full"),"boolean"!=typeof this.pack&&(this.pack=!1),"boolean"!=typeof this.async&&(this.async=!1),r.Logger.setWithEnv(n.env),r.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(e){return r.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${e}`),!1}}createSessionHandler(e){return new o.WebGLSessionHandler(this,e)}dispose(){this.glContext.dispose()}}},5107:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoordsGlslLib=void 0;const n=a(2517),r=a(8520),o=a(5060),s=a(7859),c=a(9390);class i extends r.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new r.GlslLibRoutine("\n      vec2 offsetToCoords(int offset, int width, int height) {\n        int t = offset / width;\n        int s = offset - t*width;\n        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);\n        return coords;\n      }\n      ")}}coordsToOffset(){return{coordsToOffset:new r.GlslLibRoutine("\n      int coordsToOffset(vec2 coords, int width, int height) {\n        float s = coords.s * float(width);\n        float t = coords.t * float(height);\n        int offset = int(t) * width + int(s);\n        return offset;\n      }\n      ")}}getOutputSamplingSnippet(){const e=this.context.outputTextureLayout;return e.isPacked?this.getPackedOutputSamplingSnippet(e):this.getUnpackedOutputSamplingSnippet(e)}getPackedOutputSamplingSnippet(e){const t=e.unpackedShape,a=[e.width,e.height],n={},s="getOutputCoords";switch(t.length){case 0:n[s]=this.getOutputScalarCoords();break;case 1:n[s]=this.getOutputPacked1DCoords(t,a);break;case 2:n[s]=this.getOutputPacked2DCoords(t,a);break;case 3:n[s]=this.getOutputPacked3DCoords(t,a);break;default:n[s]=this.getOutputPackedNDCoords(t,a)}const c=`\n      void setOutput(vec4 val) {\n        ${o.getGlsl(this.context.glContext.version).output} = val;\n      }\n    `;return n.floatTextureSetRGBA=new r.GlslLibRoutine(c),n}getUnpackedOutputSamplingSnippet(e){const t=e.unpackedShape,a=[e.width,e.height],n={},s="getOutputCoords";switch(t.length){case 0:n[s]=this.getOutputScalarCoords();break;case 1:n[s]=this.getOutputUnpacked1DCoords(t,a);break;case 2:n[s]=this.getOutputUnpacked2DCoords(t,a);break;case 3:n[s]=this.getOutputUnpacked3DCoords(t,a);break;case 4:n[s]=this.getOutputUnpacked4DCoords(t,a);break;case 5:n[s]=this.getOutputUnpacked5DCoords(t,a);break;case 6:n[s]=this.getOutputUnpacked6DCoords(t,a);break;default:throw new Error(`Unsupported output dimensionality: ${t.length}`)}const c=`\n        void setOutput(float val) {\n          ${o.getGlsl(this.context.glContext.version).output} = vec4(val, 0, 0, 0);\n        }\n    `;return n.floatTextureSetR=new r.GlslLibRoutine(c),n}getOutputScalarCoords(){return new r.GlslLibRoutine("\n      int getOutputCoords() {\n        return 0;\n      }\n    ")}getOutputPacked1DCoords(e,t){const a=t;let n="";return 1===a[0]?(n=`\n          int getOutputCoords() {\n            return 2 * int(TexCoords.y * ${a[1]}.0);\n          }\n        `,new r.GlslLibRoutine(n)):1===a[1]?(n=`\n          int getOutputCoords() {\n            return 2 * int(TexCoords.x * ${a[0]}.0);\n          }\n        `,new r.GlslLibRoutine(n)):(n=`\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                 vec2(${a[0]}, ${a[1]}));\n          return 2 * (resTexRC.y * ${a[0]} + resTexRC.x);\n        }\n      `,new r.GlslLibRoutine(n))}getOutputPacked2DCoords(e,t){let a="";if(n.ArrayUtil.arraysEqual(e,t))return a=`\n        ivec2 getOutputCoords() {\n          return 2 * ivec2(TexCoords.xy * vec2(${t[0]}, ${t[1]}));\n        }\n      `,new r.GlslLibRoutine(a);const o=t,s=Math.ceil(e[1]/2);return a=`\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${o[0]}, ${o[1]}));\n\n          int index = resTexRC.y * ${o[0]} + resTexRC.x;\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ${s}) * 2;\n          int c = 2 * (index / ${s});\n\n          return ivec2(r, c);\n        }\n      `,new r.GlslLibRoutine(a)}getOutputPacked3DCoords(e,t){const a=[t[0],t[1]],n=Math.ceil(e[2]/2),o=n*Math.ceil(e[1]/2),s=`\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${a[0]}, ${a[1]}));\n          int index = resTexRC.y * ${a[0]} + resTexRC.x;\n\n          int b = index / ${o};\n          index -= b * ${o};\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ${n}) * 2;\n          int c = 2 * (index / ${n});\n\n          return ivec3(b, r, c);\n        }\n      `;return new r.GlslLibRoutine(s)}getOutputPackedNDCoords(e,t){const a=[t[0],t[1]],n=Math.ceil(e[e.length-1]/2),o=n*Math.ceil(e[e.length-2]/2);let s=o,c="",i="b, r, c";for(let t=2;t<e.length-1;t++)s*=e[e.length-t-1],c=`\n      int b${t} = index / ${s};\n      index -= b${t} * ${s};\n    `+c,i=`b${t}, `+i;const d=`\n      ivec${e.length} getOutputCoords() {\n        ivec2 resTexRC = ivec2(TexCoords.xy *\n                              vec2(${a[0]}, ${a[1]}));\n        int index = resTexRC.y * ${a[0]} + resTexRC.x;\n\n        ${c}\n\n        int b = index / ${o};\n        index -= b * ${o};\n\n        // reverse r and c order for packed texture\n        int r = imod(index, ${n}) * 2;\n        int c = 2 * (index / ${n});\n\n        return ivec${e.length}(${i});\n      }\n    `;return new r.GlslLibRoutine(d)}getOutputUnpacked1DCoords(e,t){const a=`\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${t[0]}, ${t[1]}));\n          return resTexRC.y * ${t[0]} + resTexRC.x;\n        }\n      `;return new r.GlslLibRoutine(a)}getOutputUnpacked2DCoords(e,t){const a=`\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${t[0]}, ${t[1]}));\n          int index = resTexRC.y * ${t[0]} + resTexRC.x;\n          int r = index / ${e[1]};\n          int c = index - r * ${e[1]};\n          return ivec2(r, c);\n        }\n      `;return new r.GlslLibRoutine(a)}getOutputUnpacked3DCoords(e,t){let a="";const n=e.length;let o=null;n<2&&(o=[]),o=new Array(n-1),o[n-2]=e[n-1];for(let t=n-3;t>=0;--t)o[t]=o[t+1]*e[t+1];const s=["r","c","d"],c=o.map(((e,t)=>`int ${s[t]} = index / ${e}; ${t===o.length-1?`int ${s[t+1]} = index - ${s[t]} * ${e}`:`index -= ${s[t]} * ${e}`};`)).join("");return a=`\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${t[0]}, ${t[1]}));\n          int index = resTexRC.y * ${t[0]} + resTexRC.x;\n          ${c}\n          return ivec3(r, c, d);\n        }\n      `,new r.GlslLibRoutine(a)}getOutputUnpacked4DCoords(e,t){let a="";const n=e.length;let o=null;n<2&&(o=[]),o=new Array(n-1),o[n-2]=e[n-1];for(let t=n-3;t>=0;--t)o[t]=o[t+1]*e[t+1];const s=["r","c","d","d2"],c=o.map(((e,t)=>`int ${s[t]} = index / ${e}; ${t===o.length-1?`int ${s[t+1]} = index - ${s[t]} * ${e}`:`index -= ${s[t]} * ${e}`};`)).join("");return a=`\n      ivec4 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${t[0]}, ${t[1]}));\n          int index = resTexRC.y * ${t[0]} + resTexRC.x;\n          ${c}\n          return ivec4(r, c, d, d2);\n        }\n      `,new r.GlslLibRoutine(a)}getOutputUnpacked5DCoords(e,t){let a="";const n=e.length;let o=null;n<2&&(o=[]),o=new Array(n-1),o[n-2]=e[n-1];for(let t=n-3;t>=0;--t)o[t]=o[t+1]*e[t+1];const s=["r","c","d","d2","d3"],c=o.map(((e,t)=>`int ${s[t]} = index / ${e}; ${t===o.length-1?`int ${s[t+1]} = index - ${s[t]} * ${e}`:`index -= ${s[t]} * ${e}`};`)).join("");return a=`\n      ivec5 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${t[0]}, ${t[1]}));\n          int index = resTexRC.y * ${t[0]} + resTexRC.x;\n          ${c}\n          return ivec5(r, c, d, d2, d3);\n        }\n      `,new r.GlslLibRoutine(a)}getOutputUnpacked6DCoords(e,t){let a="";const n=e.length;let o=null;n<2&&(o=[]),o=new Array(n-1),o[n-2]=e[n-1];for(let t=n-3;t>=0;--t)o[t]=o[t+1]*e[t+1];const s=["r","c","d","d2","d3","d4"],c=o.map(((e,t)=>`int ${s[t]} = index / ${e}; ${t===o.length-1?`int ${s[t+1]} = index - ${s[t]} * ${e}`:`index -= ${s[t]} * ${e}`};`)).join("");return a=`\n     ivec6 getOutputCoords() {\n         ivec2 resTexRC = ivec2(TexCoords.xy *\n                               vec2(${t[0]}, ${t[1]}));\n         int index = resTexRC.y * ${t[0]} + resTexRC.x;\n         ${c}\n         return ivec6(r, c, d, d2, d3, d4);\n       }\n     `,new r.GlslLibRoutine(a)}getCommonUtilFuncs(){const e={};let t="uvFromFlat";e[t]=new r.GlslLibRoutine("\n    vec2 uvFromFlat(int texNumR, int texNumC, int index) {\n      int texC = index / texNumR;\n      int texR = index - texC * texNumR;\n      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to\n      //       v.\n      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);\n    }\n    "),t="packedUVfrom1D",e[t]=new r.GlslLibRoutine("\n      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n        int texelIndex = index / 2;\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="packedUVfrom2D",e[t]=new r.GlslLibRoutine("\n      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {\n        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="packedUVfrom3D",e[t]=new r.GlslLibRoutine("\n      vec2 packedUVfrom3D(int texNumR, int texNumC,\n          int texelsInBatch, int texelsInLogicalRow, int b,\n          int row, int col) {\n        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = index / texNumC;\n        int texC = index - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="sampleTexture";const a=o.getGlsl(this.context.glContext.version);return e[t]=new r.GlslLibRoutine(`\n        float sampleTexture(sampler2D textureSampler, vec2 uv) {\n            return ${a.texture2D}(textureSampler, uv).r;\n        }`),e}getInputsSamplingSnippets(){const e={},t=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach(((a,n)=>{const r=this.context.inputTextureLayouts[n],o=c.generateShaderFuncNameFromInputSamplerName(a);r.isPacked?e[o]=this.getPackedSamplerFromInput(o,a,r):e[o]=this.getUnpackedSamplerFromInput(o,a,r);const s=c.generateShaderFuncNameFromInputSamplerNameAtOutCoords(a);r.unpackedShape.length<=t.unpackedShape.length&&(r.isPacked?e[s]=this.getPackedSamplerAtOutputCoords(s,r,t,a):e[s]=this.getUnpackedSamplerAtOutputCoords(s,r,t,a))})),e}getPackedSamplerAtOutputCoords(e,t,a,o){const s=t.unpackedShape,i=a.unpackedShape,d=o,f=c.generateShaderFuncNameFromInputSamplerName(d),$=s.length,u=i.length,p=n.BroadcastUtil.getBroadcastDims(s,i),l=c.getCoordsDataType(u),b=u-$;let h;const x=c.getGlChannels();h=0===$?"":u<2&&p.length>=1?"coords = 0;":p.map((e=>`coords.${x[e+b]} = 0;`)).join("\n");let m="";m=u<2&&$>0?"coords":s.map(((e,t)=>`coords.${x[t+b]}`)).join(", ");let g="return outputValue;";const v=1===n.ShapeUtil.size(s),y=1===n.ShapeUtil.size(i);if(1!==$||v||y){if(v&&!y)g=1===u?"\n          return vec4(outputValue.x, outputValue.x, 0., 0.);\n        ":"\n          return vec4(outputValue.x);\n        ";else if(p.length){const e=$-2,t=$-1;p.indexOf(e)>-1&&p.indexOf(t)>-1?g="return vec4(outputValue.x);":p.indexOf(e)>-1?g="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":p.indexOf(t)>-1&&(g="return vec4(outputValue.xx, outputValue.zz);")}}else g="\n        return vec4(outputValue.xy, outputValue.xy);\n      ";const w=`\n      vec4 ${e}() {\n        ${l} coords = getOutputCoords();\n        \n        int lastDim = coords.${x[u-1]};\n        coords.${x[u-1]} = coords.${x[u-2]};\n        coords.${x[u-2]} = lastDim;\n      \n        ${h}\n        vec4 outputValue = ${f}(${m});\n        ${g}\n      }\n    `;return new r.GlslLibRoutine(w,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(e,t,a,o){const s=[a.width,a.height],i=[t.width,t.height],d=t.unpackedShape.length,f=a.unpackedShape.length,$=t.unpackedShape,u=a.unpackedShape,p=c.generateShaderFuncNameFromInputSamplerName(o);if(d===f&&n.ArrayUtil.arraysEqual(i,s)){const t=`\n          float ${e}() {\n            return sampleTexture(${o}, TexCoords);\n          }\n        `;return new r.GlslLibRoutine(t,["coordinates.sampleTexture"])}const l=c.getCoordsDataType(f),b=n.BroadcastUtil.getBroadcastDims($,u),h=f-d;let x;const m=c.getGlChannels();x=0===d?"":f<2&&b.length>=1?"coords = 0;":b.map((e=>`coords.${m[e+h]} = 0;`)).join("\n");let g="";g=f<2&&d>0?"coords":t.unpackedShape.map(((e,t)=>`coords.${m[t+h]}`)).join(", ");const v=`\n        float ${e}() {\n          ${l} coords = getOutputCoords();\n          ${x}\n          return ${p}(${g});\n        }\n      `;return new r.GlslLibRoutine(v,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(e,t,a){switch(a.unpackedShape.length){case 0:return this.getPackedSamplerScalar(e,t);case 1:return this.getPackedSampler1D(e,t,a);case 2:return this.getPackedSampler2D(e,t,a);case 3:return this.getPackedSampler3D(e,t,a);default:return this.getPackedSamplerND(e,t,a)}}getUnpackedSamplerFromInput(e,t,a){const n=a.unpackedShape;switch(n.length){case 0:return this.getUnpackedSamplerScalar(e,t,a);case 1:return this.getUnpackedSampler1D(e,t,a);case 2:return this.getUnpackedSampler2D(e,t,a);case 3:return this.getUnpackedSampler3D(e,t,a);case 4:return this.getUnpackedSampler4D(e,t,a);case 5:return this.getUnpackedSampler5D(e,t,a);case 6:return this.getUnpackedSampler6D(e,t,a);default:throw new Error(`Unsupported dimension ${n.length}-D`)}}getPackedSamplerScalar(e,t){const a=`\n          vec4 ${e}() {\n            return ${o.getGlsl(this.context.glContext.version).texture2D}(${t}, halfCR);\n          }\n        `;return new r.GlslLibRoutine(a)}getPackedSampler1D(e,t,a){const n=[a.width,a.height],s=[n[1],n[0]],c=o.getGlsl(this.context.glContext.version),i=`vec4 ${e}(int index) {\n      vec2 uv = packedUVfrom1D(\n      ${s[0]}, ${s[1]}, index);\n      return ${c.texture2D}(${t}, uv);\n    }`;return new r.GlslLibRoutine(i,["coordinates.packedUVfrom1D"])}getPackedSampler2D(e,t,a){const s=a.unpackedShape,c=[a.width,a.height],i=o.getGlsl(this.context.glContext.version),d=c[0],f=c[1];if(null!=c&&n.ArrayUtil.arraysEqual(s,c)){const a=`vec4 ${e}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${f}.0, ${d}.0);\n        return ${i.texture2D}(${t}, uv);\n      }`;return new r.GlslLibRoutine(a)}const $=c,u=Math.ceil(s[1]/2),p=`vec4 ${e}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${$[1]}, ${$[0]}, ${u}, row, col);\n      return ${i.texture2D}(${t}, uv);\n    }`;return new r.GlslLibRoutine(p,["coordinates.packedUVfrom2D"])}getPackedSampler3D(e,t,a){const n=a.unpackedShape,s=[a.width,a.height],i=[s[0],s[1]],d=o.getGlsl(this.context.glContext.version);if(1===n[0]){const o=n.slice(1),s=[1,2],i=c.squeezeInputShape(n,o),d=["b","row","col"],f=JSON.parse(JSON.stringify(a));f.unpackedShape=i;const $=this.getPackedSamplerFromInput(e,t,f),u=`${$.routineBody}\n      vec4 ${e}(int b, int row, int col) {\n        return ${e}(${c.getSqueezedParams(d,s)});\n      } `;return new r.GlslLibRoutine(u,$.dependencies)}const f=i[0],$=i[1],u=Math.ceil(n[2]/2),p=`vec4 ${e}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${$}, ${f}, ${u*Math.ceil(n[1]/2)}, ${u}, b, row, col);\n      return ${d.texture2D}(${t}, uv);}`;return new r.GlslLibRoutine(p,["coordinates.packedUVfrom3D"])}getPackedSamplerND(e,t,a){const n=a.unpackedShape,s=n.length,c=[a.width,a.height],i=o.getGlsl(this.context.glContext.version),d=[c[0],c[1]],f=d[1],$=d[0],u=Math.ceil(n[s-1]/2);let p=u*Math.ceil(n[s-2]/2),l="int b, int row, int col",b=`b * ${p} + (row / 2) * ${u} + (col / 2)`;for(let e=2;e<s-1;e++)l=`int b${e}, `+l,p*=n[s-e-1],b=`b${e} * ${p} + `+b;const h=`vec4 ${e}(${l}) {\n      int index = ${b};\n      int texR = index / ${$};\n      int texC = index - texR * ${$};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${$}, ${f});\n      return ${i.texture2D}(${t}, uv);\n    }`;return new r.GlslLibRoutine(h)}getUnpackedSamplerScalar(e,t,a){const[n,o]=[a.width,a.height];if(1===n&&1===o){const a=`\n          float ${e}() {\n            return sampleTexture(${t}, halfCR);\n          }\n        `;return new r.GlslLibRoutine(a,["coordinates.sampleTexture"])}const s=`\n        float ${e}() {\n          int offset_${t} = coordsToOffset(TexCoords, ${n}, ${o});\n          vec2 uv = uvFromFlat(${n}, ${o}, offset_${t});\n          return sampleTexture(${t}, uv);\n        }\n      `;return new r.GlslLibRoutine(s,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(e,t,a){const n=a.width,o=a.height;if(1===o&&1===n){const a=`\n        float ${e}(int index) {\n          return sampleTexture(${t}, halfCR);\n        }\n      `;return new r.GlslLibRoutine(a,["coordinates.sampleTexture"])}if(1===o){const a=`\n          float ${e}(int index) {\n            vec2 uv = vec2((float(index) + 0.5) / ${n}.0, 0.5);\n            return sampleTexture(${t}, uv);\n          }\n        `;return new r.GlslLibRoutine(a,["coordinates.sampleTexture"])}if(1===n){const a=`\n          float ${e}(int index) {\n            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${o}.0);\n            return sampleTexture(${t}, uv);\n          }\n        `;return new r.GlslLibRoutine(a,["coordinates.sampleTexture"])}const s=`\n        float ${e}(int index) {\n          vec2 uv = uvFromFlat(${n}, ${o}, index);\n          return sampleTexture(${t}, uv);\n        }\n      `;return new r.GlslLibRoutine(s,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(e,t,a){const o=a.unpackedShape,i=[a.height,a.width];if(null!=i&&n.ArrayUtil.arraysEqual(o,i)){const a=`\n          float ${e}(int row, int col) {\n            vec2 uv = (vec2(row, col) + halfCR) / vec2(${i[1]}.0, ${i[0]}.0);\n            return sampleTexture(${t}, uv);\n          }\n        `;return new r.GlslLibRoutine(a,["coordinates.sampleTexture"])}const{newShape:d,keptDims:f}=s.squeezeShape(o),$=d;if($.length<o.length){const n=c.squeezeInputShape(o,$),s=JSON.parse(JSON.stringify(a));s.unpackedShape=n;const i=["col","row"],d=`\n          ${this.getUnpackedSamplerFromInput(e,t,s).routineBody}\n          float ${e}(int row, int col) {\n            return ${e}(${c.getSqueezedParams(i,f)});\n          }\n        `;return new r.GlslLibRoutine(d,["coordinates.sampleTexture"])}const u=i[1],p=i[0];if(1===p){const a=`\n          float ${e}(int row, int col) {\n            int offset_${t} = coordsToOffset(TexCoords, ${u}, ${p});\n            float index = dot(vec3(row, col, offset_${t}), vec3(${o[1]}, 1, 1));\n            vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);\n            return sampleTexture(${t}, uv);\n          }\n        `;return new r.GlslLibRoutine(a,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(1===u){const a=`\n          float ${e}(int row, int col) {\n            int offset_${t} = coordsToOffset(TexCoords, ${u}, ${p});\n            float index = dot(vec3(row, col, offset_${t}), vec3(${o[1]}, 1, 1));\n            vec2 uv = vec2((index + 0.5) / ${p}.0, 0.5);\n            return sampleTexture(${t}, uv);\n          }\n        `;return new r.GlslLibRoutine(a,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const l=`\n        float ${e}(int row, int col) {\n          int index = col * ${o[1]} + row;\n          vec2 uv = uvFromFlat(${u}, ${p}, index);\n          return sampleTexture(${t}, uv);\n        }\n      `;return new r.GlslLibRoutine(l,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(e,t,a){const n=a.unpackedShape,o=n[1]*n[2],i=n[2],{newShape:d,keptDims:f}=s.squeezeShape(n),$=d;if($.length<n.length){const o=c.squeezeInputShape(n,$),s=["batch","col","row"],i=JSON.parse(JSON.stringify(a));i.unpackedShape=o;const d=this.getUnpackedSamplerFromInput(e,t,i),u=f.reverse(),p=`\n          ${d.routineBody}\n          float ${e}(int batch, int row, int col) {\n            return ${e}(${c.getSqueezedParams(s,u)});\n          }\n        `;return new r.GlslLibRoutine(p,d.dependencies)}const u=`\n          float ${e}(int depth, int row, int col) {\n            // Explicitly use integer operations as dot() only works on floats.\n            int index = depth * ${o} + col * ${i} + row;\n            vec2 uv = uvFromFlat(${a.width}, ${a.height}, index);\n            return sampleTexture(${t}, uv);\n          }\n      `;return new r.GlslLibRoutine(u,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(e,t,a){const n=a.unpackedShape,o=n[3],s=n[2]*o,c=`\n        float ${e}(int row, int col, int depth, int depth2) {\n          int index = row * ${n[1]*s} + col * ${s} +\n              depth2 * ${o} + depth;\n          vec2 uv = uvFromFlat(${a.width}, ${a.height}, index);\n          return sampleTexture(${t}, uv);\n        }\n      `;return new r.GlslLibRoutine(c,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(e,t,a){const n=a.unpackedShape,o=n[4],i=n[3]*o,d=n[2]*i,f=n[1]*d,{newShape:$,keptDims:u}=s.squeezeShape(n);if($.length<n.length){const o=c.squeezeInputShape(n,$),s=["row","col","depth","depth2","depth3"],i=JSON.parse(JSON.stringify(a));i.unpackedShape=o;const d=`\n          ${this.getUnpackedSamplerFromInput(e,t,i).routineBody}\n          float ${e}(int row, int col, int depth, int depth2, int depth3) {\n            return ${e}(${c.getSqueezedParams(s,u)});\n          }\n        `;return new r.GlslLibRoutine(d,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const p=`\n        float ${e}(int row, int col, int depth, int depth2, int depth3) {\n          int index = row * ${f} + col * ${d} + depth * ${i} +\n          depth3 * ${o} + depth2;\n          vec2 uv = uvFromFlat(${a.width}, ${a.height}, index);\n          return sampleTexture(${t}, uv);\n        }\n      `;return new r.GlslLibRoutine(p,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(e,t,a){const n=a.unpackedShape,o=n[5],i=n[4]*o,d=n[3]*i,f=n[2]*d,$=n[1]*f,{newShape:u,keptDims:p}=s.squeezeShape(n);if(u.length<n.length){const o=c.squeezeInputShape(n,u),s=["row","col","depth","depth2","depth3","depth4"],i=JSON.parse(JSON.stringify(a));i.unpackedShape=o;const d=`\n            ${this.getUnpackedSamplerFromInput(e,t,i).routineBody}\n            float ${e}(int row, int col, int depth,\n              int depth2, int depth3, int depth4) {\n              return ${e}(${c.getSqueezedParams(s,p)});\n            }\n          `;return new r.GlslLibRoutine(d,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const l=`\n          float ${e}(int row, int col, int depth,\n            int depth2, int depth3, int depth4) {\n            int index = row * ${$} + col * ${f} + depth * ${d} +\n            depth2 * ${i} + depth3 * ${o} + depth4;\n            vec2 uv = uvFromFlat(${a.width}, ${a.height}, index);\n            return sampleTexture(${t}, uv);\n          }\n        `;return new r.GlslLibRoutine(l,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const e=this.context.outputTextureLayout,t=e.shape.length,a=e.strides,n=e.width,o=e.height,s=[];for(let e=0;e<t-1;++e)s.push(`\n        c[${e}] = offset / ${a[e]};`),s.push(`\n        offset -= c[${e}] * ${a[e]};`);s.push(`\n        c[${t-1}] = offset;`);const c=`\n      void toVec(vec2 texCoords, out int c[${t}]) {\n        int offset = coordsToOffset(texCoords, ${n}, ${o});\n        ${s.join("")}\n      }\n      void toVec(int offset, out int c[${t}]) {\n        ${s.join("")}\n      }\n    `;return{toVec:new r.GlslLibRoutine(c,["coordinates.coordsToOffset"])}}valueFrom(){const e={};return this.context.programInfo.inputNames.forEach(((t,a)=>{const n=this.context.inputTextureLayouts[a],o=(n.unpackedShape.length>0?n.unpackedShape:n.shape).length;let s=`_${t}`;e[s]=new r.GlslLibRoutine(this.getValueFromSingle(t,o,n.width,n.height,!1),[`shapeUtils.indicesToOffset${s}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),s+="_T",e[s]=new r.GlslLibRoutine(this.getValueFromSingle(t,o,n.width,n.height,!0),[`shapeUtils.indicesToOffset${s}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])})),e}getValueFromSingle(e,t,a,n,r){let s=`_${e}`;return r&&(s+="_T"),`\n        float ${s}(int m[${t}]) {\n          int offset = indicesToOffset${s}(m);\n          vec2 coords = offsetToCoords(offset, ${a}, ${n});\n          float value = getColorAsFloat(${o.getGlsl(this.context.glContext.version).texture2D}(${e}, coords));\n          return value;\n        }\n        `}getPackedValueFrom(e,t,a,n,r){let s=`_${e}_Pack`;return r&&(s+="_T"),`\n        vec4 ${s}(int m[${t}]) {\n          int offset = indicesToOffset_${e}(m);\n          vec2 coords = offsetToCoords(offset, ${a}, ${n});\n          return ${o.getGlsl(this.context.glContext.version).texture2D}(${e}, coords);\n        }\n        `}}t.CoordsGlslLib=i},8520:(e,t)=>{var a;Object.defineProperty(t,"__esModule",{value:!0}),t.TopologicalSortGlslRoutines=t.GlslLibRoutineNode=t.GlslLibRoutine=t.GlslLib=t.GlslContext=t.FunctionType=void 0,(a=t.FunctionType||(t.FunctionType={}))[a.ValueBased=0]="ValueBased",a[a.Positional=1]="Positional",t.GlslContext=class{constructor(e,t,a,n){this.glContext=e,this.programInfo=t,this.inputTextureLayouts=a,this.outputTextureLayout=n}},t.GlslLib=class{constructor(e){this.context=e}},t.GlslLibRoutine=class{constructor(e,t){this.routineBody=e,this.dependencies=t}},t.GlslLibRoutineNode=class{constructor(e,t,a){this.name=e,this.dependencies=a||[],t&&(this.routineBody=t)}addDependency(e){e&&this.dependencies.push(e)}},t.TopologicalSortGlslRoutines=class{static returnOrderedNodes(e){if(!e||0===e.length)return[];if(1===e.length)return e;const t=new Set,a=new Set,n=new Array;return this.createOrderedNodes(e,t,a,n),n}static createOrderedNodes(e,t,a,n){for(let r=0;r<e.length;++r)this.dfsTraverse(e[r],t,a,n)}static dfsTraverse(e,t,a,n){if(!e||a.has(e.name))return;if(t.has(e.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");t.add(e.name);const r=e.dependencies;if(r&&r.length>0)for(let e=0;e<r.length;++e)this.dfsTraverse(r[e],t,a,n);n.push(e),a.add(e.name),t.delete(e.name)}}},7341:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EncodingGlslLib=void 0;const n=a(8520);class r extends n.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new n.GlslLibRoutine("highp vec4 encode(highp float f) {\n        return vec4(f, 0.0, 0.0, 0.0);\n      }\n        ")}}decodeFloat32(){return{decode:new n.GlslLibRoutine("highp float decode(highp vec4 rgba) {\n        return rgba.r;\n      }\n        ")}}encodeUint8(){const e=r.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new n.GlslLibRoutine(`\n      highp vec4 encode(highp float f) {\n        highp float F = abs(f);\n        highp float Sign = step(0.0,-f);\n        highp float Exponent = floor(log2(F));\n        highp float Mantissa = (exp2(- Exponent) * F);\n        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));\n        highp vec4 rgba;\n        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));\n        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);\n        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));\n        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));\n        ${e}\n        rgba = rgba / 255.0; // values need to be normalized to [0,1]\n        return rgba;\n    }\n        `)}}decodeUint8(){const e=r.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new n.GlslLibRoutine(`\n        highp float decode(highp vec4 rgba) {\n          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]\n          ${e}\n          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;\n          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;\n          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);\n          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));\n          return Result;\n      }\n        `)}}static isLittleEndian(){const e=new ArrayBuffer(4),t=new Uint32Array(e),a=new Uint8Array(e);if(t[0]=3735928559,239===a[0])return!0;if(222===a[0])return!1;throw new Error("unknown endianness")}}t.EncodingGlslLib=r},9894:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FragColorGlslLib=void 0;const n=a(8520),r=a(5060);class o extends n.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const e=r.getGlsl(this.context.glContext.version);return{setFragColor:new n.GlslLibRoutine(`\n        void setFragColor(float value) {\n            ${e.output} = encode(value);\n        }\n        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new n.GlslLibRoutine("\n        float getColorAsFloat(vec4 color) {\n            return decode(color);\n        }\n        ",["encoding.decode"])}}}t.FragColorGlslLib=o},2848:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.replaceInlines=void 0;const a=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;t.replaceInlines=function(e){const t={};let n;for(;null!==(n=a.exec(e));){const e=n[3].split(",").map((e=>{const t=e.trim().split(" ");return t&&2===t.length?{type:t[0],name:t[1]}:null})).filter((e=>null!==e));t[n[2]]={params:e,body:n[4]}}for(const a in t){const r="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",a),o=new RegExp(r,"gm");for(;null!==(n=o.exec(e));){const r=n[1],o=n[2],s=n[3].split(","),c=r?`${r} ${o};`:"";let i=t[a].body,d="";t[a].params.forEach(((e,t)=>{e&&(d+=`${e.type} ${e.name} = ${s[t]};\n`)})),i=`${d}\n ${i}`,i=i.replace("return",`${o} = `);const f=`\n      ${c}\n      {\n        ${i}\n      }\n      `;e=e.replace(n[0],f)}}return e.replace(a,"")}},8879:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlslPreprocessor=void 0;const n=a(8520),r=a(2848),o=a(5483),s=a(5060);t.GlslPreprocessor=class{constructor(e,t,a,r){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new n.GlslContext(e,t,a,r),Object.keys(o.glslRegistry).forEach((e=>{const t=new o.glslRegistry[e](this.context);this.libs[e]=t}));const s=this.glslLibRoutineDependencyGraph;for(const e in this.libs){const t=this.libs[e].getFunctions();for(const a in t){const r=e+"."+a;let o;s[r]?(o=s[r],o.routineBody=t[a].routineBody):(o=new n.GlslLibRoutineNode(r,t[a].routineBody),s[r]=o);const c=t[a].dependencies;if(c)for(let e=0;e<c.length;++e)if(s[c[e]])o.addDependency(s[c[e]]);else{const t=new n.GlslLibRoutineNode(c[e]);s[c[e]]=t,o.addDependency(t)}}}}preprocess(){const e=this.context.programInfo;let t=e.shaderSource;return this.context.programInfo.hasMain||(t=`${t}\n      ${s.getDefaultFragShaderMain(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),t=r.replaceInlines(t),`${s.getFragShaderPreamble(this.context.glContext.version)}\n    ${this.getUniforms(e.inputNames,e.variables)}\n    ${this.getImports(t)}\n    ${t}`}getImports(e){const t=this.selectGlslLibRoutinesToBeIncluded(e);if(0===t.length)return"";let a="";for(let e=0;e<t.length;++e){if(!t[e].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${t[e].name}`);a+=t[e].routineBody+"\n"}return a}selectGlslLibRoutinesToBeIncluded(e){const t=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach((a=>{const n=a.split(".")[1];-1!==e.indexOf(n)&&t.push(this.glslLibRoutineDependencyGraph[a])})),n.TopologicalSortGlslRoutines.returnOrderedNodes(t)}getUniforms(e,t){const a=[];if(e)for(const t of e)a.push(`uniform sampler2D ${t};`);if(t)for(const e of t)a.push(`uniform ${e.type} ${e.name}${e.arrayLength?`[${e.arrayLength}]`:""};`);return a.join("\n")}}},5483:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.glslRegistry=void 0;const n=a(5107),r=a(7341),o=a(9894),s=a(2655),c=a(3891);t.glslRegistry={encoding:r.EncodingGlslLib,fragcolor:o.FragColorGlslLib,vec:c.VecGlslLib,shapeUtils:s.ShapeUtilsGlslLib,coordinates:n.CoordsGlslLib}},2655:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ShapeUtilsGlslLib=void 0;const n=a(8520);class r extends n.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const e=this.context.outputTextureLayout.shape.length,t={};return this.context.programInfo.inputNames.forEach(((a,r)=>{const o=this.context.inputTextureLayouts[r].unpackedShape;if(o.length<=e){const r=o.length,s=e-r,c=`bcastIndices_${a}`;let i="";for(let e=0;e<r;++e)i+=`\n          realIndices[${e}] = int( mod(float(bcastedIndices[${s+e}]), ${o[e]}.0) );\n          `;const d=`\n        void ${c} (int bcastedIndices[${e}], out int realIndices[${r}]) {\n          ${i}\n        }\n        `;t[c]=new n.GlslLibRoutine(d)}})),t}bcastMatmulIndex(){const e=this.context.outputTextureLayout.shape.length,t={};return this.context.programInfo.inputNames.forEach(((a,r)=>{const o=this.context.inputTextureLayouts[r].shape;if(!(o.length<2||o.length>e)){const r=o.length,s=e-r,c=`bcastMatmulIndices_${a}`;let i="";for(let e=0;e<r-2;++e)i+=`\n          realIndices[${e}] = int( mod(float(bcastedIndices[${s+e}]), ${o[e]}.0) );\n          `;const d=`\n        void ${c}(int bcastedIndices[${e}], out int realIndices[${r}]) {\n          ${i}\n          realIndices[${r-1}] = bcastedIndices[${e-1}];\n          realIndices[${r-2}] = bcastedIndices[${e-2}];\n        }\n        `;t[c]=new n.GlslLibRoutine(d)}})),t}indicesToOffset(){const e={};return this.context.programInfo.inputNames.forEach(((t,a)=>{const o=this.context.inputTextureLayouts[a].shape,s=this.context.inputTextureLayouts[a].strides,c=o.length;let i=`indicesToOffset_${t}`;e[i]=new n.GlslLibRoutine(r.indexToOffsetSingle(i,c,s)),i=`indicesToOffset_${t}_T`,e[i]=new n.GlslLibRoutine(r.indexToOffsetSingle(i,c,s.slice().reverse()))})),e}static indexToOffsetSingle(e,t,a){let n="";for(let e=t-1;e>=0;--e)n+=`\n        offset += indices[${e}] * ${a[e]};\n        `;return`\n      int ${e}(int indices[${t}]) {\n        int offset = 0;\n        ${n}\n        return offset;\n      }\n      `}offsetToIndices(){const e={};return this.context.programInfo.inputNames.forEach(((t,a)=>{const o=this.context.inputTextureLayouts[a].shape,s=this.context.inputTextureLayouts[a].strides,c=o.length;let i=`offsetToIndices_${t}`;e[i]=new n.GlslLibRoutine(r.offsetToIndicesSingle(i,c,s)),i=`offsetToIndices_${t}_T`,e[i]=new n.GlslLibRoutine(r.offsetToIndicesSingle(i,c,s.slice().reverse()))})),e}static offsetToIndicesSingle(e,t,a){const n=[];for(let e=0;e<t-1;++e)n.push(`\n      indices[${e}] = offset / ${a[e]};`),n.push(`\n        offset -= indices[${e}] * ${a[e]};`);return n.push(`\n      indices[${t-1}] = offset;`),`\n      void ${e}(int offset, out int indices[${t}]) {\n        ${n.join("")}\n      }\n      `}incrementIndices(){const e={};return this.context.programInfo.inputNames.forEach(((t,a)=>{const r=this.context.inputTextureLayouts[a].shape,o=r.length,s=`incrementIndices_${t}`;let c="";for(let e=0;e<o;++e)c+=`\n        shape[${e}] = ${r[e]};`;const i=`\n        void ${s}(int axis, out int indices[${o}]) {\n          int shape[${o}];\n          ${c};\n          for(int i = ${o} -1 ; i >= 0; --i) {\n            if(i > axis) continue;\n            indices[i] += 1;\n            if(indices[i] < shape[i]) {\n              break;\n            }\n            indices[i] = 0;\n          }\n        }\n        `;e[s]=new n.GlslLibRoutine(i)})),e}}t.ShapeUtilsGlslLib=r},5060:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultFragShaderMain=t.getFragShaderPreamble=t.getVertexShaderSource=t.getGlsl=void 0;const a={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},n={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function r(e){return 1===e?a:n}t.getGlsl=r,t.getVertexShaderSource=function(e){const t=r(e);return`${t.version}\n      precision highp float;\n      ${t.attribute} vec3 position;\n      ${t.attribute} vec2 textureCoord;\n\n      ${t.varyingVertex} vec2 TexCoords;\n\n      void main()\n      {\n          gl_Position = vec4(position, 1.0);\n          TexCoords = textureCoord;\n      }`},t.getFragShaderPreamble=function(e){const t=r(e);return`${t.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${t.varyingFrag} vec2 TexCoords;\n    ${t.outputDeclaration}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    // Custom vector types to handle higher dimenalities.\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    `},t.getDefaultFragShaderMain=function(e,t){return`\n  void main() {\n    int indices[${t}];\n    toVec(TexCoords, indices);\n    vec4 result = vec4(process(indices));\n    ${r(e).output} = result;\n  }\n  `}},3891:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VecGlslLib=void 0;const n=a(8520);class r extends n.GlslLib{constructor(e){super(e)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const e=this.context.outputTextureLayout.shape.length,t={add:"+=",sub:"-=",mul:"*=",div:"/="},a={};for(const r in t){const o=`${r}Vec`;let s="";for(let a=0;a<e;++a)s+=`\n          dest[${a}] ${t[r]} src[${a}];\n          `;const c=`\n        void ${o}(int src[${e}], out int dest[${e}]) {\n          ${s}\n        }\n        `;a[o]=new n.GlslLibRoutine(c)}return a}copyVec(){const e=this.context.outputTextureLayout.shape.length;let t="";for(let a=0;a<e;++a)t+=`\n        dest[${a}] = src[${a}];\n        `;const a=`\n      void copyVec(int src[${e}], out int dest[${e}]) {\n        ${t}\n      }\n      `;return{copyVec:new n.GlslLibRoutine(a)}}setVecItem(){const e=this.context.outputTextureLayout.shape.length;let t=`\n        if(index < 0)\n            index =${e} + index;\n        if (index == 0)\n            m[0] = value;\n        `;for(let a=1;a<e-1;++a)t+=`\n        else if (index == ${a})\n            m[${a}] = value;\n            `;t+=`\n        else\n            m[${e-1}] = value;\n        `;const a=`\n      void setVecItem(out int m[${e}], int index, int value) {\n        ${t}\n      }\n        `;return{setVecItem:new n.GlslLibRoutine(a)}}getVecItem(){const e=this.context.outputTextureLayout.shape.length;let t=`\n        if(index < 0)\n            index = ${e} + index;\n        if (index == 0)\n            return m[0];\n      `;for(let a=1;a<e-1;++a)t+=`\n        else if (index == ${a})\n            return m[${a}];\n      `;t+=`\n        else\n            return m[${e-1}];\n        `;const a=`\n      int getVecItem(int m[${e}], int index) {\n        ${t}\n      }\n    `;return{getVecItem:new n.GlslLibRoutine(a)}}}t.VecGlslLib=r},8316:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLInferenceHandler=void 0;const n=a(6231),r=a(9162),o=a(2517),s=a(2403),c=a(7019),i=a(8710),d=a(5611),f=a(4057),$=a(2039);t.WebGLInferenceHandler=class{constructor(e){this.session=e,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(e,t){return f.calculateTextureWidthAndHeight(this.session.layoutStrategy,e,t)}executeProgram(e,t){if(t.length<e.inputNames.length)throw new Error(`Input size mustn't be less than ${e.inputNames.length}.`);if(e.inputNames.length!==e.inputTypes.length)throw new Error("input names size does not match input types");const a=[];for(let n=0;n<e.inputNames.length;++n)a[n]=this.getOrCreateTextureData(t[n],e.inputTypes[n]);const n=((e,t)=>{const a=t.map((e=>`${e.unpackedShape.join(",")};${e.width}x${e.height}`)).join("_");let n=e.name;return e.cacheHint&&(n+="["+e.cacheHint+"]"),n+=":"+a,n})(e,a);let r=this.session.programManager.getArtifact(n);const o=r?r.programInfo:"function"==typeof e.get?e.get():e,s=f.createTextureLayoutFromTextureType(this.session.layoutStrategy,o.output.dims,o.output.textureType),c=this.createTextureData(s,o.output.type);return r||(r=this.session.programManager.build(o,a,c),this.session.programManager.setArtifact(n,r)),this.runProgram(r,a,c),c}run(e,t){return this.executeProgram(e,t).tensor}runProgram(e,t,a){for(let a=0;a<t.length;++a)if(!!t[a].isPacked!=(e.programInfo.inputTypes[a]===$.TextureType.packed))throw new Error(`input[${a}] property packed inconsistent`);if(!!a.isPacked!=(e.programInfo.output.textureType===$.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(e,t,a)}getOrCreateTextureData(e,t){let a=this.getTextureData(e.dataId,t===$.TextureType.packed);if(!a&&(a=this.getTextureData(e.dataId,t!==$.TextureType.packed),a))return t===$.TextureType.packed?this.pack(a):this.unpack(a);if(!a){const n=f.createTextureLayoutFromTextureType(this.session.layoutStrategy,e.dims,t);if(t===$.TextureType.packedLastDimension){const a=1,n=4,r=e.dims;if(4===r.length){const o=[r[0],Math.ceil(r[1]*r[2]*r[3]/n)],s=f.createTextureLayoutFromTextureType(this.session.layoutStrategy,o,t);let c=e.numberData;if(r[1]*r[2]*r[3]%n!=0){const t=r[0],o=r[1]*r[2]*r[3],s=Math.ceil(o*a/n)*n;c=new Float32Array(t*s);for(let n=0;n<t;++n){const t=n*o,r=n*s+n%a*o;c.set(e.numberData.subarray(t,t+o),r)}}return this.createTextureData(s,e.type,c,e,1)}}if(t===$.TextureType.packed){const t=f.createTextureLayoutFromShape(this.session.layoutStrategy,e.dims,1,[],{reverseWH:!0}),n=this.createTextureData(t,e.type,e.numberData,e,1);a=this.pack(n)}else a=this.createTextureData(n,e.type,e.numberData,e,1)}return a}createTextureDataFromLayoutBindTensor(e,t,a,n){return this.createTextureData(e,t,a,n,1)}createTextureData(e,t,a,r,o){n.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(e)}]`);const s=this.session.textureManager.createTextureFromLayout(t,e,a,o);return this.createTextureDataFromTexture(e,t,s,r)}reshapeUnpacked(e,t){const a=this.getOrCreateTextureData(e,$.TextureType.unpacked),n={channels:a.channels,height:a.height,width:a.width,shape:0!==t.length?t:[1],strides:o.ShapeUtil.computeStrides(t),unpackedShape:t};return this.createTextureDataFromTexture(n,e.type,a.texture).tensor}reshapePacked(e,t){const a=this.getOrCreateTextureData(e,$.TextureType.packed);if(c.isReshapeCheap(e.dims,t)){const n={channels:a.channels,height:a.height,width:a.width,shape:0!==t.length?t:[1],strides:o.ShapeUtil.computeStrides(t),unpackedShape:t,isPacked:!0};return this.createTextureDataFromTexture(n,e.type,a.texture).tensor}const n=c.processDims3D(e.dims),r=c.processDims3D(t),s=this.reshapePacked(e,n),i=this.run(c.createPackedReshape3DProgramInfoLoader(this,s,r),[s]);return this.reshapePacked(i,t)}cast(e,t){const a=this.getOrCreateTextureData(e,$.TextureType.unpacked);return this.createTextureDataFromTexture(a,t,a.texture).tensor}createTextureDataFromTexture(e,t,a,n,o){const s=Object.assign(Object.assign({},e),{tensor:n||new r.Tensor(e.unpackedShape,t,(e=>this.readTexture(s)),(async e=>this.readTextureAsync(s)),void 0,o),texture:a});return this.setTextureData(s.tensor.dataId,s,e.isPacked),s}getTextureData(e,t=!1){return this.session.isInitializer(e)?this.session.getTextureData(e,t):t?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,t,a=!1){this.session.isInitializer(e)?this.session.setTextureData(e,t,a):(a?this.packedTextureDataCache:this.unpackedTextureDataCache).set(e,t)}isTextureLayoutCached(e,t=!1){return!!this.getTextureData(e.dataId,t)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach((e=>this.session.textureManager.releaseTexture(e))),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach((e=>this.session.textureManager.releaseTexture(e))),this.unpackedTextureDataCache=new Map}readTexture(e){return e.isPacked?this.readTexture(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat(i.encodeAsUint8(this,e))}async readTextureAsync(e){return e.isPacked?this.readTextureAsync(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat(i.encodeAsUint8(this,e))}pack(e){return this.executeProgram(s.createPackProgramInfoLoader(this,e.tensor),[e.tensor])}unpack(e){return this.executeProgram(d.createUnpackProgramInfoLoader(this,e.tensor),[e.tensor])}}},1640:function(e,t,a){var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&n(t,e,a);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WEBGL_OP_RESOLVE_RULES=void 0;const s=a(2898),c=o(a(7839)),i=a(4196),d=a(2069),f=a(8138),$=a(5193),u=a(7992),p=a(1253),l=a(4776),b=a(6572),h=a(3346),x=a(5623),m=a(2870),g=a(2143),v=a(2143),y=a(2143),w=a(2143),_=a(4939),I=a(4939),S=a(718),T=a(2268),k=a(8117),E=a(2278),A=a(5524),C=a(5975),O=a(3933),N=a(6558),R=a(5723),F=a(3738),D=o(a(4909)),P=a(8428),M=a(9793);t.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",D.abs],["Acos","","7+",D.acos],["Add","","7+",c.add],["And","","7+",c.and],["Asin","","7+",D.asin],["Atan","","7+",D.atan],["AveragePool","","7+",g.averagePool,g.parseAveragePoolAttributes],["BatchNormalization","","7+",s.batchNormalization,s.parseBatchNormalizationAttributes],["Cast","","6+",i.cast,i.parseCastAttributes],["Ceil","","6+",D.ceil],["Clip","","6-10",D.clip,D.parseClipAttributes],["Clip","","11+",D.clipV11],["Concat","","4+",d.concat,d.parseConcatAttributes],["Conv","","1+",f.conv,f.parseConvAttributes],["Cos","","7+",D.cos],["Div","","7+",c.div],["Dropout","","7+",D.identity],["DepthToSpace","","1+",$.depthToSpace,$.parseDepthToSpaceAttributes],["Equal","","7+",c.equal],["Elu","","6+",D.elu,D.parseEluAttributes],["Exp","","6+",D.exp],["Flatten","","1+",u.flatten,u.parseFlattenAttributes],["Floor","","6+",D.floor],["FusedConv","com.microsoft","1+",f.conv,f.parseConvAttributes],["Gather","","1+",p.gather,p.parseGatherAttributes],["Gemm","","7-10",l.gemm,l.parseGemmAttributesV7],["Gemm","","11+",l.gemm,l.parseGemmAttributesV11],["GlobalAveragePool","","1+",v.globalAveragePool,v.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",w.globalMaxPool],["Greater","","7+",c.greater],["Identity","","1+",D.identity],["ImageScaler","","1+",b.imageScaler,b.parseImageScalerAttributes],["InstanceNormalization","","6+",h.instanceNormalization,h.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",D.leakyRelu,D.parseLeakyReluAttributes],["Less","","7+",c.less],["Log","","6+",D.log],["MatMul","","1+",x.matMul,x.parseMatMulAttributes],["MaxPool","","1+",y.maxPool,y.parseMaxPoolAttributes],["Mul","","7+",c.mul],["Neg","","6+",D.neg],["Not","","1+",D.not],["Or","","7+",c.or],["Pad","","2-10",m.padV2,m.parsePadAttributesV2],["Pad","","11+",m.padV11,m.parsePadAttributesV11],["Pow","","7+",c.pow],["PRelu","","7+",c.pRelu],["ReduceLogSum","","1+",_.reduceLogSum,I.parseReduceAttributes],["ReduceMax","","1+",_.reduceMax,I.parseReduceAttributes],["ReduceMean","","1+",_.reduceMean,I.parseReduceAttributes],["ReduceMin","","1+",_.reduceMin,I.parseReduceAttributes],["ReduceProd","","1+",_.reduceProd,I.parseReduceAttributes],["ReduceSum","","1-12",_.reduceSum,I.parseReduceAttributes],["ReduceSumSquare","","1+",_.reduceLogSumSquare,I.parseReduceAttributes],["Relu","","6+",D.relu],["Reshape","","5+",S.reshape],["Resize","","10",T.resize,T.parseResizeAttributesV10],["Resize","","11+",T.resize,T.parseResizeAttributesV11],["Shape","","1+",k.shape],["Sigmoid","","6+",D.sigmoid],["Sin","","7+",D.sin],["Slice","","10+",E.sliceV10],["Slice","","1-9",E.slice,E.parseSliceAttributes],["Softmax","","1-12",A.softmax,A.parseSoftmaxAttributes],["Softmax","","13+",A.softmaxV13,A.parseSoftmaxAttributesV13],["Split","","2-12",C.split,C.parseSplitAttributes],["Sqrt","","6+",D.sqrt],["Squeeze","","1-12",O.squeeze,O.parseSqueezeAttributes],["Squeeze","","13+",O.squeezeV13],["Sub","","7+",c.sub],["Sum","","6+",N.sum],["Tan","","7+",D.tan],["Tanh","","6+",D.tanh],["Tile","","6+",R.tile],["Transpose","","1+",F.transpose,F.parseTransposeAttributes],["Upsample","","7-8",M.upsample,M.parseUpsampleAttributesV7],["Upsample","","9",M.upsample,M.parseUpsampleAttributesV9],["Unsqueeze","","1-12",P.unsqueeze,P.parseUnsqueezeAttributes],["Unsqueeze","","13+",P.unsqueezeV13],["Xor","","7+",c.xor]]},2898:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseBatchNormalizationAttributes=t.batchNormalization=void 0;const n=a(246),r=a(5060),o=a(2039),s={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[o.TextureType.unpacked,o.TextureType.unpacked,o.TextureType.unpacked,o.TextureType.unpacked,o.TextureType.unpacked]};t.batchNormalization=(e,t,a)=>(i(t),[e.run(Object.assign(Object.assign({},s),{cacheHint:a.cacheKey,get:()=>c(e,t,a)}),t)]),t.parseBatchNormalizationAttributes=e=>{const t=e.attributes.getFloat("epsilon",1e-5),a=e.attributes.getFloat("momentum",.9),r=e.attributes.getInt("spatial",1);return n.createAttributeWithCacheKey({epsilon:t,momentum:a,spatial:r})};const c=(e,t,a)=>{const n=r.getGlsl(e.session.backend.glContext.version),c=t[0].dims.length,[i,d]=e.calculateTextureWidthAndHeight(t[1].dims,o.TextureType.unpacked),f=`\n  float process(int[${c}] indices) {\n    vec2 position = offsetToCoords(indices[1], ${i}, ${d});\n    float scale = getColorAsFloat(${n.texture2D}(Scale, position));\n    float mean = getColorAsFloat(${n.texture2D}(Mean, position));\n    float variance = getColorAsFloat(${n.texture2D}(Variance, position));\n    float b = getColorAsFloat(${n.texture2D}(B, position));\n\n    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${a.epsilon})) ) + b;\n  }`;return Object.assign(Object.assign({},s),{output:{dims:t[0].dims,type:t[0].type,textureType:o.TextureType.unpacked},shaderSource:f})},i=e=>{if(!e||5!==e.length)throw new Error("BatchNormalization requires 5 inputs.");const t=e[0],a=e[1],n=e[2],r=e[3],o=e[4];if(t.dims.length<3||1!==a.dims.length||1!==n.dims.length||1!==r.dims.length||1!==o.dims.length)throw new Error("invalid input shape.");if(a.dims[0]!==t.dims[1]||n.dims[0]!==t.dims[1]||r.dims[0]!==t.dims[1]||o.dims[0]!==t.dims[1])throw new Error("invalid input shape.");if("float32"!==t.type&&"float64"!==t.type||"float32"!==a.type&&"float64"!==a.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type||"float32"!==o.type&&"float64"!==o.type)throw new Error("invalid input tensor types.")}},7839:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.xor=t.sub=t.pRelu=t.pow=t.or=t.mul=t.less=t.greater=t.equal=t.div=t.and=t.add=t.glslPRelu=t.glslPow=t.glslXor=t.glslOr=t.glslAnd=t.glslLess=t.glslGreater=t.glslEqual=t.glslSub=t.glslMul=t.glslDiv=t.glslAdd=void 0;const n=a(2517),r=a(8520),o=a(5060),s=a(2039);function c(){return{body:"\n  float add_(float a, float b) {\n    return a + b;\n  }\n  vec4 add_(vec4 v1, vec4 v2) {\n    return v1 + v2;\n  }\n  ",name:"add_",type:r.FunctionType.ValueBased}}function i(){return{body:"\n  float div_(float a, float b) {\n    return a / b;\n  }\n  vec4 div_(vec4 v1, vec4 v2) {\n    return v1 / v2;\n  }\n  ",name:"div_",type:r.FunctionType.ValueBased}}function d(){return{body:"\n  float mul_(float a, float b) {\n    return a * b;\n  }\n  vec4 mul_(vec4 v1, vec4 v2) {\n    return v1 * v2;\n  }\n  ",name:"mul_",type:r.FunctionType.ValueBased}}function f(){return{body:"\n  float sub_(float a, float b) {\n    return a - b;\n  }\n  vec4 sub_(vec4 v1, vec4 v2) {\n    return v1 - v2;\n  }\n  ",name:"sub_",type:r.FunctionType.ValueBased}}function $(){return{body:"\n  float equal_(float a, float b) {\n    return float(a == b);\n  }\n  vec4 equal_(vec4 v1, vec4 v2) {\n    return vec4(equal(v1, v2));\n  }\n  ",name:"equal_",type:r.FunctionType.ValueBased}}function u(){const e="greater_";return{body:`\n  float ${e}(float a, float b) {\n    return float(a > b);\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return vec4( v1.r > v2.r ,\n      v1.g > v2.g,\n      v1.b > v2.b,\n      v1.a > v2.a );\n  }\n  `,name:e,type:r.FunctionType.ValueBased}}function p(){return{body:"\n  float less_(float a, float b) {\n    return float(a < b);\n  }\n  vec4 less_(vec4 v1, vec4 v2) {\n    return vec4( v1.r < v2.r ,\n                v1.g < v2.g,\n                v1.b < v2.b,\n                v1.a < v2.a );\n  }\n  ",name:"less_",type:r.FunctionType.ValueBased}}function l(){return{body:"\n  float and_(float a, float b) {\n    return float( bool(a) && bool(b) );\n  }\n  vec4 and_(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r && b2.r ,\n                b1.g && b2.g,\n                b1.b && b2.b,\n                b1.a && b2.a );\n  }\n  ",name:"and_",type:r.FunctionType.ValueBased}}function b(){return{body:"\n  float or_(float a, float b) {\n    return float( bool(a) || bool(b) );\n  }\n  vec4 or_(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r || b2.r ,\n                b1.g || b2.g,\n                b1.b || b2.b,\n                b1.a || b2.a );\n  }\n  ",name:"or_",type:r.FunctionType.ValueBased}}function h(){return{body:"\n  float xor_(float a, float b) {\n    return float( bool(a) ^^ bool(b) );\n  }\n  vec4 xor_(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r ^^ b2.r ,\n                b1.g ^^ b2.g,\n                b1.b ^^ b2.b,\n                b1.a ^^ b2.a );\n  }\n  ",name:"xor_",type:r.FunctionType.ValueBased}}function x(){return{body:"\n  float pow_(float a, float b) {\n    return pow(a, b);\n  }\n  vec4 pow_(vec4 v1, vec4 v2) {\n    return pow(v1, v2);\n  }\n  ",name:"pow_",type:r.FunctionType.ValueBased}}function m(){return{body:"\n  float prelu_(float a, float b) {\n    return a < 0.0 ? a * b: a;\n  }\n  vec4 prelu_(vec4 v1, vec4 v2) {\n    return vec4(\n      v1.r < 0.0 ? v1.r * v2.r: v1.r,\n      v1.g < 0.0 ? v1.g * v2.g: v1.g,\n      v1.b < 0.0 ? v1.b * v2.b: v1.b,\n      v1.a < 0.0 ? v1.a * v2.a: v1.a\n      );\n  }\n  ",name:"prelu_",type:r.FunctionType.ValueBased}}t.glslAdd=c,t.glslDiv=i,t.glslMul=d,t.glslSub=f,t.glslEqual=$,t.glslGreater=u,t.glslLess=p,t.glslAnd=l,t.glslOr=b,t.glslXor=h,t.glslPow=x,t.glslPRelu=m;const g=(e,t,a,n=t[0].type,r)=>{const o=e.session.pack?s.TextureType.packed:s.TextureType.unpacked;return{name:a.name,inputNames:["A","B"],inputTypes:[o,o],cacheHint:r,get:()=>v(e,t,a,n)}},v=(e,t,a,r=t[0].type)=>{const c=e.session.pack?s.TextureType.packed:s.TextureType.unpacked,i=!n.ShapeUtil.areEqual(t[0].dims,t[1].dims);let d=t[0].dims;const f=e.session.pack;if(i){const s=n.BroadcastUtil.calcShape(t[0].dims,t[1].dims,!1);if(!s)throw new Error("Can't perform binary op on the given tensors");d=s;const i=d.length,$=0!==t[0].dims.length?t[0].dims.length:1,u=0!==t[1].dims.length?t[1].dims.length:1,p=0!==t[0].dims.length?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",l=0!==t[1].dims.length?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",b=o.getGlsl(e.session.backend.glContext.version),h=f?`\n      ${a.body}\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n        vec4 result = ${a.name}(a, b);\n        ${b.output} = result;\n      }`:`\n      ${a.body}\n      float process(int indices[${i}]) {\n        int aindices[${$}];\n        int bindices[${u}];\n        ${p}\n        ${l}\n        return ${a.name}(_A(aindices), _B(bindices));\n      }`;return{name:a.name,inputNames:["A","B"],inputTypes:[c,c],output:{dims:d,type:r,textureType:c},shaderSource:h,hasMain:f}}const $=o.getGlsl(e.session.backend.glContext.version),u=`\n    ${a.body}\n    void main() {\n      vec4 v1 = ${$.texture2D}(A, TexCoords);\n      vec4 v2 = ${$.texture2D}(B, TexCoords);\n      vec4 result = ${a.name}(v1, v2);\n      ${$.output} = result;\n    }\n    `;return{name:a.name,inputNames:["A","B"],inputTypes:[c,c],output:{dims:t[0].dims,type:r,textureType:c},shaderSource:u,hasMain:!0}};t.add=(e,t)=>[e.run(g(e,t,c()),t)],t.and=(e,t)=>[e.run(g(e,t,l(),"bool"),t)],t.div=(e,t)=>[e.run(g(e,t,i()),t)],t.equal=(e,t)=>[e.run(g(e,t,$(),"bool"),t)],t.greater=(e,t)=>[e.run(g(e,t,u(),"bool"),t)],t.less=(e,t)=>[e.run(g(e,t,p(),"bool"),t)],t.mul=(e,t)=>[e.run(g(e,t,d()),t)],t.or=(e,t)=>[e.run(g(e,t,b(),"bool"),t)],t.pow=(e,t)=>[e.run(g(e,t,x()),t)],t.pRelu=(e,t)=>[e.run(g(e,t,m()),t)],t.sub=(e,t)=>[e.run(g(e,t,f()),t)],t.xor=(e,t)=>[e.run(g(e,t,h(),"bool"),t)]},4196:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseCastAttributes=t.cast=void 0;const n=a(2517);t.cast=(e,t,a)=>(r(t),[e.cast(t[0],a)]),t.parseCastAttributes=e=>n.ProtoUtil.tensorDataTypeFromProto(e.attributes.getInt("to"));const r=e=>{if(!e||1!==e.length)throw new Error("Cast requires 1 input.");if("string"===e[0].type)throw new Error("Invalid input type.")}},1163:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedConcatProgramInfoLoader=void 0;const n=a(5060),r=a(2039),o=a(9390),s=a(2827);t.createPackedConcatProgramInfoLoader=(e,t,a)=>{const i=(d=t.length,f=a.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:d},((e,t)=>`X${t}`)),inputTypes:Array(d).fill(r.TextureType.packed),cacheHint:f});var d,f;return Object.assign(Object.assign({},i),{get:()=>((e,t,a,i)=>{const d=a[0].dims.slice();if(i>=d.length||i<-1*d.length)throw new Error("axis specified for concat doesn't match input dimensionality");i<0&&(i=d.length+i);const f=d.slice(0);for(let e=1;e<a.length;e++){const t=a[e].dims.slice();for(let e=0;e<d.length;e++)if(e===i)f[i]+=t[e];else if(d[e]!==t[e])throw new Error("non concat dimensions must match")}const $=f.length,u=s.getChannels("coords",$),p=o.getCoordsDataType($),l=s.unpackFromChannel(),b=a.map((e=>e.dims)),h=o.getGlChannels($),x=new Array(b.length-1);x[0]=b[0][i];for(let e=1;e<x.length;e++)x[e]=x[e-1]+b[e][i];const m=h[i],g=h.slice(-2),v=h.join();let y=`if (${m} < ${x[0]}) {\n        return getChannel(\n            getX0(${v}), vec2(${g.join()}));\n        }`;for(let e=1;e<x.length;e++){const t=x[e-1];y+=`\n            if (${m} < ${x[e]}  && ${m} >= ${x[e-1]}) {\n              return getChannel(\n                getX${e}(${c(h,m,t)}),\n                vec2(${c(g,m,t)}));\n            }`}const w=x.length,_=x[x.length-1];y+=`\n            return getChannel(\n              getX${w}(${c(h,m,_)}),\n              vec2(${c(g,m,_)}));`;const I=n.getGlsl(e.session.backend.glContext.version),S=`\n          ${l}\n          float getValue(${h.map((e=>"int "+e))}) {\n            ${y}\n          }\n\n          void main() {\n            ${p} coords = getOutputCoords();\n            int lastDim = coords.${h[$-1]};\n            coords.${h[$-1]} = coords.${h[$-2]};\n            coords.${h[$-2]} = lastDim;\n\n            vec4 result = vec4(getValue(${u}), 0., 0., 0.);\n\n            ${u[$-1]} = ${u[$-1]} + 1;\n            if (${u[$-1]} < ${f[$-1]}) {\n              result.g = getValue(${u});\n            }\n\n            ${u[$-2]} = ${u[$-2]} + 1;\n            if (${u[$-2]} < ${f[$-2]}) {\n              result.a = getValue(${u});\n            }\n\n            ${u[$-1]} = ${u[$-1]} - 1;\n            if (${u[$-2]} < ${f[$-2]} &&\n                ${u[$-1]} < ${f[$-1]}) {\n              result.b = getValue(${u});\n            }\n            ${I.output} = result;\n          }\n        `;return Object.assign(Object.assign({},t),{output:{dims:f,type:a[0].type,textureType:r.TextureType.packed},shaderSource:S,hasMain:!0})})(e,i,t,a.axis)})};const c=(e,t,a)=>{const n=e.indexOf(t);return e.map(((e,t)=>t===n?`${e} - ${a}`:e)).join()}},2069:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseConcatAttributes=t.concat=void 0;const n=a(246),r=a(2039),o=a(1163);t.concat=(e,t,a)=>($(t),e.session.pack&&t[0].dims.length>1?[e.run(o.createPackedConcatProgramInfoLoader(e,t,a),t)]:[e.run(s(e,t,a),t)]);const s=(e,t,a)=>{const n=(o=t.length,s=a.cacheKey,{name:"Concat",inputNames:Array.from({length:o},((e,t)=>`X${t}`)),inputTypes:Array(o).fill(r.TextureType.unpacked),cacheHint:s});var o,s;return Object.assign(Object.assign({},n),{get:()=>((e,t,a,n)=>{const o=a[0].dims.slice();if(n>=o.length||n<-1*o.length)throw new Error("axis specified for concat doesn't match input dimensionality");n<0&&(n=o.length+n);const s=o.slice(0);for(let e=1;e<a.length;e++){const t=a[e].dims.slice();for(let e=0;e<o.length;e++)if(e===n)s[n]+=t[e];else if(o[e]!==t[e])throw new Error("non concat dimensions must match")}const $=s.length,u=new Array(a.length);let p=0;for(let e=0;e<u.length;++e)p+=a[e].dims[n],u[e]=p;let l="";l=a.length<5?c(u):i(u);const b=`\n        ${d(a.length,$)}\n        ${f(u)}\n        ${l}\n        float process(int indices[${$}]) {\n          int textureIndex = getTextureWhereDataResides (indices[${n}]);\n\n          if(textureIndex != 0) {\n            indices[${n}] = indices[${n}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));\n          }\n\n          return fetchDataFromCorrectTexture(textureIndex, indices);\n        }`;return Object.assign(Object.assign({},t),{output:{dims:s,type:a[0].type,textureType:r.TextureType.unpacked},shaderSource:b})})(0,n,t,a.axis)})},c=e=>`int getTextureWhereDataResides(int index) {\n      ${e.map(((e,t)=>`if(index<${e}) {return ${t};}\n`)).join("")}\n    }`,i=e=>c(e),d=(e,t)=>{const a=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${t}]) {`];for(let t=0;t<e;++t)0===t?a.push(`\tif (textureIndex == ${t}) { return _X${t}(indices); }`):t===e-1?a.push(`\telse { return _X${t}(indices); }`):a.push(`\telse if (textureIndex == ${t}) { return _X${t}(indices); }`);return a.push("\t}"),a.join("\n")},f=e=>{const t=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let a=0;a<e.length;++a)0===a?t.push(`\tif (index == ${a}) { return ${e[a]}; }`):a===e.length-1?t.push(`\telse { return ${e[a]}; }`):t.push(`\telse if (index == ${a}) { return ${e[a]}; }`);return t.push("\t}"),t.join("\n")};t.parseConcatAttributes=e=>n.createAttributeWithCacheKey({axis:e.attributes.getInt("axis")});const $=e=>{if(!e||e.length<1)throw new Error("too few inputs");const t=e[0].type,a=e[0].dims.length;if("string"===t)throw new Error("string tensor is not supported yet");for(const n of e){if(n.type!==t)throw new Error("input tensors should be one type");if(n.dims.length!==a)throw new Error("input tensors should have the same shape")}}},4770:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createUnpackedGroupedConvProgramInfoLoader=void 0;const n=a(6231),r=a(5060),o=a(2039),s=a(8138),c=a(2823);t.createUnpackedGroupedConvProgramInfoLoader=(e,t,a)=>{const i=(d=t.length>2,f=a.cacheKey,{name:"GroupedConv",inputNames:d?["X","W","Bias"]:["X","W"],inputTypes:d?[o.TextureType.unpacked,o.TextureType.unpacked,o.TextureType.unpacked]:[o.TextureType.unpacked,o.TextureType.unpacked],cacheHint:f});var d,f;return Object.assign(Object.assign({},i),{get:()=>((e,t,a,i)=>{const d=t.length>2?"value += getBias(output_channel);":"",f=t[0].dims.slice(),$=t[1].dims.slice(),u=$[0]/i.group;n.Logger.verbose("GroupedConv",`autpPad:${i.autoPad}, dilations:${i.dilations}, group:${i.group}, kernelShape:${i.kernelShape}, pads:${i.pads}, strides:${i.strides}`);const p=s.calculateOutputShape(f,$,i.dilations,i.pads,i.strides),l=r.getGlsl(e.session.backend.glContext.version),{activationFunction:b,applyActivation:h}=c.getActicationSnippet(i),x=`\n  const ivec2 strides = ivec2(${i.strides[0]}, ${i.strides[1]});\n  const ivec2 pads = ivec2(${i.pads[0]}, ${i.pads[1]});\n  ${b}\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n    ivec2 xRCCorner = coords.zw * strides - pads;\n    int group_id = output_channel / ${u};\n\n    float value = 0.0;\n    for (int wInChannel = 0; wInChannel < ${$[1]}; wInChannel++) {\n      int input_channel = group_id * ${$[1]} + wInChannel;\n      for (int wHeight = 0; wHeight < ${$[2]}; wHeight++) {\n        int xHeight = xRCCorner.x + wHeight * ${i.dilations[0]};\n\n        if (xHeight < 0 || xHeight >= ${f[2]}) {\n          continue;\n        }\n\n        for (int wWidth = 0; wWidth < ${$[3]}; wWidth++) {\n          int xWidth = xRCCorner.y + wWidth * ${i.dilations[1]};\n          if (xWidth < 0 || xWidth >= ${f[3]}) {\n            continue;\n          }\n\n          float xVal = getX(batch, input_channel, xWidth, xHeight);\n          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);\n          value += xVal*wVal;\n        }\n      }\n    }\n    ${d}\n    ${h}\n    ${l.output} = vec4(value, .0, .0, .0);\n  }\n`;return Object.assign(Object.assign({},a),{output:{dims:p,type:t[0].type,textureType:o.TextureType.unpacked},shaderSource:x,hasMain:!0})})(e,t,i,a)})}},1386:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.conv2DPacked=t.conv2DPackedPointwise=void 0;const n=a(8138),r=a(8555),o=a(708);t.conv2DPackedPointwise=(e,t,a)=>{const r=t[0].dims,s=t[1].dims,c=n.calculateOutputShape(r,s,a.dilations,a.pads,a.strides),i=e.reshapePacked(t[0],[r[1],r[2]*r[3]]),d=e.reshapePacked(t[1],[s[0],s[1]]),f=t.length>2?[d,i,t[2]]:[d,i],$=e.run(o.createPackedMatmulProgramInfoLoader(e,f,a),f);return e.reshapePacked($,c)},t.conv2DPacked=(e,t,a)=>{const s=t[0].dims,c=t[1].dims,i=n.calculateOutputShape(s,c,a.dilations,a.pads,a.strides),d=e.run(r.createPackedIm2ColProgramInfoLoader(e,t[0],t[1],i,a),[t[0]]),f=e.reshapePacked(t[1],[c[0],c[1]*c[2]*c[3]]),$=3===t.length?[f,d,t[2]]:[f,d],u=e.run(o.createPackedMatmulProgramInfoLoader(e,$,a),$);return e.reshapePacked(u,i)}},8138:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseConvAttributes=t.conv=t.calculateOutputShape=void 0;const n=a(246),r=a(2517),o=a(4770),s=a(1386),c=a(9828),i=a(2823),d=a(3248),f=a(5623);t.calculateOutputShape=(e,t,a,n,r)=>{const o=e[0],s=e.slice(2),c=s.length,i=t[0],d=t.slice(2).map(((e,t)=>e+(e-1)*(a[t]-1))),f=s.map(((e,t)=>e+n[t]+n[t+c])).map(((e,t)=>Math.floor((e-d[t]+r[t])/r[t])));return[o,i].concat(...f)},t.conv=(e,t,a)=>(b(t,a),$(e,t,a));const $=(e,t,a)=>{const n=l(a,t),r=e.session.pack,c=1===n.kernelShape[0]&&1===n.kernelShape[1];return n.group>1?[e.run(o.createUnpackedGroupedConvProgramInfoLoader(e,t,n),t)]:c&&r?[u(e,t,n)]:r&&4===t[0].dims.length&&1===t[0].dims[0]&&!c?[s.conv2DPacked(e,t,n)]:[p(e,t,n)]},u=(e,a,n)=>{const r=a[0].dims,o=a[1].dims,s=t.calculateOutputShape(r,o,n.dilations,n.pads,n.strides),c=e.reshapeUnpacked(a[0],[r[1],r[2]*r[3]]),i=e.reshapeUnpacked(a[1],[o[0],o[1]]),d=a.length>2?[i,c,a[2]]:[i,c],$=e.run(f.createMatmulProgramInfoLoader(d,n),d);return e.reshapeUnpacked($,s)},p=(e,a,n)=>{const r=a[0].dims,o=a[1].dims,s=t.calculateOutputShape(r,o,n.dilations,n.pads,n.strides),i=e.run(d.createIm2ColProgramInfoLoader(e,a[0],a[1],s,n),[a[0]]),f=3===a.length?[i,a[1],a[2]]:[i,a[1]];return e.run(c.createDotProductProgramInfoLoader(e,a,s,n),f)},l=(e,t)=>{const a=e.kernelShape.slice();if(0===e.kernelShape.length)for(let e=2;e<t[1].dims.length;++e)a.push(t[1].dims[e]);const n=e.pads.slice();r.PoolConvUtil.adjustPadsBasedOnAutoPad(t[0].dims,e.strides,e.dilations,a,n,e.autoPad);const o=Object.assign({},e);return Object.assign(o,{kernelShape:a,pads:n,cacheKey:e.cacheKey}),o};t.parseConvAttributes=e=>{const t=e.attributes,a=i.parseInternalActivationAttributes(t),r=t.getString("auto_pad","NOTSET"),o=t.getInts("dilations",[1,1]),s=t.getInt("group",1),c=t.getInts("kernel_shape",[]),d=t.getInts("pads",[0,0,0,0]),f=t.getInts("strides",[1,1]);return n.createAttributeWithCacheKey(Object.assign({autoPad:r,dilations:o,group:s,kernelShape:c,pads:d,strides:f},a))};const b=(e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length||4!==e[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(e[0].dims[1]!==e[1].dims[1]*t.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===e.length&&(1!==e[2].dims.length||e[1].dims[0]!==e[2].dims[0]))throw new Error("invalid bias");const a=e[0].dims.length-2;if(t.dilations.length!==a)throw new Error(`dilations should be ${a}D`);if(t.strides.length!==a)throw new Error(`strides should be ${a}D`);if(t.pads.length!==2*a)throw new Error(`pads should be ${2*a}D`);if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if("float32"!==e[0].type||"float32"!==e[1].type)throw new Error("Conv input(X,W) should be float tensor");if(3===e.length&&"float32"!==e[2].type)throw new Error("Conv input(bias) should be float tensor")}},5193:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseDepthToSpaceAttributes=t.depthToSpace=void 0;const n=a(3738);t.depthToSpace=(e,t,a)=>{r(t);const o=a.blocksize,s=o*o,c="DCR"===a.mode?[0,3,4,1,5,2]:[0,1,4,2,5,3],i="DCR"===a.mode?[t[0].dims[0],o,o,t[0].dims[1]/s,t[0].dims[2],t[0].dims[3]]:[t[0].dims[0],t[0].dims[1]/s,o,o,t[0].dims[2],t[0].dims[3]],d=e.reshapeUnpacked(t[0],i),f={perm:c,cacheKey:`${c}`},[$]=n.transpose(e,[d],f),u=[t[0].dims[0],t[0].dims[1]/s,t[0].dims[2]*o,t[0].dims[3]*o];return[e.reshapeUnpacked($,u)]},t.parseDepthToSpaceAttributes=e=>{const t=e.attributes.getInt("blocksize");if(t<1)throw new Error(`blocksize must be >= 1, but got : ${t} for DepthToSpace`);const a=e.attributes.getString("mode","DCR");if("DCR"!==a&&"CRD"!==a)throw new Error(`unrecognized mode: ${a} for DepthToSpace`);return{mode:a,blocksize:t}};const r=e=>{if(1!==e.length)throw new Error(`DepthToSpace expect 1 inputs, but got ${e.length}`);if("string"===e[0].type||4!==e[0].dims.length)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},9828:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createDotProductProgramInfoLoader=void 0;const n=a(2517),r=a(5060),o=a(2039),s=a(2823),c=a(3248);t.createDotProductProgramInfoLoader=(e,t,a,i)=>{const d=(f=t.length>2,$=i,{name:"ConvDotProduct",inputNames:f?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:f?[o.TextureType.unpacked,o.TextureType.packedLastDimension,o.TextureType.unpacked]:[o.TextureType.unpacked,o.TextureType.packedLastDimension],cacheKey:$.activationCacheKey});var f,$;return Object.assign(Object.assign({},d),{get:()=>((e,t,a,i,d)=>{const f=a[0].dims,$=a[1].dims,u=[$[0],Math.ceil(f[1]*$[2]*$[3]/4)],p=c.calculateIm2ColDims(f,$,i),[l,b]=e.calculateTextureWidthAndHeight(u,o.TextureType.packedLastDimension),h=n.ShapeUtil.computeStrides(p),[x,m]=e.calculateTextureWidthAndHeight(p,o.TextureType.packedLastDimension),g=i.length,v=a.length<3?"0.0":"_B(b)",y=Math.ceil(f[1]*$[2]*$[3]/4),{activationFunction:w,applyActivation:_}=s.getActicationSnippet(d),I=r.getGlsl(e.session.backend.glContext.version),S=`\n${w}\nfloat process(int indices[${g}]) {\n  int b[1];\n  b[0] = indices[1];\n  int im2col[4];\n  im2col[0] = indices[0];\n  im2col[1] = indices[2];\n  im2col[2] = indices[3];\n  int im2colOffset = im2col[0] * ${h[0]} + im2col[1] * ${h[1]} + im2col[2] * ${h[2]};\n  int kernelOffset = indices[1] * ${u[1]};\n  float value = ${v};\n  for (int i = 0; i < ${y}; ++i) {\n    vec2 im2colCoords = offsetToCoords(im2colOffset, ${x}, ${m});\n    vec2 kernelCoords = offsetToCoords(kernelOffset, ${l}, ${b});\n    value += dot(${I.texture2D}(Im2Col, im2colCoords), ${I.texture2D}(K, kernelCoords));\n    ++im2colOffset;\n    ++kernelOffset;\n  }\n  ${_}\n  return value;\n}`;return Object.assign(Object.assign({},t),{output:{dims:i,type:a[0].type,textureType:o.TextureType.unpacked},shaderSource:S})})(e,d,t,a,i)})}},7992:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseFlattenAttributes=t.flatten=void 0;const n=a(2517);t.flatten=(e,t,a)=>{r(t,a);const o=n.ShapeUtil.flattenShape(t[0].dims,a);return[e.reshapeUnpacked(t[0],o)]},t.parseFlattenAttributes=e=>e.attributes.getInt("axis",1);const r=(e,t)=>{if(!e||1!==e.length)throw new Error("Flatten requires 1 input.");const a=e[0].dims.length;if(0===a)throw new Error("scalar tensor is not supported.");if(t<-a||t>a)throw new Error("Invalid axis");if("string"===e[0].type)throw new Error("string tensor is not supported.")}},2823:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseInternalActivationAttributes=t.getActicationSnippet=void 0;const n=a(2517),r=a(4909);t.getActicationSnippet=function(e){let t;switch(e.activation){case"Relu":t=r.glslRelu();break;case"Sigmoid":t=r.glslSigmoid();break;case"Clip":t=r.glslClip(e.clipMin,e.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const a=t.name;return{activationFunction:t.body,applyActivation:`value = ${a}_(value);`}},t.parseInternalActivationAttributes=e=>{const t=e.getString("activation","");if("Clip"===t){const[a,r]=e.getFloats("activation_params",[n.MIN_CLIP,n.MAX_CLIP]);return{activation:t,clipMax:r,clipMin:a,activationCacheKey:`${t}:${a},${r}`}}return{activation:t,activationCacheKey:t}}},1253:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseGatherAttributes=t.gather=void 0;const n=a(246),r=a(782),o=a(2517),s=a(2039);t.gather=(e,t,a)=>(d(t,a.axis),[e.run(i(e,t,a),t)]),t.parseGatherAttributes=e=>n.createAttributeWithCacheKey({axis:e.attributes.getInt("axis",0)});const c={name:"Gather",inputNames:["A","B"],inputTypes:[s.TextureType.unpacked,s.TextureType.unpacked]},i=(e,t,a)=>{const n=Object.assign(Object.assign({},c),{cacheHint:a.cacheKey});return Object.assign(Object.assign({},n),{get:()=>((e,t,a,n)=>{const r=a[0].dims.slice(),c=a[1].dims.slice(),i=new Array(r.length+c.length-1);n=o.ShapeUtil.normalizeAxis(n,r.length);const d=[];for(let e=0;e<i.length;e++)e<n?(i[e]=r[e],d.push(`inputIdx[${e}] = outputIdx[${e}];`)):e<n+c.length?(i[e]=c[e-n],d.push(`indexDataIdx[${e-n}] = outputIdx[${e}];`)):(i[e]=r[e-c.length+1],d.push(`inputIdx[${e-c.length+1}] = outputIdx[${e}];`));const f=`\n      float process(int outputIdx[${i.length||1}]) {\n        int inputIdx[${r.length}];\n        int indexDataIdx[${c.length||1}];\n        indexDataIdx[0] = 0;\n        ${d.join("\n        ")}\n        int idx = int(_B(indexDataIdx));\n        inputIdx[${n}] = idx < 0 ? idx + ${r[n]} : idx;\n        return _A(inputIdx);\n      }`;return Object.assign(Object.assign({},t),{output:{dims:i,type:a[0].type,textureType:s.TextureType.unpacked},shaderSource:f})})(0,n,t,a.axis)})},d=(e,t)=>{if(!e||2!==e.length)throw new Error("Gather requires 2 inputs.");const a=e[0].dims.length;if(a<1)throw new Error("Invalid input shape.");if(t<-a||t>a-1)throw new Error("Invalid axis.");if(-1===r.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invaid input type.");if("int32"!==e[1].type&&"int16"!==e[1].type)throw new Error("Invaid input type.")}},4776:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseGemmAttributesV11=t.parseGemmAttributesV7=t.gemm=void 0;const n=a(246),r=a(2517),o=a(2039);t.gemm=(e,t,a)=>(d(t,a),[e.run(c(t,a),t)]);const s=(e,t)=>{const a=0!==e.attributes.getInt("transA",0),r=0!==e.attributes.getInt("transB",0),o=e.attributes.getFloat("alpha",1),s=e.attributes.getFloat("beta",1);return n.createAttributeWithCacheKey({transA:a,transB:r,alpha:o,beta:s,isOptionalC:t})};t.parseGemmAttributesV7=e=>s(e,!1),t.parseGemmAttributesV11=e=>s(e,!0);const c=(e,t)=>{const a={name:"Gemm",inputNames:3===e.length?["A","B","C"]:["A","B"],inputTypes:3===e.length?[o.TextureType.unpacked,o.TextureType.unpacked,o.TextureType.unpacked]:[o.TextureType.unpacked,o.TextureType.unpacked],key:t.cacheKey};return Object.assign(Object.assign({},a),{get:()=>i(a,e,t)})},i=(e,t,a)=>{const n=t[0].dims.slice(),s=t[1].dims.slice(),[c,i]=r.GemmUtil.getShapeOfGemmResult(n,a.transA,s,a.transB,3===t.length?t[2].dims:void 0),d=[c,i];if(!d)throw new Error("Can't use gemm on the given tensors");let f=n[n.length-1],$="";a.transA&&(f=n[0]),a.transA&&a.transB?$="value += _A_T(a) * _B_T(b);":a.transA&&!a.transB?$="value += _A_T(a) * _B(b);":!a.transA&&a.transB?$="value += _A(a) * _B_T(b);":a.transA||a.transB||($="value += _A(a) * _B(b);");const u=d.length,p=`\n      float process(int indices[${u}]) {\n          int a[${u}];\n          int b[${u}];\n          ${3===t.length?`int c[${t[2].dims.length}];`:""}\n\n          copyVec(indices, a);\n          copyVec(indices, b);\n          ${3===t.length?"bcastIndices_C(indices, c);":""}\n\n          float value = 0.0;\n          for (int k=0; k<${f}; ++k) {\n              a[${u-1}] = k;\n              b[${u-2}] = k;\n              ${$}\n          }\n\n          value = value * alpha;\n          ${3===t.length?"value += beta * _C(c);":""}\n          return value;\n      }`;return Object.assign(Object.assign({},e),{output:{dims:d,type:t[0].type,textureType:o.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:a.alpha},{name:"beta",type:"float",data:a.beta}],shaderSource:p})},d=(e,t)=>{if(!e)throw new Error("Input is missing");if(t.isOptionalC&&(e.length<2||e.length>3))throw new Error("Invaid input shape.");if(!t.isOptionalC&&3!==e.length)throw new Error("Gemm requires 3 inputs");if(3===e.length&&1!==e[2].dims.length&&2!==e[2].dims.length)throw new Error("Invalid input shape of C");if("float32"!==e[0].type&&"float64"!==e[0].type||"float32"!==e[1].type&&"float64"!==e[1].type||3===e.length&&"float32"!==e[2].type&&"float64"!==e[2].type)throw new Error("Invalid input type.");if(e[0].type!==e[1].type||3===e.length&&e[0].type!==e[2].type)throw new Error("Input types are mismatched")}},8555:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedIm2ColProgramInfoLoader=void 0;const n=a(5060),r=a(2039),o=a(2827);t.createPackedIm2ColProgramInfoLoader=(e,t,a,s,c)=>{const i=(d=c.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[r.TextureType.packed],cacheHint:d});var d;return Object.assign(Object.assign({},i),{get:()=>((e,t,a,s,c,i)=>{const d=a.dims,f=s.dims,$=c.length,u=[f[1]*f[2]*f[3],c[2]*c[3]],p=f[2]*f[3],l=o.unpackFromChannel(),b=n.getGlsl(e.session.backend.glContext.version);let h="";for(let e=0;e<=1;e++)for(let t=0;t<=1;t++)h+=`\n            blockIndex = rc.x + ${t};\n            pos = rc.y + ${e};\n\n            if(blockIndex < ${u[1]} && pos < ${u[0]}) {\n              offsetY = int(blockIndex / (${c[$-1]})) * ${i.strides[0]} -\n                ${i.pads[0]};\n              d0 = offsetY + ${i.dilations[0]} * (imod(pos, ${p}) / ${f[2]});\n\n              if(d0 < ${d[2]} && d0 >= 0) {\n                offsetX = imod(blockIndex, ${c[$-1]}) * ${i.strides[1]} -\n                  ${i.pads[1]};\n                d1 = offsetX + ${i.dilations[1]} * imod(imod(pos, ${p}), ${f[2]});\n\n                if(d1 < ${d[3]} && d1 >= 0) {\n\n                  ch = int(float(pos)/ ${p}.);\n                    innerDims = vec2(d0, d1);\n                    result[${2*e+t}] = getChannel(\n                      getA(0, ch, int(innerDims.x),\n                      int(innerDims.y)), innerDims);\n                }\n              }\n            }\n\n          `;const x=`\n      ${l}\n\n      void main() {\n        ivec2 rc = getOutputCoords();\n          vec4 result = vec4(0.0);\n          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n          vec2 innerDims;\n          ${h}\n          ${b.output} = result;\n      }\n            `;return Object.assign(Object.assign({},t),{output:{dims:u,type:a.type,textureType:r.TextureType.packed},shaderSource:x,hasMain:!0})})(e,i,t,a,s,c)})}},3248:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.calculateIm2ColDims=t.createIm2ColProgramInfoLoader=void 0;const n=a(2039);t.createIm2ColProgramInfoLoader=(e,a,r,o,s)=>{const c=(i=s.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[n.TextureType.unpacked],cacheHint:i});var i;return Object.assign(Object.assign({},c),{get:()=>((e,a,r,o,s,c)=>{const i=r.dims,d=o.dims,f=s.length,$=t.calculateIm2ColDims(i,d,s,4),u=`\n        const int XC = ${i[1]};\n        const int XH = ${i[2]};\n        const int XW = ${i[3]};\n        const int KH = ${c.kernelShape[0]};\n        const int KW = ${c.kernelShape[1]};\n        const int dilationH = ${c.dilations[0]};\n        const int dilationW = ${c.dilations[1]};\n        const int strideH = ${c.strides[0]};\n        const int strideW = ${c.strides[1]};\n        const int padH = ${c.pads[0]};\n        const int padW = ${c.pads[1]};\n        const int KHKW = KH*KW;\n        const int XCKHKW = XC * KHKW;\n        const int outputChannels = 4;\n        vec4 process(int indices[${f}]) {\n          int b  = indices[0]; // batch size\n          int oh = indices[1] * strideH - padH; //output height\n          int ow = indices[2] * strideW - padW; //output width\n          int p = indices[3] * outputChannels; //patch\n          vec4 value = vec4(0.0);\n          for(int i=0; i < outputChannels; ++i) {\n            if(p < XCKHKW) {\n              int patchC = p / KHKW;\n              int patchH = (p - patchC*KHKW) / KW;\n              int patchW = (p - patchC*KHKW) - patchH * KW;\n              int xh2 = oh + patchH * dilationH;\n              int xw2 = ow + patchW * dilationW;\n              int x[${i.length}];\n              x[0] = b;\n              x[1] = patchC;\n              x[2] = xh2;\n              x[3] = xw2;\n              if(xh2 >= 0 &&\n                  xh2 < XH &&\n                  xw2 >= 0 &&\n                  xw2 < XW) {\n                value[i] = _X(x);\n              }\n            }\n            ++p;\n          }\n          return value;\n        }\n        `;return Object.assign(Object.assign({},a),{output:{dims:$,type:r.type,textureType:n.TextureType.packedLastDimension},shaderSource:u})})(0,c,a,r,o,s)})},t.calculateIm2ColDims=(e,t,a,n=4)=>[a[0],a[2],a[3],Math.ceil(e[1]*t[2]*t[3]/n)]},6572:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseImageScalerAttributes=t.imageScaler=void 0;const n=a(246),r=a(2039);t.imageScaler=(e,t,a)=>(i(t),[e.run(s(e,t,a),t)]),t.parseImageScalerAttributes=e=>{const t=e.attributes.getFloat("scale"),a=e.attributes.getFloats("bias");return n.createAttributeWithCacheKey({scale:t,bias:a})};const o={name:"ImageScaler",inputNames:["X"],inputTypes:[r.TextureType.unpacked]},s=(e,t,a)=>{const n=Object.assign(Object.assign({},o),{cacheHint:a.cacheKey});return Object.assign(Object.assign({},n),{get:()=>((e,t,a,n)=>{const o=a[0].dims.slice(),s=o.length,i=`\n      ${c(n.bias.length)}\n      float process(int indices[${s}]) {\n        return _X(indices) * scale + getBias(bias, indices[1]);\n      }`;return Object.assign(Object.assign({},t),{output:{dims:o,type:a[0].type,textureType:r.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:n.bias.length,data:n.bias},{name:"scale",type:"float",data:n.scale}],shaderSource:i})})(0,n,t,a)})},c=e=>{const t=[`float getBias(float bias[${e}], int channel) {`];for(let a=0;a<e;++a)0===a?t.push(`\tif (channel == ${a}) { return bias[${a}]; }`):a===e-1?t.push(`\telse { return bias[${a}]; }`):t.push(`\telse if (channel == ${a}) { return bias[${a}]; }`);return t.push("\t}"),t.join("\n")},i=e=>{if(!e||1!==e.length)throw new Error("ImageScaler requires 1 input.");if(4!==e[0].dims.length)throw new Error("Invalid input shape.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")}},3346:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseInstanceNormalizationAttributes=t.instanceNormalization=void 0;const n=a(5060),r=a(2039);t.instanceNormalization=(e,t,a)=>{d(t);const n=e.run(s(t[0]),t);return[e.run(i(e,t[0],a,n.dims),[t[0],n,t[1],t[2]])]},t.parseInstanceNormalizationAttributes=e=>e.attributes.getFloat("epsilon",1e-5);const o={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[r.TextureType.unpacked]},s=e=>Object.assign(Object.assign({},o),{get:()=>((e,t)=>{const a=t.dims.slice(),n=a[1],o=a[2]*a[3],s=[a[0],n],c=`\n      vec4 process(int[2] indices) {\n        vec4 v = vec4(0.0);\n        int a[4];\n        a[0] = indices[0];\n        a[1] = indices[1];\n        float temp = 0.0;\n        for(int a2=0; a2<${a[2]}; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<${a[3]}; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += x;\n          }\n        }\n        float mean = temp / float(${o});\n        temp = 0.0;\n        for(int a2=0; a2<${a[2]}; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<${a[3]}; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += (x - mean) * (x - mean);\n          }\n        }\n        v.r = mean;\n        v.g = temp / float(${o});\n\n        return v;\n      }`;return Object.assign(Object.assign({},e),{output:{dims:s,type:t.type,textureType:r.TextureType.packedLastDimension},shaderSource:c})})(o,e)}),c={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[r.TextureType.unpacked,r.TextureType.packedLastDimension,r.TextureType.unpacked,r.TextureType.unpacked]},i=(e,t,a,o)=>{const s=Object.assign(Object.assign({},c),{cacheHint:`${a}`});return Object.assign(Object.assign({},s),{get:()=>((e,t,a,o,s)=>{const c=n.getGlsl(e.session.backend.glContext.version),[i,d]=e.calculateTextureWidthAndHeight(s,r.TextureType.packedLastDimension),[f,$]=[i/4,d],u=`\n      vec4 get_MeanAndVariance(int[2] mv) {\n        int offset = indicesToOffset_MeanAndVariance(mv);\n        vec2 coords = offsetToCoords(offset, ${f}, ${$});\n        return ${c.texture2D}(MeanAndVariance, coords);\n      }\n\n      float process(int[4] indices) {\n        int mv[2];\n        mv[0] = indices[0];\n        mv[1] = indices[1];\n        vec4 mean_and_variance = get_MeanAndVariance(mv);\n        float mean = mean_and_variance.r;\n        float variance = mean_and_variance.g;\n\n        int sb[1];\n        sb[0] = indices[1];\n        float scale = _Scale(sb);\n        float b = _B(sb);\n\n        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;\n      }`;return Object.assign(Object.assign({},t),{output:{dims:a.dims,type:a.type,textureType:r.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:o}],shaderSource:u})})(e,s,t,a,o)})},d=e=>{if(!e||3!==e.length)throw new Error("InstanceNormalization requires 3 inputs.");const t=e[0],a=e[1],n=e[2];if(t.dims.length<3||1!==a.dims.length||1!==n.dims.length)throw new Error("Invalid input shape.");if(a.dims[0]!==t.dims[1]||n.dims[0]!==t.dims[1])throw new Error("Input shapes are mismatched.");if("float32"!==t.type&&"float64"!==t.type||"float32"!==a.type&&"float64"!==a.type||"float32"!==n.type&&"float64"!==n.type)throw new Error("Invalid input type.");if(4!==e[0].dims.length)throw new Error("Only support 4-D input shape.")}},708:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedMatmulProgramInfoLoader=void 0;const n=a(2517),r=a(2517),o=a(5060),s=a(2039),c=a(9390),i=a(2823),d=a(5623);t.createPackedMatmulProgramInfoLoader=(e,t,a)=>{const f=($=t.length>2,u=a.activationCacheKey,{name:"MatMul (packed)",inputNames:$?["A","B","Bias"]:["A","B"],inputTypes:$?[s.TextureType.packed,s.TextureType.packed,s.TextureType.packed]:[s.TextureType.packed,s.TextureType.packed],cacheHint:u});var $,u;return Object.assign(Object.assign({},f),{get:()=>((e,t,a,f)=>{const $=a.length>2,u=$?"value += getBiasForMatmul();":"",p=a[0].dims,l=a[1].dims,b=n.BroadcastUtil.calcShape(p,l,!0),h=!r.ShapeUtil.areEqual(a[0].dims,a[1].dims);if(!b)throw new Error("Can't use matmul on the given tensors");const x=p[p.length-1],m=Math.ceil(x/2),g=p.length,v=l.length,y=o.getGlsl(e.session.backend.glContext.version),w=c.getCoordsDataType(b.length),_=b.length,I=c.getGlChannels(),{activationFunction:S,applyActivation:T}=i.getActicationSnippet(f),k=$?`${d.getBiasForMatmul(w,I,a[2].dims,b,!0)}`:"",E=h?`${function(e,t,a,r){let o=[],s=[];const c=a[0].dims,i=a[1].dims,d=c.length,f=i.length,$=r.length,u=$-d,p=$-f;o=c.map(((e,a)=>`coords.${t[a+u]}`)),o[d-1]="i*2",o.join(", "),s=i.map(((e,a)=>`coords.${t[a+p]}`)),s[f-2]="i*2",s.join(", ");const l=n.BroadcastUtil.getBroadcastDims(c,r),b=n.BroadcastUtil.getBroadcastDims(i,r),h=l.map((e=>`coords.${t[e+u]} = 0;`)).join("\n"),x=b.map((e=>`coords.${t[e+p]} = 0;`)).join("\n"),m=`int lastDim = coords.${t[$-1]};\n  coords.${t[$-1]} = coords.${t[$-2]};\n  coords.${t[$-2]} = lastDim;`;return`\nvec4 getAAtOutCoordsMatmul(int i) {\n  ${e} coords = getOutputCoords();\n  ${m}\n  ${h}\n  vec4 outputValue = getA(${o});\n  return outputValue;\n}\n\nvec4 getBAtOutCoordsMatmul(int i) {\n  ${e} coords = getOutputCoords();\n  ${m}\n  ${x}\n  vec4 outputValue = getB(${s});\n  return outputValue;\n}`}(w,I,a,b)}`:"",A=h?"getAAtOutCoordsMatmul(i)":`getA(${function(e,t){let a="";for(let n=0;n<t-2;n++)a+=`rc.${e[n]}, `;return a+=`rc.${e[t-2]}, i*2`,a}(I,g)})`,C=h?"getBAtOutCoordsMatmul(i)":`getB(${function(e,t){let a="";for(let n=0;n<t-2;n++)a+=`rc.${e[n]}, `;return a+=`i*2, rc.${e[t-1]}`,a}(I,v)})`,O=`\n            ${E}\n            ${k}\n            ${S}\n            void main() {\n              ${h?"":`${w} rc =\n          getOutputCoords(); int lastDim = rc.${I[_-1]}; rc.${I[_-1]} =\n          rc.${I[_-2]}; rc.${I[_-2]} = lastDim;\n      `}\n\n              vec4 value = vec4(0);\n              for (int i = 0; i < ${m}; i++) {\n                vec4 a = ${A};\n                vec4 b = ${C};\n\n                value += (a.rrbb * b.rgrg);\n                value += (a.ggaa * b.baba);\n              }\n              ${u}\n              ${T}\n              ${y.output} = value;\n            }`;return Object.assign(Object.assign({},t),{output:{dims:b,type:a[0].type,textureType:s.TextureType.packed},shaderSource:O,hasMain:!0})})(e,f,t,a)})}},5623:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getBiasForMatmul=t.createMatmulProgramInfoLoader=t.parseMatMulAttributes=t.matMul=void 0;const n=a(2517),r=a(2039),o=a(9390),s=a(2823),c=a(708);function i(e,t){const a=(c=e.length>2,i=t.activationCacheKey,{name:"MatMul",inputNames:c?["A","B","Bias"]:["A","B"],inputTypes:c?[r.TextureType.unpacked,r.TextureType.unpacked,r.TextureType.unpacked]:[r.TextureType.unpacked,r.TextureType.unpacked],cacheHint:i});var c,i;return Object.assign(Object.assign({},a),{get:()=>function(e,t,a){const c=t[0].dims,i=t[1].dims,d=n.BroadcastUtil.calcShape(c,i,!0);if(!d)throw new Error("Can't use matmul on the given tensors");const $=o.getCoordsDataType(d.length),u=o.getGlChannels(),{activationFunction:p,applyActivation:l}=s.getActicationSnippet(a),b=t.length>2,h=b?"value += getBiasForMatmul();":"",x=b?`${f($,u,t[2].dims,d,!1)}`:"",m=d.length,g=c.length,v=i.length,y=`\n    ${p}\n    ${x}\n    float process(int indices[${m}]) {\n        int a[${g}];\n        int b[${v}];\n        bcastMatmulIndices_A(indices, a);\n        bcastMatmulIndices_B(indices, b);\n\n        float value;\n        for (int k=0; k<${c[c.length-1]}; ++k) {\n            a[${g-1}] = k;\n            b[${v-2}] = k;\n            value += _A(a) * _B(b);\n        }\n        ${h}\n        ${l}\n        return value;\n    }`;return Object.assign(Object.assign({},e),{output:{dims:d,type:t[0].type,textureType:r.TextureType.unpacked},shaderSource:y})}(a,e,t)})}t.matMul=(e,t,a)=>(d(t),e.session.pack?[e.run(c.createPackedMatmulProgramInfoLoader(e,t,a),t)]:[e.run(i(t,a),t)]),t.parseMatMulAttributes=e=>s.parseInternalActivationAttributes(e.attributes),t.createMatmulProgramInfoLoader=i;const d=e=>{if(!e||2!==e.length)throw new Error("MatMul requires 2 inputs.");if(e[0].dims[e[0].dims.length-1]!==e[1].dims[e[1].dims.length-2])throw new Error("shared dimension does not match.");if("float32"!==e[0].type&&"float64"!==e[0].type||"float32"!==e[1].type&&"float64"!==e[1].type)throw new Error("inputs should be float type");if(e[0].type!==e[1].type)throw new Error("inputs types should match")};function f(e,t,a,r,o){let s="";const c=a.length,i=r.length,d=i-c;s=i<2&&c>0?"coords":a.map(((e,a)=>`coords.${t[a+d]}`)).join(", ");const f=n.BroadcastUtil.getBroadcastDims(a,r).map((e=>`coords.${t[e+d]} = 0;`)).join("\n");let $="vec4(outputValue.xx, outputValue.yy)";return 1===n.ShapeUtil.size(a)&&($="vec4(outputValue.x)"),o?`\nvec4 getBiasForMatmul() {\n  ${e} coords = getOutputCoords();\n  ${f}\n  vec4 outputValue = getBias(${s});\n  return ${$};\n}`:`\nfloat getBiasForMatmul() {\n  ${e} coords = getOutputCoords();\n  ${f}\n  return getBias(coords.x);\n}`}t.getBiasForMatmul=f},2403:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createPackProgramInfoLoader=void 0;const n=a(5060),r=a(2039),o=a(9390),s=a(2827),c={name:"pack",inputNames:["A"],inputTypes:[r.TextureType.unpackedReversed]};t.createPackProgramInfoLoader=(e,t)=>Object.assign(Object.assign({},c),{get:()=>((e,t)=>{const a=n.getGlsl(e.session.backend.glContext.version),i=t.dims,d=i.length,f=t.dims.length,$=o.getCoordsDataType(f),u=s.getChannels("rc",f),p=(l=f,b=u,h=i[i.length-2],x=i[i.length-1],0===l||1===l?"":`\n    int r = ${b[l-2]};\n    int c = ${b[l-1]};\n    int rp1 = ${b[l-2]} + 1;\n    int cp1 = ${b[l-1]} + 1;\n    bool rEdge = rp1 >= ${x};\n    bool cEdge = cp1 >= ${h};\n    `);var l,b,h,x;let m;m=0===d?[1,1]:1===d?[i[0],1]:[i[f-1],i[f-2]];const g=function(e,t,a){if(0===e)return"false";if(1===e)return`rc > ${t[0]}`;let n="";for(let r=e-2;r<e;r++)n+=`${a[r]} >= ${t[r-e+2]}`,r<e-1&&(n+="||");return n}(f,m,u),v=function(e,t){const a=e.length;if(0===a)return"getA(), 0, 0, 0";if(1===a)return`getA(rc),\n            rc + 1 >= ${e[0]} ? 0. : getA(rc + 1),\n            0, 0`;let n="";if(a>2)for(let e=0;e<a-2;++e)n+=`${t[e]},`;return`getA(${n}r, c),\n          rEdge ? 0. : getA(${n}rp1, c),\n          cEdge ? 0. : getA(${n}r, cp1),\n          rEdge || cEdge ? 0. : getA(${n}rp1, cp1)`}(i,u),y=`\n        void main() {\n          ${$} rc = getOutputCoords();\n\n          if(${g}) {\n            ${a.output} = vec4(0);\n          } else {\n            ${p}\n\n            ${a.output} = vec4(${v});\n          }\n        }\n      `;return Object.assign(Object.assign({},c),{hasMain:!0,output:{dims:t.dims,type:t.type,textureType:r.TextureType.packed},shaderSource:y})})(e,t)})},2827:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unpackFromChannel=t.getChannels=t.getVecChannels=void 0;const n=a(9390);function r(e,t){return n.getGlChannels(t).map((t=>`${e}.${t}`))}t.getVecChannels=r,t.getChannels=function(e,t){return 1===t?[e]:r(e,t)},t.unpackFromChannel=function(){return"\n    float getChannel(vec4 frag, int dim) {\n      int modCoord = imod(dim, 2);\n      return modCoord == 0 ? frag.r : frag.g;\n    }\n\n    float getChannel(vec4 frag, vec2 innerDims) {\n      vec2 modCoord = mod(innerDims, 2.);\n      return modCoord.x == 0. ?\n        (modCoord.y == 0. ? frag.r : frag.g) :\n        (modCoord.y == 0. ? frag.b : frag.a);\n    }\n  "}},2870:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parsePadAttributesV11=t.padV11=t.parsePadAttributesV2=t.padV2=void 0;const n=a(246),r=a(2517),o=a(5060),s=a(2039),c={name:"Pad",inputNames:["A"],inputTypes:[s.TextureType.unpacked]};t.padV2=(e,t,a)=>(f(t),[e.run(Object.assign(Object.assign({},c),{cacheHint:a.cacheKey,get:()=>d(e,t[0],a)}),t)]),t.parsePadAttributesV2=e=>{const t=e.attributes.getString("mode","constant"),a=e.attributes.getFloat("value",0),r=e.attributes.getInts("pads");return n.createAttributeWithCacheKey({mode:t,value:a,pads:r})},t.padV11=(e,a,n)=>{$(a);const r=i(e,a,n);return t.padV2(e,[a[0]],r)},t.parsePadAttributesV11=e=>e.attributes.getString("mode","constant");const i=(e,t,a)=>{if(!e.session.isInitializer(t[1].dataId)||t.length>=3&&!e.session.isInitializer(t[2].dataId))throw new Error("dynamic pad attributes are not allowed");const r=Array.from(t[1].integerData),o=t.length>=3?t[2].floatData[0]:0;return n.createAttributeWithCacheKey({mode:a,pads:r,value:o})},d=(e,t,a)=>{const n=r.ShapeUtil.padShape(t.dims.slice(),a.pads),o=n.length,c=`\n      ${u(e,t,a)}\n      float process(int[${o}] indices) {\n          return padA(indices);\n      }`;return{name:"Pad",inputNames:["A"],inputTypes:[s.TextureType.unpacked],output:{dims:n,type:t.type,textureType:s.TextureType.unpacked},shaderSource:c}},f=e=>{if(!e||1!==e.length)throw new Error("Pad requires 1 input");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")},$=e=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Pad requires 2 or 3 inputs");if("int32"!==e[1].type)throw new Error("Invalid input type.");if(e.length>=3&&"string"===e[2].type)throw new Error("Invalid input type.")},u=(e,t,a)=>{const n=o.getGlsl(e.session.backend.glContext.version),[c,i]=e.calculateTextureWidthAndHeight(t.dims,s.TextureType.unpacked),d=r.ShapeUtil.computeStrides(t.dims);switch(a.mode){case"constant":return p(n,t.dims,d,c,i,a.pads,a.value);case"reflect":return l(n,t.dims,d,c,i,a.pads);case"edge":return b(n,t.dims,d,c,i,a.pads);default:throw new Error("Invalid mode")}},p=(e,t,a,n,r,o,s)=>{const c=t.length;let i="";for(let e=c-1;e>=0;--e)i+=`\n        k = m[${e}] - ${o[e]};\n        if (k < 0)  return constant;\n        if (k >= ${t[e]}) return constant;\n        offset += k * ${a[e]};\n        `;return`\n      float padA(int m[${c}]) {\n        const float constant = float(${s});\n        int offset = 0;\n        int k = 0;\n        ${i}\n        vec2 coords = offsetToCoords(offset, ${n}, ${r});\n        float value = getColorAsFloat(${e.texture2D}(A, coords));\n        return value;\n      }\n      `},l=(e,t,a,n,r,o)=>{const s=t.length;let c="";for(let e=s-1;e>=0;--e)c+=`\n        k = m[${e}] - ${o[e]};\n        if (k < 0) { k = -k; }\n        {\n          const int _2n_1 = ${2*(t[e]-1)};\n          k = int( mod( float(k), float(_2n_1) ) ) ;\n          if(k >= ${t[e]}) { k = _2n_1 - k; }\n        }\n        offset += k * ${a[e]};\n        `;return`\n      float padA(int m[${s}]) {\n        int offset = 0;\n        int k = 0;\n        ${c}\n        vec2 coords = offsetToCoords(offset, ${n}, ${r});\n        float value = getColorAsFloat(${e.texture2D}(A, coords));\n        return value;\n      }\n      `},b=(e,t,a,n,r,o)=>{const s=t.length;let c="";for(let e=s-1;e>=0;--e)c+=`\n        k = m[${e}] - ${o[e]};\n        if (k < 0)  k = 0;\n        if (k >= ${t[e]}) k = ${t[e]-1};\n        offset += k * ${a[e]};\n      `;return`\n      float padA(int m[${s}]) {\n        int offset = 0;\n        int k = 0;\n        ${c}\n        vec2 coords = offsetToCoords(offset, ${n}, ${r});\n        float value = getColorAsFloat(${e.texture2D}(A, coords));\n        return value;\n      }\n      `}},2143:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.globalMaxPool=t.parseMaxPoolAttributes=t.maxPool=t.parseGlobalAveragePoolAttributes=t.globalAveragePool=t.parseAveragePoolAttributes=t.averagePool=void 0;const n=a(246),r=a(2517),o=a(2039);t.averagePool=(e,t,a)=>{$(t);const n={name:"AveragePool",inputNames:["X"],inputTypes:[o.TextureType.unpacked],cacheHint:a.cacheKey};return[e.run(Object.assign(Object.assign({},n),{get:()=>s(t,n,!1,a)}),t)]},t.parseAveragePoolAttributes=e=>{const t=e.attributes.getString("auto_pad","NOTSET"),a=e.attributes.getInt("ceil_mode",0),r=0!==e.attributes.getInt("count_include_pad",0),o=e.attributes.getInts("kernel_shape"),s=e.attributes.getInts("strides",[]),c=e.attributes.getInts("pads",[]);if(0!==a)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return n.createAttributeWithCacheKey({autoPad:t,ceilMode:a,countIncludePad:r,kernelShape:o,strides:s,pads:c})};const s=(e,t,a,n)=>{const[s,c]=i(e,n,a),d=r.ShapeUtil.size(s.kernelShape);let f="";s.countIncludePad?f+=`value /= float(${d});`:f+=`value /= float(${d} - pad);`;const $=`\n        ${u(e[0].dims,s,"value += _X(x);",f,"0.0")}\n      `;return Object.assign(Object.assign({},t),{output:{dims:c,type:e[0].type,textureType:o.TextureType.unpacked},shaderSource:$})};t.globalAveragePool=(e,t,a)=>{$(t);const n={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[o.TextureType.unpacked],cacheHint:`${a.countIncludePad}`};return[e.run(Object.assign(Object.assign({},n),{get:()=>s(t,n,!0,a)}),t)]},t.parseGlobalAveragePoolAttributes=e=>{const t=0!==e.attributes.getInt("count_include_pad",0);return n.createAttributeWithCacheKey({autoPad:"",ceilMode:0,countIncludePad:t,kernelShape:[],strides:[],pads:[]})},t.maxPool=(e,t,a)=>{$(t);const n={name:"MaxPool",inputNames:["X"],inputTypes:[o.TextureType.unpacked],cacheHint:a.cacheKey};return[e.run(Object.assign(Object.assign({},n),{get:()=>c(t,n,!1,a)}),t)]},t.parseMaxPoolAttributes=e=>{const t=e.attributes.getString("auto_pad","NOTSET"),a=e.attributes.getInt("ceil_mode",0),r=e.attributes.getInts("kernel_shape"),o=e.attributes.getInts("strides",[]),s=e.attributes.getInts("pads",[]),c=e.attributes.getInt("storage_order",0),i=e.attributes.getInts("dilations",[]);if(0!==c)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==a)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return n.createAttributeWithCacheKey({autoPad:t,ceilMode:a,countIncludePad:!1,kernelShape:r,strides:o,pads:s,storageOrder:c,dilations:i})};const c=(e,t,a,n)=>{const[r,s]=i(e,n,a),c=`\n      ${u(e[0].dims,r,"\n      value = max(_X(x), value);\n    ","","-1e5")}\n    `;return Object.assign(Object.assign({},t),{output:{dims:s,type:e[0].type,textureType:o.TextureType.unpacked},shaderSource:c})},i=(e,t,a)=>{const n=e[0].dims.slice(),o=Object.hasOwnProperty.call(t,"dilations"),s=t.kernelShape.slice(),c=t.strides.slice(),i=o?t.dilations.slice():[],d=t.pads.slice();r.PoolConvUtil.adjustPoolAttributes(a,n,s,c,i,d);const f=r.PoolConvUtil.computePoolOutputShape(a,n,c,i,s,d,t.autoPad),$=Object.assign({},t);return o?Object.assign($,{kernelShape:s,strides:c,pads:d,dilations:i,cacheKey:t.cacheKey}):Object.assign($,{kernelShape:s,strides:c,pads:d,cacheKey:t.cacheKey}),[$,f]},d={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},f={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[o.TextureType.unpacked]};t.globalMaxPool=(e,t)=>($(t),[e.run(Object.assign(Object.assign({},f),{get:()=>c(t,f,!0,d)}),t)]);const $=e=>{if(!e||1!==e.length)throw new Error("Pool ops requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")},u=(e,t,a,n,o)=>{const s=e.length;if(t.kernelShape.length<=2){const r=t.kernelShape[t.kernelShape.length-1],c=t.strides[t.strides.length-1],i=t.pads[t.pads.length/2-1],d=t.pads[t.pads.length-1],f=e[s-1];let $="",u="",p="";if($=i+d!==0?`\n          for (int i = 0; i < ${r}; i++) {\n            x[${s} - 1] = indices[${s} - 1] * ${c} - ${i} + i;\n            if (x[${s} - 1] < 0 || x[${s} - 1] >= ${f}) {\n              pad++;\n              continue;\n            }\n            ${a}\n          }`:`\n          for (int i = 0; i < ${r}; i++) {\n            x[${s} - 1] = indices[${s} - 1] * ${c} - ${i} + i;\n            ${a}\n          }`,2===t.kernelShape.length){const a=t.kernelShape[t.kernelShape.length-2],n=t.strides[t.strides.length-2],o=t.pads[t.pads.length/2-2],c=t.pads[t.pads.length-2],i=e[s-2];u=o+c!==0?`\n            for (int j = 0; j < ${a}; j++) {\n              x[${s} - 2] = indices[${s} - 2] * ${n} - ${o} + j;\n              if (x[${s} - 2] < 0 || x[${s} - 2] >= ${i}) {\n                pad+= ${r};\n                continue;\n              }\n          `:`\n            for (int j = 0; j < ${a}; j++) {\n              x[${s} - 2] = indices[${s} - 2] * ${n} - ${o} + j;\n            `,p="\n          }\n        "}return`\n        float process(int indices[${s}]) {\n          int x[${s}];\n          copyVec(indices, x);\n\n          float value = ${o};\n          int pad = 0;\n          ${u}\n          ${$}\n          ${p}\n          ${n}\n          return value;\n        }\n      `}{const c=r.ShapeUtil.size(t.kernelShape),i=r.ShapeUtil.computeStrides(t.kernelShape),d=i.length,f=t.pads.length,$=l(d),u=p(e,"inputDims"),b=p(t.pads,"pads"),h=p(i,"kernelStrides"),x=p(t.strides,"strides");let m="";return m=t.pads.reduce(((e,t)=>e+t))?`\n            if (x[j] >= inputDims[j] || x[j] < 0) {\n              pad++;\n              isPad = true;\n              break;\n            }\n          }\n          if (!isPad) {\n            ${a}\n          }`:`\n          }\n          ${a}\n        `,`\n        ${$}\n        float process(int indices[${s}]) {\n          int x[${s}];\n          copyVec(indices, x);\n          int offset[${d}];\n          int pads[${f}];\n          int inputDims[${s}];\n          int kernelStrides[${d}];\n          int strides[${d}];\n          ${b}\n          ${u}\n          ${x}\n          ${h}\n\n          float value = ${o};\n          int pad = 0;\n          bool isPad = false;\n          for (int i = 0; i < ${c}; i++) {\n            offsetToIndices(i, kernelStrides, offset);\n            isPad = false;\n            for (int j = ${s} - ${d}; j < ${s}; j++) {\n              x[j] = indices[j] * strides[j - ${s} + ${d}]\n                + offset[j - ${s} + ${d}] - pads[j - 2];\n              ${m}\n          }\n          ${n}\n\n          return value;\n        }\n      `}},p=(e,t)=>{let a="";for(let n=0;n<e.length;n++)a+=`\n      ${t}[${n}] = ${e[n]};\n    `;return a},l=e=>`\n  void offsetToIndices(int offset, int[${e}] strides, out int[${e}] indices) {\n    if (${e} == 0) {\n      return;\n    }\n    for (int i = 0; i < ${e} - 1; ++i) {\n      indices[i] = offset / strides[i];\n      offset -= indices[i] * strides[i];\n    }\n    indices[${e} - 1] = offset;\n  }`},4939:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reduceLogSumSquare=t.reduceLogSum=t.reduceProd=t.reduceMin=t.reduceMax=t.reduceMean=t.reduceSum=t.parseReduceAttributes=void 0;const n=a(246),r=a(782),o=a(2517),s=a(2039),c=(e,t,a,n,r)=>{d(t);const o={name:n,inputNames:["A"],inputTypes:[s.TextureType.unpacked]};return[e.run(Object.assign(Object.assign({},o),{cacheHint:a.cacheKey,get:()=>i(e,t,a,n,r,o)}),t)]};t.parseReduceAttributes=e=>{const t=e.attributes.getInts("axes",[]),a=1===e.attributes.getInt("keepdims",1);return n.createAttributeWithCacheKey({axes:t,keepDims:a})};const i=(e,t,a,n,r,c)=>{const i=[],d=t[0].dims.length||1,f=[],$=o.ShapeUtil.normalizeAxes(a.axes,t[0].dims.length),u=r(t,$);let p=u[1];for(let e=0;e<t[0].dims.length;e++)$.indexOf(e)>=0||0===$.length?(a.keepDims&&i.push(1),p=`\n          for(int j${e} = 0; j${e} < ${t[0].dims[e]}; j${e}++) {\n            inputIdx[${e}] = j${e};\n            ${p}\n          }`):(f.push(`inputIdx[${e}] = outputIdx[${i.length}];`),i.push(t[0].dims[e]));const l=`\n      float process(int outputIdx[${i.length||1}]) {\n        float value;                 // final result\n        int inputIdx[${d}];      // addressing input data\n        ${f.join("\n")}\n        ${u[0]}       // init ops for reduce max/min\n        ${p}\n        ${u[2]}       // final computation for reduce mean\n        return value;\n      }`;return Object.assign(Object.assign({},c),{output:{dims:i,type:t[0].type,textureType:s.TextureType.unpacked},shaderSource:l})},d=e=>{if(!e||1!==e.length)throw new Error("Reduce op requires 1 input.");if(-1===r.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.")};t.reduceSum=(e,t,a)=>c(e,t,a,"ReduceSum",(()=>["value = 0.0;","value += _A(inputIdx);",""])),t.reduceMean=(e,t,a)=>c(e,t,a,"ReduceMean",((e,t)=>{let a=1;for(let n=0;n<e[0].dims.length;n++)(t.indexOf(n)>=0||0===t.length)&&(a*=e[0].dims[n]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${a}.;`]})),t.reduceMax=(e,t,a)=>c(e,t,a,"ReduceMax",((e,t)=>{const a=[];for(let n=0;n<e[0].dims.length;n++)(t.indexOf(n)>=0||0===t.length)&&a.push(`inputIdx[${n}] = 0;`);return[`${a.join("\n")}\nvalue = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]})),t.reduceMin=(e,t,a)=>c(e,t,a,"ReduceMin",((e,t)=>{const a=[];for(let n=0;n<e[0].dims.length;n++)(t.indexOf(n)>=0||0===t.length)&&a.push(`inputIdx[${n}] = 0;`);return[`${a.join("\n")}\nvalue = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]})),t.reduceProd=(e,t,a)=>c(e,t,a,"ReduceProd",(()=>["value = 1.0;","value *= _A(inputIdx);",""])),t.reduceLogSum=(e,t,a)=>c(e,t,a,"ReduceLogSum",(()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"])),t.reduceLogSumSquare=(e,t,a)=>c(e,t,a,"ReduceLogSumSquare",(()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""]))},7019:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isReshapeCheap=t.processDims3D=t.createPackedReshape3DProgramInfoLoader=void 0;const n=a(2517),r=a(5060),o=a(2039),s=a(2827);t.createPackedReshape3DProgramInfoLoader=(e,t,a)=>{const c=(i=a,{name:"Reshape (packed)",inputTypes:[o.TextureType.packed],inputNames:["A"],cacheHint:`${i}`});var i;return Object.assign(Object.assign({},c),{get:()=>((e,t,a,c)=>{const i=t.dims,d=c;let f="";for(let e=0;e<4;e++){let t="";switch(e){case 0:t="outputCoords = rc;";break;case 1:t="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:t="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:t="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}f+=`\n        ${t}\n        ${e>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}\n          int flattenedIndex = getFlattenedIndex(outputCoords);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);\n          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${e}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);\n\n        ${e>0?"}":""}\n      `}const $=r.getGlsl(e.session.backend.glContext.version),u=`\n      ${function(e){const t=n.ShapeUtil.computeStrides(e),a=["b","r","c"];return`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${t.map(((e,n)=>`int ${a[n]} = index / ${e}; ${n===t.length-1?`int ${a[n+1]} = index - ${a[n]} * ${e}`:`index -= ${a[n]} * ${e}`};`)).join("")}\n      return ivec3(b, r, c);\n    }\n  `}(i)}\n      ${function(e){const t=n.ShapeUtil.computeStrides(e);return`\n  int getFlattenedIndex(ivec3 coords) {\n    // reverse y, z order\n    return coords.x * ${t[0]} + coords.z * ${t[1]} + coords.y;\n  }\n`}(d)}\n      ${s.unpackFromChannel()}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.0);\n\n        ivec3 outputCoords;\n        int rows = ${d[2]};\n        int cols = ${d[1]};\n\n        ${f}\n        ${$.output} = result;\n      }\n    `;return Object.assign(Object.assign({},a),{output:{dims:d,type:t.type,textureType:o.TextureType.packed},shaderSource:u,hasMain:!0})})(e,t,c,a)})},t.processDims3D=function(e){if(0===e.length)return[1,1,1];let t=1;for(let a=0;a<e.length-2;++a)t*=e[a];return[t,e.length>1?e[e.length-2]:1,e[e.length-1]]},t.isReshapeCheap=function(e,t){let a=!1;return a=0===e.length||0===t.length||(e.length<2||t.length<2?e[e.length-1]===t[t.length-1]:e[e.length-1]===t[t.length-1]&&e[e.length-2]===t[t.length-2]),a}},718:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reshape=void 0;const n=a(2517);t.reshape=(e,t)=>{const a=n.ShapeUtil.calculateReshapedDims(t[0].dims,t[1].integerData);return e.session.pack?[e.reshapePacked(t[0],a)]:[e.reshapeUnpacked(t[0],a)]}},2268:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseResizeAttributesV11=t.parseResizeAttributesV10=t.resize=void 0;const n=a(5060),r=a(2039),o=a(9390),s=a(2827),c=a(9793),i={name:"Resize",inputNames:["A"],inputTypes:[r.TextureType.packed]};t.resize=(e,t,a)=>(c.validateInputs(t,a),[e.run(Object.assign(Object.assign({},i),{cacheHint:a.cacheKey,get:()=>d(e,t,a)}),t)]),t.parseResizeAttributesV10=e=>c.parseUpsampleAttributes(e,10),t.parseResizeAttributesV11=e=>c.parseUpsampleAttributes(e,11);const d=(e,t,a)=>{const c=n.getGlsl(e.session.backend.glContext.version),[d,$]=f(t,a);if(d.every((e=>1===e))&&"tf_crop_and_resize"!==a.coordinateTransformMode)return Object.assign(Object.assign({},i),{output:{dims:$,type:t[0].type,textureType:r.TextureType.packed},hasMain:!0,shaderSource:`void main() {\n                    vec4 v = ${c.texture2D}(X, TexCoords);\n                    ${c.output} = v;\n                }`});const u=$.length;if(u<2)throw new Error(`output dimension should be at least 2, but got ${u}`);const p=$[u-2],l=$[u-1],b=t[0].dims;if(u!==b.length)throw new Error(`output dimension should match input ${b.length}, but got ${u}`);const h=b[u-2],x=b[u-1],m=d[u-2],g=d[u-1];let v="";if("linear"!==a.mode)throw new Error(`resize (packed) does not support mode: '${a.mode}'`);switch(a.coordinateTransformMode){case"asymmetric":v="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return vec4(coords) / scaleWHWH;\n                    }\n                ";break;case"half_pixel":v="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;\n                    }\n                ";break;case"align_corners":v=`\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 resized = vec4(${l}.0 - 1.0, ${p}.0 - 1.0, ${l}.0 - 1.0,\n                            ${p}.0 - 1.0);\n                        vec4 original = vec4(${x}.0 - 1.0, ${h}.0 - 1.0, ${x}.0 - 1.0,\n                            ${h}.0 - 1.0);\n                        vec4 new_scale = original / resized;\n                        return vec4(coords) * new_scale;\n                    }\n                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${a.coordinateTransformMode}'`)}const y=o.getCoordsDataType(u),w=`\n            const vec2 inputWH = vec2(${h}.0, ${x}.0);\n            const vec4 scaleWHWH = vec4(${m}.0, ${g}.0, ${m}.0, ${g}.0);\n            ${s.unpackFromChannel()}\n            ${v}\n            float getAValue(int x10, int r, int c, int d) {\n                return getChannel(getA(x10, r, c, d), vec2(c, d));\n            }\n            void main() {\n                ${y} rc = getOutputCoords();\n\n                int batch = rc[0];\n                int depth = rc[1];\n\n                // retrieve the 4 coordinates that is used in the 4 packed output values.\n                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);\n\n                // calculate the source index in fraction\n                vec4 sourceFrac = getSourceFracIndex(coords);\n\n                // get the lower and upper bound of the 4 values that will be packed into one texel.\n                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));\n                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));\n                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));\n                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));\n\n                bool hasNextRow = rc.w < ${p-1};\n                bool hasNextCol = rc.z < ${l-1};\n\n                // pack x00, x01, x10, x11's top-left corner into one vec4 structure\n                vec4 topLeft = vec4(\n                    getAValue(batch, depth, x00.x, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's top-right corner into one vec4 structure\n                vec4 topRight = vec4(\n                    getAValue(batch, depth, x00.x, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure\n                vec4 bottomLeft = vec4(\n                    getAValue(batch, depth, x00.z, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure\n                vec4 bottomRight = vec4(\n                    getAValue(batch, depth, x00.z, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);\n\n                // calculate the interpolation fraction on u and v direction\n                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);\n                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));\n\n                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);\n                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);\n                vec4 newValue = mix(top, bottom, clampFrac.xxzz);\n\n                ${c.output} = vec4(newValue);\n            }\n        `;return Object.assign(Object.assign({},i),{output:{dims:$,type:t[0].type,textureType:r.TextureType.packed},hasMain:!0,shaderSource:w})},f=(e,t)=>{const a=e[0].dims;let n,r=t.scales;if(0===r.length){const o=e[t.scalesInputIdx];if(o&&0!==o.size){if(e[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");r=$(o,t.mode,t.isResize)}else{const o=e[t.sizesInputIdx];if(!o||0===o.size)throw new Error("Either scales or sizes MUST be provided as input.");n=Array.from(o.integerData),r=u(n,a,t.mode,t.isResize)}}else if(e[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const o=n||a.map(((e,t)=>Math.floor(e*r[t])));return[r,o]},$=(e,t,a)=>{const n=Array.from(e.floatData);return c.scalesValidation(n,t,a),n},u=(e,t,a,n)=>{const r=t.length,o=new Array(r);for(let a=0,n=r;a<n;a++)if(0===t[a]){if(0!==e[a])throw new Error("Input dim is zero but required output dim is non-zero.");o[a]=1}else o[a]=e[a]/t[a];return c.scalesValidation(o,a,n),o}},8117:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shape=void 0;const n=a(9162);t.shape=(e,t)=>(r(t),[new n.Tensor([t[0].dims.length],"int32",void 0,void 0,new Int32Array(t[0].dims))]);const r=e=>{if(!e||1!==e.length)throw new Error("Shape requires 1 input.")}},2278:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sliceV10=t.parseSliceAttributes=t.slice=void 0;const n=a(246),r=a(782),o=a(2517),s=a(2039),c={name:"Slice",inputNames:["A"],inputTypes:[s.TextureType.unpacked]};t.slice=(e,t,a)=>(d(t),[e.run(Object.assign(Object.assign({},c),{cacheHint:a.cacheKey,get:()=>i(e,t[0],a)}),t)]),t.parseSliceAttributes=e=>{const t=e.attributes.getInts("starts"),a=e.attributes.getInts("ends"),r=e.attributes.getInts("axes",[]);return n.createAttributeWithCacheKey({starts:t,ends:a,axes:r})};const i=(e,t,a)=>{const n=0===a.axes.length?t.dims.slice(0).map(((e,t)=>t)):a.axes,r=o.ShapeUtil.normalizeAxes(n,t.dims.length),i=a.starts.map(((e,a)=>e>t.dims[r[a]]-1?t.dims[r[a]]:o.ShapeUtil.normalizeAxis(e,t.dims[r[a]]))),d=a.ends.map(((e,a)=>e>t.dims[r[a]]-1?t.dims[r[a]]:o.ShapeUtil.normalizeAxis(e,t.dims[r[a]]))),f=t.dims.slice(),$=[];for(let e=0;e<r.length;e++)f[r[e]]=d[e]-i[e],i[e]>0&&$.push(`outputIdx[${r[e]}] += ${i[e]};`);const u=`\n      float process(int outputIdx[${f.length}]) {\n        ${$.join("\n      ")}\n        return _A(outputIdx);\n      }`;return Object.assign(Object.assign({},c),{output:{dims:f,type:t.type,textureType:s.TextureType.unpacked},shaderSource:u})},d=e=>{if(!e||1!==e.length)throw new Error("Slice requires 1 input.");if(-1===r.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.")};t.sliceV10=(e,t)=>{$(t);const a=f(e,t);return[e.run(Object.assign(Object.assign({},c),{cacheHint:a.cacheKey,get:()=>i(e,t[0],a)}),[t[0]])]};const f=(e,t)=>{if(!e.session.isInitializer(t[1].dataId)||!e.session.isInitializer(t[2].dataId)||t.length>=4&&!e.session.isInitializer(t[3].dataId)||t.length>=5&&!e.session.isInitializer(t[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(t.length>=5&&t[4].integerData.some((e=>1!==e)))throw new Error("currently non-1 steps is not supported for Slice");const a=Array.from(t[1].integerData),n=Array.from(t[2].integerData),r=t.length>=4?Array.from(t[3].integerData):[];return{starts:a,ends:n,axes:r,cacheKey:`${r};${a};${n}`}},$=e=>{if(!e||e.length<3||e.length>5)throw new Error("Invalid input number.");if("int32"!==e[1].type||1!==e[1].dims.length)throw new Error("Invalid input type.");if("int32"!==e[2].type||1!==e[2].dims.length)throw new Error("Invalid input type.");if(e.length>=4&&("int32"!==e[3].type||1!==e[3].dims.length))throw new Error("Invalid input type.");if(e.length>=5&&("int32"!==e[4].type||1!==e[4].dims.length))throw new Error("Invalid input type.")}},5524:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.softmaxV13=t.parseSoftmaxAttributesV13=t.parseSoftmaxAttributes=t.softmax=void 0;const n=a(246),r=a(2517),o=a(5060),s=a(2039),c=a(3738),i={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[s.TextureType.unpacked]},d={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[s.TextureType.unpacked,s.TextureType.unpacked]},f={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[s.TextureType.unpacked,s.TextureType.unpacked,s.TextureType.unpacked]};t.softmax=(e,t,a)=>{b(t);const n=t[0].dims.slice(),o=r.ShapeUtil.normalizeAxis(a.axis,n.length),s=r.ShapeUtil.sizeToDimension(n,o),c=r.ShapeUtil.sizeFromDimension(n,o);return $(e,t,a,s,c)},t.parseSoftmaxAttributes=e=>n.createAttributeWithCacheKey({axis:e.attributes.getInt("axis",1)}),t.parseSoftmaxAttributesV13=e=>n.createAttributeWithCacheKey({axis:e.attributes.getInt("axis",-1)}),t.softmaxV13=(e,t,a)=>{b(t);const o=t[0].dims.slice(),s=r.ShapeUtil.normalizeAxis(a.axis,o.length),i=o.length,d=s!==i-1,f=[];let u,p=[],l=[];d&&(p=Array.from({length:i}).map(((e,t)=>t)),p[s]=i-1,p[i-1]=s,p.map((e=>f.push(o[e]))),u=n.createAttributeWithCacheKey({perm:p}),l=c.transpose(e,t,u));const h=d?r.ShapeUtil.sizeToDimension(f,i-1):r.ShapeUtil.sizeToDimension(o,i-1),x=d?r.ShapeUtil.sizeFromDimension(f,i-1):r.ShapeUtil.sizeFromDimension(o,i-1),m=$(e,d?l:t,a,h,x);return d?c.transpose(e,m,u):m};const $=(e,t,a,n,r)=>{const o=u(e,t[0],n,r,[n]),s=e.run(Object.assign(Object.assign({},i),{cacheHint:a.cacheKey,get:()=>o}),t),c=p(e,t[0],n,r,o.output.dims,[n]),$=e.run(Object.assign(Object.assign({},d),{cacheHint:a.cacheKey,get:()=>c}),[t[0],s]),b=l(e,t[0],n,r,o.output.dims,c.output.dims);return[e.run(Object.assign(Object.assign({},f),{cacheHint:a.cacheKey,get:()=>b}),[t[0],s,$])]},u=(e,t,a,n,r)=>{const[c,d]=e.calculateTextureWidthAndHeight(t.dims,s.TextureType.unpacked),f=r.length;if(a<1||n<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==r.length)throw new Error("Dimensionality of the output should be 1");if(r[0]!==a)throw new Error("Shape of the output should be equal to logical row count");const $=o.getGlsl(e.session.backend.glContext.version),u=`\n      float process(int[${f}] indices) {\n        int logical_row_start_offset = indices[0] * ${n};\n\n        float max = getColorAsFloat(${$.texture2D}(A, offsetToCoords(logical_row_start_offset, ${c},\n        ${d} )));\n        for(int i=1; i<${n}; ++i)\n        {\n          float current = getColorAsFloat(${$.texture2D}(A, offsetToCoords(logical_row_start_offset + i,\n            ${c}, ${d})));\n          if(current > max)\n          max = current;\n        }\n\n        return max;\n      }`;return Object.assign(Object.assign({},i),{output:{dims:r,type:t.type,textureType:s.TextureType.unpacked},shaderSource:u})},p=(e,t,a,n,r,c)=>{const[i,f]=e.calculateTextureWidthAndHeight(t.dims,s.TextureType.unpacked),$=c.length;if(a<1||n<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==c.length)throw new Error("Dimensionality of the output should be 1");if(c[0]!==a)throw new Error("Shape of the output should be equal to logical row count");if(1!==r.length)throw new Error("Dimensionality of the intermediate results should be 1");if(r[0]!==a)throw new Error("Shape of the intermediate results should be equal to logical row count");const u=`\n      float process(int[${$}] indices) {\n        int logical_row_start_offset = indices[0] * ${n};\n\n        float norm_factor = 0.0;\n        float max = _Max(indices);\n        for(int i=0; i<${n}; ++i)\n        {\n          norm_factor += exp(getColorAsFloat(${o.getGlsl(e.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,\n            ${i}, ${f}))) - max);\n        }\n\n        return norm_factor;\n      }`;return Object.assign(Object.assign({},d),{output:{dims:c,type:t.type,textureType:s.TextureType.unpacked},shaderSource:u})},l=(e,t,a,n,r,o)=>{const[c,i]=e.calculateTextureWidthAndHeight(t.dims,s.TextureType.unpacked),d=t.dims.length;if(a<1||n<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==r.length||1!==o.length)throw new Error("Dimensionality of the intermediate results should be 1");if(r[0]!==a||o[0]!==a)throw new Error("Shape of the intermediate results should be equal to logical row count");const $=`\n      float process(int[${d}] indices) {\n\n      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)\n      int offset = coordsToOffset(TexCoords, ${c}, ${i});\n\n      //determine the logical row for this index\n      int logical_row_index[1];\n      logical_row_index[0] = offset / ${n};\n\n      float norm_factor = _Norm(logical_row_index);\n\n      // avoid possible division by 0\n      // if norm_facor is 0, all elements are zero\n      // if so, return 0\n      if(norm_factor == 0.0)\n        return 0.0;\n\n      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;\n    }`;return Object.assign(Object.assign({},f),{output:{dims:t.dims,type:t.type,textureType:s.TextureType.unpacked},shaderSource:$})},b=e=>{if(!e||1!==e.length)throw new Error("Softmax requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type")}},5975:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseSplitAttributes=t.split=void 0;const n=a(246),r=a(2517),o=a(2039),s={name:"Split",inputNames:["A"],inputTypes:[o.TextureType.unpacked]};t.split=(e,t,a)=>{d(t);const n=r.ShapeUtil.normalizeAxis(a.axis,t[0].dims.length),o=c(e,t,n,a),f=[];for(let r=0;r<o;++r)f.push(e.run(Object.assign(Object.assign({},s),{cacheHint:`${a.cacheKey};${r}`,get:()=>i(e,t[0],a,n,r)}),t));return f},t.parseSplitAttributes=e=>{const t=e.attributes.getInt("axis",0),a=e.attributes.getInts("split",[]),r=e.outputs.length;return n.createAttributeWithCacheKey({axis:t,split:a,numOutputs:r})};const c=(e,t,a,n)=>{const[,o]=r.SplitUtil.splitShape(t[0].dims,a,n.split,n.numOutputs);return o.length},i=(e,t,a,n,c)=>{const[i,d]=r.SplitUtil.splitShape(t.dims,n,a.split,a.numOutputs),f=d[c],$=i[c],u=`\n      float process(int indices[${$.length}]) {\n        indices[${n}] += ${f};\n        return _A(indices);\n      }\n    `;return Object.assign(Object.assign({},s),{cacheHint:`${a.cacheKey}:${c}`,output:{dims:$,type:t.type,textureType:o.TextureType.unpacked},shaderSource:u})},d=e=>{if(!e||1!==e.length)throw new Error("Split requires one input.");if("int8"!==e[0].type&&"uint8"!==e[0].type&&"int16"!==e[0].type&&"uint16"!==e[0].type&&"int32"!==e[0].type&&"uint32"!==e[0].type&&"float32"!==e[0].type&&"float64"!==e[0].type&&"bool"!==e[0].type)throw new Error("Invalid input type.")}},3933:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseSqueezeAttributes=t.squeezeV13=t.squeeze=void 0;const n=a(2517);t.squeeze=(e,t,a)=>{r(t);const o=n.ShapeUtil.squeezeShape(t[0].dims,a);return[e.reshapeUnpacked(t[0],o)]},t.squeezeV13=(e,a)=>(o(a),t.squeeze(e,[a[0]],Array.from(a[1].integerData))),t.parseSqueezeAttributes=e=>e.attributes.getInts("axes");const r=e=>{if(!e||1!==e.length)throw new Error("Squeeze requires 1 input.");if("string"===e[0].type)throw new Error("invalid input tensor types.")},o=e=>{if(!e||2!==e.length)throw new Error("Squeeze requires 2 inputs.");if("int32"!==e[1].type)throw new Error("Invalid input type.")}},6558:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sum=void 0;const n=a(5060),r=a(2039);t.sum=(e,t)=>{s(t);const a={name:"Sum",inputNames:t.map(((e,t)=>`X${t}`)),inputTypes:new Array(t.length).fill(r.TextureType.unpacked)};return[e.run(Object.assign(Object.assign({},a),{get:()=>o(e,t,a)}),t)]};const o=(e,t,a)=>{const o=n.getGlsl(e.session.backend.glContext.version),s=t[0].dims.slice(),c=`\n      void main() {\n        vec4 result = ${t.map(((e,t)=>`${o.texture2D}(X${t},TexCoords)`)).join(" + ")};\n        ${o.output} = result;\n      }\n    `;return Object.assign(Object.assign({},a),{output:{dims:s,type:t[0].type,textureType:r.TextureType.unpacked},hasMain:!0,shaderSource:c})},s=e=>{if(!e||0===e.length)throw new Error("Sum requires inputs.");const t=e[0].dims.length;for(let a=1;a<e.length;a++){if(t!==e[a].dims.length)throw new Error("Input shapes are mismatched.");for(let n=0;n<t;n++)if(e[0].dims[n]!==e[a].dims[n])throw new Error("Input shapes are not matched.")}if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.");for(let t=1;t<e.length;t++)if(e[0].type!==e[t].type)throw new Error("Input types are not matched.")}},5723:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tile=void 0;const n=a(782),r=a(2039);t.tile=(e,t)=>{s(t);const a={name:"Tile",inputNames:["A"],inputTypes:[r.TextureType.unpacked]};return[e.run(Object.assign(Object.assign({},a),{get:()=>o(e,t,a)}),t)]};const o=(e,t,a)=>{const n=t[0].dims.slice(),o=new Array(n.length),s=[];for(let e=0;e<n.length;e++)o[e]=n[e]*t[1].numberData[e],s.push(`inputIdx[${e}] = int(mod(float(outputIdx[${e}]), ${n[e]}.));`);const c=o.length,i=`\n      float process(int outputIdx[${c}]) {\n        int inputIdx[${c}];\n        ${s.join("\n")}\n        return _A(inputIdx);\n      }\n    `;return Object.assign(Object.assign({},a),{output:{dims:o,type:t[0].type,textureType:r.TextureType.unpacked},shaderSource:i})},s=e=>{if(!e||2!==e.length)throw new Error("Tile requires 2 input.");if(1!==e[1].dims.length)throw new Error("The second input shape must 1 dimension.");if(e[1].dims[0]!==e[0].dims.length)throw new Error("Invalid input shape.");if(-1===n.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.");if("int32"!==e[1].type&&"int16"!==e[1].type)throw new Error("Invalid repeat type.")}},3738:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseTransposeAttributes=t.transpose=void 0;const n=a(246),r=a(2517),o=a(2039),s={name:"Transpose",inputNames:["A"],inputTypes:[o.TextureType.unpacked]};t.transpose=(e,t,a)=>($(t),[e.run(Object.assign(Object.assign({},s),{cacheHint:a.cacheKey,get:()=>c(e,t[0],a.perm)}),t)]),t.parseTransposeAttributes=e=>n.createAttributeWithCacheKey({perm:e.attributes.getInts("perm",[])});const c=(e,t,a)=>{const n=t.dims;a=i(n,a);const r=d(n,a),c=n.length,$=`\n      ${f("perm",a,c)}\n      float process(int indices[${c}]) {\n        int a[${c}];\n        perm(a, indices);\n        return _A(a);\n      }`;return Object.assign(Object.assign({},s),{output:{dims:r,type:t.type,textureType:o.TextureType.unpacked},shaderSource:$})},i=(e,t)=>(t&&t.length!==e.length&&(t=[...e.keys()].reverse()),t),d=(e,t)=>(t=i(e,t),r.ShapeUtil.sortBasedOnPerm(e,t)),f=(e,t,a)=>{const n=[];n.push(`void ${e}(out int a[${a}], int src[${a}]) {`);for(let e=0;e<a;++e)n.push(`\ta[${t[e]}]=src[${e}];`);return n.push("\t}"),n.join("\n")},$=e=>{if(!e||1!==e.length)throw new Error("Transpose requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("input should be float tensor")}},8710:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.encodeAsUint8=void 0;const n=a(5060),r=a(2039);t.encodeAsUint8=(e,t)=>{const a=t.shape,o=n.getGlsl(e.session.backend.glContext.version),s=`\n    const float FLOAT_MAX = 1.70141184e38;\n    const float FLOAT_MIN = 1.17549435e-38;\n\n    bool isNaN(float val) {\n      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n    }\n\n    highp vec4 encodeAsUint8(highp float v) {\n      if (isNaN(v)) {\n        return vec4(255, 255, 255, 255);\n      }\n\n      highp float av = abs(v);\n\n      if(av < FLOAT_MIN) {\n        return vec4(0.0, 0.0, 0.0, 0.0);\n      } else if(v > FLOAT_MAX) {\n        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n      } else if(v < -FLOAT_MAX) {\n        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n      }\n\n      highp vec4 c = vec4(0,0,0,0);\n\n      highp float e = floor(log2(av));\n      highp float m = exp2(fract(log2(av))) - 1.0;\n\n      c[2] = floor(128.0 * m);\n      m -= c[2] / 128.0;\n      c[1] = floor(32768.0 * m);\n      m -= c[1] / 32768.0;\n      c[0] = floor(8388608.0 * m);\n\n      highp float ebias = e + 127.0;\n      c[3] = floor(ebias / 2.0);\n      ebias -= c[3] * 2.0;\n      c[2] += floor(ebias) * 128.0;\n\n      c[3] += 128.0 * step(0.0, -v);\n\n      return c / 255.0;\n    }\n\n    void main() {\n      float value = ${o.texture2D}(X,TexCoords).r;\n      ${o.output} = encodeAsUint8(value);\n    }`,c={name:"Uint8Encode",inputTypes:[r.TextureType.unpacked],inputNames:["X"],output:{dims:a,type:t.tensor.type,textureType:r.TextureType.downloadUint8AsFloat},shaderSource:s,hasMain:!0};return e.executeProgram(c,[t.tensor])}},4909:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tanh=t.tan=t.sqrt=t.sin=t.sigmoid=t.relu=t.not=t.neg=t.log=t.parseLeakyReluAttributes=t.leakyRelu=t.identity=t.floor=t.exp=t.parseEluAttributes=t.elu=t.cos=t.ceil=t.clipV11=t.parseClipAttributes=t.clip=t.atan=t.asin=t.acos=t.abs=t.glslTanh=t.glslTan=t.glslSqrt=t.glslSigmoid=t.glslRelu=t.glslSin=t.glslNot=t.glslNeg=t.glslLog=t.glslLeakyRelu=t.glslIdentity=t.glslClip=t.glslFloor=t.glslExp=t.glslElu=t.glslCos=t.glslCeil=t.glslAtan=t.glslAsin=t.glslAcos=t.glslAbs=void 0;const n=a(246),r=a(2517),o=a(8520),s=a(5060),c=a(2039);function i(){return A("abs")}function d(){return A("acos")}function f(){return A("asin")}function $(){return A("atan")}function u(){return A("ceil")}function p(){return A("cos")}function l(e){return{body:`\n  const float alpha = float(${e});\n\n  float elu_(float a) {\n    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;\n  }\n  vec4 elu_(vec4 v) {\n    return vec4(elu_(v.x), elu_(v.y), elu_(v.z), elu_(v.w));\n  }\n  `,name:"elu",type:o.FunctionType.ValueBased}}function b(){return A("exp")}function h(){return A("floor")}function x(e,t){return{body:`\n  const float min = float(${e});\n  const float max = float(${t});\n\n  float clip_(float a) {\n    return clamp(a, min, max);\n  }\n  vec4 clip_(vec4 v) {\n    return clamp(v, min, max);\n  }\n  `,name:"clip",type:o.FunctionType.ValueBased}}function m(){const e="indentity";return{body:`\n  float ${e}_(float a) {\n    return a;\n  }\n  vec4 ${e}_(vec4 v) {\n    return v;\n  }\n  `,name:e,type:o.FunctionType.ValueBased}}function g(e){const t="leakyRelu";return{body:`\n  const float alpha = float(${e});\n\n  float ${t}_(float a) {\n    return a < 0.0 ? a * alpha : a;\n  }\n  vec4 ${t}_(vec4 v) {\n    return vec4(${t}_(v.x), ${t}_(v.y), ${t}_(v.z), ${t}_(v.w));\n  }\n  `,name:t,type:o.FunctionType.ValueBased}}function v(){return A("log")}function y(){return{body:"\n  float neg_(float a) {\n    return -a;\n  }\n  vec4 neg_(vec4 v) {\n    return -v;\n  }\n  ",name:"neg",type:o.FunctionType.ValueBased}}function w(){return{body:"\n  float not_(float a) {\n    return float( ! bool(a) );\n  }\n  bool not_(bool a) {\n    return !a;\n  }\n  vec4 not_(vec4 v) {\n    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));\n  }\n  bvec4 not_(bvec4 v) {\n    return bvec4(!v.x, !v.y, !v.z, !v.w);\n  }\n  ",name:"not",type:o.FunctionType.ValueBased}}function _(){return A("sin")}function I(){return{body:"\n  float relu_(float a) {\n    return max( a, 0.0 );\n  }\n  vec4 relu_(vec4 v) {\n    return max( v, 0.0 );\n  }\n  ",name:"relu",type:o.FunctionType.ValueBased}}function S(){return{body:"\n  float sigmoid_(float a) {\n    return 1.0 / (1.0 + exp(-a));\n  }\n  vec4 sigmoid_(vec4 v) {\n    return 1.0 / (1.0 + exp(-v));\n  }\n  ",name:"sigmoid",type:o.FunctionType.ValueBased}}function T(){return A("sqrt")}function k(){return A("tan")}function E(){return{body:"\n  float tanh_(float a) {\n    a = clamp(a, -10., 10.);\n    a = exp(2.*a);\n    return (a - 1.) / (a + 1.);\n  }\n  vec4 tanh_(vec4 v) {\n    v = clamp(v, -10., 10.);\n    v = exp(2.*v);\n    return (v - 1.) / (v + 1.);\n  }\n  ",name:"tanh",type:o.FunctionType.ValueBased}}function A(e){return{body:`\n  float ${e}_(float a) {\n    return ${e}(a);\n  }\n  vec4 ${e}_(vec4 v) {\n    return ${e}(v);\n  }\n  `,name:e,type:o.FunctionType.ValueBased}}t.glslAbs=i,t.glslAcos=d,t.glslAsin=f,t.glslAtan=$,t.glslCeil=u,t.glslCos=p,t.glslElu=l,t.glslExp=b,t.glslFloor=h,t.glslClip=x,t.glslIdentity=m,t.glslLeakyRelu=g,t.glslLog=v,t.glslNeg=y,t.glslNot=w,t.glslSin=_,t.glslRelu=I,t.glslSigmoid=S,t.glslSqrt=T,t.glslTan=k,t.glslTanh=E;const C=(e,t,a,n)=>{const r=e.session.pack?c.TextureType.packed:c.TextureType.unpacked,o={name:a.name,inputTypes:[r],inputNames:["A"],cacheHint:n};return Object.assign(Object.assign({},o),{get:()=>((e,t,a,n)=>{const r=e.session.pack?c.TextureType.packed:c.TextureType.unpacked,o=s.getGlsl(e.session.backend.glContext.version);return Object.assign(Object.assign({},t),{output:{dims:a.dims,type:a.type,textureType:r},shaderSource:`\n     ${n.body}\n     void main() {\n       vec4 v = ${o.texture2D}(A, TexCoords);\n       v = ${n.name}_(v);\n       ${o.output} = v;\n     }\n     `,hasMain:!0})})(e,o,t,a)})};t.abs=(e,t)=>[e.run(C(e,t[0],i()),t)],t.acos=(e,t)=>[e.run(C(e,t[0],d()),t)],t.asin=(e,t)=>[e.run(C(e,t[0],f()),t)],t.atan=(e,t)=>[e.run(C(e,t[0],$()),t)],t.clip=(e,t,a)=>[e.run(C(e,t[0],x(a.min,a.max),a.cacheKey),t)],t.parseClipAttributes=e=>n.createAttributeWithCacheKey({min:e.attributes.getFloat("min",r.MIN_CLIP),max:e.attributes.getFloat("max",r.MAX_CLIP)}),t.clipV11=(e,a)=>{const n=O(e,a);return t.clip(e,[a[0]],n)};const O=(e,t)=>{if(t.length>=3&&(!e.session.isInitializer(t[1].dataId)||!e.session.isInitializer(t[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const a=t.length>=3?t[1].numberData[0]:r.MIN_CLIP,o=t.length>=3?t[2].numberData[0]:r.MAX_CLIP;return n.createAttributeWithCacheKey({min:a,max:o})};t.ceil=(e,t)=>[e.run(C(e,t[0],u()),t)],t.cos=(e,t)=>[e.run(C(e,t[0],p()),t)],t.elu=(e,t,a)=>[e.run(C(e,t[0],l(a.alpha),a.cacheKey),t)],t.parseEluAttributes=e=>n.createAttributeWithCacheKey({alpha:e.attributes.getFloat("alpha",1)}),t.exp=(e,t)=>[e.run(C(e,t[0],b()),t)],t.floor=(e,t)=>[e.run(C(e,t[0],h()),t)],t.identity=(e,t)=>[e.run(C(e,t[0],m()),t)],t.leakyRelu=(e,t,a)=>[e.run(C(e,t[0],g(a.alpha),a.cacheKey),t)],t.parseLeakyReluAttributes=e=>n.createAttributeWithCacheKey({alpha:e.attributes.getFloat("alpha",.01)}),t.log=(e,t)=>[e.run(C(e,t[0],v()),t)],t.neg=(e,t)=>[e.run(C(e,t[0],y()),t)],t.not=(e,t)=>[e.run(C(e,t[0],w()),t)],t.relu=(e,t)=>[e.run(C(e,t[0],I()),t)],t.sigmoid=(e,t)=>[e.run(C(e,t[0],S()),t)],t.sin=(e,t)=>[e.run(C(e,t[0],_()),t)],t.sqrt=(e,t)=>[e.run(C(e,t[0],T()),t)],t.tan=(e,t)=>[e.run(C(e,t[0],k()),t)],t.tanh=(e,t)=>[e.run(C(e,t[0],E()),t)]},5611:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createUnpackProgramInfoLoader=t.createUnpackProgramInfo=void 0;const n=a(5060),r=a(2039),o=a(9390),s=a(2827),c={name:"unpack",inputNames:["A"],inputTypes:[r.TextureType.packed]};t.createUnpackProgramInfo=(e,t)=>{const a=t.dims.length,i=s.getChannels("rc",a),d=i.slice(-2),f=o.getCoordsDataType(a),$=s.unpackFromChannel(),u=0===t.dims.length?"":function(e,t){if(1===e)return"rc";let a="";for(let n=0;n<e;n++)a+=t[n],n<e-1&&(a+=",");return a}(a,i),p=a<=1?"rc":`vec2(${d.join(",")})`,l=`\n    ${$}\n    void main() {\n      ${f} rc = getOutputCoords();\n\n       // Sample the texture with the coords to get the rgba channel value.\n       vec4 packedInput = getA(${u});\n\n       ${n.getGlsl(e.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${p}), 0, 0, 0);\n     }\n   `;return Object.assign(Object.assign({},c),{hasMain:!0,output:{dims:t.dims,type:t.type,textureType:r.TextureType.unpacked},shaderSource:l})},t.createUnpackProgramInfoLoader=(e,a)=>Object.assign(Object.assign({},c),{get:()=>t.createUnpackProgramInfo(e,a)})},8428:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseUnsqueezeAttributes=t.unsqueezeV13=t.unsqueeze=void 0;const n=a(2517);t.unsqueeze=(e,t,a)=>{r(t);const o=n.ShapeUtil.unsqueezeShape(t[0].dims,a);return[e.reshapeUnpacked(t[0],o)]},t.unsqueezeV13=(e,a)=>(o(a),t.unsqueeze(e,[a[0]],Array.from(a[1].integerData))),t.parseUnsqueezeAttributes=e=>e.attributes.getInts("axes");const r=e=>{if(!e||1!==e.length)throw new Error("Unsqueeze requires 1 input.");if("string"===e[0].type)throw new Error("invalid input tensor types.")},o=e=>{if(!e||2!==e.length)throw new Error("Unsqueeze requires 2 inputs.");if("int32"!==e[1].type)throw new Error("Invalid input type.")}},9793:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scalesValidation=t.validateInputs=t.parseUpsampleAttributes=t.parseUpsampleAttributesV9=t.parseUpsampleAttributesV7=t.upsample=void 0;const n=a(246),r=a(5060),o=a(2039),s={name:"Upsample",inputNames:["X"],inputTypes:[o.TextureType.unpacked]};t.upsample=(e,a,n)=>(t.validateInputs(a,n),[e.run(Object.assign(Object.assign({},s),{cacheHint:n.cacheKey,get:()=>c(e,a,n)}),a)]),t.parseUpsampleAttributesV7=e=>t.parseUpsampleAttributes(e,7),t.parseUpsampleAttributesV9=e=>t.parseUpsampleAttributes(e,9),t.parseUpsampleAttributes=(e,a)=>{const r=a>=10,o=e.attributes.getString("mode","nearest");if("nearest"!==o&&"linear"!==o&&(a<11||"cubic"!==o))throw new Error(`unrecognized mode: ${o}`);let s=[];a<9&&(s=e.attributes.getFloats("scales"),t.scalesValidation(s,o,r));const c=e.attributes.getFloat("extrapolation_value",0),i=a>10?e.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(-1===["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(i))throw new Error(`coordinate_transform_mode '${i}' is not supported`);const d="tf_crop_and_resize"===i,f=d,$="nearest"===o&&a>=11?e.attributes.getString("nearest_mode","round_prefer_floor"):"";if(-1===["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf($))throw new Error(`nearest_mode '${$}' is not supported`);const u=e.attributes.getFloat("cubic_coeff_a",-.75),p=0!==e.attributes.getInt("exclude_outside",0);if(p&&"cubic"!==o)throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const l=a<11||"nearest"===o&&"asymmetric"===i&&"floor"===$;let b=0,h=0,x=0;return a>10?(b=1,h=2,x=3):9===a&&(h=1),n.createAttributeWithCacheKey({opset:a,isResize:r,mode:o,scales:s,extrapolationValue:c,coordinateTransformMode:i,useExtrapolation:f,needRoiInput:d,nearestMode:$,cubicCoefficientA:u,excludeOutside:p,useNearest2xOptimization:l,roiInputIdx:b,scalesInputIdx:h,sizesInputIdx:x})};const c=(e,t,a)=>{const n=r.getGlsl(e.session.backend.glContext.version),[c,i]=e.calculateTextureWidthAndHeight(t[0].dims,o.TextureType.unpacked),d=t[0].dims.map(((e,t)=>Math.floor(e*a.scales[t]))),[f,$]=e.calculateTextureWidthAndHeight(d,o.TextureType.unpacked),u=d.length,p=new Array(u),l=new Array(u);let b=`\n      int output_pitches[${u}];\n      int input_pitches[${u}];\n      `;for(let e=u-1;e>=0;e--)p[e]=e===u-1?1:p[e+1]*d[e+1],l[e]=e===u-1?1:l[e+1]*t[0].dims[e+1],b+=`\n        output_pitches[${e}] = ${p[e]};\n        input_pitches[${e}] = ${l[e]};\n        `;const h=`\n      float getInputFloat(int index) {\n        vec2 coords = offsetToCoords(index, ${c}, ${i});\n        float value = getColorAsFloat(${n.texture2D}(X, coords));\n        return value;\n      }\n      `,x="nearest"===a.mode?`\n    ${h}\n    float process(int indices[${u}]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${f}, ${$});\n\n      ${b}\n\n      int d, m;\n      for (int dim = 0; dim < ${u}; ++dim) {\n        d = output_index / output_pitches[dim];\n        m = output_index - d * output_pitches[dim];\n        output_index = m;\n\n        if (scales[dim] != 1 && d > 0) {\n          int d2 = d / scales[dim];\n          m = d - d2 * scales[dim];\n          d = d2;\n        }\n        input_index += input_pitches[dim] * d;\n      }\n\n      return getInputFloat(input_index);\n    }`:4===u?`\n    ${h}\n    float process(int indices[4]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${f}, ${$});\n\n      ${b}\n\n      int m;\n      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m / output_pitches[1];\n      m = m - index_of_dim1 * output_pitches[1];\n      index_of_dim2 = m / output_pitches[2];\n      m = m - index_of_dim2 * output_pitches[2];\n      index_of_dim3 = m;\n\n      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;\n      index_of_input_dim2 = index_of_dim2 / scales[2];\n      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];\n      index_of_input_dim3 = index_of_dim3 / scales[3];\n      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];\n\n      input_index = index_of_dim0 * input_pitches[0] +\n            index_of_dim1 * input_pitches[1] +\n            index_of_input_dim2 * input_pitches[2] +\n            index_of_input_dim3;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim2 = false;\n      if (index_of_input_dim2 == (${t[0].dims[2]} - 1)) {\n        // It's the end in dimension 2\n        x01 = x00;\n        end_of_dim2 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[2]);\n      }\n\n      if (index_of_input_dim3 == (input_pitches[2] - 1)) {\n        // It's the end in dimension 3\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);\n    }`:`\n    ${h}\n    float process(int indices[2]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${f}, ${$});\n\n      ${b}\n\n      int m;\n      int index_of_dim0, index_of_dim1;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m;\n\n      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;\n      index_of_input_dim0 = index_of_dim0 / scales[0];\n      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];\n      index_of_input_dim1 = index_of_dim1 / scales[1];\n      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];\n\n      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim0 = false;\n      if (index_of_input_dim0 == (${t[0].dims[0]} - 1)) {\n        // It's the end in dimension 0\n        x01 = x00;\n        end_of_dim0 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[0]);\n      }\n\n      if (index_of_input_dim1 == (input_pitches[0] - 1)) {\n        // It's the end in dimension 1\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);\n    }`;return Object.assign(Object.assign({},s),{output:{dims:d,type:t[0].type,textureType:o.TextureType.unpacked},shaderSource:x,variables:[{name:"scales",type:"int",arrayLength:a.scales.length,data:a.scales.map((e=>Math.ceil(e)))}]})};t.validateInputs=(e,t)=>{if(!e||t.opset<9&&1!==e.length||t.opset>=9&&t.opset<11&&2!==e.length||t.opset>=11&&3!==e.length&&4!==e.length)throw new Error("invalid inputs.");if(t.scales.length>0&&e[0].dims.length!==t.scales.length)throw new Error("Invalid input shape.");if("string"===e[0].type)throw new Error("Invalid input tensor types.")},t.scalesValidation=(e,t,a)=>{if(a){for(const t of e)if(t<=0)throw new Error("Scale value should be greater than 0.")}else for(const t of e)if(t<1)throw new Error("Scale value should be greater than or equal to 1.");if(!("linear"!==t&&"cubic"!==t||2===e.length||4===e.length&&1===e[0]&&1===e[1]))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${a?"Resize":"Upsample"} opeartor.`)}},1958:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProgramManager=void 0;const n=a(2174),r=a(6231),o=a(8879),s=a(5060);t.ProgramManager=class{constructor(e,t,a){this.profiler=e,this.glContext=t,this.textureLayoutStrategy=a,this.repo=new Map,this.attributesBound=!1}getArtifact(e){return this.repo.get(e)}setArtifact(e,t){this.repo.set(e,t)}run(e,t,a){var n;this.profiler.event("op",`ProgramManager.run ${null!==(n=e.programInfo.name)&&void 0!==n?n:"unknown kernel"}`,(()=>{var n;const o=this.glContext.gl,s=e.program;o.useProgram(s);try{this.bindOutput(a),this.attributesBound||this.bindAttributes(e.attribLocations),this.bindUniforms(e.uniformLocations,null!==(n=e.programInfo.variables)&&void 0!==n?n:[],t)}catch(t){throw r.Logger.error("ProgramManager",e.programInfo.shaderSource),t}this.profiler.event("backend","GlContext.draw()",(()=>{this.glContext.draw()}))}),this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach((e=>this.glContext.deleteProgram(e.program)))}build(e,t,a){return this.profiler.event("backend","ProgramManager.build",(()=>{const n=new o.GlslPreprocessor(this.glContext,e,t,a),r=n.preprocess(),s=this.compile(r);return{programInfo:e,program:s,uniformLocations:this.getUniformLocations(s,n.context.programInfo.inputNames,n.context.programInfo.variables),attribLocations:this.getAttribLocations(s)}}))}compile(e){if(!this.vertexShader){r.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const e=s.getVertexShaderSource(this.glContext.version);this.vertexShader=this.glContext.compileShader(e,this.glContext.gl.VERTEX_SHADER)}n.env.debug&&r.Logger.verbose("ProrgramManager",`FragShader:\n${e}\n`);const t=this.glContext.compileShader(e,this.glContext.gl.FRAGMENT_SHADER),a=this.glContext.createProgram(this.vertexShader,t);return this.glContext.deleteShader(t),a}bindOutput(e){const t=e.width,a=e.height;r.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${t}/${a}, shape=${e.shape}, type=${e.tensor.type}`),this.glContext.attachFramebuffer(e.texture,t,a)}bindAttributes(e){const t=e.position,a=e.textureCoord;this.glContext.setVertexAttributes(t,a),this.attributesBound=!0}bindUniforms(e,t,a){var n;const r=this.glContext.gl;let o=0;for(const{name:s,type:c,location:i,arrayLength:d}of e){const e=null===(n=t.find((e=>e.name===s)))||void 0===n?void 0:n.data;if("sampler2D"!==c&&!e)throw new Error(`variable '${s}' does not have data defined in program info`);switch(c){case"sampler2D":this.bindTexture(a[o],i,o),o++;break;case"float":d?r.uniform1fv(i,e):r.uniform1f(i,e);break;case"int":d?r.uniform1iv(i,e):r.uniform1i(i,e);break;default:throw new Error(`Uniform not implemented: ${c}`)}}}bindTexture(e,t,a){this.glContext.bindTextureToUniform(e.texture,a,t)}getAttribLocations(e){return{position:this.getAttribLocation(e,"position"),textureCoord:this.getAttribLocation(e,"textureCoord")}}getUniformLocations(e,t,a){const n=[];if(t)for(const a of t)n.push({name:a,type:"sampler2D",location:this.getUniformLocation(e,a)});if(a)for(const t of a)n.push(Object.assign(Object.assign({},t),{location:this.getUniformLocation(e,t.name)}));return n}getUniformLocation(e,t){const a=this.glContext.gl.getUniformLocation(e,t);if(null===a)throw new Error(`Uniform ${t} not found.`);return a}getAttribLocation(e,t){return this.glContext.gl.getAttribLocation(e,t)}}},6416:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLSessionHandler=void 0;const n=a(6231),r=a(1047),o=a(8316),s=a(1640),c=a(1958),i=a(7859),d=a(5702);t.WebGLSessionHandler=class{constructor(e,t){this.backend=e,this.context=t,this.layoutStrategy=new i.PreferLogicalStrategy(e.glContext.maxTextureSize),this.programManager=new c.ProgramManager(this.context.profiler,e.glContext,this.layoutStrategy),this.textureManager=new d.TextureManager(e.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:"full"===e.textureCacheMode}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=e.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new o.WebGLInferenceHandler(this)}onGraphInitialized(e){const t=e.getValues().filter((e=>-1===e.from&&e.tensor)).map((e=>e.tensor.dataId));this.initializers=new Set(t)}isInitializer(e){return!!this.initializers&&this.initializers.has(e)}addInitializer(e){this.initializers.add(e)}getTextureData(e,t){return t?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,t,a=!1){n.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),a?this.packedTextureDataCache.set(e,t):this.unpackedTextureDataCache.set(e,t)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach((e=>this.textureManager.releaseTexture(e,!0))),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach((e=>this.textureManager.releaseTexture(e,!0))),this.unpackedTextureDataCache=new Map}resolve(e,t,a){const n=r.resolveOperator(e,t,s.WEBGL_OP_RESOLVE_RULES);return{impl:n.opImpl,context:n.opInit?n.opInit(e,a):e}}}},7769:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Uint8DataEncoder=t.RGBAFloatDataEncoder=t.RedFloat32DataEncoder=void 0;const n=a(6231);t.RedFloat32DataEncoder=class{constructor(e,t=1){if(1===t)this.internalFormat=e.R32F,this.format=e.RED,this.textureType=e.FLOAT,this.channelSize=t;else{if(4!==t)throw new Error(`Invalid number of channels: ${t}`);this.internalFormat=e.RGBA32F,this.format=e.RGBA,this.textureType=e.FLOAT,this.channelSize=t}}encode(e,t){let a,r;return e.constructor!==Float32Array&&(n.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),r=new Float32Array(e)),t*this.channelSize>e.length?(n.Logger.warning("Encoder","Source data too small. Allocating larger array"),r=e,a=this.allocate(t*this.channelSize),r.forEach(((e,t)=>a[t]=e))):(r=e,a=r),a}allocate(e){return new Float32Array(4*e)}decode(e,t){return 1===this.channelSize?e.filter(((e,t)=>t%4==0)).subarray(0,t):e.subarray(0,t)}},t.RGBAFloatDataEncoder=class{constructor(e,t=1,a){if(1!==t&&4!==t)throw new Error(`Invalid number of channels: ${t}`);this.internalFormat=e.RGBA,this.format=e.RGBA,this.channelSize=t,this.textureType=a||e.FLOAT}encode(e,t){let a=e;return 1===this.channelSize&&(n.Logger.verbose("Encoder","Exploding into a larger array"),a=this.allocate(t),e.forEach(((e,t)=>a[4*t]=e))),a}allocate(e){return new Float32Array(4*e)}decode(e,t){return 1===this.channelSize?e.filter(((e,t)=>t%4==0)).subarray(0,t):e.subarray(0,t)}},t.Uint8DataEncoder=class{constructor(e,t=1){if(this.channelSize=4,1===t)this.internalFormat=e.ALPHA,this.format=e.ALPHA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=t;else{if(4!==t)throw new Error(`Invalid number of channels: ${t}`);this.internalFormat=e.RGBA,this.format=e.RGBA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=t}}encode(e,t){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}allocate(e){return new Uint8Array(e*this.channelSize)}decode(e,t){if(e instanceof Uint8Array)return e.subarray(0,t);throw new Error(`Invalid array type: ${e.constructor}`)}}},7859:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getBatchDim=t.sizeToSquarishShape=t.getRowsCols=t.sizeFromShape=t.isInt=t.parseAxisParam=t.squeezeShape=t.PreferLogicalStrategy=t.AlwaysKeepOriginalSizeStrategy=void 0;const n=a(6231),r=a(2517);function o(e,t){const a=[],n=[],r=null!=t&&Array.isArray(t)&&0===t.length,o=null==t||r?null:s(t,e).sort();let c=0;for(let t=0;t<e.length;++t){if(null!=o){if(o[c]===t&&1!==e[t])throw new Error(`Can't squeeze axis ${t} since its dim '${e[t]}' is not 1`);(null==o[c]||o[c]>t)&&1===e[t]&&(a.push(e[t]),n.push(t)),o[c]<=t&&c++}1!==e[t]&&(a.push(e[t]),n.push(t))}return{newShape:a,keptDims:n}}function s(e,t){const a=t.length;return e=null==e?t.map(((e,t)=>t)):[].concat(e),r.assert(e.every((e=>e>=-a&&e<a)),(()=>`All values in axis param must be in range [-${a}, ${a}) but got axis ${e}`)),r.assert(e.every(c),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?a+e:e))}function c(e){return e%1==0}function i(e){if(0===e.length)return 1;let t=e[0];for(let a=1;a<e.length;a++)t*=e[a];return t}function d(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}t.AlwaysKeepOriginalSizeStrategy=class{constructor(e){this.maxTextureSize=e}computeTextureWH(e,t){if(0===e.length)return[1,1];const a=this.maxTextureSize;if(t&&void 0!==t.breakAxis){const r=t.breakAxis>=e.length?1:e.slice(t.breakAxis).reduce(((e,t)=>e*t)),o=t.breakAxis<=0?1:e.slice(0,t.breakAxis).reduce(((e,t)=>e*t));if(!(r>a||o>a))return[r,o];n.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${e}, breakAxis:${t.breakAxis}`)}const r=e.reduce(((e,t)=>e*t));let o=Math.floor(Math.sqrt(r));for(;o<a&&o<r&&r%o!=0;o++);if(o>=a||r%o!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${e}`);return[o,r/o]}},t.PreferLogicalStrategy=class{constructor(e){this.maxTextureSize=e}computeTextureWH(e,t){const a=this.computeTexture(e,t);return t&&t.isPacked&&(a[0]/=2,a[1]/=2),t&&t.reverseWH?[a[1],a[0]]:a}computeTexture(e,t){const a=t&&t.isPacked;if(0===e.length)return a?[2,2]:[1,1];let r=this.maxTextureSize;if(t&&void 0!==t.breakAxis){const a=t.breakAxis>=e.length?1:e.slice(t.breakAxis).reduce(((e,t)=>e*t)),o=t.breakAxis<=0?1:e.slice(0,t.breakAxis).reduce(((e,t)=>e*t));if(!(a>r||o>r))return[a,o];n.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${e}, breakAxis:${t.breakAxis}`)}let s=e.slice(0);if(a&&(r*=2,s=s.map(((e,t)=>t>=s.length-2?s[t]%2==0?s[t]:s[t]+1:s[t])),1===s.length&&(s=[2,s[0]])),2!==s.length){const e=o(s);s=e.newShape}const c=i(s);return s.length<=1&&c<=r?[1,c]:2===s.length&&s[0]<=r&&s[1]<=r?s:3===s.length&&s[0]*s[1]<=r&&s[2]<=r?[s[0]*s[1],s[2]]:3===s.length&&s[0]<=r&&s[1]*s[2]<=r?[s[0],s[1]*s[2]]:4===s.length&&s[0]*s[1]*s[2]<=r&&s[3]<=r?[s[0]*s[1]*s[2],s[3]]:4===s.length&&s[0]<=r&&s[1]*s[2]*s[3]<=r?[s[0],s[1]*s[2]*s[3]]:a?d(c/4).map((e=>2*e)):d(c)}},t.squeezeShape=o,t.parseAxisParam=s,t.isInt=c,t.sizeFromShape=i,t.getRowsCols=function(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]},t.sizeToSquarishShape=d,t.getBatchDim=function(e,t=2){return i(e.slice(0,e.length-t))}},4057:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTextureLayoutFromShape=t.calculateTextureWidthAndHeight=t.createTextureLayoutFromTextureType=void 0;const n=a(2517),r=a(2039);t.createTextureLayoutFromTextureType=(e,a,n)=>{const o=n===r.TextureType.unpacked||n===r.TextureType.unpackedReversed?1:4,s=n===r.TextureType.packed,c=n===r.TextureType.unpackedReversed||n===r.TextureType.packed,i=n===r.TextureType.packedLastDimension?a.length-1:void 0,d=n===r.TextureType.packedLastDimension?a.map(((e,t)=>t===a.length-1?4*e:e)):void 0;return t.createTextureLayoutFromShape(e,a,o,d,{isPacked:s,reverseWH:c,breakAxis:i})},t.calculateTextureWidthAndHeight=(e,a,n)=>{const r=t.createTextureLayoutFromTextureType(e,a,n);return[r.width,r.height]},t.createTextureLayoutFromShape=(e,t,a=1,r,o)=>{const s=!(!o||!o.isPacked),[c,i]=e.computeTextureWH(s&&r||t,o),d=t.length;let f=t.slice(0);if(0===d&&(f=[1]),1===a)r=t;else if(s){if(4!==a)throw new Error("a packed texture must be 4-channel");r=t,d>0&&(f[d-1]=Math.ceil(f[d-1]/2)),d>1&&(f[d-2]=Math.ceil(f[d-2]/2))}else if(!r)throw new Error("Unpacked shape is needed when using channels > 1");return{width:c,height:i,channels:a,isPacked:s,shape:f,strides:n.ShapeUtil.computeStrides(f),unpackedShape:r,reversedWH:o&&o.reverseWH}}},5702:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextureManager=void 0;const n=a(6231);t.TextureManager=class{constructor(e,t,a,n){this.glContext=e,this.layoutStrategy=t,this.profiler=a,this.config=n,this.pendingRead=new Map,n.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(e,t,a,r){const o=this.toEncoderType(e),s=this.glContext.getEncoder(o,t.channels||1,r);if(t.isPacked&&1===r)throw new Error("not implemented");const c=t.width,i=t.height;let d,f;if(this.config.reuseTextures){d=`${c}x${i}_${s.format}_${s.internalFormat}_${s.textureType}`,f=this.inUseTextures.get(d),f||(f=[],this.inUseTextures.set(d,f));const t=this.idleTextures.get(d);if(t&&t.length>0){const n=t.pop();return f.push(n),1===r&&this.glContext.updateTexture(n,c,i,s,this.toTextureData(e,a)),n}}n.Logger.verbose("TextureManager",`Creating new texture of size ${t.width}x${t.height}`);const $=this.glContext.allocateTexture(c,i,s,this.toTextureData(e,a));return this.config.reuseTextures&&(f.push($),this.textureLookup.set($,d)),$}readTexture(e,t,a){return a||(a=1),this.profiler.event("backend","TextureManager.readTexture",(()=>{const n=e.shape.reduce(((e,t)=>e*t))*a,r=this.glContext.readTexture(e.texture,e.width,e.height,n,this.toEncoderType(t),a);return this.toTensorData(t,r)}))}async readTextureAsync(e,t,a){const n=e.tensor.dataId;if(a||(a=1),this.pendingRead.has(n)){const e=this.pendingRead.get(n);return new Promise((t=>null==e?void 0:e.push(t)))}return this.profiler.event("backend","TextureManager.readTextureAsync",(async()=>{this.pendingRead.set(n,[]);const r=e.shape.reduce(((e,t)=>e*t))*a;await this.glContext.createAndWaitForFence();const o=this.glContext.readTexture(e.texture,e.width,e.height,r,this.toEncoderType(t),a),s=this.toTensorData(t,o),c=this.pendingRead.get(n);return this.pendingRead.delete(n),null==c||c.forEach((e=>e(s))),s}))}readUint8TextureAsFloat(e){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",(()=>{const t=e.shape.reduce(((e,t)=>e*t)),a=this.glContext.readTexture(e.texture,e.width,e.height,4*t,"byte",4);return new Float32Array(a.buffer,a.byteOffset,t)}))}releaseTexture(e,t){let a;if(this.config.reuseTextures&&(a=this.textureLookup.get(e.texture),a)){t&&this.textureLookup.delete(a);const n=this.inUseTextures.get(a);if(n){const t=n.indexOf(e.texture);if(-1!==t){n.splice(t,1);let r=this.idleTextures.get(a);r||(r=[],this.idleTextures.set(a,r)),r.push(e.texture)}}}a&&!t||(n.Logger.verbose("TextureManager",`Deleting texture of size ${e.width}x${e.height}`),this.glContext.deleteTexture(e.texture))}toTensorData(e,t){switch(e){case"int16":return t instanceof Int16Array?t:Int16Array.from(t);case"int32":return t instanceof Int32Array?t:Int32Array.from(t);case"int8":return t instanceof Int8Array?t:Int8Array.from(t);case"uint16":return t instanceof Uint16Array?t:Uint16Array.from(t);case"uint32":return t instanceof Uint32Array?t:Uint32Array.from(t);case"uint8":case"bool":return t instanceof Uint8Array?t:Uint8Array.from(t);case"float32":return t instanceof Float32Array?t:Float32Array.from(t);case"float64":return t instanceof Float64Array?t:Float64Array.from(t);default:throw new Error(`TensorData type ${e} is not supported`)}}toTextureData(e,t){if(t)return t instanceof Float32Array?t:new Float32Array(t)}toEncoderType(e){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},2039:(e,t)=>{var a;Object.defineProperty(t,"__esModule",{value:!0}),t.TextureType=void 0,(a=t.TextureType||(t.TextureType={}))[a.unpacked=0]="unpacked",a[a.unpackedReversed=1]="unpackedReversed",a[a.packed=2]="packed",a[a.downloadUint8AsFloat=3]="downloadUint8AsFloat",a[a.packedLastDimension=4]="packedLastDimension"},9390:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getGlChannels=t.getCoordsDataType=t.getSqueezedParams=t.squeezeInputShape=t.generateShaderFuncNameFromInputSamplerNameAtOutCoords=t.generateShaderFuncNameFromInputSamplerName=t.repeatedTry=t.getPackedShape=void 0;const n=a(2517);t.getPackedShape=function(e){const t=e.length;return e.slice(0,t-1).concat(e[t-1]/4)},t.repeatedTry=async function(e,t=(e=>0),a){return new Promise(((n,r)=>{let o=0;const s=()=>{if(e())return void n();o++;const c=t(o);null!=a&&o>=a?r():setTimeout(s,c)};s()}))},t.generateShaderFuncNameFromInputSamplerName=function(e){return n.assert(void 0!==e&&0!==e.length,(()=>"empty string found for sampler name")),"get"+e.charAt(0).toUpperCase()+e.slice(1)},t.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(e){return n.assert(void 0!==e&&0!==e.length,(()=>"empty string found for sampler name")),"get"+e.charAt(0).toUpperCase()+e.slice(1)+"AtOutCoords"},t.squeezeInputShape=function(e,t){let a=JSON.parse(JSON.stringify(e));return a=t,a},t.getSqueezedParams=function(e,t){return t.map((t=>e[t])).join(", ")},t.getCoordsDataType=function(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)},t.getGlChannels=function(e=6){return["x","y","z","w","u","v"].slice(0,e)}},7305:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNewWebGLContext=t.createWebGLContext=void 0;const n=a(6231),r=a(1713),o={};function s(e){const t=function(){const e=document.createElement("canvas");return e.width=1,e.height=1,e}();let a;const o={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!e||"webgl2"===e)&&(a=t.getContext("webgl2",o),a))try{return new r.WebGLContext(a,2)}catch(e){n.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${e}`)}if((!e||"webgl"===e)&&(a=t.getContext("webgl",o)||t.getContext("experimental-webgl",o),a))try{return new r.WebGLContext(a,1)}catch(e){n.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${e}`)}throw new Error("WebGL is not supported")}t.createWebGLContext=function e(t){let a;t&&"webgl2"!==t||!("webgl2"in o)?t&&"webgl"!==t||!("webgl"in o)||(a=o.webgl):a=o.webgl2,a=a||s(t),t=t||1===a.version?"webgl":"webgl2";const n=a.gl;return o[t]=a,n.isContextLost()?(delete o[t],e(t)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),a)},t.createNewWebGLContext=s},1713:function(e,t,a){var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&n(t,e,a);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=t.linearSearchLastTrue=void 0;const s=a(2174),c=o(a(7769)),i=a(9390);function d(e){let t=0;for(;t<e.length&&e[t]();++t);return t-1}t.linearSearchLastTrue=d,t.WebGLContext=class{constructor(e,t){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=e,this.version=t,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(e,t,a,n){const r=this.gl,o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);const s=n?a.encode(n,e*t):null;return r.texImage2D(r.TEXTURE_2D,0,a.internalFormat,e,t,0,a.format,a.textureType,s),this.checkError(),o}updateTexture(e,t,a,n,r){const o=this.gl;o.bindTexture(o.TEXTURE_2D,e);const s=n.encode(r,t*a);o.texSubImage2D(o.TEXTURE_2D,0,0,0,t,a,n.format,n.textureType,s),this.checkError()}attachFramebuffer(e,t,a){const n=this.gl;n.bindTexture(n.TEXTURE_2D,e),n.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0),this.checkError(),n.viewport(0,0,t,a),n.scissor(0,0,t,a)}readTexture(e,t,a,n,r,o){const s=this.gl;o||(o=1),this.frameBufferBound||this.attachFramebuffer(e,t,a);const c=this.getEncoder(r,o),i=c.allocate(t*a);return s.bindTexture(s.TEXTURE_2D,e),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,e,0),s.readPixels(0,0,t,a,s.RGBA,c.textureType,i),this.checkError(),c.decode(i,n)}isFramebufferReady(){return!0}getActiveTexture(){const e=this.gl;return"TEXTURE"+(e.getParameter(this.gl.ACTIVE_TEXTURE)-e.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(e,t){const a=this.gl;a.vertexAttribPointer(e,3,a.FLOAT,!1,20,0),a.enableVertexAttribArray(e),-1!==t&&(a.vertexAttribPointer(t,2,a.FLOAT,!1,20,12),a.enableVertexAttribArray(t)),this.checkError()}createProgram(e,t){const a=this.gl,n=a.createProgram();return a.attachShader(n,e),a.attachShader(n,t),a.linkProgram(n),n}compileShader(e,t){const a=this.gl,n=a.createShader(t);if(!n)throw new Error(`createShader() returned null with type ${t}`);if(a.shaderSource(n,e),a.compileShader(n),!1===a.getShaderParameter(n,a.COMPILE_STATUS))throw new Error(`Failed to compile shader: ${a.getShaderInfoLog(n)}\nShader source:\n${e}`);return n}deleteShader(e){this.gl.deleteShader(e)}bindTextureToUniform(e,t,a){const n=this.gl;n.activeTexture(n.TEXTURE0+t),this.checkError(),n.bindTexture(n.TEXTURE_2D,e),this.checkError(),n.uniform1i(a,t),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(s.env.debug){const e=this.gl,t=e.getError();let a="";switch(t){case e.NO_ERROR:return;case e.INVALID_ENUM:a="INVALID_ENUM";break;case e.INVALID_VALUE:a="INVALID_VALUE";break;case e.INVALID_OPERATION:a="INVALID_OPERATION";break;case e.INVALID_FRAMEBUFFER_OPERATION:a="INVALID_FRAMEBUFFER_OPERATION";break;case e.OUT_OF_MEMORY:a="OUT_OF_MEMORY";break;case e.CONTEXT_LOST_WEBGL:a="CONTEXT_LOST_WEBGL";break;default:a=`Unknown WebGL Error: ${t.toString(16)}`}throw new Error(a)}}deleteTexture(e){this.gl.deleteTexture(e)}deleteProgram(e){this.gl.deleteProgram(e)}getEncoder(e,t,a=0){if(2===this.version)return new c.RedFloat32DataEncoder(this.gl,t);switch(e){case"float":return 1===a||this.isRenderFloat32Supported?new c.RGBAFloatDataEncoder(this.gl,t):new c.RGBAFloatDataEncoder(this.gl,t,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new c.Uint8DataEncoder(this.gl,t);default:throw new Error(`Invalid dataType: ${e}`)}}clearActiveTextures(){const e=this.gl;for(let t=0;t<this.maxTextureImageUnits;++t)e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(this.framebuffer),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.vertexbuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const e=this.gl,t=e.createBuffer();if(!t)throw new Error("createBuffer() returned null");const a=this.createDefaultGeometry();return e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,a,e.STATIC_DRAW),this.checkError(),t}createFramebuffer(){const e=this.gl.createFramebuffer();if(!e)throw new Error("createFramebuffer returned null");return e}queryVitalParameters(){const e=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),1===this.version&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){2===this.version?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const e=this.gl,t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);const a=2===this.version?e.RGBA32F:e.RGBA;e.texImage2D(e.TEXTURE_2D,0,a,1,1,0,e.RGBA,e.FLOAT,null);const n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0);const r=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(t),e.deleteFramebuffer(n),r}checkRenderFloat32(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else{if(!this.textureFloatExtension)return!1;if(!this.gl.getExtension("WEBGL_color_buffer_float"))return!1}return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const e=this.gl;let t,a,n,r,o;try{t=e.createTexture(),a=e.createFramebuffer(),e.bindTexture(e.TEXTURE_2D,t);const s=2===this.version?e.RGBA32F:e.RGBA;return e.texImage2D(e.TEXTURE_2D,0,s,1,1,0,e.RGBA,e.FLOAT,null),e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),e.enable(e.BLEND),n=e.createShader(e.VERTEX_SHADER),!!n&&(e.shaderSource(n,"void main(){}"),e.compileShader(n),r=e.createShader(e.FRAGMENT_SHADER),!!r&&(e.shaderSource(r,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),e.compileShader(r),o=e.createProgram(),!!o&&(e.attachShader(o,n),e.attachShader(o,r),e.linkProgram(o),e.useProgram(o),e.drawArrays(e.POINTS,0,1),e.getError()===e.NO_ERROR)))}finally{e.disable(e.BLEND),o&&e.deleteProgram(o),n&&e.deleteShader(n),r&&e.deleteShader(r),a&&(e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(a)),t&&(e.bindTexture(e.TEXTURE_2D,null),e.deleteTexture(t))}}beginTimer(){if(2===this.version&&this.disjointTimerQueryWebgl2Extension){const e=this.gl,t=this.disjointTimerQueryWebgl2Extension,a=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,a),a}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const e=this.gl,t=this.disjointTimerQueryWebgl2Extension;e.endQuery(t.TIME_ELAPSED_EXT)}}isTimerResultAvailable(e){let t=!1,a=!1;if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const n=this.gl,r=this.disjointTimerQueryWebgl2Extension;t=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE),a=n.getParameter(r.GPU_DISJOINT_EXT)}return t&&!a}getTimerResult(e){let t=0;if(2!==this.version)throw new Error("WebGL1 profiling currently not supported");{const a=this.gl;t=a.getQueryParameter(e,a.QUERY_RESULT),a.deleteQuery(e)}return t/1e6}async waitForQueryAndGetTime(e){return await i.repeatedTry((()=>this.isTimerResultAvailable(e))),this.getTimerResult(e)}async createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t;const a=e,n=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);return e.flush(),t=null===n?()=>!0:()=>{const e=a.clientWaitSync(n,0,0);return e===a.ALREADY_SIGNALED||e===a.CONDITION_SATISFIED},{query:n,isFencePassed:t}}async pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=d(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}async addItemToPoll(e,t){this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||await i.repeatedTry((()=>(this.pollItems(),0===this.itemsToPoll.length)))}}},1036:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExecutionPlan=void 0;const n=a(6231);class r{constructor(e,t){this.op=e,this.node=t}}t.ExecutionPlan=class{constructor(e,t,a){this.graph=e,this.profiler=a,this.initialize(t)}initialize(e){this.profiler.event("session","ExecutionPlan.initialize",(()=>{const t=this.graph.getNodes();if(t.length!==e.length)throw new Error("The size of nodes and OPs do not match.");this._ops=e.map(((e,a)=>new r(e,t[a]))),this.reset(),this._starter=[],this._ops.forEach(((e,t)=>{let a=!0;for(const t of e.node.inputs)if(!this._values[t]&&-1===this.graph.getInputIndices().indexOf(t)){a=!1;break}a&&this._starter.push(t)}))}))}reset(){this._values=this.graph.getValues().map((e=>e.tensor))}async execute(e,t){return this.profiler.event("session","ExecutionPlan.execute",(async()=>{this.reset();const a=e.createInferenceHandler(),r=this.graph.getInputIndices();if(t.length!==r.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${t.length} expected: ${r.length}`);t.forEach(((e,t)=>{const a=r[t];this._values[a]=e}));const o=this._starter.slice(0),s=this.graph.getValues(),c=this.graph.getNodes();let i=0;for(;i<o.length;){const e=o[i++],t=this._ops[e],r=t.node.inputs.map((e=>this._values[e]));if(-1!==r.indexOf(void 0))throw new Error(`unresolved input detected: op: ${t.node}`);const d=r;n.Logger.verbose("ExecPlan",`Runing op:${t.node.name} (${d.map(((e,a)=>`'${t.node.inputs[a]}': ${e.type}[${e.dims.join(",")}]`)).join(", ")})`);const f=await this.profiler.event("node",t.node.name,(async()=>t.op.impl(a,d,t.op.context)));if(f.length!==t.node.outputs.length)throw new Error("the size of output does not match model definition.");f.forEach(((e,a)=>{const n=t.node.outputs[a];if(this._values[n])throw new Error(`output [${n}] already has value: op:${t.node.name}`);this._values[n]=e}));const $=new Set;f.forEach(((e,a)=>{const n=t.node.outputs[a];for(const e of s[n].to){const t=c[e];let a=!0;for(const e of t.inputs)if(!this._values[e]){a=!1;break}a&&$.add(e)}})),o.push(...$)}const d=[];for(let e=0;e<this.graph.getOutputIndices().length;e++){const t=this.graph.getOutputIndices()[e],a=this._values[t];if(void 0===a)throw new Error(`required output [${t}] does not have value`);0===t?await a.getData():a.data,d.push(a)}return n.Logger.verbose("ExecPlan","disposing of inferenceHandler"),a.dispose(),d}))}}},7070:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Graph=void 0;const n=a(1446),r=a(7778);var o=a(9395).onnxruntime.experimental.fbs;const s=a(9162),c=a(2517);t.Graph={from:(e,t)=>new f(e,t)};class i{constructor(e){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,e&&(this.type=c.ProtoUtil.tensorValueTypeFromProto(e.type.tensorType))}get from(){return this._from}get to(){return this._to}}class d{constructor(e,t){e instanceof n.onnx.NodeProto?(this.name=e.name,this.opType=e.opType,this.attributes=new r.Attribute(e.attribute)):e instanceof o.Node&&(this.name=null!=t?t:e.name(),this.opType=e.opType(),this.attributes=new r.Attribute(c.ProtoUtil.tensorAttributesFromORTFormat(e))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class f{constructor(e,t){if(!e)throw new TypeError("graph is empty");this.buildGraph(e),this.transformGraph(t),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(e){if(e instanceof n.onnx.GraphProto)this.buildGraphFromOnnxFormat(e);else{if(!(e instanceof o.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(e)}}buildGraphFromOnnxFormat(e){const t=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const a=new Map;if(!e.input)throw new Error("missing information in graph: input");const n=[];for(const a of e.input){if(t.has(a.name))throw new Error(`duplicated input name: ${a.name}`);const e=this._allData.push(new i(a))-1;t.set(a.name,e),n.push(a.name)}if(!e.initializer)throw new Error("missing information in graph: initializer");for(const a of e.initializer){let e=t.get(a.name);if(void 0===e){const n=new i;n.type={shape:{dims:c.ProtoUtil.tensorDimsFromProto(a.dims)},tensorType:c.ProtoUtil.tensorDataTypeFromProto(a.dataType)},e=this._allData.push(n)-1,t.set(a.name,e)}this._allData[e]._from=-1,this._allData[e].tensor=s.Tensor.fromProto(a)}for(let e=0;e<this._allData.length;e++)this._allData[e].tensor||(this._allInputIndices.push(e),this._allInputNames.push(n[e]));if(!e.output)throw new Error("missing information in graph: output");for(const a of e.output){if(t.has(a.name))throw new Error(`duplicated output name: ${a.name}`);const e=this._allData.push(new i(a))-1;t.set(a.name,e),this._allOutputIndices.push(e),this._allOutputNames.push(a.name)}if(!e.node)throw new Error("missing information in graph: node");for(const t of e.node){if(!t.name)for(let e=0;;e++){const n=`unnamed_${t.opType}_${e}`;if(!a.has(n)){t.name=n;break}}if(a.has(t.name))throw new Error(`duplicated node name: ${t.name}`);const e=this._nodes.push(new d(t))-1;a.set(t.name,e)}for(let a=0;a<this._nodes.length;a++){const n=this._nodes[a],r=e.node[a];if(!r.output)throw new Error(`missing output for node: ${r.name}`);for(const e of r.output){let o=t.get(e);if(void 0===o&&(o=this._allData.push(new i)-1,t.set(e,o)),n.outputs.push(o),void 0!==this._allData[o]._from)throw new Error(`multiple nodes output to one data value: ${o}`);if(this._allData[o]._from=a,"Constant"===r.opType){if(!r.attribute||1!==r.attribute.length||!r.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!r.output||1!==r.output.length)throw new Error("missing output or incorrect number of outputs for this Constant operator");n.outputs.pop(),n.executeNode=!1,this._allData[o]._from=-1,this._allData[o].tensor=s.Tensor.fromProto(r.attribute[0].t)}}}for(let a=0;a<this._nodes.length;a++){const n=this._nodes[a],r=e.node[a];if(!r.input)throw new Error(`missing input for node: ${r.name}`);for(const e of r.input){const o=t.get(e);if(void 0===o)throw new Error(`unrecognized input '${e}' for node: ${r.name}`);n.inputs.push(o),this._allData[o]._to.push(a)}}return!0}buildGraphFromOrtFormat(e){var t,a,n;const r=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const f=new Map,$=[];for(let s=0;s<e.inputsLength();s++){const d=e.inputs(s);if(r.has(d))throw new Error(`duplicated input name: ${d}`);for(let s=0;s<e.nodeArgsLength();s++)if((null===(t=e.nodeArgs(s))||void 0===t?void 0:t.name())===d){const t=new i;if((null===(n=null===(a=e.nodeArgs(s))||void 0===a?void 0:a.type())||void 0===n?void 0:n.valueType())!==o.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const f=e.nodeArgs(s).type().value(new o.TensorTypeAndShape),u=c.ProtoUtil.tensorDataTypeFromProto(f.elemType()),p=f.shape(),l=[];for(let e=0;e<p.dimLength();e++)l.push(c.LongUtil.longToNumber(p.dim(e).value().dimValue()));t.type={shape:{dims:l},tensorType:u};const b=this._allData.push(t)-1;r.set(d,b),$.push(d)}}for(let t=0;t<e.initializersLength();t++){const a=e.initializers(t);let n=r.get(a.name());if(void 0===n){const e=new i,t=c.ProtoUtil.tensorDimsFromORTFormat(a),o=c.ProtoUtil.tensorDataTypeFromProto(a.dataType());e.type={shape:{dims:t},tensorType:o},n=this._allData.push(e)-1,r.set(a.name(),n)}this._allData[n]._from=-1,this._allData[n].tensor=s.Tensor.fromOrtTensor(a)}for(let e=0;e<this._allData.length;e++)this._allData[e].tensor||(this._allInputIndices.push(e),this._allInputNames.push($[e]));for(let t=0;t<e.outputsLength();t++){const a=e.outputs(t);if(r.has(a))throw new Error(`duplicated output name: ${a}`);const n=this._allData.push(new i)-1;r.set(a,n),this._allOutputIndices.push(n),this._allOutputNames.push(a)}if(!e.nodes)throw new Error("missing information in graph: node");for(let t=0;t<e.nodesLength();t++){const a=e.nodes(t);let n=a.name();if(!n)for(let e=0;n=`unnamed_${a.opType()}_${e}`,f.has(n);e++);if(f.has(n))throw new Error(`duplicated node name: ${n}`);const r=this._nodes.push(new d(a,n))-1;f.set(n,r)}for(let t=0;t<this._nodes.length;t++){const a=this._nodes[t],n=e.nodes(t);if(null==n)throw new Error(`No node exists at index ${t}`);if(0===(null==n?void 0:n.outputsLength()))throw new Error(`missing output for node: ${n.name}`);for(let e=0;e<(null==n?void 0:n.outputsLength());e++){const o=null==n?void 0:n.outputs(e);let c=r.get(o);if(void 0===c&&(c=this._allData.push(new i)-1,r.set(o,c)),a.outputs.push(c),void 0!==this._allData[c]._from)throw new Error(`multiple nodes output to one data value: ${c}`);if(this._allData[c]._from=t,"Constant"===n.opType()){if(1!==n.attributesLength()||!n.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(1!==n.outputsLength())throw new Error("missing output or incorrect number of outputs for this Constant operator");a.outputs.pop(),a.executeNode=!1,this._allData[c]._from=-1,this._allData[c].tensor=s.Tensor.fromOrtTensor(n.attributes(0).t())}}}for(let t=0;t<this._nodes.length;t++){const a=this._nodes[t],n=e.nodes(t);if(0===n.inputsLength())throw new Error(`missing input for node: ${n.name}`);for(let e=0;e<n.inputsLength();e++){const o=n.inputs(e),s=r.get(o);if(void 0===s)throw new Error(`unrecognized input '${o}' for node: ${n.name()}`);a.inputs.push(s),this._allData[s]._to.push(t)}}}checkIsAcyclic(){const e=new Set;this._allInputIndices.forEach((t=>{this._allData[t]._to.forEach((t=>{e.add(t)}))}));const t=Array.from(e),a=new Array(this._nodes.length).fill("white");for(;t.length>0;){const e=t.pop();"gray"===a[e]?a[e]="black":(t.push(e),a[e]="gray",this._nodes[e].outputs.forEach((n=>{const r=this._allData[n];if(void 0!==r.tensor)throw new Error("node outputs should not be initialized");if(r._from!==e)throw new Error("from property of the Value object doesn't match index of Node being processed");r._to.forEach((e=>{if("gray"===a[e])throw new Error("model graph is cyclic");"white"===a[e]&&t.push(e)}))})))}}transformGraph(e){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),e&&e.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let e=0;for(let t=0;t<this._nodes.length;t++)this._nodes[t].executeNode?e>0&&(this._nodes[t].inputs.forEach((a=>{const n=this._allData[a]._to.indexOf(t+e);-1!==n&&(this._allData[a]._to[n]=t)})),this._nodes[t].outputs.forEach((a=>{this._allData[a]._from&&this._allData[a]._from===t+e&&(this._allData[a]._from=t)}))):(e++,this._nodes[t].outputs.forEach((e=>{this._allData[e]._from=-2})),this._nodes.splice(t,1),t--);e=0;for(let t=0;t<this._allData.length;t++)if(-2!==this._allData[t].from||-1!==this._allOutputIndices.indexOf(t+e)){if(e>0){let a=-1;void 0!==this._allData[t].from&&-1!==this._allData[t].from?(a=this._nodes[this._allData[t].from].outputs.indexOf(t+e),-1!==a&&(this._nodes[this._allData[t].from].outputs[a]=t)):(a=this._allInputIndices.indexOf(t+e),-1!==a&&(this._allInputIndices[a]=t)),this._allData[t].to.forEach((n=>{a=this._nodes[n].inputs.indexOf(t+e),-1!==a&&(this._nodes[n].inputs[a]=t)})),0===this._allData[t].to.length&&(a=this._allOutputIndices.indexOf(t+e),-1!==a&&(this._allOutputIndices[a]=t))}}else e++,this._allData.splice(t,1),t--}deleteNode(e){const t=this._nodes[e];if(t.outputs.length>1)for(let e=1;e<t.outputs.length;e++)if(this._allData[t.outputs[e]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ");t.executeNode=!1;const a=t.inputs[0],n=t.outputs[0],r=this._allData[n].to,o=this._allData[a].to.indexOf(e);if(-1===o)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[a].to.splice(o,1),this._allData[n]._to=[];const s=this._allOutputIndices.indexOf(n);if(-1!==s&&(this._allOutputIndices[s]=a),r&&r.length>0)for(const e of r){const t=this._nodes[e].inputs.indexOf(n);if(-1===t)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[e].inputs[t]=a,this._allData[a].to.push(e)}}removeAllDropoutNodes(){let e=0;for(const t of this._nodes){if("Dropout"===t.opType){if(1!==t.inputs.length)throw new Error("Dropout nodes should only contain one input. ");if(1!==t.outputs.length&&2!==t.outputs.length)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(2===t.outputs.length&&0!==this._allData[t.outputs[1]]._to.length)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(e)}e++}}removeAllIdentityNodes(){let e=0;for(const t of this._nodes)"Identity"===t.opType&&this.deleteNode(e),e++}isActivation(e){switch(e.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const e of this._nodes)if("Conv"===e.opType){const t=this._allData[e.outputs[0]]._to;if(1===t.length&&this.isActivation(this._nodes[t[0]])){const a=this._nodes[t[0]];if("Clip"===a.opType)if(1===a.inputs.length)try{e.attributes.set("activation_params","floats",[a.attributes.getFloat("min"),a.attributes.getFloat("max")])}catch(t){e.attributes.set("activation_params","floats",[c.MIN_CLIP,c.MAX_CLIP])}else{if(!(a.inputs.length>=3&&void 0!==this._allData[a.inputs[1]].tensor&&void 0!==this._allData[a.inputs[2]].tensor))continue;e.attributes.set("activation_params","floats",[this._allData[a.inputs[1]].tensor.floatData[0],this._allData[a.inputs[2]].tensor.floatData[0]])}e.attributes.set("activation","string",a.opType),this.deleteNode(t[0])}}}}},6231:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.now=t.Profiler=t.Logger=void 0;const a={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},n={none:new class{log(e,t,a){}},console:new class{log(e,t,a){console.log(`${this.color(e)} ${a?"[35m"+a+"[0m ":""}${t}`)}color(e){switch(e){case"verbose":return"[34;40mv[0m";case"info":return"[32mi[0m";case"warning":return"[30;43mw[0m";case"error":return"[31;40me[0m";case"fatal":return"[101mf[0m";default:throw new Error(`unsupported severity: ${e}`)}}}},r={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let o={"":r};function s(e,t,a,n){if(void 0===t)return r=e,{verbose:s.verbose.bind(null,r),info:s.info.bind(null,r),warning:s.warning.bind(null,r),error:s.error.bind(null,r),fatal:s.fatal.bind(null,r)};if(void 0===a)c(e,t);else if("number"==typeof a&&void 0===n)c(e,t);else if("string"==typeof a&&void 0===n)c(e,a,0,t);else{if("string"!=typeof a||"number"!=typeof n)throw new TypeError("input is valid");c(e,a,0,t)}var r}function c(e,t,r,s){const c=o[s||""]||o[""];a[e]<a[c.minimalSeverity]||(c.logDateTime&&(t=`${(new Date).toISOString()}|${t}`),c.logSourceLocation,n[c.provider].log(e,t,s))}!function(e){function t(e){o={},a("",e||{})}function a(e,a){if("*"===e)t(a);else{const t=o[e]||r;o[e]={provider:a.provider||t.provider,minimalSeverity:a.minimalSeverity||t.minimalSeverity,logDateTime:void 0===a.logDateTime?t.logDateTime:a.logDateTime,logSourceLocation:void 0===a.logSourceLocation?t.logSourceLocation:a.logSourceLocation}}}e.verbose=function(t,a){e("verbose",t,a)},e.info=function(t,a){e("info",t,a)},e.warning=function(t,a){e("warning",t,a)},e.error=function(t,a){e("error",t,a)},e.fatal=function(t,a){e("fatal",t,a)},e.reset=t,e.set=a,e.setWithEnv=function(e){const t={};e.logLevel&&(t.minimalSeverity=e.logLevel),a("",t)}}(s||(s={})),t.Logger=s;class i{constructor(e,t,a,n,r,o){this.category=e,this.name=t,this.startTime=a,this.endCallback=n,this.timer=r,this.ctx=o}end(){return this.endCallback(this)}async checkTimer(){if(void 0===this.ctx||void 0===this.timer)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class d{constructor(e,t,a,n){this.category=e,this.name=t,this.startTime=a,this.endTime=n}}t.Profiler=class{constructor(e,t,a){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=void 0===e?1e4:e,this._flushBatchSize=void 0===t?10:t,this._flushIntervalInMilliseconds=void 0===a?5e3:a}static create(e){return void 0===e?new this:new this(e.maxNumberEvents,e.flushBatchSize,e.flushIntervalInMilliseconds)}start(){this._started=!0,this._timingEvents=[],this._flushTime=t.now(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(e,t,a,n){const r=this._started?this.begin(e,t,n):void 0;let o=!1;const s=a();if(s&&"function"==typeof s.then)return o=!0,new Promise(((e,t)=>{s.then((async t=>{r&&await r.end(),e(t)}),(async e=>{r&&await r.end(),t(e)}))}));if(!o&&r){const e=r.end();if(e&&"function"==typeof e.then)return new Promise(((t,a)=>{e.then((()=>{t(s)}),(e=>{a(e)}))}))}return s}begin(e,a,n){if(!this._started)throw new Error("profiler is not started yet");if(void 0===n){const n=t.now();return this.flush(n),new i(e,a,n,(e=>this.endSync(e)))}{const t=n.beginTimer();return new i(e,a,0,(async e=>this.end(e)),t,n)}}async end(e){const t=await e.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new d(e.category,e.name,e.startTime,t)),this.flush(t))}endSync(e){const a=t.now();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new d(e.category,e.name,e.startTime,a)),this.flush(a))}logOneEvent(e){t.Logger.verbose(`Profiler.${e.category}`,`${(e.endTime-e.startTime).toFixed(2)}ms on event '${e.name}' at ${e.endTime.toFixed(2)}`)}flush(e){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||e-this._flushTime>=this._flushIntervalInMilliseconds){for(const e=this._flushPointer;this._flushPointer<e+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=t.now()}}get started(){return this._started}},t.now="undefined"!=typeof performance&&performance.now?()=>performance.now():Date.now},2644:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;const n=a(4819),r=a(1446),o=a(7070);var s=a(9395).onnxruntime.experimental.fbs;const c=a(2517);t.Model=class{constructor(){}load(e,t,a){if(!a)try{return void this.loadFromOnnxFormat(e,t)}catch(e){if(void 0!==a)throw e}this.loadFromOrtFormat(e,t)}loadFromOnnxFormat(e,t){const a=r.onnx.ModelProto.decode(e);if(c.LongUtil.longToNumber(a.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=a.opsetImport.map((e=>({domain:e.domain,version:c.LongUtil.longToNumber(e.version)}))),this._graph=o.Graph.from(a.graph,t)}loadFromOrtFormat(e,t){const a=new n.flatbuffers.ByteBuffer(e),r=s.InferenceSession.getRootAsInferenceSession(a).model();if(c.LongUtil.longToNumber(r.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let e=0;e<r.opsetImportLength();e++){const t=r.opsetImport(e);this._opsets.push({domain:null==t?void 0:t.domain(),version:c.LongUtil.longToNumber(t.version())})}this._graph=o.Graph.from(r.graph(),t)}get graph(){return this._graph}get opsets(){return this._opsets}}},782:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FLOAT_TYPES=t.INT_TYPES=t.NUMBER_TYPES=void 0,t.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],t.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],t.FLOAT_TYPES=["float32","float64"]},1047:(e,t)=>{function a(e,t){if(t.endsWith("+")){const a=Number.parseInt(t.substring(0,t.length-1),10);return!isNaN(a)&&a<=e}if(2===t.split("-").length){const a=t.split("-"),n=Number.parseInt(a[0],10),r=Number.parseInt(a[1],10);return!isNaN(n)&&!isNaN(r)&&n<=e&&e<=r}return Number.parseInt(t,10)===e}Object.defineProperty(t,"__esModule",{value:!0}),t.resolveOperator=void 0,t.resolveOperator=function(e,t,n){for(const r of n){const n=r[0],o=r[1],s=r[2],c=r[3],i=r[4];if(e.opType===n)for(const e of t)if((e.domain===o||"ai.onnx"===e.domain&&""===o)&&a(e.version,s))return{opImpl:c,opInit:i}}throw new TypeError(`cannot resolve operator '${e.opType}' with opsets: ${t.map((e=>`${e.domain||"ai.onnx"} v${e.version}`)).join(", ")}`)}},9395:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.onnxruntime=void 0;const n=a(4819);var r,o,s,c,i,d,f,$,u,p,l,b,h,x,m,g,v,y,w,_,I,S,T,k,E,A,C,O,N,R,F,D,P,M,L,B,U,V,W,z,G,j,H,q,K,X,Y,Z,J,Q,ee,te;(function(e){let t;var a;(a=t=e.AttributeType||(e.AttributeType={}))[a.UNDEFINED=0]="UNDEFINED",a[a.FLOAT=1]="FLOAT",a[a.INT=2]="INT",a[a.STRING=3]="STRING",a[a.TENSOR=4]="TENSOR",a[a.GRAPH=5]="GRAPH",a[a.FLOATS=6]="FLOATS",a[a.INTS=7]="INTS",a[a.STRINGS=8]="STRINGS",a[a.TENSORS=9]="TENSORS",a[a.GRAPHS=10]="GRAPHS",a[a.SPARSE_TENSOR=11]="SPARSE_TENSOR",a[a.SPARSE_TENSORS=12]="SPARSE_TENSORS"})((o=(r=t.onnxruntime||(t.onnxruntime={})).experimental||(r.experimental={})).fbs||(o.fbs={})),ee=t.onnxruntime||(t.onnxruntime={}),function(e){let t;var a;(a=t=e.DimensionValueType||(e.DimensionValueType={}))[a.UNKNOWN=0]="UNKNOWN",a[a.VALUE=1]="VALUE",a[a.PARAM=2]="PARAM"}((te=ee.experimental||(ee.experimental={})).fbs||(te.fbs={})),J=t.onnxruntime||(t.onnxruntime={}),function(e){let t;var a;(a=t=e.TensorDataType||(e.TensorDataType={}))[a.UNDEFINED=0]="UNDEFINED",a[a.FLOAT=1]="FLOAT",a[a.UINT8=2]="UINT8",a[a.INT8=3]="INT8",a[a.UINT16=4]="UINT16",a[a.INT16=5]="INT16",a[a.INT32=6]="INT32",a[a.INT64=7]="INT64",a[a.STRING=8]="STRING",a[a.BOOL=9]="BOOL",a[a.FLOAT16=10]="FLOAT16",a[a.DOUBLE=11]="DOUBLE",a[a.UINT32=12]="UINT32",a[a.UINT64=13]="UINT64",a[a.COMPLEX64=14]="COMPLEX64",a[a.COMPLEX128=15]="COMPLEX128",a[a.BFLOAT16=16]="BFLOAT16"}((Q=J.experimental||(J.experimental={})).fbs||(Q.fbs={})),Y=t.onnxruntime||(t.onnxruntime={}),function(e){let t;var a;(a=t=e.NodeType||(e.NodeType={}))[a.Primitive=0]="Primitive",a[a.Fused=1]="Fused"}((Z=Y.experimental||(Y.experimental={})).fbs||(Z.fbs={})),K=t.onnxruntime||(t.onnxruntime={}),function(e){let t;var a;(a=t=e.TypeInfoValue||(e.TypeInfoValue={}))[a.NONE=0]="NONE",a[a.tensor_type=1]="tensor_type",a[a.sequence_type=2]="sequence_type",a[a.map_type=3]="map_type"}((X=K.experimental||(K.experimental={})).fbs||(X.fbs={})),H=t.onnxruntime||(t.onnxruntime={}),function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsShape(e,a){return(a||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsShape(e,a){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(e.readInt32(e.position())+e.position(),e)}dim(e,t){let a=this.bb.__offset(this.bb_pos,4);return a?(t||new H.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*e),this.bb):null}dimLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}static startShape(e){e.startObject(1)}static addDim(e,t){e.addFieldOffset(0,t,0)}static createDimVector(e,t){e.startVector(4,t.length,4);for(let a=t.length-1;a>=0;a--)e.addOffset(t[a]);return e.endVector()}static startDimVector(e,t){e.startVector(4,t,4)}static endShape(e){return e.endObject()}static createShape(e,a){return t.startShape(e),t.addDim(e,a),t.endShape(e)}}e.Shape=t}((q=H.experimental||(H.experimental={})).fbs||(q.fbs={})),G=t.onnxruntime||(t.onnxruntime={}),function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDimension(e,a){return(a||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDimension(e,a){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(e.readInt32(e.position())+e.position(),e)}value(e){let t=this.bb.__offset(this.bb_pos,4);return t?(e||new G.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}denotation(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startDimension(e){e.startObject(2)}static addValue(e,t){e.addFieldOffset(0,t,0)}static addDenotation(e,t){e.addFieldOffset(1,t,0)}static endDimension(e){return e.endObject()}static createDimension(e,a,n){return t.startDimension(e),t.addValue(e,a),t.addDenotation(e,n),t.endDimension(e)}}e.Dimension=t}((j=G.experimental||(G.experimental={})).fbs||(j.fbs={})),W=t.onnxruntime||(t.onnxruntime={}),function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDimensionValue(e,a){return(a||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDimensionValue(e,a){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(e.readInt32(e.position())+e.position(),e)}dimType(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):W.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}dimParam(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}static startDimensionValue(e){e.startObject(3)}static addDimType(e,t){e.addFieldInt8(0,t,W.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(e,t){e.addFieldInt64(1,t,e.createLong(0,0))}static addDimParam(e,t){e.addFieldOffset(2,t,0)}static endDimensionValue(e){return e.endObject()}static createDimensionValue(e,a,n,r){return t.startDimensionValue(e),t.addDimType(e,a),t.addDimValue(e,n),t.addDimParam(e,r),t.endDimensionValue(e)}}e.DimensionValue=t}((z=W.experimental||(W.experimental={})).fbs||(z.fbs={})),U=t.onnxruntime||(t.onnxruntime={}),function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensorTypeAndShape(e,a){return(a||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensorTypeAndShape(e,a){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(e.readInt32(e.position())+e.position(),e)}elemType(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):U.experimental.fbs.TensorDataType.UNDEFINED}shape(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new U.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startTensorTypeAndShape(e){e.startObject(2)}static addElemType(e,t){e.addFieldInt32(0,t,U.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(e,t){e.addFieldOffset(1,t,0)}static endTensorTypeAndShape(e){return e.endObject()}static createTensorTypeAndShape(e,a,n){return t.startTensorTypeAndShape(e),t.addElemType(e,a),t.addShape(e,n),t.endTensorTypeAndShape(e)}}e.TensorTypeAndShape=t}((V=U.experimental||(U.experimental={})).fbs||(V.fbs={})),L=t.onnxruntime||(t.onnxruntime={}),function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMapType(e,a){return(a||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMapType(e,a){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(e.readInt32(e.position())+e.position(),e)}keyType(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):L.experimental.fbs.TensorDataType.UNDEFINED}valueType(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new L.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startMapType(e){e.startObject(2)}static addKeyType(e,t){e.addFieldInt32(0,t,L.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(e,t){e.addFieldOffset(1,t,0)}static endMapType(e){return e.endObject()}static createMapType(e,a,n){return t.startMapType(e),t.addKeyType(e,a),t.addValueType(e,n),t.endMapType(e)}}e.MapType=t}((B=L.experimental||(L.experimental={})).fbs||(B.fbs={})),P=t.onnxruntime||(t.onnxruntime={}),function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSequenceType(e,a){return(a||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSequenceType(e,a){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(e.readInt32(e.position())+e.position(),e)}elemType(e){let t=this.bb.__offset(this.bb_pos,4);return t?(e||new P.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startSequenceType(e){e.startObject(1)}static addElemType(e,t){e.addFieldOffset(0,t,0)}static endSequenceType(e){return e.endObject()}static createSequenceType(e,a){return t.startSequenceType(e),t.addElemType(e,a),t.endSequenceType(e)}}e.SequenceType=t}((M=P.experimental||(P.experimental={})).fbs||(M.fbs={})),F=t.onnxruntime||(t.onnxruntime={}),((D=F.experimental||(F.experimental={})).fbs||(D.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(e,t,a,n){return e.prep(4,12),e.writeInt32(n),e.writeInt32(a),e.writeInt32(t),e.offset()}},N=t.onnxruntime||(t.onnxruntime={}),function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNodeEdge(e,a){return(a||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNodeEdge(e,a){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(e.readInt32(e.position())+e.position(),e)}nodeIndex(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb_pos+e):0}inputEdges(e,t){let a=this.bb.__offset(this.bb_pos,6);return a?(t||new N.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+a)+12*e,this.bb):null}inputEdgesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}outputEdges(e,t){let a=this.bb.__offset(this.bb_pos,8);return a?(t||new N.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+a)+12*e,this.bb):null}outputEdgesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}static startNodeEdge(e){e.startObject(3)}static addNodeIndex(e,t){e.addFieldInt32(0,t,0)}static addInputEdges(e,t){e.addFieldOffset(1,t,0)}static startInputEdgesVector(e,t){e.startVector(12,t,4)}static addOutputEdges(e,t){e.addFieldOffset(2,t,0)}static startOutputEdgesVector(e,t){e.startVector(12,t,4)}static endNodeEdge(e){return e.endObject()}static createNodeEdge(e,a,n,r){return t.startNodeEdge(e),t.addNodeIndex(e,a),t.addInputEdges(e,n),t.addOutputEdges(e,r),t.endNodeEdge(e)}}e.NodeEdge=t}((R=N.experimental||(N.experimental={})).fbs||(R.fbs={})),C=t.onnxruntime||(t.onnxruntime={}),function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNode(e,a){return(a||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNode(e,a){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}domain(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}sinceVersion(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):0}index(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint32(this.bb_pos+e):0}opType(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null}type(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readInt32(this.bb_pos+e):C.experimental.fbs.NodeType.Primitive}executionProviderType(e){let t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__string(this.bb_pos+t,e):null}inputs(e,t){let a=this.bb.__offset(this.bb_pos,20);return a?this.bb.__string(this.bb.__vector(this.bb_pos+a)+4*e,t):null}inputsLength(){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__vector_len(this.bb_pos+e):0}outputs(e,t){let a=this.bb.__offset(this.bb_pos,22);return a?this.bb.__string(this.bb.__vector(this.bb_pos+a)+4*e,t):null}outputsLength(){let e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0}attributes(e,t){let a=this.bb.__offset(this.bb_pos,24);return a?(t||new C.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*e),this.bb):null}attributesLength(){let e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__vector_len(this.bb_pos+e):0}inputArgCounts(e){let t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0}inputArgCountsLength(){let e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0}inputArgCountsArray(){let e=this.bb.__offset(this.bb_pos,26);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}implicitInputs(e,t){let a=this.bb.__offset(this.bb_pos,28);return a?this.bb.__string(this.bb.__vector(this.bb_pos+a)+4*e,t):null}implicitInputsLength(){let e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__vector_len(this.bb_pos+e):0}static startNode(e){e.startObject(13)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addDomain(e,t){e.addFieldOffset(2,t,0)}static addSinceVersion(e,t){e.addFieldInt32(3,t,0)}static addIndex(e,t){e.addFieldInt32(4,t,0)}static addOpType(e,t){e.addFieldOffset(5,t,0)}static addType(e,t){e.addFieldInt32(6,t,C.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(e,t){e.addFieldOffset(7,t,0)}static addInputs(e,t){e.addFieldOffset(8,t,0)}static createInputsVector(e,t){e.startVector(4,t.length,4);for(let a=t.length-1;a>=0;a--)e.addOffset(t[a]);return e.endVector()}static startInputsVector(e,t){e.startVector(4,t,4)}static addOutputs(e,t){e.addFieldOffset(9,t,0)}static createOutputsVector(e,t){e.startVector(4,t.length,4);for(let a=t.length-1;a>=0;a--)e.addOffset(t[a]);return e.endVector()}static startOutputsVector(e,t){e.startVector(4,t,4)}static addAttributes(e,t){e.addFieldOffset(10,t,0)}static createAttributesVector(e,t){e.startVector(4,t.length,4);for(let a=t.length-1;a>=0;a--)e.addOffset(t[a]);return e.endVector()}static startAttributesVector(e,t){e.startVector(4,t,4)}static addInputArgCounts(e,t){e.addFieldOffset(11,t,0)}static createInputArgCountsVector(e,t){e.startVector(4,t.length,4);for(let a=t.length-1;a>=0;a--)e.addInt32(t[a]);return e.endVector()}static startInputArgCountsVector(e,t){e.startVector(4,t,4)}static addImplicitInputs(e,t){e.addFieldOffset(12,t,0)}static createImplicitInputsVector(e,t){e.startVector(4,t.length,4);for(let a=t.length-1;a>=0;a--)e.addOffset(t[a]);return e.endVector()}static startImplicitInputsVector(e,t){e.startVector(4,t,4)}static endNode(e){return e.endObject()}static createNode(e,a,n,r,o,s,c,i,d,f,$,u,p,l){return t.startNode(e),t.addName(e,a),t.addDocString(e,n),t.addDomain(e,r),t.addSinceVersion(e,o),t.addIndex(e,s),t.addOpType(e,c),t.addType(e,i),t.addExecutionProviderType(e,d),t.addInputs(e,f),t.addOutputs(e,$),t.addAttributes(e,u),t.addInputArgCounts(e,p),t.addImplicitInputs(e,l),t.endNode(e)}}e.Node=t}((O=C.experimental||(C.experimental={})).fbs||(O.fbs={})),E=t.onnxruntime||(t.onnxruntime={}),function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsValueInfo(e,a){return(a||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsValueInfo(e,a){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}type(e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new E.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startValueInfo(e){e.startObject(3)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addType(e,t){e.addFieldOffset(2,t,0)}static endValueInfo(e){return e.endObject()}static createValueInfo(e,a,n,r){return t.startValueInfo(e),t.addName(e,a),t.addDocString(e,n),t.addType(e,r),t.endValueInfo(e)}}e.ValueInfo=t}((A=E.experimental||(E.experimental={})).fbs||(A.fbs={})),T=t.onnxruntime||(t.onnxruntime={}),function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTypeInfo(e,a){return(a||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTypeInfo(e,a){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(e.readInt32(e.position())+e.position(),e)}denotation(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}valueType(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):T.experimental.fbs.TypeInfoValue.NONE}value(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}static startTypeInfo(e){e.startObject(3)}static addDenotation(e,t){e.addFieldOffset(0,t,0)}static addValueType(e,t){e.addFieldInt8(1,t,T.experimental.fbs.TypeInfoValue.NONE)}static addValue(e,t){e.addFieldOffset(2,t,0)}static endTypeInfo(e){return e.endObject()}static createTypeInfo(e,a,n,r){return t.startTypeInfo(e),t.addDenotation(e,a),t.addValueType(e,n),t.addValue(e,r),t.endTypeInfo(e)}}e.TypeInfo=t}((k=T.experimental||(T.experimental={})).fbs||(k.fbs={})),I=t.onnxruntime||(t.onnxruntime={}),function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsOperatorSetId(e,a){return(a||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsOperatorSetId(e,a){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(e.readInt32(e.position())+e.position(),e)}domain(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}version(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}static startOperatorSetId(e){e.startObject(2)}static addDomain(e,t){e.addFieldOffset(0,t,0)}static addVersion(e,t){e.addFieldInt64(1,t,e.createLong(0,0))}static endOperatorSetId(e){return e.endObject()}static createOperatorSetId(e,a,n){return t.startOperatorSetId(e),t.addDomain(e,a),t.addVersion(e,n),t.endOperatorSetId(e)}}e.OperatorSetId=t}((S=I.experimental||(I.experimental={})).fbs||(S.fbs={})),w=t.onnxruntime||(t.onnxruntime={}),function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensor(e,a){return(a||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensor(e,a){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}dims(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}dimsLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}dataType(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):w.experimental.fbs.TensorDataType.UNDEFINED}rawData(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0}rawDataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}rawDataArray(){let e=this.bb.__offset(this.bb_pos,12);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}stringData(e,t){let a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__string(this.bb.__vector(this.bb_pos+a)+4*e,t):null}stringDataLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}static startTensor(e){e.startObject(6)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addDims(e,t){e.addFieldOffset(2,t,0)}static createDimsVector(e,t){e.startVector(8,t.length,8);for(let a=t.length-1;a>=0;a--)e.addInt64(t[a]);return e.endVector()}static startDimsVector(e,t){e.startVector(8,t,8)}static addDataType(e,t){e.addFieldInt32(3,t,w.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(e,t){e.addFieldOffset(4,t,0)}static createRawDataVector(e,t){e.startVector(1,t.length,1);for(let a=t.length-1;a>=0;a--)e.addInt8(t[a]);return e.endVector()}static startRawDataVector(e,t){e.startVector(1,t,1)}static addStringData(e,t){e.addFieldOffset(5,t,0)}static createStringDataVector(e,t){e.startVector(4,t.length,4);for(let a=t.length-1;a>=0;a--)e.addOffset(t[a]);return e.endVector()}static startStringDataVector(e,t){e.startVector(4,t,4)}static endTensor(e){return e.endObject()}static createTensor(e,a,n,r,o,s,c){return t.startTensor(e),t.addName(e,a),t.addDocString(e,n),t.addDims(e,r),t.addDataType(e,o),t.addRawData(e,s),t.addStringData(e,c),t.endTensor(e)}}e.Tensor=t}((_=w.experimental||(w.experimental={})).fbs||(_.fbs={})),v=t.onnxruntime||(t.onnxruntime={}),function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensor(e,a){return(a||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensor(e,a){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(e.readInt32(e.position())+e.position(),e)}values(e){let t=this.bb.__offset(this.bb_pos,4);return t?(e||new v.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indices(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new v.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}dims(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}dimsLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSparseTensor(e){e.startObject(3)}static addValues(e,t){e.addFieldOffset(0,t,0)}static addIndices(e,t){e.addFieldOffset(1,t,0)}static addDims(e,t){e.addFieldOffset(2,t,0)}static createDimsVector(e,t){e.startVector(8,t.length,8);for(let a=t.length-1;a>=0;a--)e.addInt64(t[a]);return e.endVector()}static startDimsVector(e,t){e.startVector(8,t,8)}static endSparseTensor(e){return e.endObject()}static createSparseTensor(e,a,n,r){return t.startSparseTensor(e),t.addValues(e,a),t.addIndices(e,n),t.addDims(e,r),t.endSparseTensor(e)}}e.SparseTensor=t}((y=v.experimental||(v.experimental={})).fbs||(y.fbs={})),m=t.onnxruntime||(t.onnxruntime={}),function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsAttribute(e,a){return(a||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsAttribute(e,a){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}type(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):m.experimental.fbs.AttributeType.UNDEFINED}f(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat32(this.bb_pos+e):0}i(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}s(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null}t(e){let t=this.bb.__offset(this.bb_pos,16);return t?(e||new m.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}g(e){let t=this.bb.__offset(this.bb_pos,18);return t?(e||new m.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}floats(e){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+4*e):0}floatsLength(){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__vector_len(this.bb_pos+e):0}floatsArray(){let e=this.bb.__offset(this.bb_pos,20);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}ints(e){let t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}intsLength(){let e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0}strings(e,t){let a=this.bb.__offset(this.bb_pos,24);return a?this.bb.__string(this.bb.__vector(this.bb_pos+a)+4*e,t):null}stringsLength(){let e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__vector_len(this.bb_pos+e):0}tensors(e,t){let a=this.bb.__offset(this.bb_pos,26);return a?(t||new m.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*e),this.bb):null}tensorsLength(){let e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0}graphs(e,t){let a=this.bb.__offset(this.bb_pos,28);return a?(t||new m.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*e),this.bb):null}graphsLength(){let e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__vector_len(this.bb_pos+e):0}static startAttribute(e){e.startObject(13)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addType(e,t){e.addFieldInt32(2,t,m.experimental.fbs.AttributeType.UNDEFINED)}static addF(e,t){e.addFieldFloat32(3,t,0)}static addI(e,t){e.addFieldInt64(4,t,e.createLong(0,0))}static addS(e,t){e.addFieldOffset(5,t,0)}static addT(e,t){e.addFieldOffset(6,t,0)}static addG(e,t){e.addFieldOffset(7,t,0)}static addFloats(e,t){e.addFieldOffset(8,t,0)}static createFloatsVector(e,t){e.startVector(4,t.length,4);for(let a=t.length-1;a>=0;a--)e.addFloat32(t[a]);return e.endVector()}static startFloatsVector(e,t){e.startVector(4,t,4)}static addInts(e,t){e.addFieldOffset(9,t,0)}static createIntsVector(e,t){e.startVector(8,t.length,8);for(let a=t.length-1;a>=0;a--)e.addInt64(t[a]);return e.endVector()}static startIntsVector(e,t){e.startVector(8,t,8)}static addStrings(e,t){e.addFieldOffset(10,t,0)}static createStringsVector(e,t){e.startVector(4,t.length,4);for(let a=t.length-1;a>=0;a--)e.addOffset(t[a]);return e.endVector()}static startStringsVector(e,t){e.startVector(4,t,4)}static addTensors(e,t){e.addFieldOffset(11,t,0)}static createTensorsVector(e,t){e.startVector(4,t.length,4);for(let a=t.length-1;a>=0;a--)e.addOffset(t[a]);return e.endVector()}static startTensorsVector(e,t){e.startVector(4,t,4)}static addGraphs(e,t){e.addFieldOffset(12,t,0)}static createGraphsVector(e,t){e.startVector(4,t.length,4);for(let a=t.length-1;a>=0;a--)e.addOffset(t[a]);return e.endVector()}static startGraphsVector(e,t){e.startVector(4,t,4)}static endAttribute(e){return e.endObject()}static createAttribute(e,a,n,r,o,s,c,i,d,f,$,u,p,l){return t.startAttribute(e),t.addName(e,a),t.addDocString(e,n),t.addType(e,r),t.addF(e,o),t.addI(e,s),t.addS(e,c),t.addT(e,i),t.addG(e,d),t.addFloats(e,f),t.addInts(e,$),t.addStrings(e,u),t.addTensors(e,p),t.addGraphs(e,l),t.endAttribute(e)}}e.Attribute=t}((g=m.experimental||(m.experimental={})).fbs||(g.fbs={})),h=t.onnxruntime||(t.onnxruntime={}),function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsGraph(e,a){return(a||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsGraph(e,a){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(e.readInt32(e.position())+e.position(),e)}initializers(e,t){let a=this.bb.__offset(this.bb_pos,4);return a?(t||new h.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*e),this.bb):null}initializersLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}nodeArgs(e,t){let a=this.bb.__offset(this.bb_pos,6);return a?(t||new h.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*e),this.bb):null}nodeArgsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}nodes(e,t){let a=this.bb.__offset(this.bb_pos,8);return a?(t||new h.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*e),this.bb):null}nodesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}maxNodeIndex(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readUint32(this.bb_pos+e):0}nodeEdges(e,t){let a=this.bb.__offset(this.bb_pos,12);return a?(t||new h.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*e),this.bb):null}nodeEdgesLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}inputs(e,t){let a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__string(this.bb.__vector(this.bb_pos+a)+4*e,t):null}inputsLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}outputs(e,t){let a=this.bb.__offset(this.bb_pos,16);return a?this.bb.__string(this.bb.__vector(this.bb_pos+a)+4*e,t):null}outputsLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}sparseInitializers(e,t){let a=this.bb.__offset(this.bb_pos,18);return a?(t||new h.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*e),this.bb):null}sparseInitializersLength(){let e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__vector_len(this.bb_pos+e):0}static startGraph(e){e.startObject(8)}static addInitializers(e,t){e.addFieldOffset(0,t,0)}static createInitializersVector(e,t){e.startVector(4,t.length,4);for(let a=t.length-1;a>=0;a--)e.addOffset(t[a]);return e.endVector()}static startInitializersVector(e,t){e.startVector(4,t,4)}static addNodeArgs(e,t){e.addFieldOffset(1,t,0)}static createNodeArgsVector(e,t){e.startVector(4,t.length,4);for(let a=t.length-1;a>=0;a--)e.addOffset(t[a]);return e.endVector()}static startNodeArgsVector(e,t){e.startVector(4,t,4)}static addNodes(e,t){e.addFieldOffset(2,t,0)}static createNodesVector(e,t){e.startVector(4,t.length,4);for(let a=t.length-1;a>=0;a--)e.addOffset(t[a]);return e.endVector()}static startNodesVector(e,t){e.startVector(4,t,4)}static addMaxNodeIndex(e,t){e.addFieldInt32(3,t,0)}static addNodeEdges(e,t){e.addFieldOffset(4,t,0)}static createNodeEdgesVector(e,t){e.startVector(4,t.length,4);for(let a=t.length-1;a>=0;a--)e.addOffset(t[a]);return e.endVector()}static startNodeEdgesVector(e,t){e.startVector(4,t,4)}static addInputs(e,t){e.addFieldOffset(5,t,0)}static createInputsVector(e,t){e.startVector(4,t.length,4);for(let a=t.length-1;a>=0;a--)e.addOffset(t[a]);return e.endVector()}static startInputsVector(e,t){e.startVector(4,t,4)}static addOutputs(e,t){e.addFieldOffset(6,t,0)}static createOutputsVector(e,t){e.startVector(4,t.length,4);for(let a=t.length-1;a>=0;a--)e.addOffset(t[a]);return e.endVector()}static startOutputsVector(e,t){e.startVector(4,t,4)}static addSparseInitializers(e,t){e.addFieldOffset(7,t,0)}static createSparseInitializersVector(e,t){e.startVector(4,t.length,4);for(let a=t.length-1;a>=0;a--)e.addOffset(t[a]);return e.endVector()}static startSparseInitializersVector(e,t){e.startVector(4,t,4)}static endGraph(e){return e.endObject()}static createGraph(e,a,n,r,o,s,c,i,d){return t.startGraph(e),t.addInitializers(e,a),t.addNodeArgs(e,n),t.addNodes(e,r),t.addMaxNodeIndex(e,o),t.addNodeEdges(e,s),t.addInputs(e,c),t.addOutputs(e,i),t.addSparseInitializers(e,d),t.endGraph(e)}}e.Graph=t}((x=h.experimental||(h.experimental={})).fbs||(x.fbs={})),l=t.onnxruntime||(t.onnxruntime={}),function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsModel(e,a){return(a||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsModel(e,a){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(e.readInt32(e.position())+e.position(),e)}irVersion(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}opsetImport(e,t){let a=this.bb.__offset(this.bb_pos,6);return a?(t||new l.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*e),this.bb):null}opsetImportLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}producerName(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}producerVersion(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null}domain(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__string(this.bb_pos+t,e):null}modelVersion(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}docString(e){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__string(this.bb_pos+t,e):null}graph(e){let t=this.bb.__offset(this.bb_pos,18);return t?(e||new l.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}graphDocString(e){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.__string(this.bb_pos+t,e):null}static startModel(e){e.startObject(9)}static addIrVersion(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addOpsetImport(e,t){e.addFieldOffset(1,t,0)}static createOpsetImportVector(e,t){e.startVector(4,t.length,4);for(let a=t.length-1;a>=0;a--)e.addOffset(t[a]);return e.endVector()}static startOpsetImportVector(e,t){e.startVector(4,t,4)}static addProducerName(e,t){e.addFieldOffset(2,t,0)}static addProducerVersion(e,t){e.addFieldOffset(3,t,0)}static addDomain(e,t){e.addFieldOffset(4,t,0)}static addModelVersion(e,t){e.addFieldInt64(5,t,e.createLong(0,0))}static addDocString(e,t){e.addFieldOffset(6,t,0)}static addGraph(e,t){e.addFieldOffset(7,t,0)}static addGraphDocString(e,t){e.addFieldOffset(8,t,0)}static endModel(e){return e.endObject()}static createModel(e,a,n,r,o,s,c,i,d,f){return t.startModel(e),t.addIrVersion(e,a),t.addOpsetImport(e,n),t.addProducerName(e,r),t.addProducerVersion(e,o),t.addDomain(e,s),t.addModelVersion(e,c),t.addDocString(e,i),t.addGraph(e,d),t.addGraphDocString(e,f),t.endModel(e)}}e.Model=t}((b=l.experimental||(l.experimental={})).fbs||(b.fbs={})),u=t.onnxruntime||(t.onnxruntime={}),function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKernelCreateInfos(e,a){return(a||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKernelCreateInfos(e,a){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(e.readInt32(e.position())+e.position(),e)}nodeIndices(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb.__vector(this.bb_pos+t)+4*e):0}nodeIndicesLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}nodeIndicesArray(){let e=this.bb.__offset(this.bb_pos,4);return e?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}kernelDefHashes(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}kernelDefHashesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}static startKernelCreateInfos(e){e.startObject(2)}static addNodeIndices(e,t){e.addFieldOffset(0,t,0)}static createNodeIndicesVector(e,t){e.startVector(4,t.length,4);for(let a=t.length-1;a>=0;a--)e.addInt32(t[a]);return e.endVector()}static startNodeIndicesVector(e,t){e.startVector(4,t,4)}static addKernelDefHashes(e,t){e.addFieldOffset(1,t,0)}static createKernelDefHashesVector(e,t){e.startVector(8,t.length,8);for(let a=t.length-1;a>=0;a--)e.addInt64(t[a]);return e.endVector()}static startKernelDefHashesVector(e,t){e.startVector(8,t,8)}static endKernelCreateInfos(e){return e.endObject()}static createKernelCreateInfos(e,a,n){return t.startKernelCreateInfos(e),t.addNodeIndices(e,a),t.addKernelDefHashes(e,n),t.endKernelCreateInfos(e)}}e.KernelCreateInfos=t}((p=u.experimental||(u.experimental={})).fbs||(p.fbs={})),f=t.onnxruntime||(t.onnxruntime={}),function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSubGraphSessionState(e,a){return(a||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSubGraphSessionState(e,a){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(e.readInt32(e.position())+e.position(),e)}graphId(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}sessionState(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new f.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startSubGraphSessionState(e){e.startObject(2)}static addGraphId(e,t){e.addFieldOffset(0,t,0)}static addSessionState(e,t){e.addFieldOffset(1,t,0)}static endSubGraphSessionState(e){let t=e.endObject();return e.requiredField(t,4),t}static createSubGraphSessionState(e,a,n){return t.startSubGraphSessionState(e),t.addGraphId(e,a),t.addSessionState(e,n),t.endSubGraphSessionState(e)}}e.SubGraphSessionState=t}(($=f.experimental||(f.experimental={})).fbs||($.fbs={})),i=t.onnxruntime||(t.onnxruntime={}),function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSessionState(e,a){return(a||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSessionState(e,a){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(e.readInt32(e.position())+e.position(),e)}kernels(e){let t=this.bb.__offset(this.bb_pos,4);return t?(e||new i.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}subGraphSessionStates(e,t){let a=this.bb.__offset(this.bb_pos,6);return a?(t||new i.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+4*e),this.bb):null}subGraphSessionStatesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSessionState(e){e.startObject(2)}static addKernels(e,t){e.addFieldOffset(0,t,0)}static addSubGraphSessionStates(e,t){e.addFieldOffset(1,t,0)}static createSubGraphSessionStatesVector(e,t){e.startVector(4,t.length,4);for(let a=t.length-1;a>=0;a--)e.addOffset(t[a]);return e.endVector()}static startSubGraphSessionStatesVector(e,t){e.startVector(4,t,4)}static endSessionState(e){return e.endObject()}static createSessionState(e,a,n){return t.startSessionState(e),t.addKernels(e,a),t.addSubGraphSessionStates(e,n),t.endSessionState(e)}}e.SessionState=t}((d=i.experimental||(i.experimental={})).fbs||(d.fbs={})),s=t.onnxruntime||(t.onnxruntime={}),function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInferenceSession(e,a){return(a||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInferenceSession(e,a){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(a||new t).__init(e.readInt32(e.position())+e.position(),e)}static bufferHasIdentifier(e){return e.__has_identifier("ORTM")}ortVersion(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}model(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new s.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}sessionState(e){let t=this.bb.__offset(this.bb_pos,8);return t?(e||new s.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startInferenceSession(e){e.startObject(3)}static addOrtVersion(e,t){e.addFieldOffset(0,t,0)}static addModel(e,t){e.addFieldOffset(1,t,0)}static addSessionState(e,t){e.addFieldOffset(2,t,0)}static endInferenceSession(e){return e.endObject()}static finishInferenceSessionBuffer(e,t){e.finish(t,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(e,t){e.finish(t,"ORTM",!0)}static createInferenceSession(e,a,n,r){return t.startInferenceSession(e),t.addOrtVersion(e,a),t.addModel(e,n),t.addSessionState(e,r),t.endInferenceSession(e)}}e.InferenceSession=t}((c=s.experimental||(s.experimental={})).fbs||(c.fbs={}))},7448:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OnnxjsSessionHandler=void 0;const n=a(2174),r=a(9162);t.OnnxjsSessionHandler=class{constructor(e){this.session=e,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(e,t,a){const o=new Map;for(const t in e)if(Object.hasOwnProperty.call(e,t)){const a=e[t];o.set(t,new r.Tensor(a.dims,a.type,void 0,void 0,a.data))}const s=await this.session.run(o),c={};return s.forEach(((e,t)=>{c[t]=new n.Tensor(e.type,e.data,e.dims)})),c}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6919:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Session=void 0;const n=a(7067),r=a(1296),o=a(7091),s=a(1036),c=a(6231),i=a(2644);t.Session=class{constructor(e={}){this._initialized=!1,this.backendHint=e.backendHint,this.profiler=c.Profiler.create(e.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(e,t,a){await this.profiler.event("session","Session.loadModel",(async()=>{const s=await o.resolveBackend(this.backendHint);if(this.sessionHandler=s.createSessionHandler(this.context),this._model=new i.Model,"string"==typeof e){const t=e.endsWith(".ort");if("undefined"==typeof fetch){const a=await r.promisify(n.readFile)(e);this.initialize(a,t)}else{const a=await fetch(e),n=await a.arrayBuffer();this.initialize(new Uint8Array(n),t)}}else if(ArrayBuffer.isView(e))this.initialize(e);else{const n=new Uint8Array(e,t||0,a||e.byteLength);this.initialize(n)}}))}initialize(e,t){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",(()=>{const a=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(e,a,t),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new s.ExecutionPlan(this._model.graph,this._ops,this.profiler)})),this._initialized=!0}async run(e){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",(async()=>{const t=this.normalizeAndValidateInputs(e),a=await this._executionPlan.execute(this.sessionHandler,t);return this.createOutput(a)}))}normalizeAndValidateInputs(e){const t=this._model.graph.getInputNames();if(Array.isArray(e)){if(e.length!==t.length)throw new Error(`incorrect input array length: expected ${t.length} but got ${e.length}`)}else{if(e.size!==t.length)throw new Error(`incorrect input map size: expected ${t.length} but got ${e.size}`);const a=new Array(e.size);let n=0;for(let r=0;r<t.length;++r){const o=e.get(t[r]);if(!o)throw new Error(`missing input tensor for: '${name}'`);a[n++]=o}e=a}if(this.context.graphInputTypes&&0!==this.context.graphInputTypes.length&&this.context.graphInputDims&&0!==this.context.graphInputDims.length)this.validateInputTensorDims(this.context.graphInputDims,e,!1);else{const t=this._model.graph.getInputIndices(),a=this._model.graph.getValues(),n=new Array(t.length);for(let r=0;r<t.length;++r){const o=a[t[r]];n[r]=o.type.shape.dims,this.context.graphInputTypes.push(o.type.tensorType),this.context.graphInputDims.push(e[r].dims)}this.validateInputTensorDims(n,e,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,e),e}validateInputTensorTypes(e,t){for(let a=0;a<t.length;a++){const n=e[a],r=t[a].type;if(n!==r)throw new Error(`input tensor[${a}] check failed: expected type '${n}' but got ${r}`)}}validateInputTensorDims(e,t,a){for(let n=0;n<t.length;n++){const r=e[n],o=t[n].dims;if(!this.compareTensorDims(r,o,a))throw new Error(`input tensor[${n}] check failed: expected shape '[${r.join(",")}]' but got [${o.join(",")}]`)}}compareTensorDims(e,t,a){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n]&&(!a||0!==e[n]))return!1;return!0}createOutput(e){const t=this._model.graph.getOutputNames();if(e.length!==t.length)throw new Error("expected number of outputs do not match number of generated outputs");const a=new Map;for(let n=0;n<t.length;++n)a.set(t[n],e[n]);return a}initializeOps(e){const t=e.getNodes();this._ops=new Array(t.length);for(let a=0;a<t.length;a++)this._ops[a]=this.sessionHandler.resolve(t[a],this._model.opsets,e)}}},9162:function(e,t,a){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Tensor=void 0;const r=a(3442),o=n(a(3720)),s=a(1446);var c=a(9395).onnxruntime.experimental.fbs;const i=a(2517);class d{constructor(e,t,a,n,o,s=r.Guid.create()){this.dims=e,this.type=t,this.dataProvider=a,this.asyncDataProvider=n,this.cache=o,this.dataId=s,this.size=i.ShapeUtil.validateDimsAndCalcSize(e);const c=this.size,d=void 0===a&&void 0===n&&void 0===o;if(void 0!==o&&o.length!==c)throw new RangeError("Input dims doesn't match data length.");if("string"===t){if(!(void 0===o||Array.isArray(o)&&o.every((e=>"string"==typeof e))))throw new TypeError("cache should be a string array");d&&(this.cache=new Array(c))}else{if(void 0!==o){const e=$(t);if(!(o instanceof e))throw new TypeError(`cache should be type ${e.name}`)}if(d){const e=new ArrayBuffer(c*function(e){switch(e){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${e}`)}}(t));this.cache=(f=e,new($(t))(f))}}var f}get data(){if(void 0===this.cache){const e=this.dataProvider(this.dataId);if(e.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=e}return this.cache}get stringData(){if("string"!==this.type)throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if("string"!==this.type)return this.data;throw new TypeError("type cannot be non-number (string)")}get(e){return this.data[i.ShapeUtil.indicesToOffset(e,this.strides)]}set(e,t){this.data[i.ShapeUtil.indicesToOffset(e,this.strides)]=t}async getData(){return void 0===this.cache&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=i.ShapeUtil.computeStrides(this.dims)),this._strides}static fromProto(e){if(!e)throw new Error("cannot construct Value from an empty tensor");const t=i.ProtoUtil.tensorDataTypeFromProto(e.dataType),a=i.ProtoUtil.tensorDimsFromProto(e.dims),n=new d(a,t);if("string"===t)e.stringData.forEach(((e,t)=>{n.data[t]=i.decodeUtf8String(e)}));else if(e.rawData&&"number"==typeof e.rawData.byteLength&&e.rawData.byteLength>0){const t=n.data,a=new DataView(e.rawData.buffer,e.rawData.byteOffset,e.rawData.byteLength),r=f(e.dataType),o=e.rawData.byteLength/r;if(e.rawData.byteLength%r!=0)throw new Error("invalid buffer length");if(t.length!==o)throw new Error("buffer length mismatch");for(let n=0;n<o;n++){const o=p(a,e.dataType,n*r);t[n]=o}}else{let t;switch(e.dataType){case s.onnx.TensorProto.DataType.FLOAT:t=e.floatData;break;case s.onnx.TensorProto.DataType.INT32:case s.onnx.TensorProto.DataType.INT16:case s.onnx.TensorProto.DataType.UINT16:case s.onnx.TensorProto.DataType.INT8:case s.onnx.TensorProto.DataType.UINT8:case s.onnx.TensorProto.DataType.BOOL:t=e.int32Data;break;case s.onnx.TensorProto.DataType.INT64:t=e.int64Data;break;case s.onnx.TensorProto.DataType.DOUBLE:t=e.doubleData;break;case s.onnx.TensorProto.DataType.UINT32:case s.onnx.TensorProto.DataType.UINT64:t=e.uint64Data;break;default:throw new Error("unspecific error")}if(null==t)throw new Error("failed to populate data from a tensorproto value");const a=n.data;if(a.length!==t.length)throw new Error("array length mismatch");for(let n=0;n<t.length;n++){const r=t[n];o.default.isLong(r)?a[n]=u(r,e.dataType):a[n]=r}}return n}static fromData(e,t,a){return new d(t,a,void 0,void 0,e)}static fromOrtTensor(e){if(!e)throw new Error("cannot construct Value from an empty tensor");const t=i.ProtoUtil.tensorDimsFromORTFormat(e),a=i.ProtoUtil.tensorDataTypeFromProto(e.dataType()),n=new d(t,a);if("string"===a)for(let t=0;t<e.stringDataLength();t++)n.data[t]=e.stringData(t);else if(e.rawDataArray()&&"number"==typeof e.rawDataLength()&&e.rawDataLength()>0){const t=n.data,a=new DataView(e.rawDataArray().buffer,e.rawDataArray().byteOffset,e.rawDataLength()),r=f(e.dataType()),o=e.rawDataLength()/r;if(e.rawDataLength()%r!=0)throw new Error("invalid buffer length");if(t.length!==o)throw new Error("buffer length mismatch");for(let n=0;n<o;n++){const o=p(a,e.dataType(),n*r);t[n]=o}}return n}}function f(e){switch(e){case s.onnx.TensorProto.DataType.UINT8:case s.onnx.TensorProto.DataType.INT8:case s.onnx.TensorProto.DataType.BOOL:return 1;case s.onnx.TensorProto.DataType.UINT16:case s.onnx.TensorProto.DataType.INT16:return 2;case s.onnx.TensorProto.DataType.FLOAT:case s.onnx.TensorProto.DataType.INT32:case s.onnx.TensorProto.DataType.UINT32:return 4;case s.onnx.TensorProto.DataType.INT64:case s.onnx.TensorProto.DataType.DOUBLE:case s.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${s.onnx.TensorProto.DataType[e]}`)}}function $(e){switch(e){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function u(e,t){if(t===s.onnx.TensorProto.DataType.INT64||t===c.TensorDataType.INT64){if(e.greaterThanOrEqual(2147483648)||e.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(t!==s.onnx.TensorProto.DataType.UINT32&&t!==c.TensorDataType.UINT32&&t!==s.onnx.TensorProto.DataType.UINT64&&t!==c.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${s.onnx.TensorProto.DataType[t]}`);if(e.greaterThanOrEqual(4294967296)||e.lessThan(0))throw new TypeError("uint64 is not supported")}return e.toNumber()}function p(e,t,a){switch(t){case s.onnx.TensorProto.DataType.BOOL:case s.onnx.TensorProto.DataType.UINT8:return e.getUint8(a);case s.onnx.TensorProto.DataType.INT8:return e.getInt8(a);case s.onnx.TensorProto.DataType.UINT16:return e.getUint16(a,!0);case s.onnx.TensorProto.DataType.INT16:return e.getInt16(a,!0);case s.onnx.TensorProto.DataType.FLOAT:return e.getFloat32(a,!0);case s.onnx.TensorProto.DataType.INT32:return e.getInt32(a,!0);case s.onnx.TensorProto.DataType.UINT32:return e.getUint32(a,!0);case s.onnx.TensorProto.DataType.INT64:return u(o.default.fromBits(e.getUint32(a,!0),e.getUint32(a+4,!0),!1),t);case s.onnx.TensorProto.DataType.DOUBLE:return e.getFloat64(a,!0);case s.onnx.TensorProto.DataType.UINT64:return u(o.default.fromBits(e.getUint32(a,!0),e.getUint32(a+4,!0),!0),t);default:throw new Error(`cannot read from DataView for type ${s.onnx.TensorProto.DataType[t]}`)}}t.Tensor=d},2517:function(e,t,a){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeUtf8String=t.MAX_CLIP=t.MIN_CLIP=t.PoolConvUtil=t.ReduceUtil=t.SplitUtil=t.MathUtil=t.ShapeUtil=t.LongUtil=t.ProtoUtil=t.GemmUtil=t.arrayCopyHelper=t.BroadcastUtil=t.MatMulUtil=t.ArrayUtil=t.assert=t.checkInputsShape=void 0;const r=a(4819),o=n(a(3720)),s=a(1446),c=a(9162);t.checkInputsShape=function(e,...t){if(!e||e.length!==t.length)return!1;for(let a=0;a<e.length;a++)if(!e[a].dims||e[a].dims.length!==t[a])return!1;return!0},t.assert=function(e,t){if(!e)throw new Error("string"==typeof t?t:t())},t.ArrayUtil=class{static arraysEqual(e,t){if(e.length!==t.length)return!1;for(let a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}};class i{static preprocessInputShapes(e,t){return[1===e.length?[1,e[0]]:e,1===t.length?[t[0],1]:t]}static postprocessOutputShape(e,t,a){1===t&&e.splice(e.length-2,1),1===a&&e.pop()}static calcMatMulShape(e,t){return e[1]!==t[0]?void 0:[e[0],t[1]]}}t.MatMulUtil=i;class d{static calcShape(e,t,a=!1){const n=e.length,r=t.length;if(0===n)return t;if(0===r)return e;const o=Math.max(e.length,t.length),s=new Array(o);if(a){if(n<2||r<2)return;const a=i.calcMatMulShape([e[n-2],e[n-1]],[t[r-2],t[r-1]]);if(void 0===a)return;[s[o-2],s[o-1]]=a}for(let c=a?3:1;c<=o;c++){const a=n-c<0?1:e[n-c],i=r-c<0?1:t[r-c];if(a!==i&&a>1&&i>1)return;s[o-c]=Math.max(a,i)}return s}static index(e,t){const a=new Array(t.length);return d.fillIndex(e,t,a),a}static fillIndex(e,t,a){const n=e.length-t.length;for(let r=0;r<t.length;r++)a[r]=e[n+r]%t[r]}static calc(e,t,a,n,r){const o=d.calcShape(e.dims,t.dims);if(o){if(n&&!u.areEqual(o,e.dims))return;const s=u.size(o),i=n?e:new c.Tensor(o,r||e.type);if(0===o.length)i.set([],a(e.get([]),t.get([])));else{const n=new Array(o.length),r=new Array(e.dims.length),c=new Array(t.dims.length);let f,$=0,u=0,p=!1,l=!1;0===e.dims.length&&($=e.get([]),p=!0),0===t.dims.length&&(u=t.get([]),l=!0);for(let b=0;b<s;b++){f=b;for(let e=o.length-1;e>=0;e--)n[e]=f%o[e],f=Math.floor(f/o[e]);p||(d.fillIndex(n,e.dims,r),$=e.get(r)),l||(d.fillIndex(n,t.dims,c),u=t.get(c)),i.set(n,a($,u))}}return i}}static isValidBroadcast(e,t){const a=e.length,n=t.length;if(a>n)return!1;for(let r=1;r<=a;r++)if(1!==e[a-r]&&e[a-r]!==t[n-r])return!1;return!0}static getBroadcastDims(e,t){const a=e.length,n=[];for(let r=0;r<a;r++){const o=a-1-r,s=e[o]||1;(t[t.length-1-r]||1)>1&&1===s&&n.unshift(o)}return n}}t.BroadcastUtil=d,t.arrayCopyHelper=function(e,t,a,n,r){if(n<0||n>=t.length)throw new Error("sourceIndex out of bounds");if(a<0||a>=e.length)throw new Error("targetIndex out of bounds");if(n+r>t.length)throw new Error("source indices to be copied are outside bounds");if(a+r>e.length)throw new Error("target array is too small to hold result");for(let o=0;o<r;o++)e[a+o]=t[n+o]},t.GemmUtil=class{static getShapeOfGemmResult(e,t,a,n,r){if(2!==e.length||2!==a.length)throw new Error("shape need to be of size 2");let o,s,c;t?(o=e[1],s=e[0]):(o=e[0],s=e[1]);let i=-1;if(n?(c=a[0],i=1):(c=a[1],i=0),a[i]!==s)throw new Error("dimension mismatch");if(o<=0||c<=0||s<=0)throw new Error("invalid shape specified");if(r&&!d.isValidBroadcast(r,[o,c]))throw new Error("gemm: invalid bias shape for broadcast");return[o,c,s]}};class f{static tensorDataTypeFromProto(e){switch(e){case s.onnx.TensorProto.DataType.INT8:return"int8";case s.onnx.TensorProto.DataType.UINT8:return"uint8";case s.onnx.TensorProto.DataType.BOOL:return"bool";case s.onnx.TensorProto.DataType.INT16:return"int16";case s.onnx.TensorProto.DataType.UINT16:return"uint16";case s.onnx.TensorProto.DataType.INT32:return"int32";case s.onnx.TensorProto.DataType.UINT32:return"uint32";case s.onnx.TensorProto.DataType.FLOAT:return"float32";case s.onnx.TensorProto.DataType.DOUBLE:return"float64";case s.onnx.TensorProto.DataType.STRING:return"string";case s.onnx.TensorProto.DataType.INT64:return"int32";case s.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${s.onnx.TensorProto.DataType[e]}`)}}static tensorDataTypeStringToEnum(e){switch(e){case"int8":return s.onnx.TensorProto.DataType.INT8;case"uint8":return s.onnx.TensorProto.DataType.UINT8;case"bool":return s.onnx.TensorProto.DataType.BOOL;case"int16":return s.onnx.TensorProto.DataType.INT16;case"uint16":return s.onnx.TensorProto.DataType.UINT16;case"int32":return s.onnx.TensorProto.DataType.INT32;case"uint32":return s.onnx.TensorProto.DataType.UINT32;case"float32":return s.onnx.TensorProto.DataType.FLOAT;case"float64":return s.onnx.TensorProto.DataType.DOUBLE;case"string":return s.onnx.TensorProto.DataType.STRING;case"int64":return s.onnx.TensorProto.DataType.INT64;case"uint64":return s.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${e}`)}}static tensorDimsFromProto(e){return e.map((e=>o.default.isLong(e)?e.toNumber():e))}static tensorValueTypeFromProto(e){return{tensorType:f.tensorDataTypeFromProto(e.elemType),shape:{dims:f.tensorDimsFromProto(e.shape.dim.map((e=>e.dimValue)))}}}static tensorDimsFromORTFormat(e){const t=[];for(let a=0;a<e.dimsLength();a++)t.push($.longToNumber(e.dims(a)));return t}static tensorAttributesFromORTFormat(e){const t=[];for(let a=0;a<e.attributesLength();a++)t.push(e.attributes(a));return t}}t.ProtoUtil=f;class ${static longToNumber(e,t){return o.default.isLong(e)?e.toNumber():e instanceof r.flatbuffers.Long?o.default.fromValue({low:e.low,high:e.high,unsigned:null!=t&&t}).toNumber():e}static isLong(e){return o.default.isLong(e)||e instanceof r.flatbuffers.Long}}t.LongUtil=$;class u{static size(e){return u.getSizeFromDimensionRange(e,0,e.length)}static sizeFromDimension(e,t){if(t<0||t>e.length)throw new Error(`invalid dimension of ${t} for sizeFromDimension as Tensor has ${e.length} dimensions.`);return u.getSizeFromDimensionRange(e,t,e.length)}static sizeToDimension(e,t){if(t<0||t>e.length)throw new Error(`invalid dimension of ${t} for sizeToDimension as Tensor has ${e.length} dimensions.`);return u.getSizeFromDimensionRange(e,0,t)}static getSizeFromDimensionRange(e,t,a){let n=1;for(let r=t;r<a;r++){if(e[r]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");n*=e[r]}return n}static computeStrides(e){const t=e.length;if(0===t)return[];if(1===t)return[1];const a=new Array(t);a[t-1]=1,a[t-2]=e[t-1];for(let n=t-3;n>=0;--n)a[n]=a[n+1]*e[n+1];return a}static transpose(e){return e.slice().reverse()}static indicesToOffset(e,t,a){void 0===a&&(a=e.length);let n=0;for(let r=0;r<a;++r)n+=t[r]*e[r];return n}static offsetToIndices(e,t){const a=t.length;if(0===a)return[];if(1===a)return[e*t[0]];const n=new Array(t.length);for(let a=0;a<n.length-1;++a)n[a]=Math.floor(e/t[a]),e-=n[a]*t[a];return n[n.length-1]=e,n}static normalizeAxis(e,t){if(e<-t&&e>=t)throw new Error("unsupported axis for this operation.");return e<0?e+t:e}static normalizeAxes(e,t){return e.map((e=>this.normalizeAxis(e,t)))}static incrementIndex(e,t,a){if(0===t.length||0===e.length)throw new Error("Index incrementing unsupported for scalar Tensor");if(void 0===a)a=t.length;else if(a<=0||a>t.length)throw new Error("Incorrect axis to increment on");for(let n=a-1;n>=0&&(e[n]++,!(e[n]<t[n]));--n)e[n]=0}static calculateReshapedDims(e,t){if(0===t.length){if(0===e.length||1===u.size(e))return[];throw new Error("cannot reshape to a scalar Tensor")}const a=t.length,n=new Array(a);let r=-1,o=1;for(let s=0;s<a;s++){if(t[s]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(-1===t[s]){if(-1!==r)throw new Error("at most one dimension in shape hints can be -1");r=s}else{if(0===t[s]){if(s>=e.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");n[s]=e[s]}else n[s]=t[s];o*=n[s]}}const s=u.size(e);if(-1!==r){if(s%o!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${e}] Output shape: [${t}]`);n[r]=s/o}else if(o!==s)throw new Error("reshapedDims and originalDims don't have matching sizes");return n}static sortBasedOnPerm(e,t){return t?t.map((t=>e[t])):e.slice().reverse()}static padShape(e,t){const a=e.length;return e.map(((e,n)=>e+t[n]+t[n+a]))}static areEqual(e,t){return e.length===t.length&&e.every(((e,a)=>e===t[a]))}static validateDimsAndCalcSize(e){if(e.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let t=1;for(const a of e){if(!Number.isInteger(a))throw new TypeError(`Invalid shape: ${a} is not an integer`);if(a<0||a>2147483647)throw new TypeError(`Invalid shape: length ${a} is not allowed`);t*=a}return t}static flattenShape(e,t){t<0&&(t+=e.length);const a=e.reduce(((e,t)=>e*t),1),n=e.slice(t).reduce(((e,t)=>e*t),1);return[a/n,n]}static squeezeShape(e,t){const a=new Array;t=u.normalizeAxes(t,e.length);for(let n=0;n<e.length;n++){const r=t.indexOf(n)>=0;if(r&&1!==e[n])throw new Error("squeeze an axis of size different than 1");(0===t.length&&e[n]>1||t.length>0&&!r)&&a.push(e[n])}return a}static unsqueezeShape(e,t){const a=new Array(e.length+t.length);a.fill(0);for(let n=0;n<t.length;n++){const r=u.normalizeAxis(t[n],e.length);if(r>=a.length)throw new Error("'axes' has an out of range axis");if(0!==a[r])throw new Error("'axes' has a duplicate axis");a[r]=1}let n=0;for(let t=0;t<a.length;t++)0===a[t]&&(a[t]=e[n++]);if(n!==e.length)throw new Error("the unsqueezed dimension could not be established");return a}}t.ShapeUtil=u,t.MathUtil=class{static sqr(e,t,a,n,r){if(n<0||n>=t.length)throw new Error("sourceIndex out of bounds");if(a<0||a>=e.length)throw new Error("targetIndex out of bounds");if(n+r>t.length)throw new Error("source indices to be copied are outside bounds");if(a+r>e.length)throw new Error("target array is too small to hold result");for(let o=0;o<r;o++)e[a+o]+=Math.pow(t[n+o],2)}static axpy(e,t,a,n,r,o){if(n<0||n>=t.length)throw new Error("sourceIndex out of bounds");if(a<0||a>=e.length)throw new Error("targetIndex out of bounds");if(n+r>t.length)throw new Error("source indices to be copied are outside bounds");if(a+r>e.length)throw new Error("target array is too small to hold result");for(let s=0;s<r;s++)e[a+s]+=o*t[n+s]}static powx(e,t,a,n,r,o){if(n<0||n>=t.length)throw new Error("sourceIndex out of bounds");if(a<0||a>=e.length)throw new Error("targetIndex out of bounds");if(n+r>t.length)throw new Error("source indices to be copied are outside bounds");if(a+r>e.length)throw new Error("target array is too small to hold result");for(let s=0;s<r;s++)e[a+s]=Math.pow(t[n+s],o)}static mul(e,t,a,n,r){if(n<0||n>=t.length)throw new Error("sourceIndex out of bounds");if(a<0||a>=e.length)throw new Error("targetIndex out of bounds");if(n+r>t.length)throw new Error("source indices to be copied are outside bounds");if(a+r>e.length)throw new Error("target array is too small to hold result");for(let o=0;o<r;o++)e[a+o]=t[n+o]*e[a+o]}};class p{static splitShape(e,t,a,n){if(0===a.length){if(!n)throw new Error("need to know number of outputs when the 'split' attribute is not specified");p.determineSplit(e[t],n,a)}const r=[],o=[0];for(let n=0;n<a.length;++n){0!==n&&o.push(o[n-1]+a[n-1]);const s=e.slice();s[t]=a[n],r.push(s)}return[r,o]}static determineSplit(e,t,a){if(e%t!=0)throw new Error("cannot split tensor to equal sized parts");for(let n=0;n<t;++n)a.push(e/t)}}t.SplitUtil=p;class l{static calcReduce(e,t,a,n,r){const o=e.dims.slice(0);0===t.length&&o.forEach(((e,a)=>t.push(a)));const s=l.calcReduceShape(o,t,!0),i=u.size(s),f=new c.Tensor(s,e.type),$=u.computeStrides(s),p=u.computeStrides(o),b=new Array(o.length);for(let a=0;a<i;a++){const s=u.offsetToIndices(a,$);d.fillIndex(s,o,b),f.set(s,l.calcReduceByAxis(e.numberData,t,o,0,u.indicesToOffset(b,p),n,r))}return a?f:new c.Tensor(l.calcReduceShape(o,t,a),f.type,void 0,void 0,f.data,f.dataId)}static calcReduceByAxis(e,t,a,n,r,o,s){let c=0;if(n>=t.length)return o(e[r]);const i=t[n],d=i>=a.length?1:u.size(a.slice(i+1));for(let f=0;f<a[i];f++)c=0===f?l.calcReduceByAxis(e,t,a,n+1,r,o,s):s(c,l.calcReduceByAxis(e,t,a,n+1,r,o,s)),r+=d;return c}static calcReduceShape(e,t,a){const n=e.slice();for(let e=0;e<t.length;e++)n[t[e]]=a?1:0;return n.filter((e=>0!==e))}}t.ReduceUtil=l;class b{static adjustPoolAttributes(e,t,a,n,r,o){if(!e&&a.length!==t.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(e)for(let e=0;e<t.length-2;e++)e>=a.length?a.push(t[e+2]):a[e]=t[e+2];for(let e=0;e<a.length;e++)if(e<n.length){if(n[e]<0)throw new Error("strides should be greater than or equal to 1")}else n.push(1);for(let e=0;e<a.length;e++)if(e<r.length){if(r[e]<0)throw new Error("dilations should be greater than or equal to 1")}else r.push(1);for(let e=0;e<2*a.length;e++)if(e<o.length){if(o[e]<0)throw new Error("pad should be greater than or equal to 1")}else o.push(0);for(let e=0;e<a.length;e++){if(a[e]<=0)throw new Error("kernel shapes need to be greater than 0");if(o[e]>=a[e]||o[e+a.length]>=a[e])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(e,t,a,n,r,o){if(o){if(r.length!==2*(e.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(t.length!==e.length-2)throw new Error("length of strides should be the length of data dimensions");if(n.length!==e.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let s=0;s<e.length-2;s++)b.adjustPadAndReturnShape(e[s+2],t[s],a[s],n[s],r,s,s+e.length-2,o)}}static computePoolOutputShape(e,t,a,n,r,o,s){if(t.length<=0)throw new Error("input shape must be of size greater than 0");const c=[t[0],t[1]];return b.computeShapeHelper(e,t,c,a,n,r,o,s),c}static computeConvOutputShape(e,t,a,n,r,o,s){if(e.length<=0||t.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const c=[e[0],t[0]];return b.computeShapeHelper(!1,e,c,a,n,r,o,s),c}static computeShapeHelper(e,t,a,n,r,o,s,c){if(e)for(let e=0;e<t.length-2;e++)a.push(1);else for(let e=0;e<t.length-2;e++)a.push(b.adjustPadAndReturnShape(t[e+2],n[e],r[e],o[e],s,e,e+t.length-2,c))}static adjustPadAndReturnShape(e,t,a,n,r,o,s,c){const i=a*(n-1)+1;if(!c||"NOTSET"===c)return Math.floor((e+r[o]+r[s]-i)/t+1);switch(c){case"VALID":return r[o]=0,r[s]=0,Math.floor((e-i)/t+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==a)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const a=((e+t-1)/t-1)*t+n-e;return r[o]="SAME_LOWER"===c?Math.floor((a+1)/2):Math.floor(a/2),r[s]=a-r[o],Math.floor((e+a-n)/t+1)}default:throw new Error("Unsupported AutoPad type")}}}t.PoolConvUtil=b,t.MIN_CLIP=-34028234663852886e22,t.MAX_CLIP=34028234663852886e22,t.decodeUtf8String=function(e){return(new TextDecoder).decode(e)}},7967:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=(e,a,n,r)=>{if("object"==typeof e&&null!==e){if(n.has(e))throw new Error("Circular reference in options");n.add(e)}Object.entries(e).forEach((([e,o])=>{const s=a?a+e:e;if("object"==typeof o)t.iterateExtraOptions(o,s+".",n,r);else if("string"==typeof o||"number"==typeof o)r(s,o.toString());else{if("boolean"!=typeof o)throw new Error("Can't handle extra config type: "+typeof o);r(s,o?"1":"0")}}))}},2157:function(e,t,a){var n,r=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.endProfiling=t.run=t.releaseSession=t.createSession=t.initOrt=t.initWasm=void 0;const c=a(2174),i=s(a(349)),d=a(6361),f=()=>!!c.env.wasm.proxy&&"undefined"!=typeof document;let $,u,p,l=!1,b=!1,h=!1;const x=[],m=[],g=[],v=[],y=()=>{if(l||!b||h||!$)throw new Error("worker not ready")},w=e=>{switch(e.data.type){case"init-wasm":l=!1,e.data.err?(h=!0,u[1](e.data.err)):(b=!0,u[0]());break;case"init-ort":e.data.err?p[1](e.data.err):p[0]();break;case"create":e.data.err?x.shift()[1](e.data.err):x.shift()[0](e.data.out);break;case"release":e.data.err?m.shift()[1](e.data.err):m.shift()[0]();break;case"run":e.data.err?g.shift()[1](e.data.err):g.shift()[0](e.data.out);break;case"end-profiling":e.data.err?v.shift()[1](e.data.err):v.shift()[0]()}},_="undefined"!=typeof document?null===(n=null===document||void 0===document?void 0:document.currentScript)||void 0===n?void 0:n.src:void 0;t.initWasm=async()=>{if(f()){if(b)return;if(l)throw new Error("multiple calls to 'initWasm()' detected.");if(h)throw new Error("previous call to 'initWasm()' failed.");return l=!0,void 0===c.env.wasm.wasmPaths&&_&&0!==_.indexOf("blob:")&&(c.env.wasm.wasmPaths=_.substr(0,_.lastIndexOf("/")+1)),new Promise(((e,t)=>{null==$||$.terminate(),$=a(9710).Z(),$.onmessage=w,u=[e,t];const n={type:"init-wasm",in:c.env.wasm};$.postMessage(n)}))}return d.initializeWebAssembly(c.env.wasm)},t.initOrt=async(e,t)=>{if(f())return y(),new Promise(((a,n)=>{p=[a,n];const r={type:"init-ort",in:{numThreads:e,loggingLevel:t}};$.postMessage(r)}));i.initOrt(e,t)},t.createSession=async(e,t)=>f()?(y(),new Promise(((a,n)=>{x.push([a,n]);const r={type:"create",in:{model:e,options:t}};$.postMessage(r,[e.buffer])}))):i.createSession(e,t),t.releaseSession=async e=>{if(f())return y(),new Promise(((t,a)=>{m.push([t,a]);const n={type:"release",in:e};$.postMessage(n)}));i.releaseSession(e)},t.run=async(e,t,a,n,r)=>f()?(y(),new Promise(((o,s)=>{g.push([o,s]);const c={type:"run",in:{sessionId:e,inputIndices:t,inputs:a,outputIndices:n,options:r}};$.postMessage(c,i.extractTransferableBuffers(a))}))):i.run(e,t,a,n,r),t.endProfiling=async e=>{if(f())return y(),new Promise(((t,a)=>{v.push([t,a]);const n={type:"end-profiling",in:e};$.postMessage(n)}));i.endProfiling(e)}},586:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const n=a(7967),r=a(4983),o=a(6361);t.setRunOptions=e=>{const t=o.getInstance();let a=0;const s=[],c=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))c.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))c.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(c.terminate=!1);let o=0;if(void 0!==(null==e?void 0:e.tag)&&(o=r.allocWasmString(e.tag,s)),a=t._OrtCreateRunOptions(c.logSeverityLevel,c.logVerbosityLevel,!!c.terminate,o),0===a)throw new Error("Can't create run options");return void 0!==(null==e?void 0:e.extra)&&n.iterateExtraOptions(e.extra,"",new WeakSet,((e,n)=>{const o=r.allocWasmString(e,s),c=r.allocWasmString(n,s);if(0!==t._OrtAddRunConfigEntry(a,o,c))throw new Error(`Can't set a run config entry: ${e} - ${n}`)})),[a,s]}catch(e){throw 0!==a&&t._OrtReleaseRunOptions(a),s.forEach(t._free),e}}},2306:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OnnxruntimeWebAssemblySessionHandler=void 0;const n=a(2174),r=a(2157);let o;t.OnnxruntimeWebAssemblySessionHandler=class{async loadModel(e,t){o||(await r.initOrt(n.env.wasm.numThreads,(e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}})(n.env.logLevel)),o=!0),[this.sessionId,this.inputNames,this.outputNames]=await r.createSession(e,t)}async dispose(){return r.releaseSession(this.sessionId)}async run(e,t,a){const o=[],s=[];Object.entries(e).forEach((e=>{const t=e[0],a=e[1],n=this.inputNames.indexOf(t);if(-1===n)throw new Error(`invalid input '${t}'`);o.push(a),s.push(n)}));const c=[];Object.entries(t).forEach((e=>{const t=e[0],a=this.outputNames.indexOf(t);if(-1===a)throw new Error(`invalid output '${t}'`);c.push(a)}));const i=await r.run(this.sessionId,s,o.map((e=>[e.type,e.dims,e.data])),c,a),d={};for(let e=0;e<i.length;e++)d[this.outputNames[c[e]]]=new n.Tensor(i[e][0],i[e][2],i[e][1]);return d}startProfiling(){}endProfiling(){r.endProfiling(this.sessionId)}}},4919:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const n=a(7967),r=a(4983),o=a(6361);t.setSessionOptions=e=>{const t=o.getInstance();let a=0;const s=[],c=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1")})(c);try{void 0===(null==e?void 0:e.graphOptimizationLevel)&&(c.graphOptimizationLevel="all");const o=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(c.graphOptimizationLevel);void 0===(null==e?void 0:e.enableCpuMemArena)&&(c.enableCpuMemArena=!0),void 0===(null==e?void 0:e.enableMemPattern)&&(c.enableMemPattern=!0),void 0===(null==e?void 0:e.executionMode)&&(c.executionMode="sequential");const i=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(c.executionMode);let d=0;if(void 0!==(null==e?void 0:e.logId)&&(d=r.allocWasmString(e.logId,s)),void 0===(null==e?void 0:e.logSeverityLevel))c.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))c.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);if(void 0===(null==e?void 0:e.enableProfiling)&&(c.enableProfiling=!1),a=t._OrtCreateSessionOptions(o,!!c.enableCpuMemArena,!!c.enableMemPattern,i,!!c.enableProfiling,0,d,c.logSeverityLevel,c.logVerbosityLevel),0===a)throw new Error("Can't create session options");return void 0!==(null==e?void 0:e.extra)&&n.iterateExtraOptions(e.extra,"",new WeakSet,((e,n)=>{const o=r.allocWasmString(e,s),c=r.allocWasmString(n,s);if(0!==t._OrtAddSessionConfigEntry(a,o,c))throw new Error(`Can't set a session config entry: ${e} - ${n}`)})),[a,s]}catch(e){throw 0!==a&&t._OrtReleaseSessionOptions(a),s.forEach(t._free),e}}},4983:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const n=a(6361);t.allocWasmString=(e,t)=>{const a=n.getInstance(),r=a.lengthBytesUTF8(e)+1,o=a._malloc(r);return a.stringToUTF8(e,o,r),t.push(o),o}},349:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.initOrt=void 0;const n=a(586),r=a(4919),o=a(4983),s=a(6361);t.initOrt=(e,t)=>{const a=s.getInstance()._OrtInit(e,t);if(0!==a)throw new Error(`Can't initialize onnxruntime. error code = ${a}`)};const c=new Map;t.createSession=(e,t)=>{const a=s.getInstance(),n=a._malloc(e.byteLength);let o=0,i=0,d=[];try{if([i,d]=r.setSessionOptions(t),a.HEAPU8.set(e,n),o=a._OrtCreateSession(n,e.byteLength,i),0===o)throw new Error("Can't create a session")}finally{a._free(n),a._OrtReleaseSessionOptions(i),d.forEach(a._free)}const f=a._OrtGetInputCount(o),$=a._OrtGetOutputCount(o),u=[],p=[],l=[],b=[];for(let e=0;e<f;e++){const t=a._OrtGetInputName(o,e);if(0===t)throw new Error("Can't get an input name");p.push(t),u.push(a.UTF8ToString(t))}for(let e=0;e<$;e++){const t=a._OrtGetOutputName(o,e);if(0===t)throw new Error("Can't get an output name");b.push(t),l.push(a.UTF8ToString(t))}return c.set(o,[o,p,b]),[o,u,l]},t.releaseSession=e=>{const t=s.getInstance(),a=c.get(e);if(!a)throw new Error("invalid session id");const n=a[0],r=a[1],o=a[2];r.forEach(t._OrtFree),o.forEach(t._OrtFree),t._OrtReleaseSession(n),c.delete(e)};const i=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},d=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:case 7:return"int32";case 12:case 13:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";default:throw new Error(`unsupported data type: ${e}`)}},f=e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}};t.run=(e,t,a,r,$)=>{const u=s.getInstance(),p=c.get(e);if(!p)throw new Error("invalid session id");const l=p[0],b=p[1],h=p[2],x=t.length,m=r.length;let g=0,v=[];const y=[],w=[];try{[g,v]=n.setRunOptions($);for(let e=0;e<x;e++){const t=a[e][0],n=a[e][1],r=a[e][2];let s,c;if(Array.isArray(r)){c=4*r.length,s=u._malloc(c),w.push(s);let e=s/4;for(let t=0;t<r.length;t++){if("string"!=typeof r[t])throw new TypeError(`tensor data at index ${t} is not a string`);u.HEAPU32[e++]=o.allocWasmString(r[t],w)}}else c=r.byteLength,s=u._malloc(c),w.push(s),u.HEAPU8.set(new Uint8Array(r.buffer,r.byteOffset,c),s);const d=u.stackSave(),f=u.stackAlloc(4*n.length);try{let e=f/4;n.forEach((t=>u.HEAP32[e++]=t));const a=u._OrtCreateTensor(i(t),s,c,f,n.length);if(0===a)throw new Error("Can't create a tensor");y.push(a)}finally{u.stackRestore(d)}}const e=u.stackSave(),s=u.stackAlloc(4*x),c=u.stackAlloc(4*x),p=u.stackAlloc(4*m),_=u.stackAlloc(4*m);try{let a=s/4,n=c/4,o=p/4,i=_/4;for(let e=0;e<x;e++)u.HEAPU32[a++]=y[e],u.HEAPU32[n++]=b[t[e]];for(let e=0;e<m;e++)u.HEAPU32[o++]=0,u.HEAPU32[i++]=h[r[e]];let $=u._OrtRun(l,c,s,x,_,m,p,g);const v=[];if(0===$)for(let e=0;e<m;e++){const t=u.HEAPU32[p/4+e],a=u.stackSave(),n=u.stackAlloc(16);let r,o=0;try{if($=u._OrtGetTensorData(t,n,n+4,n+8,n+12),0!==$)throw new Error(`Can't get a tensor data. error code = ${$}`);let e=n/4;const s=u.HEAPU32[e++];o=u.HEAPU32[e++];const c=u.HEAPU32[e++],i=u.HEAPU32[e++],p=[];for(let e=0;e<i;e++)p.push(u.HEAPU32[c/4+e]);u._OrtFree(c);const l=0===p.length?1:p.reduce(((e,t)=>e*t));if(r=d(s),"string"===r){const e=[];let t=o/4;for(let a=0;a<l;a++){const n=u.HEAPU32[t++],r=a===l-1?void 0:u.HEAPU32[t]-n;e.push(u.UTF8ToString(n,r))}v.push([r,p,e])}else{const e=new(f(r))(l);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(u.HEAPU8.subarray(o,o+e.byteLength)),v.push([r,p,e])}}finally{u.stackRestore(a),"string"===r&&o&&u._free(o),u._OrtReleaseTensor(t)}}if(0===$)return v;throw new Error(`failed to call OrtRun(). error code = ${$}.`)}finally{u.stackRestore(e)}}finally{y.forEach(u._OrtReleaseTensor),w.forEach(u._free),u._OrtReleaseRunOptions(g),v.forEach(u._free)}},t.endProfiling=e=>{const t=s.getInstance(),a=c.get(e);if(!a)throw new Error("invalid session id");const n=a[0],r=t._OrtEndProfiling(n);if(0===r)throw new Error("Can't get an profile file name");t._OrtFree(r)},t.extractTransferableBuffers=e=>{const t=[];for(const a of e){const e=a[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},6361:function(e,t,a){var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&n(t,e,a);return r(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const c=o(a(6449)),i=s(a(932)),d=a(3474);let f,$=!1,u=!1,p=!1;const l=(e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm";t.initializeWebAssembly=async e=>{if($)return Promise.resolve();if(u)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(p)throw new Error("previous call to 'initializeWebAssembly()' failed.");u=!0;const t=e.initTimeout,n=e.numThreads,r=e.simd,o=n>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),s=r&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),b="string"==typeof e.wasmPaths?e.wasmPaths:void 0,h=l(!1,o),x=l(s,o),m="object"==typeof e.wasmPaths?e.wasmPaths[x]:void 0;let g=!1;const v=[];if(t>0&&v.push(new Promise((e=>{setTimeout((()=>{g=!0,e()}),t)}))),v.push(new Promise(((e,t)=>{const n=o?d:i.default,r={locateFile:(e,t)=>{if(o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob)return URL.createObjectURL(new Blob([a(5118)],{type:"text/javascript"}));if(e===h){const e=null!=b?b:t;return null!=m?m:e+x}return t+e}};if(o)if("undefined"==typeof Blob)r.mainScriptUrlOrBlob=c.join("/","ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${n.toString()}})();`;r.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}n(r).then((t=>{u=!1,$=!0,f=t,e()}),(e=>{u=!1,p=!0,t(e)}))}))),await Promise.race(v),g)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if($&&f)return f;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!$||u||p||(u=!0,null===(e=f.PThread)||void 0===e||e.terminateAllThreads(),f=void 0,u=!1,$=!1,p=!0)}},9710:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(477),r=a.n(n);function o(){return r()('/*!\n* ONNX Runtime Web v1.11.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var e={474:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return C.buffer!=U&&$(C.buffer),W}function r(){return C.buffer!=U&&$(C.buffer),L}function a(){return C.buffer!=U&&$(C.buffer),H}function o(){return C.buffer!=U&&$(C.buffer),Y}var i;e=e||{},i||(i=void 0!==e?e:{});var s,u,c=Object.assign;i.ready=new Promise((function(e,t){s=e,u=t}));var l,f,p,d,m,g,h=c({},i),y="./this.program",b=(e,t)=>{throw t},v="object"==typeof window,_="function"==typeof importScripts,w="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=i.ENVIRONMENT_IS_PTHREAD||!1,A="";function S(e){return i.locateFile?i.locateFile(e,A):A+e}if(w){let t;A=_?n(908).dirname(A)+"/":"//",g=()=>{m||(d=n(384),m=n(908))},l=function(e,t){return g(),e=m.normalize(e),d.readFileSync(e,t?null:"utf8")},p=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,n)=>{g(),e=m.normalize(e),d.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(y=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof xt))throw e})),process.on("unhandledRejection",(function(e){throw e})),b=(e,t)=>{if(te())throw process.exitCode=e,t;t instanceof xt||x("exiting due to exception: "+t),process.exit(e)},i.inspect=function(){return"[Emscripten Module object]"};try{t=n(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}n.g.Worker=t.Worker}else(v||_)&&(_?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),_scriptDir&&(A=_scriptDir),A=0!==A.indexOf("blob:")?A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):"",w||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},_&&(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));w&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var E=console.log.bind(console),T=console.warn.bind(console);w&&(g(),E=e=>d.writeSync(1,e+"\\n"),T=e=>d.writeSync(2,e+"\\n"));var M,D,R=i.print||E,x=i.printErr||T;c(i,h),h=null,i.thisProgram&&(y=i.thisProgram),i.quit&&(b=i.quit),i.wasmBinary&&(D=i.wasmBinary);var k=i.noExitRuntime||!1;"object"!=typeof WebAssembly&&se("no native wasm support detected");var C,F,P=!1;function I(e){var t=new TextDecoder(e);this.decode=e=>(e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode.call(t,e))}var U,W,L,H,Y,j="undefined"!=typeof TextDecoder?new I("utf8"):void 0;function B(e,t,n){var r=t+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.subarray&&j)return j.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function N(e,t){return e?B(r(),e,t):""}function G(e,t,n,r){if(!(0<r))return 0;var a=n;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++]=i}else{if(2047>=i){if(n+1>=r)break;t[n++]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++]=224|i>>12}else{if(n+3>=r)break;t[n++]=240|i>>18,t[n++]=128|i>>12&63}t[n++]=128|i>>6&63}t[n++]=128|63&i}}return t[n]=0,n-a}function z(e,t,n){return G(e,r(),t,n)}function V(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),127>=r?++t:t=2047>=r?t+2:65535>=r?t+3:t+4}return t}function q(e){var n=V(e)+1,r=dt(n);return r&&G(e,t(),r,n),r}function $(e){U=e,i.HEAP8=W=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAP32=H=new Int32Array(e),i.HEAPU8=L=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=Y=new Float64Array(e)}"undefined"!=typeof TextDecoder&&new I("utf-16le"),O&&(U=i.buffer);var X=i.INITIAL_MEMORY||16777216;if(O)C=i.wasmMemory,U=i.buffer;else if(i.wasmMemory)C=i.wasmMemory;else if(!((C=new WebAssembly.Memory({initial:X/65536,maximum:32768,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),w&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");C&&(U=C.buffer),X=U.byteLength,$(U);var Q,J=[],Z=[],K=[],ee=[];function te(){return k||!1}function ne(){var e=i.preRun.shift();J.unshift(e)}var re,ae=0,oe=null,ie=null;function se(e){throw O?postMessage({cmd:"onAbort",arg:e}):i.onAbort&&i.onAbort(e),x(e="Aborted("+e+")"),P=!0,e=new WebAssembly.RuntimeError(e+". Build with -s ASSERTIONS=1 for more info."),u(e),e}function ue(){return re.startsWith("data:application/octet-stream;base64,")}function ce(){var e=re;try{if(e==re&&D)return new Uint8Array(D);if(p)return p(e);throw"both async and sync fetching of the wasm failed"}catch(e){se(e)}}i.preloadedImages={},i.preloadedAudios={},re="ort-wasm-threaded.wasm",ue()||(re=S(re));var le={};function fe(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t(i);else{var n=t.Tb;"number"==typeof n?void 0===t.Sa?be(n)():be(n)(t.Sa):n(void 0===t.Sa?null:t.Sa)}}}function pe(e){var t=Et();return e=e(),Tt(t),e}function de(e){var t=me.Oa[e];t&&(a()[e>>2]=0,me.jb(t.worker))}var me={Pa:[],Va:[],fb:[],Wb:function(){},ub:function(){me.receiveObjectTransfer=me.zb,me.threadInit=me.lb,me.setExitStatus=me.Bb},Oa:{},Bb:function(){},kb:function(){for(var e in me.Oa){var t=me.Oa[e];t&&t.worker&&me.jb(t.worker)}for(e=0;e<me.Pa.length;++e)me.Pa[e].terminate();me.Pa=[]},jb:function(e){me.Ab((function(){delete me.Oa[e.Qa.eb],me.Pa.push(e),me.Va.splice(me.Va.indexOf(e),1),wt(e.Qa.eb),e.Qa=void 0}))},Ab:function(e){a()[Rt>>2]=0;try{e()}finally{a()[Rt>>2]=1}},zb:function(){},lb:function(){for(var e in me.fb)me.fb[e]()},wb:function(e,t){e.onmessage=n=>{var r=(n=n.data).cmd;if(e.Qa&&(me.pb=e.Qa.eb),n.targetThread&&n.targetThread!=pt()){var o=me.Oa[n.bc];o?o.worker.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processQueuedMainThreadWork"===r?ht():"spawnThread"===r?_e(n):"cleanupThread"===r?de(n.thread):"killThread"===r?(n=n.thread,a()[n>>2]=0,r=me.Oa[n],delete me.Oa[n],r.worker.terminate(),wt(n),me.Va.splice(me.Va.indexOf(r.worker),1),r.worker.Qa=void 0):"cancelThread"===r?me.Oa[n.thread].worker.postMessage({cmd:"cancel"}):"loaded"===r?(e.loaded=!0,t&&t(e),e.Ua&&(e.Ua(),delete e.Ua)):"print"===r?R("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"onAbort"===r?i.onAbort&&i.onAbort(n.arg):x("worker sent an unknown command "+r);me.pb=void 0},e.onerror=e=>{throw x("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},w&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:i.mainScriptUrlOrBlob||_scriptDir,wasmMemory:C,wasmModule:F})},mb:function(){var e=S("ort-wasm-threaded.worker.js");me.Pa.push(new Worker(e))},rb:function(){return 0==me.Pa.length&&(me.mb(),me.wb(me.Pa[0])),me.Pa.pop()}};function ge(e){if(O)return je(1,0,e);try{Ct(e)}catch(e){e instanceof xt||"unwind"==e||b(1,e)}}i.establishStackSpace=function(){var e=pt(),t=a()[e+44>>2];e=a()[e+48>>2],St(t,t-e),Tt(t)};var he,ye=[];function be(e){var t=ye[e];return t||(e>=ye.length&&(ye.length=e+1),ye[e]=t=Q.get(e)),t}function ve(e){this.Ta=e-16,this.Gb=function(e){a()[this.Ta+4>>2]=e},this.Db=function(e){a()[this.Ta+8>>2]=e},this.Eb=function(){a()[this.Ta>>2]=0},this.Cb=function(){t()[this.Ta+12>>0]=0},this.Fb=function(){t()[this.Ta+13>>0]=0},this.sb=function(e,t){this.Gb(e),this.Db(t),this.Eb(),this.Cb(),this.Fb()}}function _e(e){var t=me.rb();if(!t)return 6;me.Va.push(t);var n=me.Oa[e.cb]={worker:t,eb:e.cb};t.Qa=n;var r={cmd:"run",start_routine:e.Hb,arg:e.Sa,threadInfoStruct:e.cb};return t.Ua=()=>{r.time=performance.now(),t.postMessage(r,e.Mb)},t.loaded&&(t.Ua(),delete t.Ua),0}i.invokeEntryPoint=function(e,t){return be(e)(t)},he=w?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:O?()=>performance.now()-i.__performance_now_clock_drift:()=>performance.now();var we={},Oe=[null,[],[]];function Ae(e,t){var n=Oe[e];0===t||10===t?((1===e?R:x)(B(n,0)),n.length=0):n.push(t)}var Se={};function Ee(e,t,n){return O?je(2,1,e,t,n):0}function Te(e,t){if(O)return je(3,1,e,t)}function Me(e,t,n,r){if(O)return je(4,1,e,t,n,r)}function De(e,t){if(O)return je(5,1,e,t)}function Re(e,t,n){if(O)return je(6,1,e,t,n)}function xe(e,t,n){return O?je(7,1,e,t,n):0}function ke(e,t){if(O)return je(8,1,e,t)}function Ce(e,t){return O?je(9,1,e,t):(e=N(e),Se.Qb(e,t))}function Fe(e,t,n,a,o,i){if(O)t=je(10,1,e,t,n,a,o,i);else if(i<<=12,0!=(16&a)&&0!=e%65536)t=-28;else if(0!=(32&a)){var s=65536*Math.ceil(t/65536);(e=At(65536,s))?r().fill(0,e,e+s):e=0,e?(we[e]={yb:e,vb:t,nb:!0,fd:o,Zb:n,flags:a,offset:i},t=e):t=-48}else t=-52;return t}function Pe(e,t){if(O)e=je(11,1,e,t);else{var n=we[e];0!==t&&n?(t===n.vb&&(we[e]=null,n.nb&&mt(n.yb)),e=0):e=-28}return e}function Ie(e,t,n){if(O)return je(12,1,e,t,n)}function Ue(e,t,n){return O?je(13,1,e,t,n):(e=N(e),Se.Rb(e,t,n))}function We(e){if(O)return je(14,1,e)}function Le(e,t){if(O)return je(15,1,e,t)}function He(e){if(O)return je(16,1,e)}function Ye(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}if(O)return je(17,1,e,t,n);var o=(new Date).getFullYear(),i=new Date(o,0,1),s=new Date(o,6,1);o=i.getTimezoneOffset();var u=s.getTimezoneOffset(),c=Math.max(o,u);a()[e>>2]=60*c,a()[t>>2]=Number(o!=u),e=r(i),t=r(s),e=q(e),t=q(t),u<o?(a()[n>>2]=e,a()[n+4>>2]=t):(a()[n>>2]=t,a()[n+4>>2]=e)}function je(e,t){var n=arguments.length-2,r=arguments;return pe((function(){for(var a=Mt(8*n),i=a>>3,s=0;s<n;s++){var u=r[2+s];o()[i+s]=u}return vt(e,n,a,t)}))}var Be=[],Ne=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function Ge(e){return e=2<e?N(e):e,Ne[e]||("undefined"!=typeof document?document.querySelector(e):void 0)}function ze(e,t,n){var r=Ge(e);return r?(r.Za&&(a()[r.Za>>2]=t,a()[r.Za+4>>2]=n),!r.ib&&r.Ob?r.Za?(function(e,t,n,r){pe((function(){var o=Mt(12),i=0;if(t){i=V(t)+1;var s=dt(i);z(t,s,i),i=s}a()[o>>2]=i,a()[o+4>>2]=n,a()[o+8>>2]=r,_t(e,657457152,0,i,o)}))}(r=a()[r.Za+8>>2],e=e?N(e):"",t,n),1):-4:(r.ib&&(r=r.ib),e=!1,r.Ya&&r.Ya.Xa&&(e=0===(e=r.Ya.Xa.getParameter(2978))[0]&&0===e[1]&&e[2]===r.width&&e[3]===r.height),r.width=t,r.height=n,e&&r.Ya.Xa.viewport(0,0,t,n),0)):-4}function Ve(e,t,n){return O?je(18,1,e,t,n):ze(e,t,n)}var qe,$e=["default","low-power","high-performance"],Xe={};function Qe(){if(!qe){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"};for(e in Xe)void 0===Xe[e]?delete t[e]:t[e]=Xe[e];var n=[];for(e in t)n.push(e+"="+t[e]);qe=n}return qe}function Je(e,n){if(O)return je(19,1,e,n);var r=0;return Qe().forEach((function(o,i){var s=n+r;for(i=a()[e+4*i>>2]=s,s=0;s<o.length;++s)t()[i++>>0]=o.charCodeAt(s);t()[i>>0]=0,r+=o.length+1})),0}function Ze(e,t){if(O)return je(20,1,e,t);var n=Qe();a()[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),a()[t>>2]=r,0}function Ke(e){return O?je(21,1,e):0}function et(e,t,n,r){return O?je(22,1,e,t,n,r):(e=Se.Ub(e),t=Se.Sb(e,t,n),a()[r>>2]=t,0)}function tt(e,t,n,r,a){if(O)return je(23,1,e,t,n,r,a)}function nt(e,t,n,o){if(O)return je(24,1,e,t,n,o);for(var i=0,s=0;s<n;s++){var u=a()[t>>2],c=a()[t+4>>2];t+=8;for(var l=0;l<c;l++)Ae(e,r()[u+l]);i+=c}return a()[o>>2]=i,0}function rt(e){return 0==e%4&&(0!=e%100||0==e%400)}function at(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}var ot=[31,29,31,30,31,30,31,31,30,31,30,31],it=[31,28,31,30,31,30,31,31,30,31,30,31];function st(e,t){for(e=new Date(e.getTime());0<t;){var n=e.getMonth(),r=(rt(e.getFullYear())?ot:it)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return e}function ut(e,n,r,o){function i(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function s(e,t){return i(e,t,"0")}function u(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function c(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function l(e){e=st(new Date(e.Na+1900,0,1),e.bb);var t=new Date(e.getFullYear()+1,0,4),n=c(new Date(e.getFullYear(),0,4));return t=c(t),0>=u(n,e)?0>=u(t,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var f=a()[o+40>>2];for(var p in o={Kb:a()[o>>2],Jb:a()[o+4>>2],$a:a()[o+8>>2],Wa:a()[o+12>>2],Ra:a()[o+16>>2],Na:a()[o+20>>2],ab:a()[o+24>>2],bb:a()[o+28>>2],cc:a()[o+32>>2],Ib:a()[o+36>>2],Lb:f?N(f):""},r=N(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),m="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(e){return d[e.ab].substring(0,3)},"%A":function(e){return d[e.ab]},"%b":function(e){return m[e.Ra].substring(0,3)},"%B":function(e){return m[e.Ra]},"%C":function(e){return s((e.Na+1900)/100|0,2)},"%d":function(e){return s(e.Wa,2)},"%e":function(e){return i(e.Wa,2," ")},"%g":function(e){return l(e).toString().substring(2)},"%G":function(e){return l(e)},"%H":function(e){return s(e.$a,2)},"%I":function(e){return 0==(e=e.$a)?e=12:12<e&&(e-=12),s(e,2)},"%j":function(e){return s(e.Wa+at(rt(e.Na+1900)?ot:it,e.Ra-1),3)},"%m":function(e){return s(e.Ra+1,2)},"%M":function(e){return s(e.Jb,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.$a&&12>e.$a?"AM":"PM"},"%S":function(e){return s(e.Kb,2)},"%t":function(){return"\\t"},"%u":function(e){return e.ab||7},"%U":function(e){var t=new Date(e.Na+1900,0,1),n=0===t.getDay()?t:st(t,7-t.getDay());return 0>u(n,e=new Date(e.Na+1900,e.Ra,e.Wa))?s(Math.ceil((31-n.getDate()+(at(rt(e.getFullYear())?ot:it,e.getMonth()-1)-31)+e.getDate())/7),2):0===u(n,t)?"01":"00"},"%V":function(e){var t=new Date(e.Na+1901,0,4),n=c(new Date(e.Na+1900,0,4));t=c(t);var r=st(new Date(e.Na+1900,0,1),e.bb);return 0>u(r,n)?"53":0>=u(t,r)?"01":s(Math.ceil((n.getFullYear()<e.Na+1900?e.bb+32-n.getDate():e.bb+1-n.getDate())/7),2)},"%w":function(e){return e.ab},"%W":function(e){var t=new Date(e.Na,0,1),n=1===t.getDay()?t:st(t,0===t.getDay()?1:7-t.getDay()+1);return 0>u(n,e=new Date(e.Na+1900,e.Ra,e.Wa))?s(Math.ceil((31-n.getDate()+(at(rt(e.getFullYear())?ot:it,e.getMonth()-1)-31)+e.getDate())/7),2):0===u(n,t)?"01":"00"},"%y":function(e){return(e.Na+1900).toString().substring(2)},"%Y":function(e){return e.Na+1900},"%z":function(e){var t=0<=(e=e.Ib);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Lb},"%%":function(){return"%"}})r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](o)));return p=function(e){var t=Array(V(e)+1);return G(e,t,0,t.length),t}(r),p.length>n?0:(function(e,n){t().set(e,n)}(p,e),p.length-1)}var ct=[null,ge,Ee,Te,Me,De,Re,xe,ke,Ce,Fe,Pe,Ie,Ue,We,Le,He,Ye,Ve,Je,Ze,Ke,et,tt,nt],lt={b:function(e){return dt(e+16)+16},c:function(e,t,n){throw new ve(e).sb(t,n),e},M:function(e){yt(e,!_,1,!v),me.lb()},n:function(e){O?postMessage({cmd:"cleanupThread",thread:e}):de(e)},p:function(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?bt(687865856,e,t,n,r):(e={Hb:n,cb:e,Sa:r,Mb:a},O?(e.Nb="spawnThread",postMessage(e,a),0):_e(e))},i:Ee,U:Te,R:Me,y:De,A:Re,t:xe,S:ke,H:Ce,G:Fe,F:Pe,o:Ie,z:Ue,w:We,T:Le,x:He,j:function(){se("To use dlopen, you need to use Emscripten\'s linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},_:function(){se("To use dlopen, you need to use Emscripten\'s linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},E:function(){return 2097152},Z:function(e,t,n){var r=performance.now();for(n=r+n,Atomics.exchange(a(),Dt>>2,e);;){if((r=performance.now())>n)return Atomics.exchange(a(),Dt>>2,0),-73;if(0==(r=Atomics.exchange(a(),Dt>>2,0)))break;if(ht(),Atomics.load(a(),e>>2)!=t)return-6;Atomics.exchange(a(),Dt>>2,e)}return 0},N:function(e,t){if(e==t)postMessage({cmd:"processQueuedMainThreadWork"});else if(O)postMessage({targetThread:e,cmd:"processThreadQueue"});else{if(!(e=(e=me.Oa[e])&&e.worker))return;e.postMessage({cmd:"processThreadQueue"})}return 1},V:function(e,t){e=new Date(1e3*a()[e>>2]),a()[t>>2]=e.getUTCSeconds(),a()[t+4>>2]=e.getUTCMinutes(),a()[t+8>>2]=e.getUTCHours(),a()[t+12>>2]=e.getUTCDate(),a()[t+16>>2]=e.getUTCMonth(),a()[t+20>>2]=e.getUTCFullYear()-1900,a()[t+24>>2]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[t+28>>2]=e},W:function(e,t){e=new Date(1e3*a()[e>>2]),a()[t>>2]=e.getSeconds(),a()[t+4>>2]=e.getMinutes(),a()[t+8>>2]=e.getHours(),a()[t+12>>2]=e.getDate(),a()[t+16>>2]=e.getMonth(),a()[t+20>>2]=e.getFullYear()-1900,a()[t+24>>2]=e.getDay();var n=new Date(e.getFullYear(),0,1),r=(e.getTime()-n.getTime())/864e5|0;a()[t+28>>2]=r,a()[t+36>>2]=-60*e.getTimezoneOffset(),r=new Date(e.getFullYear(),6,1).getTimezoneOffset(),e=0|(r!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,r)),a()[t+32>>2]=e},X:function(e){var t=new Date(a()[e+20>>2]+1900,a()[e+16>>2],a()[e+12>>2],a()[e+8>>2],a()[e+4>>2],a()[e>>2],0),n=a()[e+32>>2],r=t.getTimezoneOffset(),o=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=o.getTimezoneOffset(),u=Math.min(s,i);return 0>n?a()[e+32>>2]=Number(i!=s&&u==r):0<n!=(u==r)&&(i=Math.max(s,i),t.setTime(t.getTime()+6e4*((0<n?u:i)-r))),a()[e+24>>2]=t.getDay(),n=(t.getTime()-o.getTime())/864e5|0,a()[e+28>>2]=n,a()[e>>2]=t.getSeconds(),a()[e+4>>2]=t.getMinutes(),a()[e+8>>2]=t.getHours(),a()[e+12>>2]=t.getDate(),a()[e+16>>2]=t.getMonth(),t.getTime()/1e3|0},Y:function e(t,n,r){e.ob||(e.ob=!0,Ye(t,n,r))},d:function(){se("")},q:function(e,t){if(0===e)e=Date.now();else{if(1!==e&&4!==e)return a()[ft()>>2]=28,-1;e=he()}return a()[t>>2]=e/1e3|0,a()[t+4>>2]=e%1e3*1e6|0,0},B:function(e,t){return e-t},m:function(){w||_||(M||(M={}),M["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]||(M["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]=1,x("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")))},v:function(){return 2147483648},f:he,Q:function(e,t,n){r().copyWithin(e,t,t+n)},g:function(){return w?n(993).cpus().length:navigator.hardwareConcurrency},I:function(e,t,n){Be.length=t,n>>=3;for(var r=0;r<t;r++)Be[r]=o()[n+r];return(0>e?le[-e-1]:ct[e]).apply(null,Be)},u:function(e){var t=r().length;if((e>>>=0)<=t||2147483648<e)return!1;for(var n=1;4>=n;n*=2){var a=t*(1+.2/n);a=Math.min(a,e+100663296),0<(a=Math.max(e,a))%65536&&(a+=65536-a%65536);e:{try{C.grow(Math.min(2147483648,a)-U.byteLength+65535>>>16),$(C.buffer);var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},K:function(e,t,n){return Ge(e)?ze(e,t,n):Ve(e,t,n)},C:function(){throw"unwind"},L:function(e,t){t>>=2;var n=a()[t+6];return t={alpha:!!a()[t],depth:!!a()[t+1],stencil:!!a()[t+2],antialias:!!a()[t+3],premultipliedAlpha:!!a()[t+4],preserveDrawingBuffer:!!a()[t+5],powerPreference:$e[n],failIfMajorPerformanceCaveat:!!a()[t+7],xb:a()[t+8],Xb:a()[t+9],gb:a()[t+10],qb:a()[t+11],$b:a()[t+12],ac:a()[t+13]},!(e=Ge(e))||t.qb?0:function(e,t){e.hb||(e.hb=e.getContext,e.getContext=function(t,n){return"webgl"==t==(n=e.hb(t,n))instanceof WebGLRenderingContext?n:null});var n=e.getContext("webgl",t);return n?function(e,t){var n=dt(8);a()[n+4>>2]=pt();var r={Vb:n,attributes:t,version:t.xb,Xa:e};return e.canvas&&(e.canvas.Ya=r),(void 0===t.gb||t.gb)&&function(e){if(e||(e=void 0),!e.tb){e.tb=!0;var t=e.Xa;!function(e){var t=e.getExtension("ANGLE_instanced_arrays");t&&(e.vertexAttribDivisor=function(e,n){t.vertexAttribDivisorANGLE(e,n)},e.drawArraysInstanced=function(e,n,r,a){t.drawArraysInstancedANGLE(e,n,r,a)},e.drawElementsInstanced=function(e,n,r,a,o){t.drawElementsInstancedANGLE(e,n,r,a,o)})}(t),function(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)})}(t),function(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(e,n){t.drawBuffersWEBGL(e,n)})}(t),t.Pb=t.getExtension("EXT_disjoint_timer_query"),t.Yb=t.getExtension("WEBGL_multi_draw"),(t.getSupportedExtensions()||[]).forEach((function(e){e.includes("lose_context")||e.includes("debug")||t.getExtension(e)}))}}(r),n}(n,t):0}(e,t)},O:Je,P:Ze,D:function(e){Ct(e)},h:Ke,l:et,s:tt,k:nt,J:function(e){var t=Date.now();return a()[e>>2]=t/1e3|0,a()[e+4>>2]=t%1e3*1e3|0,0},a:C||i.wasmMemory,r:ut,e:function(e,t,n,r){return ut(e,t,n,r)}};!function(){function e(e,t){i.asm=e.exports,me.fb.push(i.asm.xa),Q=i.asm.Ba,Z.unshift(i.asm.$),F=t,O||(ae--,i.monitorRunDependencies&&i.monitorRunDependencies(ae),0==ae&&(null!==oe&&(clearInterval(oe),oe=null),ie&&(e=ie,ie=null,e())))}function t(t){e(t.instance,t.module)}function n(e){return function(){if(!D&&(v||_)){if("function"==typeof fetch&&!re.startsWith("file://"))return fetch(re,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+re+"\'";return e.arrayBuffer()})).catch((function(){return ce()}));if(f)return new Promise((function(e,t){f(re,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return ce()}))}().then((function(e){return WebAssembly.instantiate(e,r)})).then((function(e){return e})).then(e,(function(e){x("failed to asynchronously prepare wasm: "+e),se(e)}))}var r={a:lt};if(O||(ae++,i.monitorRunDependencies&&i.monitorRunDependencies(ae)),i.instantiateWasm)try{return i.instantiateWasm(r,e)}catch(e){return x("Module.instantiateWasm callback failed with error: "+e),!1}(D||"function"!=typeof WebAssembly.instantiateStreaming||ue()||re.startsWith("file://")||"function"!=typeof fetch?n(t):fetch(re,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(t,(function(e){return x("wasm streaming compile failed: "+e),x("falling back to ArrayBuffer instantiation"),n(t)}))}))).catch(u)}(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.$).apply(null,arguments)},i._OrtInit=function(){return(i._OrtInit=i.asm.aa).apply(null,arguments)},i._OrtCreateSessionOptions=function(){return(i._OrtCreateSessionOptions=i.asm.ba).apply(null,arguments)},i._OrtAddSessionConfigEntry=function(){return(i._OrtAddSessionConfigEntry=i.asm.ca).apply(null,arguments)},i._OrtReleaseSessionOptions=function(){return(i._OrtReleaseSessionOptions=i.asm.da).apply(null,arguments)},i._OrtCreateSession=function(){return(i._OrtCreateSession=i.asm.ea).apply(null,arguments)},i._OrtReleaseSession=function(){return(i._OrtReleaseSession=i.asm.fa).apply(null,arguments)},i._OrtGetInputCount=function(){return(i._OrtGetInputCount=i.asm.ga).apply(null,arguments)},i._OrtGetOutputCount=function(){return(i._OrtGetOutputCount=i.asm.ha).apply(null,arguments)},i._OrtGetInputName=function(){return(i._OrtGetInputName=i.asm.ia).apply(null,arguments)},i._OrtGetOutputName=function(){return(i._OrtGetOutputName=i.asm.ja).apply(null,arguments)},i._OrtFree=function(){return(i._OrtFree=i.asm.ka).apply(null,arguments)},i._OrtCreateTensor=function(){return(i._OrtCreateTensor=i.asm.la).apply(null,arguments)},i._OrtGetTensorData=function(){return(i._OrtGetTensorData=i.asm.ma).apply(null,arguments)},i._OrtReleaseTensor=function(){return(i._OrtReleaseTensor=i.asm.na).apply(null,arguments)},i._OrtCreateRunOptions=function(){return(i._OrtCreateRunOptions=i.asm.oa).apply(null,arguments)},i._OrtAddRunConfigEntry=function(){return(i._OrtAddRunConfigEntry=i.asm.pa).apply(null,arguments)},i._OrtReleaseRunOptions=function(){return(i._OrtReleaseRunOptions=i.asm.qa).apply(null,arguments)},i._OrtRun=function(){return(i._OrtRun=i.asm.ra).apply(null,arguments)},i._OrtEndProfiling=function(){return(i._OrtEndProfiling=i.asm.sa).apply(null,arguments)};var ft=i.___errno_location=function(){return(ft=i.___errno_location=i.asm.ta).apply(null,arguments)},pt=i._pthread_self=function(){return(pt=i._pthread_self=i.asm.ua).apply(null,arguments)},dt=i._malloc=function(){return(dt=i._malloc=i.asm.va).apply(null,arguments)},mt=i._free=function(){return(mt=i._free=i.asm.wa).apply(null,arguments)};i._emscripten_tls_init=function(){return(i._emscripten_tls_init=i.asm.xa).apply(null,arguments)};var gt=i.___funcs_on_exit=function(){return(gt=i.___funcs_on_exit=i.asm.ya).apply(null,arguments)},ht=i._emscripten_main_thread_process_queued_calls=function(){return(ht=i._emscripten_main_thread_process_queued_calls=i.asm.za).apply(null,arguments)},yt=i.__emscripten_thread_init=function(){return(yt=i.__emscripten_thread_init=i.asm.Aa).apply(null,arguments)};i._emscripten_current_thread_process_queued_calls=function(){return(i._emscripten_current_thread_process_queued_calls=i.asm.Ca).apply(null,arguments)};var bt=i._emscripten_sync_run_in_main_thread_4=function(){return(bt=i._emscripten_sync_run_in_main_thread_4=i.asm.Da).apply(null,arguments)},vt=i._emscripten_run_in_main_runtime_thread_js=function(){return(vt=i._emscripten_run_in_main_runtime_thread_js=i.asm.Ea).apply(null,arguments)},_t=i._emscripten_dispatch_to_thread_=function(){return(_t=i._emscripten_dispatch_to_thread_=i.asm.Fa).apply(null,arguments)},wt=i.__emscripten_thread_free_data=function(){return(wt=i.__emscripten_thread_free_data=i.asm.Ga).apply(null,arguments)};i.__emscripten_thread_exit=function(){return(i.__emscripten_thread_exit=i.asm.Ha).apply(null,arguments)};var Ot,At=i._memalign=function(){return(At=i._memalign=i.asm.Ia).apply(null,arguments)},St=i._emscripten_stack_set_limits=function(){return(St=i._emscripten_stack_set_limits=i.asm.Ja).apply(null,arguments)},Et=i.stackSave=function(){return(Et=i.stackSave=i.asm.Ka).apply(null,arguments)},Tt=i.stackRestore=function(){return(Tt=i.stackRestore=i.asm.La).apply(null,arguments)},Mt=i.stackAlloc=function(){return(Mt=i.stackAlloc=i.asm.Ma).apply(null,arguments)},Dt=i.__emscripten_main_thread_futex=687896,Rt=i.__emscripten_allow_main_runtime_queued_calls=683012;function xt(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function kt(){function e(){if(!Ot&&(Ot=!0,i.calledRun=!0,!P)&&(O||fe(Z),s(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),!O)){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;){var e=i.postRun.shift();ee.unshift(e)}fe(ee)}}if(!(0<ae))if(O)s(i),O||fe(Z),postMessage({cmd:"loaded"});else{if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)ne();fe(J),0<ae||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),e()}),1)):e())}}function Ct(e){if(O)throw ge(e),"unwind";te()||O||(gt(),fe(K),Oe[1].length&&Ae(1,10),Oe[2].length&&Ae(2,10),me.kb()),te()||(me.kb(),i.onExit&&i.onExit(e),P=!0),b(e,new xt(e))}if(i.UTF8ToString=N,i.stringToUTF8=z,i.lengthBytesUTF8=V,i.keepRuntimeAlive=te,i.PThread=me,i.stackSave=Et,i.stackRestore=Tt,i.stackAlloc=Mt,i.PThread=me,i.wasmMemory=C,i.ExitStatus=xt,ie=function e(){Ot||kt(),Ot||(ie=e)},i.run=kt,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();return O&&(k=!1,me.ub()),kt(),e.ready});e.exports=r},118:e=>{"use strict";e.exports=\'"use strict";var e={};if("object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node){var t=require("worker_threads"),r=t.parentPort;r.on("message",(function(e){onmessage({data:e})}));var a=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:t.Worker,importScripts:function(e){(0,eval)(a.readFileSync(e,"utf8"))},postMessage:function(e){r.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=function(){var e=Array.prototype.slice.call(arguments).join(" ");console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.threadInfoStruct,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInit();try{var a=e.invokeEntryPoint(t.data.start_routine,t.data.arg);e.keepRuntimeAlive()?e.PThread.setExitStatus(a):e.__emscripten_thread_exit(a)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processThreadQueue"===t.data.cmd?e._pthread_self()&&e._emscripten_current_thread_process_queued_calls():(s("worker.js received unknown command "+t.data.cmd),s(t.data)))}catch(e){throw s("worker.js onmessage() captured an uncaught exception: "+e),e&&e.stack&&s(e.stack),e}};\\n\'},932:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t;e=e||{},t||(t=void 0!==e?e:{});var r,a,o=Object.assign;t.ready=new Promise((function(e,t){r=e,a=t}));var i,s,u,c,l,f,p=o({},t),d="./this.program",m="object"==typeof window,g="function"==typeof importScripts,h="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,y="";h?(y=g?n(908).dirname(y)+"/":"//",f=()=>{l||(c=n(384),l=n(908))},i=function(e,t){return f(),e=l.normalize(e),c.readFileSync(e,t?null:"utf8")},u=e=>((e=i(e,!0)).buffer||(e=new Uint8Array(e)),e),s=(e,t,n)=>{f(),e=l.normalize(e),c.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(d=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){throw e})),process.on("unhandledRejection",(function(e){throw e})),t.inspect=function(){return"[Emscripten Module object]"}):(m||g)&&(g?y=self.location.href:"undefined"!=typeof document&&document.currentScript&&(y=document.currentScript.src),_scriptDir&&(y=_scriptDir),y=0!==y.indexOf("blob:")?y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},g&&(u=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),s=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var b,v=t.print||console.log.bind(console),_=t.printErr||console.warn.bind(console);o(t,p),p=null,t.thisProgram&&(d=t.thisProgram),t.wasmBinary&&(b=t.wasmBinary),t.noExitRuntime,"object"!=typeof WebAssembly&&N("no native wasm support detected");var w,O,A,S,E,T=!1,M="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function D(e,t,n){var r=t+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.subarray&&M)return M.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function R(e,t){return e?D(S,e,t):""}function x(e,t,n,r){if(!(0<r))return 0;var a=n;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++]=i}else{if(2047>=i){if(n+1>=r)break;t[n++]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++]=224|i>>12}else{if(n+3>=r)break;t[n++]=240|i>>18,t[n++]=128|i>>12&63}t[n++]=128|i>>6&63}t[n++]=128|63&i}}return t[n]=0,n-a}function k(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),127>=r?++t:t=2047>=r?t+2:65535>=r?t+3:t+4}return t}function C(e){var t=k(e)+1,n=de(t);return n&&x(e,A,n,t),n}function F(){var e=w.buffer;O=e,t.HEAP8=A=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=E=new Int32Array(e),t.HEAPU8=S=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var P,I=[],U=[],W=[];function L(){var e=t.preRun.shift();I.unshift(e)}var H,Y=0,j=null,B=null;function N(e){throw t.onAbort&&t.onAbort(e),_(e="Aborted("+e+")"),T=!0,e=new WebAssembly.RuntimeError(e+". Build with -s ASSERTIONS=1 for more info."),a(e),e}function G(){return H.startsWith("data:application/octet-stream;base64,")}if(t.preloadedImages={},t.preloadedAudios={},H="ort-wasm.wasm",!G()){var z=H;H=t.locateFile?t.locateFile(z,y):y+z}function V(){var e=H;try{if(e==H&&b)return new Uint8Array(b);if(u)return u(e);throw"both async and sync fetching of the wasm failed"}catch(e){N(e)}}function q(e){for(;0<e.length;){var n=e.shift();if("function"==typeof n)n(t);else{var r=n.Na;"number"==typeof r?void 0===n.va?X(r)():X(r)(n.va):r(void 0===n.va?null:n.va)}}}var $=[];function X(e){var t=$[e];return t||(e>=$.length&&($.length=e+1),$[e]=t=P.get(e)),t}function Q(e){this.qa=e-16,this.Fa=function(e){E[this.qa+4>>2]=e},this.Ca=function(e){E[this.qa+8>>2]=e},this.Da=function(){E[this.qa>>2]=0},this.Ba=function(){A[this.qa+12>>0]=0},this.Ea=function(){A[this.qa+13>>0]=0},this.ya=function(e,t){this.Fa(e),this.Ca(t),this.Da(),this.Ba(),this.Ea()}}var J,Z,K={},ee=[null,[],[]],te={},ne={};function re(){if(!Z){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"};for(e in ne)void 0===ne[e]?delete t[e]:t[e]=ne[e];var n=[];for(e in t)n.push(e+"="+t[e]);Z=n}return Z}function ae(e){return 0==e%4&&(0!=e%100||0==e%400)}function oe(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}var ie=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function ue(e,t){for(e=new Date(e.getTime());0<t;){var n=e.getMonth(),r=(ae(e.getFullYear())?ie:se)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return e}function ce(e,t,n,r){function a(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){e=ue(new Date(e.oa+1900,0,1),e.ua);var t=new Date(e.getFullYear()+1,0,4),n=s(new Date(e.getFullYear(),0,4));return t=s(t),0>=i(n,e)?0>=i(t,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=E[r+40>>2];for(var l in r={Ia:E[r>>2],Ha:E[r+4>>2],sa:E[r+8>>2],ra:E[r+12>>2],pa:E[r+16>>2],oa:E[r+20>>2],ta:E[r+24>>2],ua:E[r+28>>2],Qa:E[r+32>>2],Ga:E[r+36>>2],Ja:c?R(c):""},n=R(n),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in c={"%a":function(e){return f[e.ta].substring(0,3)},"%A":function(e){return f[e.ta]},"%b":function(e){return p[e.pa].substring(0,3)},"%B":function(e){return p[e.pa]},"%C":function(e){return o((e.oa+1900)/100|0,2)},"%d":function(e){return o(e.ra,2)},"%e":function(e){return a(e.ra,2," ")},"%g":function(e){return u(e).toString().substring(2)},"%G":function(e){return u(e)},"%H":function(e){return o(e.sa,2)},"%I":function(e){return 0==(e=e.sa)?e=12:12<e&&(e-=12),o(e,2)},"%j":function(e){return o(e.ra+oe(ae(e.oa+1900)?ie:se,e.pa-1),3)},"%m":function(e){return o(e.pa+1,2)},"%M":function(e){return o(e.Ha,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.sa&&12>e.sa?"AM":"PM"},"%S":function(e){return o(e.Ia,2)},"%t":function(){return"\\t"},"%u":function(e){return e.ta||7},"%U":function(e){var t=new Date(e.oa+1900,0,1),n=0===t.getDay()?t:ue(t,7-t.getDay());return 0>i(n,e=new Date(e.oa+1900,e.pa,e.ra))?o(Math.ceil((31-n.getDate()+(oe(ae(e.getFullYear())?ie:se,e.getMonth()-1)-31)+e.getDate())/7),2):0===i(n,t)?"01":"00"},"%V":function(e){var t=new Date(e.oa+1901,0,4),n=s(new Date(e.oa+1900,0,4));t=s(t);var r=ue(new Date(e.oa+1900,0,1),e.ua);return 0>i(r,n)?"53":0>=i(t,r)?"01":o(Math.ceil((n.getFullYear()<e.oa+1900?e.ua+32-n.getDate():e.ua+1-n.getDate())/7),2)},"%w":function(e){return e.ta},"%W":function(e){var t=new Date(e.oa,0,1),n=1===t.getDay()?t:ue(t,0===t.getDay()?1:7-t.getDay()+1);return 0>i(n,e=new Date(e.oa+1900,e.pa,e.ra))?o(Math.ceil((31-n.getDate()+(oe(ae(e.getFullYear())?ie:se,e.getMonth()-1)-31)+e.getDate())/7),2):0===i(n,t)?"01":"00"},"%y":function(e){return(e.oa+1900).toString().substring(2)},"%Y":function(e){return e.oa+1900},"%z":function(e){var t=0<=(e=e.Ga);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Ja},"%%":function(){return"%"}})n.includes(l)&&(n=n.replace(new RegExp(l,"g"),c[l](r)));return l=function(e){var t=Array(k(e)+1);return x(e,t,0,t.length),t}(n),l.length>t?0:(A.set(l,e),l.length-1)}var le={a:function(e){return de(e+16)+16},b:function(e,t,n){throw new Q(e).ya(t,n),e},g:function(){return 0},I:function(){},F:function(){},v:function(){},y:function(){},r:function(){return 0},G:function(){},B:function(e,t){return e=R(e),te.Ka(e,t)},A:function(e,t,n,r,a,o){if(o<<=12,0!=(16&r)&&0!=e%65536)t=-28;else if(0!=(32&r)){e=65536*Math.ceil(t/65536);var i=ge(65536,e);i?(S.fill(0,i,i+e),e=i):e=0,e?(K[e]={Aa:e,za:t,wa:!0,fd:a,Pa:n,flags:r,offset:o},t=e):t=-48}else t=-52;return t},z:function(e,t){var n=K[e];return 0!==t&&n?(t===n.za&&(K[e]=null,n.wa&&me(n.Aa)),e=0):e=-28,e},k:function(){},x:function(e,t,n){return e=R(e),te.La(e,t,n)},t:function(){},H:function(){},u:function(){},h:function(){N("To use dlopen, you need to use Emscripten\'s linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},n:function(){N("To use dlopen, you need to use Emscripten\'s linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},J:function(e,t){e=new Date(1e3*E[e>>2]),E[t>>2]=e.getUTCSeconds(),E[t+4>>2]=e.getUTCMinutes(),E[t+8>>2]=e.getUTCHours(),E[t+12>>2]=e.getUTCDate(),E[t+16>>2]=e.getUTCMonth(),E[t+20>>2]=e.getUTCFullYear()-1900,E[t+24>>2]=e.getUTCDay(),E[t+28>>2]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},K:function(e,t){e=new Date(1e3*E[e>>2]),E[t>>2]=e.getSeconds(),E[t+4>>2]=e.getMinutes(),E[t+8>>2]=e.getHours(),E[t+12>>2]=e.getDate(),E[t+16>>2]=e.getMonth(),E[t+20>>2]=e.getFullYear()-1900,E[t+24>>2]=e.getDay();var n=new Date(e.getFullYear(),0,1);E[t+28>>2]=(e.getTime()-n.getTime())/864e5|0,E[t+36>>2]=-60*e.getTimezoneOffset();var r=new Date(e.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[t+32>>2]=0|(r!=n&&e.getTimezoneOffset()==Math.min(n,r))},L:function(e){var t=new Date(E[e+20>>2]+1900,E[e+16>>2],E[e+12>>2],E[e+8>>2],E[e+4>>2],E[e>>2],0),n=E[e+32>>2],r=t.getTimezoneOffset(),a=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=a.getTimezoneOffset(),s=Math.min(i,o);return 0>n?E[e+32>>2]=Number(o!=i&&s==r):0<n!=(s==r)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<n?s:o)-r))),E[e+24>>2]=t.getDay(),E[e+28>>2]=(t.getTime()-a.getTime())/864e5|0,E[e>>2]=t.getSeconds(),E[e+4>>2]=t.getMinutes(),E[e+8>>2]=t.getHours(),E[e+12>>2]=t.getDate(),E[e+16>>2]=t.getMonth(),t.getTime()/1e3|0},M:function e(t,n,r){e.xa||(e.xa=!0,function(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var s=i.getTimezoneOffset();E[e>>2]=60*Math.max(a,s),E[t>>2]=Number(a!=s),e=r(o),t=r(i),e=C(e),t=C(t),s<a?(E[n>>2]=e,E[n+4>>2]=t):(E[n>>2]=t,E[n+4>>2]=e)}(t,n,r))},d:function(){N("")},m:function(e,t){if(0===e)e=Date.now();else{if(1!==e&&4!==e)return E[pe()>>2]=28,-1;e=J()}return E[t>>2]=e/1e3|0,E[t+4>>2]=e%1e3*1e6|0,0},p:function(e,t){return e-t},s:function(){return 2147483648},l:J=h?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),E:function(e,t,n){S.copyWithin(e,t,t+n)},f:function(e){var t=S.length;if(2147483648<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296),0<(r=Math.max(e,r))%65536&&(r+=65536-r%65536);e:{try{w.grow(Math.min(2147483648,r)-O.byteLength+65535>>>16),F();var a=1;break e}catch(e){}a=void 0}if(a)return!0}return!1},C:function(e,t){var n=0;return re().forEach((function(r,a){var o=t+n;for(a=E[e+4*a>>2]=o,o=0;o<r.length;++o)A[a++>>0]=r.charCodeAt(o);A[a>>0]=0,n+=r.length+1})),0},D:function(e,t){var n=re();E[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),E[t>>2]=r,0},e:function(){return 0},j:function(e,t,n,r){return e=te.Oa(e),t=te.Ma(e,t,n),E[r>>2]=t,0},q:function(){},i:function(e,t,n,r){for(var a=0,o=0;o<n;o++){var i=E[t>>2],s=E[t+4>>2];t+=8;for(var u=0;u<s;u++){var c=S[i+u],l=ee[e];0===c||10===c?((1===e?v:_)(D(l,0)),l.length=0):l.push(c)}a+=s}return E[r>>2]=a,0},w:function(e){var t=Date.now();return E[e>>2]=t/1e3|0,E[e+4>>2]=t%1e3*1e3|0,0},o:ce,c:function(e,t,n,r){return ce(e,t,n,r)}};!function(){function e(e){t.asm=e.exports,w=t.asm.N,F(),P=t.asm.ja,U.unshift(t.asm.O),Y--,t.monitorRunDependencies&&t.monitorRunDependencies(Y),0==Y&&(null!==j&&(clearInterval(j),j=null),B&&(e=B,B=null,e()))}function n(t){e(t.instance)}function r(e){return function(){if(!b&&(m||g)){if("function"==typeof fetch&&!H.startsWith("file://"))return fetch(H,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+H+"\'";return e.arrayBuffer()})).catch((function(){return V()}));if(s)return new Promise((function(e,t){s(H,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return V()}))}().then((function(e){return WebAssembly.instantiate(e,o)})).then((function(e){return e})).then(e,(function(e){_("failed to asynchronously prepare wasm: "+e),N(e)}))}var o={a:le};if(Y++,t.monitorRunDependencies&&t.monitorRunDependencies(Y),t.instantiateWasm)try{return t.instantiateWasm(o,e)}catch(e){return _("Module.instantiateWasm callback failed with error: "+e),!1}(b||"function"!=typeof WebAssembly.instantiateStreaming||G()||H.startsWith("file://")||"function"!=typeof fetch?r(n):fetch(H,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,o).then(n,(function(e){return _("wasm streaming compile failed: "+e),_("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.O).apply(null,arguments)},t._OrtInit=function(){return(t._OrtInit=t.asm.P).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.Q).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.R).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.S).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.T).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.U).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.V).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.W).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm.X).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.Y).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm.Z).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm._).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.$).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm.aa).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.ba).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.ca).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.da).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.ea).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.fa).apply(null,arguments)};var fe,pe=t.___errno_location=function(){return(pe=t.___errno_location=t.asm.ga).apply(null,arguments)},de=t._malloc=function(){return(de=t._malloc=t.asm.ha).apply(null,arguments)},me=t._free=function(){return(me=t._free=t.asm.ia).apply(null,arguments)},ge=t._memalign=function(){return(ge=t._memalign=t.asm.ka).apply(null,arguments)},he=t.stackSave=function(){return(he=t.stackSave=t.asm.la).apply(null,arguments)},ye=t.stackRestore=function(){return(ye=t.stackRestore=t.asm.ma).apply(null,arguments)},be=t.stackAlloc=function(){return(be=t.stackAlloc=t.asm.na).apply(null,arguments)};function ve(){function e(){if(!fe&&(fe=!0,t.calledRun=!0,!T)){if(q(U),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();W.unshift(e)}q(W)}}if(!(0<Y)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)L();q(I),0<Y||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.UTF8ToString=R,t.stringToUTF8=function(e,t,n){return x(e,S,t,n)},t.lengthBytesUTF8=k,t.stackSave=he,t.stackRestore=ye,t.stackAlloc=be,B=function e(){fe||ve(),fe||(B=e)},t.run=ve,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return ve(),e.ready});e.exports=r},967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=(e,n,r,a)=>{if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach((([e,o])=>{const i=n?n+e:e;if("object"==typeof o)t.iterateExtraOptions(o,i+".",r,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can\'t handle extra config type: "+typeof o);a(i,o?"1":"0")}}))}},586:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const r=n(967),a=n(983),o=n(361);t.setRunOptions=e=>{const t=o.getInstance();let n=0;const i=[],s=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(s.terminate=!1);let o=0;if(void 0!==(null==e?void 0:e.tag)&&(o=a.allocWasmString(e.tag,i)),n=t._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,o),0===n)throw new Error("Can\'t create run options");return void 0!==(null==e?void 0:e.extra)&&r.iterateExtraOptions(e.extra,"",new WeakSet,((e,r)=>{const o=a.allocWasmString(e,i),s=a.allocWasmString(r,i);if(0!==t._OrtAddRunConfigEntry(n,o,s))throw new Error(`Can\'t set a run config entry: ${e} - ${r}`)})),[n,i]}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),i.forEach(t._free),e}}},919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const r=n(967),a=n(983),o=n(361);t.setSessionOptions=e=>{const t=o.getInstance();let n=0;const i=[],s=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1")})(s);try{void 0===(null==e?void 0:e.graphOptimizationLevel)&&(s.graphOptimizationLevel="all");const o=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(s.graphOptimizationLevel);void 0===(null==e?void 0:e.enableCpuMemArena)&&(s.enableCpuMemArena=!0),void 0===(null==e?void 0:e.enableMemPattern)&&(s.enableMemPattern=!0),void 0===(null==e?void 0:e.executionMode)&&(s.executionMode="sequential");const u=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(s.executionMode);let c=0;if(void 0!==(null==e?void 0:e.logId)&&(c=a.allocWasmString(e.logId,i)),void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);if(void 0===(null==e?void 0:e.enableProfiling)&&(s.enableProfiling=!1),n=t._OrtCreateSessionOptions(o,!!s.enableCpuMemArena,!!s.enableMemPattern,u,!!s.enableProfiling,0,c,s.logSeverityLevel,s.logVerbosityLevel),0===n)throw new Error("Can\'t create session options");return void 0!==(null==e?void 0:e.extra)&&r.iterateExtraOptions(e.extra,"",new WeakSet,((e,r)=>{const o=a.allocWasmString(e,i),s=a.allocWasmString(r,i);if(0!==t._OrtAddSessionConfigEntry(n,o,s))throw new Error(`Can\'t set a session config entry: ${e} - ${r}`)})),[n,i]}catch(e){throw 0!==n&&t._OrtReleaseSessionOptions(n),i.forEach(t._free),e}}},983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const r=n(361);t.allocWasmString=(e,t)=>{const n=r.getInstance(),a=n.lengthBytesUTF8(e)+1,o=n._malloc(a);return n.stringToUTF8(e,o,a),t.push(o),o}},349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.initOrt=void 0;const r=n(586),a=n(919),o=n(983),i=n(361);t.initOrt=(e,t)=>{const n=i.getInstance()._OrtInit(e,t);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const s=new Map;t.createSession=(e,t)=>{const n=i.getInstance(),r=n._malloc(e.byteLength);let o=0,u=0,c=[];try{if([u,c]=a.setSessionOptions(t),n.HEAPU8.set(e,r),o=n._OrtCreateSession(r,e.byteLength,u),0===o)throw new Error("Can\'t create a session")}finally{n._free(r),n._OrtReleaseSessionOptions(u),c.forEach(n._free)}const l=n._OrtGetInputCount(o),f=n._OrtGetOutputCount(o),p=[],d=[],m=[],g=[];for(let e=0;e<l;e++){const t=n._OrtGetInputName(o,e);if(0===t)throw new Error("Can\'t get an input name");d.push(t),p.push(n.UTF8ToString(t))}for(let e=0;e<f;e++){const t=n._OrtGetOutputName(o,e);if(0===t)throw new Error("Can\'t get an output name");g.push(t),m.push(n.UTF8ToString(t))}return s.set(o,[o,d,g]),[o,p,m]},t.releaseSession=e=>{const t=i.getInstance(),n=s.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],o=n[2];a.forEach(t._OrtFree),o.forEach(t._OrtFree),t._OrtReleaseSession(r),s.delete(e)};const u=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},c=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:case 7:return"int32";case 12:case 13:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";default:throw new Error(`unsupported data type: ${e}`)}},l=e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}};t.run=(e,t,n,a,f)=>{const p=i.getInstance(),d=s.get(e);if(!d)throw new Error("invalid session id");const m=d[0],g=d[1],h=d[2],y=t.length,b=a.length;let v=0,_=[];const w=[],O=[];try{[v,_]=r.setRunOptions(f);for(let e=0;e<y;e++){const t=n[e][0],r=n[e][1],a=n[e][2];let i,s;if(Array.isArray(a)){s=4*a.length,i=p._malloc(s),O.push(i);let e=i/4;for(let t=0;t<a.length;t++){if("string"!=typeof a[t])throw new TypeError(`tensor data at index ${t} is not a string`);p.HEAPU32[e++]=o.allocWasmString(a[t],O)}}else s=a.byteLength,i=p._malloc(s),O.push(i),p.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,s),i);const c=p.stackSave(),l=p.stackAlloc(4*r.length);try{let e=l/4;r.forEach((t=>p.HEAP32[e++]=t));const n=p._OrtCreateTensor(u(t),i,s,l,r.length);if(0===n)throw new Error("Can\'t create a tensor");w.push(n)}finally{p.stackRestore(c)}}const e=p.stackSave(),i=p.stackAlloc(4*y),s=p.stackAlloc(4*y),d=p.stackAlloc(4*b),A=p.stackAlloc(4*b);try{let n=i/4,r=s/4,o=d/4,u=A/4;for(let e=0;e<y;e++)p.HEAPU32[n++]=w[e],p.HEAPU32[r++]=g[t[e]];for(let e=0;e<b;e++)p.HEAPU32[o++]=0,p.HEAPU32[u++]=h[a[e]];let f=p._OrtRun(m,s,i,y,A,b,d,v);const _=[];if(0===f)for(let e=0;e<b;e++){const t=p.HEAPU32[d/4+e],n=p.stackSave(),r=p.stackAlloc(16);let a,o=0;try{if(f=p._OrtGetTensorData(t,r,r+4,r+8,r+12),0!==f)throw new Error(`Can\'t get a tensor data. error code = ${f}`);let e=r/4;const i=p.HEAPU32[e++];o=p.HEAPU32[e++];const s=p.HEAPU32[e++],u=p.HEAPU32[e++],d=[];for(let e=0;e<u;e++)d.push(p.HEAPU32[s/4+e]);p._OrtFree(s);const m=0===d.length?1:d.reduce(((e,t)=>e*t));if(a=c(i),"string"===a){const e=[];let t=o/4;for(let n=0;n<m;n++){const r=p.HEAPU32[t++],a=n===m-1?void 0:p.HEAPU32[t]-r;e.push(p.UTF8ToString(r,a))}_.push([a,d,e])}else{const e=new(l(a))(m);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(p.HEAPU8.subarray(o,o+e.byteLength)),_.push([a,d,e])}}finally{p.stackRestore(n),"string"===a&&o&&p._free(o),p._OrtReleaseTensor(t)}}if(0===f)return _;throw new Error(`failed to call OrtRun(). error code = ${f}.`)}finally{p.stackRestore(e)}}finally{w.forEach(p._OrtReleaseTensor),O.forEach(p._free),p._OrtReleaseRunOptions(v),_.forEach(p._free)}},t.endProfiling=e=>{const t=i.getInstance(),n=s.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=t._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");t._OrtFree(a)},t.extractTransferableBuffers=e=>{const t=[];for(const n of e){const e=n[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},361:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const s=o(n(449)),u=i(n(932)),c=n(474);let l,f=!1,p=!1,d=!1;const m=(e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm";t.initializeWebAssembly=async e=>{if(f)return Promise.resolve();if(p)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(d)throw new Error("previous call to \'initializeWebAssembly()\' failed.");p=!0;const t=e.initTimeout,r=e.numThreads,a=e.simd,o=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),i=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),g="string"==typeof e.wasmPaths?e.wasmPaths:void 0,h=m(!1,o),y=m(i,o),b="object"==typeof e.wasmPaths?e.wasmPaths[y]:void 0;let v=!1;const _=[];if(t>0&&_.push(new Promise((e=>{setTimeout((()=>{v=!0,e()}),t)}))),_.push(new Promise(((e,t)=>{const r=o?c:u.default,a={locateFile:(e,t)=>{if(o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob)return URL.createObjectURL(new Blob([n(118)],{type:"text/javascript"}));if(e===h){const e=null!=g?g:t;return null!=b?b:e+y}return t+e}};if(o)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=s.join("/","ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}r(a).then((t=>{p=!1,f=!0,l=t,e()}),(e=>{p=!1,d=!0,t(e)}))}))),await Promise.race(_),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(f&&l)return l;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!f||p||d||(p=!0,null===(e=l.PThread)||void 0===e||e.terminateAllThreads(),l=void 0,p=!1,f=!1,d=!0)}},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";const e=n(349),t=n(361);self.onmessage=n=>{switch(n.data.type){case"init-wasm":t.initializeWebAssembly(n.data.in).then((()=>postMessage({type:"init-wasm"})),(e=>postMessage({type:"init-wasm",err:e})));break;case"init-ort":try{const{numThreads:t,loggingLevel:r}=n.data.in;e.initOrt(t,r),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create":try{const{model:t,options:r}=n.data.in,a=e.createSession(t,r);postMessage({type:"create",out:a})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{const t=n.data.in;e.releaseSession(t),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{const{sessionId:t,inputIndices:r,inputs:a,outputIndices:o,options:i}=n.data.in,s=e.run(t,r,a,o,i);postMessage({type:"run",out:s},e.extractTransferableBuffers(s))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{const t=n.data.in;e.endProfiling(t),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}})()})();\n',"Worker",void 0,void 0)}},477:e=>{e.exports=function(e,t,a,n){var r=self||window;try{try{var o;try{o=new r.Blob([e])}catch(t){(o=new(r.BlobBuilder||r.WebKitBlobBuilder||r.MozBlobBuilder||r.MSBlobBuilder)).append(e),o=o.getBlob()}var s=r.URL||r.webkitURL,c=s.createObjectURL(o),i=new r[t](c,a);return s.revokeObjectURL(c),i}catch(n){return new r[t]("data:application/javascript,".concat(encodeURIComponent(e)),a)}}catch(e){if(!n)throw Error("Inline worker is not supported");return new r[t](n,a)}}},2174:e=>{e.exports=__WEBPACK_EXTERNAL_MODULE__2174__},7067:()=>{},1296:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},6449:()=>{},2203:()=>{},5381:()=>{},8022:()=>{}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var a=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(a.exports,a,a.exports,__webpack_require__),a.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var a in t)__webpack_require__.o(t,a)&&!__webpack_require__.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(6018);return __webpack_exports__})()},module.exports=t(parcelRequire("b9qxp"))})),parcelRequire.register("eKCdi",(function(e,t){var a,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(a===setTimeout)return setTimeout(e,0);if((a===o||!a)&&setTimeout)return a=setTimeout,setTimeout(e,0);try{return a(e,0)}catch(t){try{return a.call(null,e,0)}catch(t){return a.call(this,e,0)}}}!function(){try{a="function"==typeof setTimeout?setTimeout:o}catch(e){a=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var i,d=[],f=!1,$=-1;function u(){f&&i&&(f=!1,i.length?d=i.concat(d):$=-1,d.length&&p())}function p(){if(!f){var e=c(u);f=!0;for(var t=d.length;t;){for(i=d,d=[];++$<t;)i&&i[$].run();$=-1,t=d.length}i=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function l(e,t){this.fun=e,this.array=t}function b(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];d.push(new l(e,t)),1!==d.length||f||c(p)},l.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=b,r.addListener=b,r.once=b,r.off=b,r.removeListener=b,r.removeAllListeners=b,r.emit=b,r.prependListener=b,r.prependOnceListener=b,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}})),parcelRequire.register("b9qxp",(function(e,t){var a=parcelRequire("lmgTI"),n=parcelRequire("37aHd"),r=parcelRequire("5NB2Q"),o=parcelRequire("hoU5B"),s=parcelRequire("f7jnz");$parcel$exportWildcard(e.exports,a),$parcel$exportWildcard(e.exports,n),$parcel$exportWildcard(e.exports,r),$parcel$exportWildcard(e.exports,o),$parcel$exportWildcard(e.exports,s)})),parcelRequire.register("lmgTI",(function(e,t){$parcel$export(e.exports,"registerBackend",(function(){return parcelRequire("6T2No").registerBackend}));parcelRequire("6T2No")})),parcelRequire.register("6T2No",(function(e,t){$parcel$export(e.exports,"registerBackend",(function(){return r})),$parcel$export(e.exports,"resolveBackend",(function(){return o}));const a={},n=[],r=(e,t,r)=>{if(!t||"function"!=typeof t.init||"function"!=typeof t.createSessionHandler)throw new TypeError("not a valid backend");{const o=a[e];if(void 0!==o){if(o.backend===t)return;throw new Error(`backend "${e}" is already registered`)}if(a[e]={backend:t,priority:r},r>=0){for(let t=0;t<n.length;t++)if(a[n[t]].priority<=r)return void n.splice(t,0,e);n.push(e)}}},o=async e=>{const t=0===e.length?n:e,r=[];for(const e of t){const t=a[e];if(t){if(t.initialized)return t.backend;if(t.aborted)continue;const a=!!t.initPromise;try{return a||(t.initPromise=t.backend.init()),await t.initPromise,t.initialized=!0,t.backend}catch(n){a||r.push({name:e,err:n}),t.aborted=!0}finally{delete t.initPromise}}}throw new Error(`no available backend found. ERR: ${r.map((e=>`[${e.name}] ${e.err}`)).join(", ")}`)}})),parcelRequire.register("37aHd",(function(e,t){$parcel$export(e.exports,"env",(function(){return a}));const a=new(parcelRequire("IliZr").EnvImpl)})),parcelRequire.register("IliZr",(function(e,t){$parcel$export(e.exports,"EnvImpl",(function(){return a}));class a{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(e){if(void 0!==e){if("string"!=typeof e||-1===["verbose","info","warning","error","fatal"].indexOf(e))throw new Error(`Unsupported logging level: ${e}`);this.logLevelInternal=e}}get logLevel(){return this.logLevelInternal}}})),parcelRequire.register("5NB2Q",(function(e,t){$parcel$export(e.exports,"InferenceSession",(function(){return a}));const a=parcelRequire("848Mc").InferenceSession})),parcelRequire.register("848Mc",(function(e,t){$parcel$export(e.exports,"InferenceSession",(function(){return r}));var a=parcelRequire("6T2No"),n=parcelRequire("hoU5B");class r{constructor(e){this.handler=e}async run(e,t,a){const r={};let o={};if("object"!=typeof e||null===e||e instanceof n.Tensor||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let s=!0;if("object"==typeof t){if(null===t)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof n.Tensor)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(0===t.length)throw new TypeError("'fetches' cannot be an empty array.");s=!1;for(const e of t){if("string"!=typeof e)throw new TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(e))throw new RangeError(`'fetches' contains invalid output name: ${e}.`);r[e]=null}if("object"==typeof a&&null!==a)o=a;else if(void 0!==a)throw new TypeError("'options' must be an object.")}else{let e=!1;const c=Object.getOwnPropertyNames(t);for(const a of this.outputNames)if(-1!==c.indexOf(a)){const o=t[a];(null===o||o instanceof n.Tensor)&&(e=!0,s=!1,r[a]=o)}if(e){if("object"==typeof a&&null!==a)o=a;else if(void 0!==a)throw new TypeError("'options' must be an object.")}else o=t}}else if(void 0!==t)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const t of this.inputNames)if(void 0===e[t])throw new Error(`input '${t}' is missing in 'feeds'.`);if(s)for(const e of this.outputNames)r[e]=null;const c=await this.handler.run(e,r,o),i={};for(const e in c)Object.hasOwnProperty.call(c,e)&&(i[e]=new n.Tensor(c[e].type,c[e].data,c[e].dims));return i}static async create(e,t,n,o){let s,c={};if("string"==typeof e){if(s=e,"object"==typeof t&&null!==t)c=t;else if(void 0!==t)throw new TypeError("'options' must be an object.")}else if(e instanceof Uint8Array){if(s=e,"object"==typeof t&&null!==t)c=t;else if(void 0!==t)throw new TypeError("'options' must be an object.")}else{if(!(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const a=e;let r=0,i=e.byteLength;if("object"==typeof t&&null!==t)c=t;else if("number"==typeof t){if(r=t,!Number.isSafeInteger(r))throw new RangeError("'byteOffset' must be an integer.");if(r<0||r>=a.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${a.byteLength}).`);if(i=e.byteLength-r,"number"==typeof n){if(i=n,!Number.isSafeInteger(i))throw new RangeError("'byteLength' must be an integer.");if(i<=0||r+i>a.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${a.byteLength-r}].`);if("object"==typeof o&&null!==o)c=o;else if(void 0!==o)throw new TypeError("'options' must be an object.")}else if(void 0!==n)throw new TypeError("'byteLength' must be a number.")}else if(void 0!==t)throw new TypeError("'options' must be an object.");s=new Uint8Array(a,r,i)}}const i=(c.executionProviders||[]).map((e=>"string"==typeof e?e:e.name)),d=await a.resolveBackend(i),f=await d.createSessionHandler(s,c);return new r(f)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}})),parcelRequire.register("hoU5B",(function(e,t){$parcel$export(e.exports,"Tensor",(function(){return a}));const a=parcelRequire("iLueO").Tensor})),parcelRequire.register("iLueO",(function(e,t){$parcel$export(e.exports,"Tensor",(function(){return s}));const a="undefined"!=typeof BigInt64Array&&"function"==typeof BigInt64Array.from,n="undefined"!=typeof BigUint64Array&&"function"==typeof BigUint64Array.from,r=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),o=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);a&&(r.set("int64",BigInt64Array),o.set(BigInt64Array,"int64")),n&&(r.set("uint64",BigUint64Array),o.set(BigUint64Array,"uint64"));class s{constructor(e,t,a){let n,s,c;if("string"==typeof e)if(n=e,c=a,"string"===e){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");s=t}else{const a=r.get(e);if(void 0===a)throw new TypeError(`Unsupported tensor type: ${e}.`);if(Array.isArray(t))s=a.from(t);else{if(!(t instanceof a))throw new TypeError(`A ${n} tensor's data must be type of ${a}`);s=t}}else if(c=t,Array.isArray(e)){if(0===e.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");const t=typeof e[0];if("string"===t)n="string",s=e;else{if("boolean"!==t)throw new TypeError(`Invalid element type of data array: ${t}.`);n="bool",s=Uint8Array.from(e)}}else{const t=o.get(e.constructor);if(void 0===t)throw new TypeError(`Unsupported type for tensor data: ${e.constructor}.`);n=t,s=e}if(void 0===c)c=[s.length];else if(!Array.isArray(c))throw new TypeError("A tensor's dims must be a number array");const i=(e=>{let t=1;for(let a=0;a<e.length;a++){const n=e[a];if("number"!=typeof n||!Number.isSafeInteger(n))throw new TypeError(`dims[${a}] must be an integer, got: ${n}`);if(n<0)throw new RangeError(`dims[${a}] must be a non-negative integer, got: ${n}`);t*=n}return t})(c);if(i!==s.length)throw new Error(`Tensor's size(${i}) does not match data length(${s.length}).`);this.dims=c,this.type=n,this.data=s,this.size=i}reshape(e){return new s(this.type,this.data,e)}}})),parcelRequire.register("f7jnz",(function(e,t){}));var $4d2c3c7b38834f88$exports={};parcelRequire("gLWzh").register(JSON.parse('{"iXZkM":"index.13c60f53.js","huCb9":"tfjs-backend-wasm.194156f4.wasm","iORpO":"tfjs-backend-wasm-simd.5e8e429d.wasm","lRd4M":"tfjs-backend-wasm-threaded-simd.4bc04b6e.wasm","1jutt":"ort-wasm.c89b39ec.wasm","bxp69":"ort-wasm-simd.30603b2c.wasm","d5WcL":"ort-wasm-threaded.41baccc6.wasm","2RcWn":"ort-wasm-simd-threaded.63e715cf.wasm","gcfuw":"model.fb943c7b.onnx"}'));const $ac24014badd54b1e$export$76e53a66c52b6d4d=1e-7,$ac24014badd54b1e$export$49716d145771e6a2=1e-4;class $ac24014badd54b1e$export$e95767ffe2e60cec{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class $ac24014badd54b1e$export$543916c62202b50a{refCount(e){return $ac24014badd54b1e$var$notYetImplemented("refCount")}incRef(e){return $ac24014badd54b1e$var$notYetImplemented("incRef")}timerAvailable(){return!0}time(e){return $ac24014badd54b1e$var$notYetImplemented("time")}read(e){return $ac24014badd54b1e$var$notYetImplemented("read")}readSync(e){return $ac24014badd54b1e$var$notYetImplemented("readSync")}readToGPU(e,t){return $ac24014badd54b1e$var$notYetImplemented("readToGPU")}numDataIds(){return $ac24014badd54b1e$var$notYetImplemented("numDataIds")}disposeData(e,t){return $ac24014badd54b1e$var$notYetImplemented("disposeData")}write(e,t,a){return $ac24014badd54b1e$var$notYetImplemented("write")}move(e,t,a,n,r){return $ac24014badd54b1e$var$notYetImplemented("move")}memory(){return $ac24014badd54b1e$var$notYetImplemented("memory")}floatPrecision(){return $ac24014badd54b1e$var$notYetImplemented("floatPrecision")}epsilon(){return 32===this.floatPrecision()?$ac24014badd54b1e$export$76e53a66c52b6d4d:$ac24014badd54b1e$export$49716d145771e6a2}dispose(){return $ac24014badd54b1e$var$notYetImplemented("dispose")}}function $ac24014badd54b1e$var$notYetImplemented(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}var $66860e147cb400ad$exports={};function $66860e147cb400ad$export$448332262467e042(e){let t=e.length,a=0;for(;t>0;)a=Math.random()*t|0,t--,$66860e147cb400ad$export$b0e76d9850c64156(e,t,a)}function $66860e147cb400ad$export$ae1498b5fd31a179(e,t){if(e.length!==t.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${e.length}Second array length was ${t.length}`);let a=e.length,n=0;for(;a>0;)n=Math.random()*a|0,a--,$66860e147cb400ad$export$b0e76d9850c64156(e,a,n),$66860e147cb400ad$export$b0e76d9850c64156(t,a,n)}function $66860e147cb400ad$export$7d15b64cf5a3a4c4(e,t,a){return Math.max(e,Math.min(t,a))}function $66860e147cb400ad$export$ece2fd7300c99d1f(e){return e%2==0?e:e+1}function $66860e147cb400ad$export$b0e76d9850c64156(e,t,a){const n=e[t];e[t]=e[a],e[a]=n}function $66860e147cb400ad$export$8a63f25cc62965f1(e){let t=0;for(let a=0;a<e.length;a++)t+=e[a];return t}function $66860e147cb400ad$export$1c2519d52242937(e,t){const a=Math.random();return t*a+(1-a)*e}function $66860e147cb400ad$export$499eb56409f6cbc2(e,t){let a=0;for(let n=0;n<e.length;n++){const r=Number(e[n])-Number(t[n]);a+=r*r}return a}function $66860e147cb400ad$export$a7a9523472993e97(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function $66860e147cb400ad$export$e08b27e7f37e2782(e,t,a=""){$66860e147cb400ad$export$a7a9523472993e97($66860e147cb400ad$export$234180f8206db11b(e,t),(()=>a+` Shapes ${e} and ${t} must match`))}function $66860e147cb400ad$export$44a06cc2759dd036(e){$66860e147cb400ad$export$a7a9523472993e97(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function $66860e147cb400ad$export$bffa455ba8c619a6(e,t=[],a=!1){if(null==t&&(t=[]),Array.isArray(e)||$66860e147cb400ad$export$b119cc7e1840e59c(e)&&!a)for(let n=0;n<e.length;++n)$66860e147cb400ad$export$bffa455ba8c619a6(e[n],t,a);else t.push(e);return t}function $66860e147cb400ad$export$b4c3214a70a0e73f(e){if(0===e.length)return 1;let t=e[0];for(let a=1;a<e.length;a++)t*=e[a];return t}function $66860e147cb400ad$export$d58b8d1ec2129064(e){return 0===e.length}function $66860e147cb400ad$export$234180f8206db11b(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}function $66860e147cb400ad$export$357fc28f6427af8b(e){return e%1==0}function $66860e147cb400ad$export$7128670e45beef9a(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;{const t=Math.exp(2*e);return(t-1)/(t+1)}}function $66860e147cb400ad$export$55bdc5631791c247(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function $66860e147cb400ad$export$49070d702e17365(e){const t=new Uint32Array(e);for(let a=0;a<e;++a)t[a]=a;return $66860e147cb400ad$export$448332262467e042(t),t}function $66860e147cb400ad$export$390245bab32fb60f(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function $66860e147cb400ad$export$aa345f93372ddb7b(e,t=(e=>0),a){return new Promise(((n,r)=>{let o=0;const s=()=>{if(e())return void n();o++;const c=t(o);null!=a&&o>=a?r():setTimeout(s,c)};s()}))}function $66860e147cb400ad$export$e9459a51c182ffc2(e,t){let a=1,n=-1;for(let t=0;t<e.length;++t)if(e[t]>=0)a*=e[t];else if(-1===e[t]){if(-1!==n)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${n} and dim ${t}`);n=t}else if(e[t]<0)throw Error(`Shapes can not be < 0. Found ${e[t]} at dim ${t}`);if(-1===n){if(t>0&&t!==a)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===a)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%a!=0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${a}`);const r=e.slice();return r[n]=t/a,r}function $66860e147cb400ad$export$72b84eb9fe1f482(e,t){const a=t.length;return $66860e147cb400ad$export$a7a9523472993e97((e=null==e?t.map(((e,t)=>t)):[].concat(e)).every((e=>e>=-a&&e<a)),(()=>`All values in axis param must be in range [-${a}, ${a}) but got axis ${e}`)),$66860e147cb400ad$export$a7a9523472993e97(e.every((e=>$66860e147cb400ad$export$357fc28f6427af8b(e))),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?a+e:e))}function $66860e147cb400ad$export$3106ace2a3b5396d(e,t){const a=[],n=[],r=null!=t&&Array.isArray(t)&&0===t.length,o=null==t||r?null:$66860e147cb400ad$export$72b84eb9fe1f482(t,e).sort();let s=0;for(let t=0;t<e.length;++t){if(null!=o){if(o[s]===t&&1!==e[t])throw new Error(`Can't squeeze axis ${t} since its dim '${e[t]}' is not 1`);(null==o[s]||o[s]>t)&&1===e[t]&&(a.push(e[t]),n.push(t)),o[s]<=t&&s++}1!==e[t]&&(a.push(e[t]),n.push(t))}return{newShape:a,keptDims:n}}function $66860e147cb400ad$export$3b783bdb77632623(e,t){let a=null;if(null==e||"float32"===e)a=new Float32Array(t);else if("int32"===e)a=new Int32Array(t);else{if("bool"!==e)throw new Error(`Unknown data type ${e}`);a=new Uint8Array(t)}return a}function $66860e147cb400ad$export$24f13f6206df8f7c(e,t){let a=null;if(null==e||"float32"===e)a=new Float32Array(t);else if("int32"===e)a=new Int32Array(t);else if("bool"===e)a=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);a=new Array(t)}return a}function $66860e147cb400ad$export$579cf7b8ff0a87a3(e,t){for(let a=0;a<e.length;a++){const n=e[a];if(isNaN(n)||!isFinite(n))throw Error(`A tensor of type ${t} being uploaded contains ${n}.`)}}function $66860e147cb400ad$export$a6a3df2178ac9529(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function $66860e147cb400ad$export$9130d84b35fa7b98(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function $66860e147cb400ad$export$b119cc7e1840e59c(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function $66860e147cb400ad$export$3f355ce86503b89f(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function $66860e147cb400ad$export$c474902e1102282d(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}function $66860e147cb400ad$export$844ec244b1367d54(e){return"string"==typeof e||e instanceof String}function $66860e147cb400ad$export$f9ce7b637dfbe238(e){return"boolean"==typeof e}function $66860e147cb400ad$export$7e4aa119212bc614(e){return"number"==typeof e}function $66860e147cb400ad$export$2005775d905d2dc2(e){return Array.isArray(e)?$66860e147cb400ad$export$2005775d905d2dc2(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":$66860e147cb400ad$export$7e4aa119212bc614(e)?"float32":$66860e147cb400ad$export$844ec244b1367d54(e)?"string":$66860e147cb400ad$export$f9ce7b637dfbe238(e)?"bool":"float32"}function $66860e147cb400ad$export$f6e2535fb5126e54(e){return!!(e&&e.constructor&&e.call&&e.apply)}function $66860e147cb400ad$export$c0ff3276320ddb5e(e,t){for(let a=t;a<e;++a)if(e%a==0)return a;return e}function $66860e147cb400ad$export$6ad0292cf4d50f79(e){const t=e.length;if(t<2)return[];const a=new Array(t-1);a[t-2]=e[t-1];for(let n=t-3;n>=0;--n)a[n]=a[n+1]*e[n+1];return a}function $66860e147cb400ad$var$createNestedArray(e,t,a,n=!1){const r=new Array;if(1===t.length){const o=t[0]*(n?2:1);for(let t=0;t<o;t++)r[t]=a[e+t]}else{const o=t[0],s=t.slice(1),c=s.reduce(((e,t)=>e*t))*(n?2:1);for(let t=0;t<o;t++)r[t]=$66860e147cb400ad$var$createNestedArray(e+t*c,s,a,n)}return r}function $66860e147cb400ad$export$3983c25181aa68cc(e,t,a=!1){if(0===e.length)return t[0];const n=e.reduce(((e,t)=>e*t))*(a?2:1);if(0===n)return[];if(n!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${a?" for a complex tensor":""}.`);return $66860e147cb400ad$var$createNestedArray(0,e,t,a)}function $66860e147cb400ad$export$b915f681a907ae99(e,t){const a=$66860e147cb400ad$export$edbc8aedac4e036f(e,t);for(let e=0;e<a.length;e++)a[e]=1;return a}function $66860e147cb400ad$export$edbc8aedac4e036f(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function $66860e147cb400ad$export$eef638260c005c74(e,t){const a=e.reduce(((e,t)=>e*t),1);if(null==t||"float32"===t)return $66860e147cb400ad$export$3983c25181aa68cc(e,new Float32Array(a));if("int32"===t)return $66860e147cb400ad$export$3983c25181aa68cc(e,new Int32Array(a));if("bool"===t)return $66860e147cb400ad$export$3983c25181aa68cc(e,new Uint8Array(a));throw new Error(`Unknown data type ${t}`)}function $66860e147cb400ad$export$3d8b7619bac22cf5(e){e.forEach((t=>{$66860e147cb400ad$export$a7a9523472993e97(Number.isInteger(t)&&t>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`))}))}function $66860e147cb400ad$export$a14b009c502dc3b4(e,t,a){if(0===t)return 0;if(1===t)return e[0];let n=e[e.length-1];for(let t=0;t<e.length-1;++t)n+=a[t]*e[t];return n}function $66860e147cb400ad$export$2d1ada4c755a8699(e,t,a){if(0===t)return[];if(1===t)return[e];const n=new Array(t);for(let t=0;t<n.length-1;++t)n[t]=Math.floor(e/a[t]),e-=n[t]*a[t];return n[n.length-1]=e,n}function $66860e147cb400ad$export$4369c812aac99591(e){return e&&e.then&&"function"==typeof e.then}$parcel$export($66860e147cb400ad$exports,"shuffle",(function(){return $66860e147cb400ad$export$448332262467e042})),$parcel$export($66860e147cb400ad$exports,"swap",(function(){return $66860e147cb400ad$export$b0e76d9850c64156})),$parcel$export($66860e147cb400ad$exports,"shuffleCombo",(function(){return $66860e147cb400ad$export$ae1498b5fd31a179})),$parcel$export($66860e147cb400ad$exports,"clamp",(function(){return $66860e147cb400ad$export$7d15b64cf5a3a4c4})),$parcel$export($66860e147cb400ad$exports,"nearestLargerEven",(function(){return $66860e147cb400ad$export$ece2fd7300c99d1f})),$parcel$export($66860e147cb400ad$exports,"sum",(function(){return $66860e147cb400ad$export$8a63f25cc62965f1})),$parcel$export($66860e147cb400ad$exports,"randUniform",(function(){return $66860e147cb400ad$export$1c2519d52242937})),$parcel$export($66860e147cb400ad$exports,"distSquared",(function(){return $66860e147cb400ad$export$499eb56409f6cbc2})),$parcel$export($66860e147cb400ad$exports,"assert",(function(){return $66860e147cb400ad$export$a7a9523472993e97})),$parcel$export($66860e147cb400ad$exports,"assertShapesMatch",(function(){return $66860e147cb400ad$export$e08b27e7f37e2782})),$parcel$export($66860e147cb400ad$exports,"arraysEqual",(function(){return $66860e147cb400ad$export$234180f8206db11b})),$parcel$export($66860e147cb400ad$exports,"assertNonNull",(function(){return $66860e147cb400ad$export$44a06cc2759dd036})),$parcel$export($66860e147cb400ad$exports,"flatten",(function(){return $66860e147cb400ad$export$bffa455ba8c619a6})),$parcel$export($66860e147cb400ad$exports,"isTypedArray",(function(){return $66860e147cb400ad$export$b119cc7e1840e59c})),$parcel$export($66860e147cb400ad$exports,"sizeFromShape",(function(){return $66860e147cb400ad$export$b4c3214a70a0e73f})),$parcel$export($66860e147cb400ad$exports,"isScalarShape",(function(){return $66860e147cb400ad$export$d58b8d1ec2129064})),$parcel$export($66860e147cb400ad$exports,"isInt",(function(){return $66860e147cb400ad$export$357fc28f6427af8b})),$parcel$export($66860e147cb400ad$exports,"tanh",(function(){return $66860e147cb400ad$export$7128670e45beef9a})),$parcel$export($66860e147cb400ad$exports,"sizeToSquarishShape",(function(){return $66860e147cb400ad$export$55bdc5631791c247})),$parcel$export($66860e147cb400ad$exports,"createShuffledIndices",(function(){return $66860e147cb400ad$export$49070d702e17365})),$parcel$export($66860e147cb400ad$exports,"rightPad",(function(){return $66860e147cb400ad$export$390245bab32fb60f})),$parcel$export($66860e147cb400ad$exports,"repeatedTry",(function(){return $66860e147cb400ad$export$aa345f93372ddb7b})),$parcel$export($66860e147cb400ad$exports,"inferFromImplicitShape",(function(){return $66860e147cb400ad$export$e9459a51c182ffc2})),$parcel$export($66860e147cb400ad$exports,"parseAxisParam",(function(){return $66860e147cb400ad$export$72b84eb9fe1f482})),$parcel$export($66860e147cb400ad$exports,"squeezeShape",(function(){return $66860e147cb400ad$export$3106ace2a3b5396d})),$parcel$export($66860e147cb400ad$exports,"getTypedArrayFromDType",(function(){return $66860e147cb400ad$export$3b783bdb77632623})),$parcel$export($66860e147cb400ad$exports,"getArrayFromDType",(function(){return $66860e147cb400ad$export$24f13f6206df8f7c})),$parcel$export($66860e147cb400ad$exports,"checkConversionForErrors",(function(){return $66860e147cb400ad$export$579cf7b8ff0a87a3})),$parcel$export($66860e147cb400ad$exports,"isValidDtype",(function(){return $66860e147cb400ad$export$a6a3df2178ac9529})),$parcel$export($66860e147cb400ad$exports,"hasEncodingLoss",(function(){return $66860e147cb400ad$export$9130d84b35fa7b98})),$parcel$export($66860e147cb400ad$exports,"bytesPerElement",(function(){return $66860e147cb400ad$export$3f355ce86503b89f})),$parcel$export($66860e147cb400ad$exports,"bytesFromStringArray",(function(){return $66860e147cb400ad$export$c474902e1102282d})),$parcel$export($66860e147cb400ad$exports,"isString",(function(){return $66860e147cb400ad$export$844ec244b1367d54})),$parcel$export($66860e147cb400ad$exports,"isBoolean",(function(){return $66860e147cb400ad$export$f9ce7b637dfbe238})),$parcel$export($66860e147cb400ad$exports,"isNumber",(function(){return $66860e147cb400ad$export$7e4aa119212bc614})),$parcel$export($66860e147cb400ad$exports,"inferDtype",(function(){return $66860e147cb400ad$export$2005775d905d2dc2})),$parcel$export($66860e147cb400ad$exports,"isFunction",(function(){return $66860e147cb400ad$export$f6e2535fb5126e54})),$parcel$export($66860e147cb400ad$exports,"nearestDivisor",(function(){return $66860e147cb400ad$export$c0ff3276320ddb5e})),$parcel$export($66860e147cb400ad$exports,"computeStrides",(function(){return $66860e147cb400ad$export$6ad0292cf4d50f79})),$parcel$export($66860e147cb400ad$exports,"toNestedArray",(function(){return $66860e147cb400ad$export$3983c25181aa68cc})),$parcel$export($66860e147cb400ad$exports,"makeOnesTypedArray",(function(){return $66860e147cb400ad$export$b915f681a907ae99})),$parcel$export($66860e147cb400ad$exports,"makeZerosTypedArray",(function(){return $66860e147cb400ad$export$edbc8aedac4e036f})),$parcel$export($66860e147cb400ad$exports,"makeZerosNestedTypedArray",(function(){return $66860e147cb400ad$export$eef638260c005c74})),$parcel$export($66860e147cb400ad$exports,"assertNonNegativeIntegerDimensions",(function(){return $66860e147cb400ad$export$3d8b7619bac22cf5})),$parcel$export($66860e147cb400ad$exports,"locToIndex",(function(){return $66860e147cb400ad$export$a14b009c502dc3b4})),$parcel$export($66860e147cb400ad$exports,"indexToLoc",(function(){return $66860e147cb400ad$export$2d1ada4c755a8699})),$parcel$export($66860e147cb400ad$exports,"isPromise",(function(){return $66860e147cb400ad$export$4369c812aac99591}));const $3a44a12dab85f91a$var$TENSORFLOWJS_FLAGS_PREFIX="tfjsflags";class $3a44a12dab85f91a$export$7dc6752a22ab011a{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=$3a44a12dab85f91a$export$e2de15bbd9edf9c6,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("IS_TEST")||$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,a){if(this.flagRegistry[e]={evaluationFn:t,setHook:a},null!=this.urlFlags[e]){const t=this.urlFlags[e];$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("IS_TEST")||$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if($66860e147cb400ad$export$4369c812aac99591(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if($3a44a12dab85f91a$var$TENSORFLOWJS_FLAGS_PREFIX in e){e[$3a44a12dab85f91a$var$TENSORFLOWJS_FLAGS_PREFIX].split(",").forEach((e=>{const[t,a]=e.split(":");this.urlFlags[t]=$3a44a12dab85f91a$var$parseValue(t,a)}))}}}function $3a44a12dab85f91a$export$e2de15bbd9edf9c6(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((e,...a)=>($3a44a12dab85f91a$var$decodeParam(t,a[0],a[1]),a.join("=")))),t}function $3a44a12dab85f91a$var$decodeParam(e,t,a){e[decodeURIComponent(t)]=decodeURIComponent(a||"")}function $3a44a12dab85f91a$var$parseValue(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error(`Could not parse value flag value ${t} for flag ${e}.`)}function $3a44a12dab85f91a$export$a7b6bc01c63cdfc3(){return $3a44a12dab85f91a$export$83401e34d5e11bf4}let $3a44a12dab85f91a$export$83401e34d5e11bf4=null;function $3a44a12dab85f91a$export$3ef32a49eeda04cc(e){$3a44a12dab85f91a$export$83401e34d5e11bf4=e}var $eKCdi=parcelRequire("eKCdi");
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let $e95ff5c3fdb76e87$var$globalNameSpace;function $e95ff5c3fdb76e87$export$5054b240ae6849b7(){if(null==$e95ff5c3fdb76e87$var$globalNameSpace){let e;if("undefined"!=typeof window)e=window;else if(void 0!==$parcel$global)e=$parcel$global;else if(void 0!==$eKCdi)e=$eKCdi;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}$e95ff5c3fdb76e87$var$globalNameSpace=e}return $e95ff5c3fdb76e87$var$globalNameSpace}function $e95ff5c3fdb76e87$var$getGlobalMap(){const e=$e95ff5c3fdb76e87$export$5054b240ae6849b7();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}function $e95ff5c3fdb76e87$export$a4e55266d2135a7f(e,t){const a=$e95ff5c3fdb76e87$var$getGlobalMap();if(a.has(e))return a.get(e);{const n=t();return a.set(e,n),a.get(e)}}const $0eb90ddf241a18bf$export$b73c596ee8758a66="Abs",$0eb90ddf241a18bf$export$3b952c9980dac550="Acos",$0eb90ddf241a18bf$export$987da490b7c2e7dd="Acosh",$0eb90ddf241a18bf$export$d0265b2c425512d6="Add",$0eb90ddf241a18bf$export$eef235ad06d3226a="AddN",$0eb90ddf241a18bf$export$5dceb1ab650a1776="All",$0eb90ddf241a18bf$export$b24b633b1364b94b="Any",$0eb90ddf241a18bf$export$17612294a1503e1c="ArgMax",$0eb90ddf241a18bf$export$baabd09270cbbd94="ArgMin",$0eb90ddf241a18bf$export$664c8ca7e7e5c126="Asin",$0eb90ddf241a18bf$export$847c88940cb7dcb5="Asinh",$0eb90ddf241a18bf$export$bac667d46ac043ae="Atan",$0eb90ddf241a18bf$export$98981a86fa2b1366="Atanh",$0eb90ddf241a18bf$export$3bf4c619ce589f4b="Atan2",$0eb90ddf241a18bf$export$37f2cc7be1add88c="AvgPool",$0eb90ddf241a18bf$export$9873fd6046cd6951="AvgPoolGrad",$0eb90ddf241a18bf$export$390ecb697af103f6="AvgPool3D",$0eb90ddf241a18bf$export$7163112adf28c062="AvgPool3DGrad",$0eb90ddf241a18bf$export$9a3bf60b23f63c8="BatchMatMul",$0eb90ddf241a18bf$export$e2743f47f61cca1f="BatchToSpaceND",$0eb90ddf241a18bf$export$45dfbbff595c32aa="Bincount",$0eb90ddf241a18bf$export$ea5eeb875a7c4dd1="BroadcastTo",$0eb90ddf241a18bf$export$32877b1d6d497805="BroadcastArgs",$0eb90ddf241a18bf$export$107ecfb3d1ccbd77="Cast",$0eb90ddf241a18bf$export$d4a1bccfd52ebd3="Ceil",$0eb90ddf241a18bf$export$611c0e357ac37f7d="ClipByValue",$0eb90ddf241a18bf$export$50ceb3fb9926e63e="Complex",$0eb90ddf241a18bf$export$32902e58f1b48f4b="ComplexAbs",$0eb90ddf241a18bf$export$936bbfc007425eea="Concat",$0eb90ddf241a18bf$export$57742e605d475795="Conv2D",$0eb90ddf241a18bf$export$32a8943c0f1ca5a7="Conv2DBackpropFilter",$0eb90ddf241a18bf$export$e26961e8ed0eb404="Conv2DBackpropInput",$0eb90ddf241a18bf$export$9d3874201dd21933="Conv3D",$0eb90ddf241a18bf$export$dd2885efe6043eee="Conv3DBackpropFilterV2",$0eb90ddf241a18bf$export$a54f552d6d7d521f="Conv3DBackpropInputV2",$0eb90ddf241a18bf$export$ddfd0a983d257666="Cos",$0eb90ddf241a18bf$export$5e311a1c57b0d27c="Cosh",$0eb90ddf241a18bf$export$e581acc6014c47a="Cumprod",$0eb90ddf241a18bf$export$706617d894ad63da="Cumsum",$0eb90ddf241a18bf$export$50bc9557793c2e04="CropAndResize",$0eb90ddf241a18bf$export$5bab6834954299c5="DenseBincount",$0eb90ddf241a18bf$export$fb0ee52d0cd6f233="DepthToSpace",$0eb90ddf241a18bf$export$7c0fc590ff9e156f="DepthwiseConv2dNative",$0eb90ddf241a18bf$export$c99f139e0d4d1833="DepthwiseConv2dNativeBackpropFilter",$0eb90ddf241a18bf$export$8649ca3b17033a24="DepthwiseConv2dNativeBackpropInput",$0eb90ddf241a18bf$export$ca73a25315ddeb7f="Diag",$0eb90ddf241a18bf$export$dbbb7830c6497701="Dilation2D",$0eb90ddf241a18bf$export$5dd675a6b0f37e17="Dilation2DBackpropInput",$0eb90ddf241a18bf$export$91add972be69d592="Dilation2DBackpropFilter",$0eb90ddf241a18bf$export$b9880b86e1014bb8="RealDiv",$0eb90ddf241a18bf$export$2541d8be32f3c641="Einsum",$0eb90ddf241a18bf$export$64636e173424d83d="Elu",$0eb90ddf241a18bf$export$9906be4699a73c53="EluGrad",$0eb90ddf241a18bf$export$c2ee2551ce71f1d0="Erf",$0eb90ddf241a18bf$export$8dcf9f58ce5cdfc="Equal",$0eb90ddf241a18bf$export$f908be7a96fb3363="Exp",$0eb90ddf241a18bf$export$2391750b1d901146="ExpandDims",$0eb90ddf241a18bf$export$261f26143a1ff3="Expm1",$0eb90ddf241a18bf$export$677347237c014ba="FFT",$0eb90ddf241a18bf$export$ffffe40bfa0649a3="Fill",$0eb90ddf241a18bf$export$34e7296fc8558df5="FlipLeftRight",$0eb90ddf241a18bf$export$4880b0ae5643c62b="Floor",$0eb90ddf241a18bf$export$d79b5692ede26c2f="FloorDiv",$0eb90ddf241a18bf$export$3821a0416660aaa2="FusedBatchNorm",$0eb90ddf241a18bf$export$ccd988942e5c0181="GatherV2",$0eb90ddf241a18bf$export$4ef6e37a23721703="GatherNd",$0eb90ddf241a18bf$export$d0a25eac5ee3f515="Greater",$0eb90ddf241a18bf$export$3b7d21bc9aee0851="GreaterEqual",$0eb90ddf241a18bf$export$544bf02140fa9a77="Identity",$0eb90ddf241a18bf$export$21c6f576ae8100e8="IFFT",$0eb90ddf241a18bf$export$303b4473993a24f="Imag",$0eb90ddf241a18bf$export$b9fcc0946d7d485e="IsFinite",$0eb90ddf241a18bf$export$74b5a3bc735b152="IsInf",$0eb90ddf241a18bf$export$9912dc4fc649dbec="IsNan",$0eb90ddf241a18bf$export$f0c7162bb7af1a2d="LeakyRelu",$0eb90ddf241a18bf$export$728c50f1c88ac779="Less",$0eb90ddf241a18bf$export$84afd0d8f7fb8c5d="LessEqual",$0eb90ddf241a18bf$export$34f0ab8eba543ee6="LinSpace",$0eb90ddf241a18bf$export$ce30dbb46644d06c="Log",$0eb90ddf241a18bf$export$70f05bf9ddcfca68="Log1p",$0eb90ddf241a18bf$export$8a27ff10dff4d6e5="LogicalAnd",$0eb90ddf241a18bf$export$4393bee5596c68c2="LogicalNot",$0eb90ddf241a18bf$export$c49f9f5ffc6f678c="LogicalOr",$0eb90ddf241a18bf$export$85b5bcbd60848a10="LogSoftmax",$0eb90ddf241a18bf$export$eb2f713fc3e1ca9a="LRN",$0eb90ddf241a18bf$export$73ba43cd0ce95b10="LRNGrad",$0eb90ddf241a18bf$export$d36c09e5d02927e7="Max",$0eb90ddf241a18bf$export$d8d02ac92d161004="Maximum",$0eb90ddf241a18bf$export$39ea33024ddd5cf="MaxPool",$0eb90ddf241a18bf$export$f0f010b1d1db8a46="MaxPoolGrad",$0eb90ddf241a18bf$export$88fdc64af890fc53="MaxPool3D",$0eb90ddf241a18bf$export$52be2c00371a1350="MaxPool3DGrad",$0eb90ddf241a18bf$export$deac4b7497b4047f="MaxPoolWithArgmax",$0eb90ddf241a18bf$export$1c2d59c4b681fbd8="Mean",$0eb90ddf241a18bf$export$dfed19fabc75a31d="Min",$0eb90ddf241a18bf$export$23cb308301e89d6b="Minimum",$0eb90ddf241a18bf$export$f4c0e95fd7fd31e5="MirrorPad",$0eb90ddf241a18bf$export$e4835a5e3f3674d5="Mod",$0eb90ddf241a18bf$export$ee0a8cfb693e0e3f="Multinomial",$0eb90ddf241a18bf$export$f14f83b3b531d498="Multiply",$0eb90ddf241a18bf$export$c07c549000872073="Neg",$0eb90ddf241a18bf$export$385ebe9945cae0c5="NotEqual",$0eb90ddf241a18bf$export$5e11788439c2f04="NonMaxSuppressionV3",$0eb90ddf241a18bf$export$7df908154366fe7f="NonMaxSuppressionV4",$0eb90ddf241a18bf$export$cb45d3fcefce2ef0="NonMaxSuppressionV5",$0eb90ddf241a18bf$export$a2962e735c809d91="OnesLike",$0eb90ddf241a18bf$export$18982b43ba8c02e9="OneHot",$0eb90ddf241a18bf$export$c26f40b29201e5b7="Pack",$0eb90ddf241a18bf$export$5d47ba206577f0f2="PadV2",$0eb90ddf241a18bf$export$14963ee5c8637e11="Pool",$0eb90ddf241a18bf$export$ce28d653ec559ee="Pow",$0eb90ddf241a18bf$export$a42f35f308fc2fa3="Prelu",$0eb90ddf241a18bf$export$b8a16d526a791fb0="Prod",$0eb90ddf241a18bf$export$9a58ef0d7ad3278c="Range",$0eb90ddf241a18bf$export$f41305719b94e675="Real",$0eb90ddf241a18bf$export$c6e4a23ed5e0415b="Reciprocal",$0eb90ddf241a18bf$export$9a6ff968bf961432="Relu",$0eb90ddf241a18bf$export$755ddd847e5abe03="Reshape",$0eb90ddf241a18bf$export$6c8d8ec26192bb18="ResizeNearestNeighbor",$0eb90ddf241a18bf$export$b84ac31c55aa023b="ResizeNearestNeighborGrad",$0eb90ddf241a18bf$export$24f2f15d869e0fd="ResizeBilinear",$0eb90ddf241a18bf$export$2d3cf759f1538c13="ResizeBilinearGrad",$0eb90ddf241a18bf$export$3be9e924f629054e="Relu6",$0eb90ddf241a18bf$export$53c81f36b32e1bba="Reverse",$0eb90ddf241a18bf$export$c5ed3eef16c0612f="Round",$0eb90ddf241a18bf$export$7cc53aa09f5f3a2d="Rsqrt",$0eb90ddf241a18bf$export$28eef6f0168af686="ScatterNd",$0eb90ddf241a18bf$export$ef9b1a59e592288f="Select",$0eb90ddf241a18bf$export$6760d858e6f2594a="Selu",$0eb90ddf241a18bf$export$b3f2e2de3a8baa1e="Slice",$0eb90ddf241a18bf$export$75be1b631f7687="Sin",$0eb90ddf241a18bf$export$b8c187376329d79b="Sinh",$0eb90ddf241a18bf$export$1db683ad541682f6="Sign",$0eb90ddf241a18bf$export$fde18c826dda6b1b="Sigmoid",$0eb90ddf241a18bf$export$c5af433747f1fd0a="Softplus",$0eb90ddf241a18bf$export$21ab404ab9d512a6="Sqrt",$0eb90ddf241a18bf$export$534760f50726d5="Sum",$0eb90ddf241a18bf$export$f63ac5409312707c="SpaceToBatchND",$0eb90ddf241a18bf$export$8dffabb4071f05aa="SplitV",$0eb90ddf241a18bf$export$350a526055d3ca6e="Softmax",$0eb90ddf241a18bf$export$8f1933853a5c8cca="SparseFillEmptyRows",$0eb90ddf241a18bf$export$f08f0dca44fa542="SparseReshape",$0eb90ddf241a18bf$export$610b077aecc2447b="SparseSegmentMean",$0eb90ddf241a18bf$export$68351c28d7116b56="SparseSegmentSum",$0eb90ddf241a18bf$export$2c426709a9332421="SparseToDense",$0eb90ddf241a18bf$export$2f922d20d66089c6="SquaredDifference",$0eb90ddf241a18bf$export$b09fb900337259de="Square",$0eb90ddf241a18bf$export$60c7f9ac271417a9="StridedSlice",$0eb90ddf241a18bf$export$11a7f4af7d96ad41="StringNGrams",$0eb90ddf241a18bf$export$7e266f7223b9d396="StringSplit",$0eb90ddf241a18bf$export$a5639899909bc8ae="StringToHashBucketFast",$0eb90ddf241a18bf$export$d7a01e11500dfb6f="Sub",$0eb90ddf241a18bf$export$115b2d5263ba5985="Tan",$0eb90ddf241a18bf$export$893b6e865e352c83="Tanh",$0eb90ddf241a18bf$export$235cb65c20ad2b7="Tile",$0eb90ddf241a18bf$export$c593cd1ea0d02ebd="TopK",$0eb90ddf241a18bf$export$563a914cafbdc389="Transform",$0eb90ddf241a18bf$export$7e714455f9a1f8f7="Transpose",$0eb90ddf241a18bf$export$8e3adf126971a183="Unique",$0eb90ddf241a18bf$export$441ad6bfc5db8ab4="Unpack",$0eb90ddf241a18bf$export$af810663cded5fe2="UnsortedSegmentSum",$0eb90ddf241a18bf$export$430969a37eda1e88="ZerosLike",$0eb90ddf241a18bf$export$fd55ce593607084a="Step",$0eb90ddf241a18bf$export$d0eb4e7054966c48="FromPixels",$0eb90ddf241a18bf$export$c5a44649815d1c3="RotateWithOffset",$0eb90ddf241a18bf$export$8d1af0f7c2a4da9e="_FusedMatMul",$0eb90ddf241a18bf$export$86f8a8e3a8f2a8f2="FusedConv2D",$0eb90ddf241a18bf$export$5a249e8f498c02c1="FusedDepthwiseConv2D";var $85f1bae22015ed38$exports={};function $85f1bae22015ed38$export$c106dd0671a0fc2d(...e){$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("IS_TEST")||$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("PROD")||console.warn(...e)}function $85f1bae22015ed38$export$bef1f36f5486a6a3(...e){$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("IS_TEST")||$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("PROD")||console.log(...e)}$parcel$export($85f1bae22015ed38$exports,"warn",(function(){return $85f1bae22015ed38$export$c106dd0671a0fc2d})),$parcel$export($85f1bae22015ed38$exports,"log",(function(){return $85f1bae22015ed38$export$bef1f36f5486a6a3}));const $dd56e1b20444f968$var$kernelRegistry=$e95ff5c3fdb76e87$export$a4e55266d2135a7f("kernelRegistry",(()=>new Map)),$dd56e1b20444f968$var$gradRegistry=$e95ff5c3fdb76e87$export$a4e55266d2135a7f("gradRegistry",(()=>new Map));function $dd56e1b20444f968$export$1b85808c967cc434(e,t){const a=$dd56e1b20444f968$var$makeKey(e,t);return $dd56e1b20444f968$var$kernelRegistry.get(a)}function $dd56e1b20444f968$export$e14995d3ec1747ee(e){return $dd56e1b20444f968$var$gradRegistry.get(e)}function $dd56e1b20444f968$export$e4b8d76e176eaecc(e){const t=$dd56e1b20444f968$var$kernelRegistry.entries(),a=[];for(;;){const{done:n,value:r}=t.next();if(n)break;const[o,s]=r,[c]=o.split("_");c===e&&a.push(s)}return a}function $dd56e1b20444f968$export$f3f7c443f3a606e6(e){const{kernelName:t,backendName:a}=e,n=$dd56e1b20444f968$var$makeKey(t,a);$dd56e1b20444f968$var$kernelRegistry.has(n)&&$85f1bae22015ed38$export$c106dd0671a0fc2d(`The kernel '${t}' for backend '${a}' is already registered`),$dd56e1b20444f968$var$kernelRegistry.set(n,e)}function $dd56e1b20444f968$export$de9396b872fdfcc3(e){const{kernelName:t}=e;$dd56e1b20444f968$var$gradRegistry.has(t)&&$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("DEBUG")&&$85f1bae22015ed38$export$c106dd0671a0fc2d(`Overriding the gradient for '${t}'`),$dd56e1b20444f968$var$gradRegistry.set(t,e)}function $dd56e1b20444f968$export$1c3fb41896379a12(e,t){const a=$dd56e1b20444f968$var$makeKey(e,t);if(!$dd56e1b20444f968$var$kernelRegistry.has(a))throw new Error(`The kernel '${e}' for backend '${t}' is not registered`);$dd56e1b20444f968$var$kernelRegistry.delete(a)}function $dd56e1b20444f968$export$41b3e24402efeb81(e){if(!$dd56e1b20444f968$var$gradRegistry.has(e))throw new Error(`The gradient '${e}' for backend is not registered`);$dd56e1b20444f968$var$gradRegistry.delete(e)}function $dd56e1b20444f968$export$fb249e95c44186e6(e,t){$dd56e1b20444f968$export$e4b8d76e176eaecc(e).forEach((e=>{$dd56e1b20444f968$export$f3f7c443f3a606e6(Object.assign({},e,{backendName:t}))}))}function $dd56e1b20444f968$var$makeKey(e,t){return`${t}_${e}`}var $5d5df9ecf1c80076$exports={};$parcel$export($5d5df9ecf1c80076$exports,"createScalarValue",(function(){return $5d5df9ecf1c80076$export$cd3f28d8002ec2a2})),$parcel$export($5d5df9ecf1c80076$exports,"encodeString",(function(){return $5d5df9ecf1c80076$export$8146d2e653b87d6a})),$parcel$export($5d5df9ecf1c80076$exports,"toTypedArray",(function(){return $5d5df9ecf1c80076$export$965adc581230795c})),$parcel$export($5d5df9ecf1c80076$exports,"now",(function(){return $5d5df9ecf1c80076$export$461939dd4422153})),$parcel$export($5d5df9ecf1c80076$exports,"fetch",(function(){return $5d5df9ecf1c80076$export$e7aa7bc5c1b3cfb3})),$parcel$export($5d5df9ecf1c80076$exports,"decodeString",(function(){return $5d5df9ecf1c80076$export$a0fb664af7d0cc44}));var $ad42a9b7cd835031$exports={};$parcel$export($ad42a9b7cd835031$exports,"hexToLong",(function(){return $ad42a9b7cd835031$export$20e49d17901a85a5})),$parcel$export($ad42a9b7cd835031$exports,"fingerPrint64",(function(){return $ad42a9b7cd835031$export$919ee948dc019032}));var $49adc644a7a50d5d$exports={};$49adc644a7a50d5d$exports=$49adc644a7a50d5d$var$Long;var $49adc644a7a50d5d$var$wasm=null;try{$49adc644a7a50d5d$var$wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function $49adc644a7a50d5d$var$Long(e,t,a){this.low=0|e,this.high=0|t,this.unsigned=!!a}function $49adc644a7a50d5d$var$isLong(e){return!0===(e&&e.__isLong__)}$49adc644a7a50d5d$var$Long.prototype.__isLong__,Object.defineProperty($49adc644a7a50d5d$var$Long.prototype,"__isLong__",{value:!0}),$49adc644a7a50d5d$var$Long.isLong=$49adc644a7a50d5d$var$isLong;var $49adc644a7a50d5d$var$INT_CACHE={},$49adc644a7a50d5d$var$UINT_CACHE={};function $49adc644a7a50d5d$var$fromInt(e,t){var a,n,r;return t?(r=0<=(e>>>=0)&&e<256)&&(n=$49adc644a7a50d5d$var$UINT_CACHE[e])?n:(a=$49adc644a7a50d5d$var$fromBits(e,(0|e)<0?-1:0,!0),r&&($49adc644a7a50d5d$var$UINT_CACHE[e]=a),a):(r=-128<=(e|=0)&&e<128)&&(n=$49adc644a7a50d5d$var$INT_CACHE[e])?n:(a=$49adc644a7a50d5d$var$fromBits(e,e<0?-1:0,!1),r&&($49adc644a7a50d5d$var$INT_CACHE[e]=a),a)}function $49adc644a7a50d5d$var$fromNumber(e,t){if(isNaN(e))return t?$49adc644a7a50d5d$var$UZERO:$49adc644a7a50d5d$var$ZERO;if(t){if(e<0)return $49adc644a7a50d5d$var$UZERO;if(e>=$49adc644a7a50d5d$var$TWO_PWR_64_DBL)return $49adc644a7a50d5d$var$MAX_UNSIGNED_VALUE}else{if(e<=-$49adc644a7a50d5d$var$TWO_PWR_63_DBL)return $49adc644a7a50d5d$var$MIN_VALUE;if(e+1>=$49adc644a7a50d5d$var$TWO_PWR_63_DBL)return $49adc644a7a50d5d$var$MAX_VALUE}return e<0?$49adc644a7a50d5d$var$fromNumber(-e,t).neg():$49adc644a7a50d5d$var$fromBits(e%$49adc644a7a50d5d$var$TWO_PWR_32_DBL|0,e/$49adc644a7a50d5d$var$TWO_PWR_32_DBL|0,t)}function $49adc644a7a50d5d$var$fromBits(e,t,a){return new $49adc644a7a50d5d$var$Long(e,t,a)}$49adc644a7a50d5d$var$Long.fromInt=$49adc644a7a50d5d$var$fromInt,$49adc644a7a50d5d$var$Long.fromNumber=$49adc644a7a50d5d$var$fromNumber,$49adc644a7a50d5d$var$Long.fromBits=$49adc644a7a50d5d$var$fromBits;var $49adc644a7a50d5d$var$pow_dbl=Math.pow;function $49adc644a7a50d5d$var$fromString(e,t,a){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return $49adc644a7a50d5d$var$ZERO;if("number"==typeof t?(a=t,t=!1):t=!!t,(a=a||10)<2||36<a)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return $49adc644a7a50d5d$var$fromString(e.substring(1),t,a).neg();for(var r=$49adc644a7a50d5d$var$fromNumber($49adc644a7a50d5d$var$pow_dbl(a,8)),o=$49adc644a7a50d5d$var$ZERO,s=0;s<e.length;s+=8){var c=Math.min(8,e.length-s),i=parseInt(e.substring(s,s+c),a);if(c<8){var d=$49adc644a7a50d5d$var$fromNumber($49adc644a7a50d5d$var$pow_dbl(a,c));o=o.mul(d).add($49adc644a7a50d5d$var$fromNumber(i))}else o=(o=o.mul(r)).add($49adc644a7a50d5d$var$fromNumber(i))}return o.unsigned=t,o}function $49adc644a7a50d5d$var$fromValue(e,t){return"number"==typeof e?$49adc644a7a50d5d$var$fromNumber(e,t):"string"==typeof e?$49adc644a7a50d5d$var$fromString(e,t):$49adc644a7a50d5d$var$fromBits(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}$49adc644a7a50d5d$var$Long.fromString=$49adc644a7a50d5d$var$fromString,$49adc644a7a50d5d$var$Long.fromValue=$49adc644a7a50d5d$var$fromValue;var $49adc644a7a50d5d$var$TWO_PWR_16_DBL=65536,$49adc644a7a50d5d$var$TWO_PWR_24_DBL=16777216,$49adc644a7a50d5d$var$TWO_PWR_32_DBL=$49adc644a7a50d5d$var$TWO_PWR_16_DBL*$49adc644a7a50d5d$var$TWO_PWR_16_DBL,$49adc644a7a50d5d$var$TWO_PWR_64_DBL=$49adc644a7a50d5d$var$TWO_PWR_32_DBL*$49adc644a7a50d5d$var$TWO_PWR_32_DBL,$49adc644a7a50d5d$var$TWO_PWR_63_DBL=$49adc644a7a50d5d$var$TWO_PWR_64_DBL/2,$49adc644a7a50d5d$var$TWO_PWR_24=$49adc644a7a50d5d$var$fromInt($49adc644a7a50d5d$var$TWO_PWR_24_DBL),$49adc644a7a50d5d$var$ZERO=$49adc644a7a50d5d$var$fromInt(0);$49adc644a7a50d5d$var$Long.ZERO=$49adc644a7a50d5d$var$ZERO;var $49adc644a7a50d5d$var$UZERO=$49adc644a7a50d5d$var$fromInt(0,!0);$49adc644a7a50d5d$var$Long.UZERO=$49adc644a7a50d5d$var$UZERO;var $49adc644a7a50d5d$var$ONE=$49adc644a7a50d5d$var$fromInt(1);$49adc644a7a50d5d$var$Long.ONE=$49adc644a7a50d5d$var$ONE;var $49adc644a7a50d5d$var$UONE=$49adc644a7a50d5d$var$fromInt(1,!0);$49adc644a7a50d5d$var$Long.UONE=$49adc644a7a50d5d$var$UONE;var $49adc644a7a50d5d$var$NEG_ONE=$49adc644a7a50d5d$var$fromInt(-1);$49adc644a7a50d5d$var$Long.NEG_ONE=$49adc644a7a50d5d$var$NEG_ONE;var $49adc644a7a50d5d$var$MAX_VALUE=$49adc644a7a50d5d$var$fromBits(-1,2147483647,!1);$49adc644a7a50d5d$var$Long.MAX_VALUE=$49adc644a7a50d5d$var$MAX_VALUE;var $49adc644a7a50d5d$var$MAX_UNSIGNED_VALUE=$49adc644a7a50d5d$var$fromBits(-1,-1,!0);$49adc644a7a50d5d$var$Long.MAX_UNSIGNED_VALUE=$49adc644a7a50d5d$var$MAX_UNSIGNED_VALUE;var $49adc644a7a50d5d$var$MIN_VALUE=$49adc644a7a50d5d$var$fromBits(0,-2147483648,!1);$49adc644a7a50d5d$var$Long.MIN_VALUE=$49adc644a7a50d5d$var$MIN_VALUE;var $49adc644a7a50d5d$var$LongPrototype=$49adc644a7a50d5d$var$Long.prototype;$49adc644a7a50d5d$var$LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},$49adc644a7a50d5d$var$LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*$49adc644a7a50d5d$var$TWO_PWR_32_DBL+(this.low>>>0):this.high*$49adc644a7a50d5d$var$TWO_PWR_32_DBL+(this.low>>>0)},$49adc644a7a50d5d$var$LongPrototype.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq($49adc644a7a50d5d$var$MIN_VALUE)){var t=$49adc644a7a50d5d$var$fromNumber(e),a=this.div(t),n=a.mul(t).sub(this);return a.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var r=$49adc644a7a50d5d$var$fromNumber($49adc644a7a50d5d$var$pow_dbl(e,6),this.unsigned),o=this,s="";;){var c=o.div(r),i=(o.sub(c.mul(r)).toInt()>>>0).toString(e);if((o=c).isZero())return i+s;for(;i.length<6;)i="0"+i;s=""+i+s}},$49adc644a7a50d5d$var$LongPrototype.getHighBits=function(){return this.high},$49adc644a7a50d5d$var$LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0},$49adc644a7a50d5d$var$LongPrototype.getLowBits=function(){return this.low},$49adc644a7a50d5d$var$LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0},$49adc644a7a50d5d$var$LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq($49adc644a7a50d5d$var$MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},$49adc644a7a50d5d$var$LongPrototype.isZero=function(){return 0===this.high&&0===this.low},$49adc644a7a50d5d$var$LongPrototype.eqz=$49adc644a7a50d5d$var$LongPrototype.isZero,$49adc644a7a50d5d$var$LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0},$49adc644a7a50d5d$var$LongPrototype.isPositive=function(){return this.unsigned||this.high>=0},$49adc644a7a50d5d$var$LongPrototype.isOdd=function(){return 1==(1&this.low)},$49adc644a7a50d5d$var$LongPrototype.isEven=function(){return 0==(1&this.low)},$49adc644a7a50d5d$var$LongPrototype.equals=function(e){return $49adc644a7a50d5d$var$isLong(e)||(e=$49adc644a7a50d5d$var$fromValue(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},$49adc644a7a50d5d$var$LongPrototype.eq=$49adc644a7a50d5d$var$LongPrototype.equals,$49adc644a7a50d5d$var$LongPrototype.notEquals=function(e){return!this.eq(e)},$49adc644a7a50d5d$var$LongPrototype.neq=$49adc644a7a50d5d$var$LongPrototype.notEquals,$49adc644a7a50d5d$var$LongPrototype.ne=$49adc644a7a50d5d$var$LongPrototype.notEquals,$49adc644a7a50d5d$var$LongPrototype.lessThan=function(e){return this.comp(e)<0},$49adc644a7a50d5d$var$LongPrototype.lt=$49adc644a7a50d5d$var$LongPrototype.lessThan,$49adc644a7a50d5d$var$LongPrototype.lessThanOrEqual=function(e){return this.comp(e)<=0},$49adc644a7a50d5d$var$LongPrototype.lte=$49adc644a7a50d5d$var$LongPrototype.lessThanOrEqual,$49adc644a7a50d5d$var$LongPrototype.le=$49adc644a7a50d5d$var$LongPrototype.lessThanOrEqual,$49adc644a7a50d5d$var$LongPrototype.greaterThan=function(e){return this.comp(e)>0},$49adc644a7a50d5d$var$LongPrototype.gt=$49adc644a7a50d5d$var$LongPrototype.greaterThan,$49adc644a7a50d5d$var$LongPrototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},$49adc644a7a50d5d$var$LongPrototype.gte=$49adc644a7a50d5d$var$LongPrototype.greaterThanOrEqual,$49adc644a7a50d5d$var$LongPrototype.ge=$49adc644a7a50d5d$var$LongPrototype.greaterThanOrEqual,$49adc644a7a50d5d$var$LongPrototype.compare=function(e){if($49adc644a7a50d5d$var$isLong(e)||(e=$49adc644a7a50d5d$var$fromValue(e)),this.eq(e))return 0;var t=this.isNegative(),a=e.isNegative();return t&&!a?-1:!t&&a?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},$49adc644a7a50d5d$var$LongPrototype.comp=$49adc644a7a50d5d$var$LongPrototype.compare,$49adc644a7a50d5d$var$LongPrototype.negate=function(){return!this.unsigned&&this.eq($49adc644a7a50d5d$var$MIN_VALUE)?$49adc644a7a50d5d$var$MIN_VALUE:this.not().add($49adc644a7a50d5d$var$ONE)},$49adc644a7a50d5d$var$LongPrototype.neg=$49adc644a7a50d5d$var$LongPrototype.negate,$49adc644a7a50d5d$var$LongPrototype.add=function(e){$49adc644a7a50d5d$var$isLong(e)||(e=$49adc644a7a50d5d$var$fromValue(e));var t=this.high>>>16,a=65535&this.high,n=this.low>>>16,r=65535&this.low,o=e.high>>>16,s=65535&e.high,c=e.low>>>16,i=0,d=0,f=0,$=0;return f+=($+=r+(65535&e.low))>>>16,d+=(f+=n+c)>>>16,i+=(d+=a+s)>>>16,i+=t+o,$49adc644a7a50d5d$var$fromBits((f&=65535)<<16|($&=65535),(i&=65535)<<16|(d&=65535),this.unsigned)},$49adc644a7a50d5d$var$LongPrototype.subtract=function(e){return $49adc644a7a50d5d$var$isLong(e)||(e=$49adc644a7a50d5d$var$fromValue(e)),this.add(e.neg())},$49adc644a7a50d5d$var$LongPrototype.sub=$49adc644a7a50d5d$var$LongPrototype.subtract,$49adc644a7a50d5d$var$LongPrototype.multiply=function(e){if(this.isZero())return $49adc644a7a50d5d$var$ZERO;if($49adc644a7a50d5d$var$isLong(e)||(e=$49adc644a7a50d5d$var$fromValue(e)),$49adc644a7a50d5d$var$wasm)return $49adc644a7a50d5d$var$fromBits($49adc644a7a50d5d$var$wasm.mul(this.low,this.high,e.low,e.high),$49adc644a7a50d5d$var$wasm.get_high(),this.unsigned);if(e.isZero())return $49adc644a7a50d5d$var$ZERO;if(this.eq($49adc644a7a50d5d$var$MIN_VALUE))return e.isOdd()?$49adc644a7a50d5d$var$MIN_VALUE:$49adc644a7a50d5d$var$ZERO;if(e.eq($49adc644a7a50d5d$var$MIN_VALUE))return this.isOdd()?$49adc644a7a50d5d$var$MIN_VALUE:$49adc644a7a50d5d$var$ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt($49adc644a7a50d5d$var$TWO_PWR_24)&&e.lt($49adc644a7a50d5d$var$TWO_PWR_24))return $49adc644a7a50d5d$var$fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,a=65535&this.high,n=this.low>>>16,r=65535&this.low,o=e.high>>>16,s=65535&e.high,c=e.low>>>16,i=65535&e.low,d=0,f=0,$=0,u=0;return $+=(u+=r*i)>>>16,f+=($+=n*i)>>>16,$&=65535,f+=($+=r*c)>>>16,d+=(f+=a*i)>>>16,f&=65535,d+=(f+=n*c)>>>16,f&=65535,d+=(f+=r*s)>>>16,d+=t*i+a*c+n*s+r*o,$49adc644a7a50d5d$var$fromBits(($&=65535)<<16|(u&=65535),(d&=65535)<<16|(f&=65535),this.unsigned)},$49adc644a7a50d5d$var$LongPrototype.mul=$49adc644a7a50d5d$var$LongPrototype.multiply,$49adc644a7a50d5d$var$LongPrototype.divide=function(e){if($49adc644a7a50d5d$var$isLong(e)||(e=$49adc644a7a50d5d$var$fromValue(e)),e.isZero())throw Error("division by zero");var t,a,n;if($49adc644a7a50d5d$var$wasm)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?$49adc644a7a50d5d$var$fromBits((this.unsigned?$49adc644a7a50d5d$var$wasm.div_u:$49adc644a7a50d5d$var$wasm.div_s)(this.low,this.high,e.low,e.high),$49adc644a7a50d5d$var$wasm.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?$49adc644a7a50d5d$var$UZERO:$49adc644a7a50d5d$var$ZERO;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return $49adc644a7a50d5d$var$UZERO;if(e.gt(this.shru(1)))return $49adc644a7a50d5d$var$UONE;n=$49adc644a7a50d5d$var$UZERO}else{if(this.eq($49adc644a7a50d5d$var$MIN_VALUE))return e.eq($49adc644a7a50d5d$var$ONE)||e.eq($49adc644a7a50d5d$var$NEG_ONE)?$49adc644a7a50d5d$var$MIN_VALUE:e.eq($49adc644a7a50d5d$var$MIN_VALUE)?$49adc644a7a50d5d$var$ONE:(t=this.shr(1).div(e).shl(1)).eq($49adc644a7a50d5d$var$ZERO)?e.isNegative()?$49adc644a7a50d5d$var$ONE:$49adc644a7a50d5d$var$NEG_ONE:(a=this.sub(e.mul(t)),n=t.add(a.div(e)));if(e.eq($49adc644a7a50d5d$var$MIN_VALUE))return this.unsigned?$49adc644a7a50d5d$var$UZERO:$49adc644a7a50d5d$var$ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();n=$49adc644a7a50d5d$var$ZERO}for(a=this;a.gte(e);){t=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var r=Math.ceil(Math.log(t)/Math.LN2),o=r<=48?1:$49adc644a7a50d5d$var$pow_dbl(2,r-48),s=$49adc644a7a50d5d$var$fromNumber(t),c=s.mul(e);c.isNegative()||c.gt(a);)c=(s=$49adc644a7a50d5d$var$fromNumber(t-=o,this.unsigned)).mul(e);s.isZero()&&(s=$49adc644a7a50d5d$var$ONE),n=n.add(s),a=a.sub(c)}return n},$49adc644a7a50d5d$var$LongPrototype.div=$49adc644a7a50d5d$var$LongPrototype.divide,$49adc644a7a50d5d$var$LongPrototype.modulo=function(e){return $49adc644a7a50d5d$var$isLong(e)||(e=$49adc644a7a50d5d$var$fromValue(e)),$49adc644a7a50d5d$var$wasm?$49adc644a7a50d5d$var$fromBits((this.unsigned?$49adc644a7a50d5d$var$wasm.rem_u:$49adc644a7a50d5d$var$wasm.rem_s)(this.low,this.high,e.low,e.high),$49adc644a7a50d5d$var$wasm.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},$49adc644a7a50d5d$var$LongPrototype.mod=$49adc644a7a50d5d$var$LongPrototype.modulo,$49adc644a7a50d5d$var$LongPrototype.rem=$49adc644a7a50d5d$var$LongPrototype.modulo,$49adc644a7a50d5d$var$LongPrototype.not=function(){return $49adc644a7a50d5d$var$fromBits(~this.low,~this.high,this.unsigned)},$49adc644a7a50d5d$var$LongPrototype.and=function(e){return $49adc644a7a50d5d$var$isLong(e)||(e=$49adc644a7a50d5d$var$fromValue(e)),$49adc644a7a50d5d$var$fromBits(this.low&e.low,this.high&e.high,this.unsigned)},$49adc644a7a50d5d$var$LongPrototype.or=function(e){return $49adc644a7a50d5d$var$isLong(e)||(e=$49adc644a7a50d5d$var$fromValue(e)),$49adc644a7a50d5d$var$fromBits(this.low|e.low,this.high|e.high,this.unsigned)},$49adc644a7a50d5d$var$LongPrototype.xor=function(e){return $49adc644a7a50d5d$var$isLong(e)||(e=$49adc644a7a50d5d$var$fromValue(e)),$49adc644a7a50d5d$var$fromBits(this.low^e.low,this.high^e.high,this.unsigned)},$49adc644a7a50d5d$var$LongPrototype.shiftLeft=function(e){return $49adc644a7a50d5d$var$isLong(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?$49adc644a7a50d5d$var$fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):$49adc644a7a50d5d$var$fromBits(0,this.low<<e-32,this.unsigned)},$49adc644a7a50d5d$var$LongPrototype.shl=$49adc644a7a50d5d$var$LongPrototype.shiftLeft,$49adc644a7a50d5d$var$LongPrototype.shiftRight=function(e){return $49adc644a7a50d5d$var$isLong(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?$49adc644a7a50d5d$var$fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):$49adc644a7a50d5d$var$fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},$49adc644a7a50d5d$var$LongPrototype.shr=$49adc644a7a50d5d$var$LongPrototype.shiftRight,$49adc644a7a50d5d$var$LongPrototype.shiftRightUnsigned=function(e){if($49adc644a7a50d5d$var$isLong(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?$49adc644a7a50d5d$var$fromBits(this.low>>>e|t<<32-e,t>>>e,this.unsigned):$49adc644a7a50d5d$var$fromBits(32===e?t:t>>>e-32,0,this.unsigned)},$49adc644a7a50d5d$var$LongPrototype.shru=$49adc644a7a50d5d$var$LongPrototype.shiftRightUnsigned,$49adc644a7a50d5d$var$LongPrototype.shr_u=$49adc644a7a50d5d$var$LongPrototype.shiftRightUnsigned,$49adc644a7a50d5d$var$LongPrototype.toSigned=function(){return this.unsigned?$49adc644a7a50d5d$var$fromBits(this.low,this.high,!1):this},$49adc644a7a50d5d$var$LongPrototype.toUnsigned=function(){return this.unsigned?this:$49adc644a7a50d5d$var$fromBits(this.low,this.high,!0)},$49adc644a7a50d5d$var$LongPrototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},$49adc644a7a50d5d$var$LongPrototype.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},$49adc644a7a50d5d$var$LongPrototype.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},$49adc644a7a50d5d$var$Long.fromBytes=function(e,t,a){return a?$49adc644a7a50d5d$var$Long.fromBytesLE(e,t):$49adc644a7a50d5d$var$Long.fromBytesBE(e,t)},$49adc644a7a50d5d$var$Long.fromBytesLE=function(e,t){return new $49adc644a7a50d5d$var$Long(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},$49adc644a7a50d5d$var$Long.fromBytesBE=function(e,t){return new $49adc644a7a50d5d$var$Long(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};const $ad42a9b7cd835031$var$Long=$49adc644a7a50d5d$exports.default||$49adc644a7a50d5d$exports;function $ad42a9b7cd835031$export$20e49d17901a85a5(e){return $ad42a9b7cd835031$var$Long.fromString(e,!0,16)}const $ad42a9b7cd835031$var$k0=$ad42a9b7cd835031$export$20e49d17901a85a5("c3a5c85c97cb3127"),$ad42a9b7cd835031$var$k1=$ad42a9b7cd835031$export$20e49d17901a85a5("b492b66fbe98f273"),$ad42a9b7cd835031$var$k2=$ad42a9b7cd835031$export$20e49d17901a85a5("9ae16a3b2f90404f");function $ad42a9b7cd835031$var$shiftMix(e){return e.xor(e.shru(47))}function $ad42a9b7cd835031$var$fetch(e,t,a){const n=e.slice(t,t+a);return $ad42a9b7cd835031$var$Long.fromBytes(Array.from(n),!0,!0)}function $ad42a9b7cd835031$var$fetch64(e,t){return $ad42a9b7cd835031$var$fetch(e,t,8)}function $ad42a9b7cd835031$var$fetch32(e,t){return $ad42a9b7cd835031$var$fetch(e,t,4)}function $ad42a9b7cd835031$var$rotate64(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function $ad42a9b7cd835031$var$hashLen16(e,t,a=$ad42a9b7cd835031$export$20e49d17901a85a5("9ddfea08eb382d69")){let n=e.xor(t).mul(a);n=n.xor(n.shru(47));let r=t.xor(n).mul(a);return r=r.xor(r.shru(47)),r=r.mul(a),r}function $ad42a9b7cd835031$var$weakHashLen32WithSeeds(e,t,a,n,r,o){r=r.add(e),o=$ad42a9b7cd835031$var$rotate64(o.add(r).add(n),21);const s=r;return r=(r=r.add(t)).add(a),o=o.add($ad42a9b7cd835031$var$rotate64(r,44)),[r.add(n),o.add(s)]}function $ad42a9b7cd835031$var$weakHashLen32WithSeedsStr(e,t,a,n){return $ad42a9b7cd835031$var$weakHashLen32WithSeeds($ad42a9b7cd835031$var$fetch64(e,t),$ad42a9b7cd835031$var$fetch64(e,t+8),$ad42a9b7cd835031$var$fetch64(e,t+16),$ad42a9b7cd835031$var$fetch64(e,t+24),a,n)}function $ad42a9b7cd835031$var$hashLen0to16(e,t=e.length){if(t>=8){const a=$ad42a9b7cd835031$var$k2.add(2*t),n=$ad42a9b7cd835031$var$fetch64(e,0).add($ad42a9b7cd835031$var$k2),r=$ad42a9b7cd835031$var$fetch64(e,t-8);return $ad42a9b7cd835031$var$hashLen16($ad42a9b7cd835031$var$rotate64(r,37).mul(a).add(n),$ad42a9b7cd835031$var$rotate64(n,25).add(r).mul(a),a)}if(t>=4){const a=$ad42a9b7cd835031$var$k2.add(2*t);return $ad42a9b7cd835031$var$hashLen16($ad42a9b7cd835031$var$fetch32(e,0).shl(3).add(t),$ad42a9b7cd835031$var$fetch32(e,t-4),a)}if(t>0){const a=e[0]+(e[t>>1]<<8),n=t+(e[t-1]<<2);return $ad42a9b7cd835031$var$shiftMix($ad42a9b7cd835031$var$k2.mul(a).xor($ad42a9b7cd835031$var$k0.mul(n))).mul($ad42a9b7cd835031$var$k2)}return $ad42a9b7cd835031$var$k2}function $ad42a9b7cd835031$var$hashLen17to32(e,t=e.length){const a=$ad42a9b7cd835031$var$k2.add(2*t),n=$ad42a9b7cd835031$var$fetch64(e,0).mul($ad42a9b7cd835031$var$k1),r=$ad42a9b7cd835031$var$fetch64(e,8),o=$ad42a9b7cd835031$var$fetch64(e,t-8).mul(a),s=$ad42a9b7cd835031$var$fetch64(e,t-16).mul($ad42a9b7cd835031$var$k2);return $ad42a9b7cd835031$var$hashLen16($ad42a9b7cd835031$var$rotate64(n.add(r),43).add($ad42a9b7cd835031$var$rotate64(o,30)).add(s),n.add($ad42a9b7cd835031$var$rotate64(r.add($ad42a9b7cd835031$var$k2),18)).add(o),a)}function $ad42a9b7cd835031$var$hashLen33to64(e,t=e.length){const a=$ad42a9b7cd835031$var$k2.add(2*t),n=$ad42a9b7cd835031$var$fetch64(e,0).mul($ad42a9b7cd835031$var$k2),r=$ad42a9b7cd835031$var$fetch64(e,8),o=$ad42a9b7cd835031$var$fetch64(e,t-8).mul(a),s=$ad42a9b7cd835031$var$fetch64(e,t-16).mul($ad42a9b7cd835031$var$k2),c=$ad42a9b7cd835031$var$rotate64(n.add(r),43).add($ad42a9b7cd835031$var$rotate64(o,30)).add(s),i=$ad42a9b7cd835031$var$hashLen16(c,n.add($ad42a9b7cd835031$var$rotate64(r.add($ad42a9b7cd835031$var$k2),18)).add(o),a),d=$ad42a9b7cd835031$var$fetch64(e,16).mul(a),f=$ad42a9b7cd835031$var$fetch64(e,24),$=c.add($ad42a9b7cd835031$var$fetch64(e,t-32)).mul(a),u=i.add($ad42a9b7cd835031$var$fetch64(e,t-24)).mul(a);return $ad42a9b7cd835031$var$hashLen16($ad42a9b7cd835031$var$rotate64(d.add(f),43).add($ad42a9b7cd835031$var$rotate64($,30)).add(u),d.add($ad42a9b7cd835031$var$rotate64(f.add(n),18)).add($),a)}function $ad42a9b7cd835031$export$919ee948dc019032(e,t=e.length){const a=$ad42a9b7cd835031$var$Long.fromNumber(81,!0);if(t<=32)return t<=16?$ad42a9b7cd835031$var$hashLen0to16(e,t):$ad42a9b7cd835031$var$hashLen17to32(e,t);if(t<=64)return $ad42a9b7cd835031$var$hashLen33to64(e,t);let n=a,r=a.mul($ad42a9b7cd835031$var$k1).add(113),o=$ad42a9b7cd835031$var$shiftMix(r.mul($ad42a9b7cd835031$var$k2).add(113)).mul($ad42a9b7cd835031$var$k2),s=[$ad42a9b7cd835031$var$Long.UZERO,$ad42a9b7cd835031$var$Long.UZERO],c=[$ad42a9b7cd835031$var$Long.UZERO,$ad42a9b7cd835031$var$Long.UZERO];n=n.mul($ad42a9b7cd835031$var$k2).add($ad42a9b7cd835031$var$fetch64(e,0));let i=0;const d=64*(t-1>>6),f=d+(t-1&63)-63;do{n=$ad42a9b7cd835031$var$rotate64(n.add(r).add(s[0]).add($ad42a9b7cd835031$var$fetch64(e,i+8)),37).mul($ad42a9b7cd835031$var$k1),r=$ad42a9b7cd835031$var$rotate64(r.add(s[1]).add($ad42a9b7cd835031$var$fetch64(e,i+48)),42).mul($ad42a9b7cd835031$var$k1),n=n.xor(c[1]),r=r.add(s[0]).add($ad42a9b7cd835031$var$fetch64(e,i+40)),o=$ad42a9b7cd835031$var$rotate64(o.add(c[0]),33).mul($ad42a9b7cd835031$var$k1),s=$ad42a9b7cd835031$var$weakHashLen32WithSeedsStr(e,i,s[1].mul($ad42a9b7cd835031$var$k1),n.add(c[0])),c=$ad42a9b7cd835031$var$weakHashLen32WithSeedsStr(e,i+32,o.add(c[1]),r.add($ad42a9b7cd835031$var$fetch64(e,i+16))),[o,n]=[n,o],i+=64}while(i!==d);const $=$ad42a9b7cd835031$var$k1.add(o.and(255).shl(1));return i=f,c[0]=c[0].add(t-1&63),s[0]=s[0].add(c[0]),c[0]=c[0].add(s[0]),n=$ad42a9b7cd835031$var$rotate64(n.add(r).add(s[0]).add($ad42a9b7cd835031$var$fetch64(e,i+8)),37).mul($),r=$ad42a9b7cd835031$var$rotate64(r.add(s[1]).add($ad42a9b7cd835031$var$fetch64(e,i+48)),42).mul($),n=n.xor(c[1].mul(9)),r=r.add(s[0].mul(9).add($ad42a9b7cd835031$var$fetch64(e,i+40))),o=$ad42a9b7cd835031$var$rotate64(o.add(c[0]),33).mul($),s=$ad42a9b7cd835031$var$weakHashLen32WithSeedsStr(e,i,s[1].mul($),n.add(c[0])),c=$ad42a9b7cd835031$var$weakHashLen32WithSeedsStr(e,i+32,o.add(c[1]),r.add($ad42a9b7cd835031$var$fetch64(e,i+16))),[o,n]=[n,o],$ad42a9b7cd835031$var$hashLen16($ad42a9b7cd835031$var$hashLen16(s[0],c[0],$).add($ad42a9b7cd835031$var$shiftMix(r).mul($ad42a9b7cd835031$var$k0)).add(o),$ad42a9b7cd835031$var$hashLen16(s[1],c[1],$).add(n),$)}function $5d5df9ecf1c80076$export$cd3f28d8002ec2a2(e,t){return"string"===t?$5d5df9ecf1c80076$export$8146d2e653b87d6a(e):$5d5df9ecf1c80076$export$965adc581230795c([e],t)}function $5d5df9ecf1c80076$var$noConversionNeeded(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}function $5d5df9ecf1c80076$export$965adc581230795c(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=$66860e147cb400ad$export$bffa455ba8c619a6(e)),$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("DEBUG")&&$66860e147cb400ad$export$579cf7b8ff0a87a3(e,t),$5d5df9ecf1c80076$var$noConversionNeeded(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let a=0;a<t.length;++a)0!==Math.round(e[a])&&(t[a]=1);return t}throw new Error(`Unknown data type ${t}`)}function $5d5df9ecf1c80076$export$461939dd4422153(){return $3a44a12dab85f91a$export$a7b6bc01c63cdfc3().platform.now()}function $5d5df9ecf1c80076$export$e7aa7bc5c1b3cfb3(e,t){return $3a44a12dab85f91a$export$a7b6bc01c63cdfc3().platform.fetch(e,t)}function $5d5df9ecf1c80076$export$8146d2e653b87d6a(e,t="utf-8"){return t=t||"utf-8",$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().platform.encode(e,t)}function $5d5df9ecf1c80076$export$a0fb664af7d0cc44(e,t="utf-8"){return t=t||"utf-8",$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().platform.decode(e,t)}$parcel$exportWildcard($5d5df9ecf1c80076$exports,$66860e147cb400ad$exports),$parcel$exportWildcard($5d5df9ecf1c80076$exports,$ad42a9b7cd835031$exports);class $ca8c65101e205735$export$e2c29f18771995cb{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new $ca8c65101e205735$export$efa9a398d6368992)}profileKernel(e,t,a){let n;const r=()=>{n=a()};let o;const s=$5d5df9ecf1c80076$export$461939dd4422153();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(r);else{r();for(const e of n)e.dataSync();o=Promise.resolve({kernelMs:$5d5df9ecf1c80076$export$461939dd4422153()-s})}if($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let t=0;t<n.length;t++){const a=n[t];a.data().then((t=>{$ca8c65101e205735$export$7f6e9a47e989eedc(t,a.dtype,e)}))}return{kernelName:e,outputs:n,inputs:t,timeMs:o.then((e=>e.kernelMs)),extraInfo:o.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:a,timeMs:n,inputs:r,extraInfo:o}=e;a.forEach((e=>{Promise.all([e.data(),n,o]).then((a=>{this.logger.logKernelProfile(t,e,a[0],a[1],r,a[2])}))}))}}function $ca8c65101e205735$export$7f6e9a47e989eedc(e,t,a){if("float32"!==t)return!1;for(let t=0;t<e.length;t++){const n=e[t];if(isNaN(n)||!isFinite(n))return console.warn(`Found ${n} in the result of '${a}'`),!0}return!1}class $ca8c65101e205735$export$efa9a398d6368992{logKernelProfile(e,t,a,n,r,o){const s="number"==typeof n?$66860e147cb400ad$export$390245bab32fb60f(`${n}ms`,9):n.error,c=$66860e147cb400ad$export$390245bab32fb60f(e,25),i=t.rank,d=t.size,f=$66860e147cb400ad$export$390245bab32fb60f(t.shape.toString(),14);let $="";for(const e in r){const a=r[e];if(null!=a){const n=a.shape||t.shape,r=n.length;$+=`${e}: ${r}D ${r>0?n:""} `}}console.log(`%c${c}\t%c${s}\t%c${i}D ${f}\t%c${d}\t%c${$}\t%c${o}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}function $21005e2d1b3b61ba$export$13eebbb952f0db02(e,t,a){const n={},r={};for(let e=0;e<t.length;e++)n[t[e].id]=!0;for(let a=0;a<e.length;a++){const o=e[a],s=o.inputs;for(const e in s){const a=s[e];let c=!1;for(let e=0;e<t.length;e++)if(n[a.id]){o.outputs.forEach((e=>n[e.id]=!0)),c=!0,r[o.id]=!0;break}if(c)break}}const o={};o[a.id]=!0;const s={};for(let t=e.length-1;t>=0;t--){const a=e[t],n=a.inputs;for(let e=0;e<a.outputs.length;e++)if(o[a.outputs[e].id]){for(const e in n)o[n[e].id]=!0,s[a.id]=!0;break}}const c=[];for(let t=0;t<e.length;t++){const a=e[t];if(r[a.id]&&s[a.id]){const e={};for(const t in a.inputs){const r=a.inputs[t];n[r.id]&&(e[t]=r)}const t=Object.assign({},a);t.inputs=e,t.outputs=a.outputs,c.push(t)}}return c}function $21005e2d1b3b61ba$export$2992958ba0a8790d(e,t,a,n){for(let r=t.length-1;r>=0;r--){const o=t[r],s=[];if(o.outputs.forEach((t=>{const a=e[t.id];null!=a?s.push(a):s.push(null)})),null==o.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${o.kernelName}.`);const c=o.gradient(s);for(const t in o.inputs){if(!(t in c))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(c)}.`);const r=a((()=>c[t]()));if("float32"!==r.dtype)throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${r.dtype}'`);const s=o.inputs[t];if(!$66860e147cb400ad$export$234180f8206db11b(r.shape,s.shape))throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input '${t}' has shape '${r.shape}', which does not match the shape of the input '${s.shape}'`);if(null==e[s.id])e[s.id]=r;else{const t=e[s.id];e[s.id]=n(t,r),t.dispose()}}}}const $6737a0964fa016c0$var$FORMAT_LIMIT_NUM_VALS=20,$6737a0964fa016c0$var$FORMAT_NUM_FIRST_LAST_VALS=3,$6737a0964fa016c0$var$FORMAT_NUM_SIG_DIGITS=7;function $6737a0964fa016c0$export$7febe2c78b16daa7(e,t,a,n){const r=$66860e147cb400ad$export$6ad0292cf4d50f79(t),o=$6737a0964fa016c0$var$computeMaxSizePerColumn(e,t,a,r),s=t.length,c=$6737a0964fa016c0$var$subTensorToString(e,t,a,r,o),i=["Tensor"];return n&&(i.push(`  dtype: ${a}`),i.push(`  rank: ${s}`),i.push(`  shape: [${t}]`),i.push("  values:")),i.push(c.map((e=>"    "+e)).join("\n")),i.join("\n")}function $6737a0964fa016c0$var$computeMaxSizePerColumn(e,t,a,n){const r=$66860e147cb400ad$export$b4c3214a70a0e73f(t),o=n[n.length-1],s=new Array(o).fill(0),c=t.length,i="complex64"===a?$6737a0964fa016c0$var$createComplexTuples(e):e;if(c>1)for(let e=0;e<r/o;e++){const t=e*o;for(let e=0;e<o;e++)s[e]=Math.max(s[e],$6737a0964fa016c0$var$valToString(i[t+e],0,a).length)}return s}function $6737a0964fa016c0$var$valToString(e,t,a){let n;return n=Array.isArray(e)?`${parseFloat(e[0].toFixed($6737a0964fa016c0$var$FORMAT_NUM_SIG_DIGITS))} + ${parseFloat(e[1].toFixed($6737a0964fa016c0$var$FORMAT_NUM_SIG_DIGITS))}j`:$66860e147cb400ad$export$844ec244b1367d54(e)?`'${e}'`:"bool"===a?$6737a0964fa016c0$var$boolNumToString(e):parseFloat(e.toFixed($6737a0964fa016c0$var$FORMAT_NUM_SIG_DIGITS)).toString(),$66860e147cb400ad$export$390245bab32fb60f(n,t)}function $6737a0964fa016c0$var$boolNumToString(e){return 0===e?"false":"true"}function $6737a0964fa016c0$var$subTensorToString(e,t,a,n,r,o=!0){const s="complex64"===a?2:1,c=t[0],i=t.length;if(0===i){if("complex64"===a){return[$6737a0964fa016c0$var$valToString($6737a0964fa016c0$var$createComplexTuples(e)[0],0,a)]}return"bool"===a?[$6737a0964fa016c0$var$boolNumToString(e[0])]:[e[0].toString()]}if(1===i){if(c>$6737a0964fa016c0$var$FORMAT_LIMIT_NUM_VALS){const t=$6737a0964fa016c0$var$FORMAT_NUM_FIRST_LAST_VALS*s;let n=Array.from(e.slice(0,t)),o=Array.from(e.slice((c-$6737a0964fa016c0$var$FORMAT_NUM_FIRST_LAST_VALS)*s,c*s));return"complex64"===a&&(n=$6737a0964fa016c0$var$createComplexTuples(n),o=$6737a0964fa016c0$var$createComplexTuples(o)),["["+n.map(((e,t)=>$6737a0964fa016c0$var$valToString(e,r[t],a))).join(", ")+", ..., "+o.map(((e,t)=>$6737a0964fa016c0$var$valToString(e,r[c-$6737a0964fa016c0$var$FORMAT_NUM_FIRST_LAST_VALS+t],a))).join(", ")+"]"]}return["["+("complex64"===a?$6737a0964fa016c0$var$createComplexTuples(e):Array.from(e)).map(((e,t)=>$6737a0964fa016c0$var$valToString(e,r[t],a))).join(", ")+"]"]}const d=t.slice(1),f=n.slice(1),$=n[0]*s,u=[];if(c>$6737a0964fa016c0$var$FORMAT_LIMIT_NUM_VALS){for(let t=0;t<$6737a0964fa016c0$var$FORMAT_NUM_FIRST_LAST_VALS;t++){const n=t*$,o=n+$;u.push(...$6737a0964fa016c0$var$subTensorToString(e.slice(n,o),d,a,f,r,!1))}u.push("...");for(let t=c-$6737a0964fa016c0$var$FORMAT_NUM_FIRST_LAST_VALS;t<c;t++){const n=t*$,o=n+$;u.push(...$6737a0964fa016c0$var$subTensorToString(e.slice(n,o),d,a,f,r,t===c-1))}}else for(let t=0;t<c;t++){const n=t*$,o=n+$;u.push(...$6737a0964fa016c0$var$subTensorToString(e.slice(n,o),d,a,f,r,t===c-1))}const p=2===i?",":"";u[0]="["+u[0]+p;for(let e=1;e<u.length-1;e++)u[e]=" "+u[e]+p;let l=",\n";for(let e=2;e<i;e++)l+="\n";return u[u.length-1]=" "+u[u.length-1]+"]"+(o?"":l),u}function $6737a0964fa016c0$var$createComplexTuples(e){const t=[];for(let a=0;a<e.length;a+=2)t.push([e[a],e[a+1]]);return t}class $eaf1009c48c149de$export$350df26cd52e08e1{constructor(e,t,a){if(this.dtype=t,this.shape=e.slice(),this.size=$66860e147cb400ad$export$b4c3214a70a0e73f(e),null!=a){const e=a.length;$66860e147cb400ad$export$a7a9523472993e97(e===this.size,(()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=a||$66860e147cb400ad$export$24f13f6206df8f7c(t,this.size),this.strides=$66860e147cb400ad$export$6ad0292cf4d50f79(e)}set(e,...t){0===t.length&&(t=[0]),$66860e147cb400ad$export$a7a9523472993e97(t.length===this.rank,(()=>`The number of provided coordinates (${t.length}) must match the rank (${this.rank})`));const a=this.locToIndex(t);this.values[a]=e}get(...e){0===e.length&&(e=[0]);let t=0;for(const a of e){if(a<0||a>=this.shape[t]){const t=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(t)}t++}let a=e[e.length-1];for(let t=0;t<e.length-1;++t)a+=this.strides[t]*e[t];return this.values[a]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let a=0;a<e.length-1;++a)t+=this.strides[a]*e[a];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let a=0;a<t.length-1;++a)t[a]=Math.floor(e/this.strides[a]),e-=t[a]*this.strides[a];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return $eaf1009c48c149de$var$trackerFn().makeTensor(this.values,this.shape,this.dtype)}}let $eaf1009c48c149de$var$trackerFn=null,$eaf1009c48c149de$var$opHandler=null,$eaf1009c48c149de$var$deprecationWarningFn=null;function $eaf1009c48c149de$export$b1e34d2f0ffbbd85(e){$eaf1009c48c149de$var$trackerFn=e}function $eaf1009c48c149de$export$1efe8d8b4884ad31(e){$eaf1009c48c149de$var$opHandler=e}function $eaf1009c48c149de$export$ca605c1d8919649f(e){$eaf1009c48c149de$var$deprecationWarningFn=e}class $eaf1009c48c149de$export$7b6b8d90402f8814{constructor(e,t,a,n){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=$66860e147cb400ad$export$b4c3214a70a0e73f(e),this.strides=$66860e147cb400ad$export$6ad0292cf4d50f79(e),this.dataId=a,this.id=n,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return $eaf1009c48c149de$var$opHandler.buffer(this.shape,this.dtype,e)}bufferSync(){return $eaf1009c48c149de$var$opHandler.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return $66860e147cb400ad$export$3983c25181aa68cc(this.shape,e,"complex64"===this.dtype)}arraySync(){return $66860e147cb400ad$export$3983c25181aa68cc(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=$eaf1009c48c149de$var$trackerFn().read(this.dataId);if("string"===this.dtype){const t=await e;try{return t.map((e=>$5d5df9ecf1c80076$export$a0fb664af7d0cc44(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),$eaf1009c48c149de$var$trackerFn().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=$eaf1009c48c149de$var$trackerFn().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>$5d5df9ecf1c80076$export$a0fb664af7d0cc44(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await $eaf1009c48c149de$var$trackerFn().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||($eaf1009c48c149de$var$trackerFn().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return $eaf1009c48c149de$var$opHandler.print(this,e)}clone(){return this.throwIfDisposed(),$eaf1009c48c149de$var$opHandler.clone(this)}toString(e=!1){return $6737a0964fa016c0$export$7febe2c78b16daa7(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),$eaf1009c48c149de$var$opHandler.cast(this,e)}variable(e=!0,t,a){return this.throwIfDisposed(),$eaf1009c48c149de$var$trackerFn().makeVariable(this,e,t,a)}}function $eaf1009c48c149de$export$3cbd87e9d6a9b7ac(){return $e95ff5c3fdb76e87$export$a4e55266d2135a7f("Tensor",(()=>$eaf1009c48c149de$export$7b6b8d90402f8814))}Object.defineProperty($eaf1009c48c149de$export$7b6b8d90402f8814,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),$eaf1009c48c149de$export$3cbd87e9d6a9b7ac();class $eaf1009c48c149de$export$c867a5c9595a1350 extends $eaf1009c48c149de$export$7b6b8d90402f8814{constructor(e,t,a,n){super(e.shape,e.dtype,e.dataId,n),this.trainable=t,this.name=a}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!$66860e147cb400ad$export$234180f8206db11b(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);$eaf1009c48c149de$var$trackerFn().disposeTensor(this),this.dataId=e.dataId,$eaf1009c48c149de$var$trackerFn().incRef(this,null)}dispose(){$eaf1009c48c149de$var$trackerFn().disposeVariable(this),this.isDisposedInternal=!0}}var $063ffdf621a4b072$export$c36edca8f8f0427a,$063ffdf621a4b072$var$UpcastInt32AndMap,UpcastInt32AndMap,$063ffdf621a4b072$var$UpcastBoolAndMap,UpcastBoolAndMap,$063ffdf621a4b072$var$UpcastFloat32AndMap,UpcastFloat32AndMap,$063ffdf621a4b072$var$UpcastComplex64AndMap,UpcastComplex64AndMap;Object.defineProperty($eaf1009c48c149de$export$c867a5c9595a1350,Symbol.hasInstance,{value:e=>e instanceof $eaf1009c48c149de$export$7b6b8d90402f8814&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}($063ffdf621a4b072$export$c36edca8f8f0427a||($063ffdf621a4b072$export$c36edca8f8f0427a={})),UpcastInt32AndMap=$063ffdf621a4b072$var$UpcastInt32AndMap||($063ffdf621a4b072$var$UpcastInt32AndMap={}),UpcastInt32AndMap.float32="float32",UpcastInt32AndMap.int32="int32",UpcastInt32AndMap.bool="int32",UpcastInt32AndMap.complex64="complex64",UpcastBoolAndMap=$063ffdf621a4b072$var$UpcastBoolAndMap||($063ffdf621a4b072$var$UpcastBoolAndMap={}),UpcastBoolAndMap.float32="float32",UpcastBoolAndMap.int32="int32",UpcastBoolAndMap.bool="bool",UpcastBoolAndMap.complex64="complex64",UpcastFloat32AndMap=$063ffdf621a4b072$var$UpcastFloat32AndMap||($063ffdf621a4b072$var$UpcastFloat32AndMap={}),UpcastFloat32AndMap.float32="float32",UpcastFloat32AndMap.int32="float32",UpcastFloat32AndMap.bool="float32",UpcastFloat32AndMap.complex64="complex64",UpcastComplex64AndMap=$063ffdf621a4b072$var$UpcastComplex64AndMap||($063ffdf621a4b072$var$UpcastComplex64AndMap={}),UpcastComplex64AndMap.float32="complex64",UpcastComplex64AndMap.int32="complex64",UpcastComplex64AndMap.bool="complex64",UpcastComplex64AndMap.complex64="complex64";const $063ffdf621a4b072$var$upcastTypeMap={float32:$063ffdf621a4b072$var$UpcastFloat32AndMap,int32:$063ffdf621a4b072$var$UpcastInt32AndMap,bool:$063ffdf621a4b072$var$UpcastBoolAndMap,complex64:$063ffdf621a4b072$var$UpcastComplex64AndMap};function $063ffdf621a4b072$export$7bcca02d1a156bdf(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return $063ffdf621a4b072$var$upcastTypeMap[e][t]}function $063ffdf621a4b072$export$3479b4fbed3c0d8d(e){return $063ffdf621a4b072$export$7bcca02d1a156bdf(e,"int32")}function $fcc1393c3c192ea9$export$8b0e24c749a224d7(e,t){if(e.dtype===t.dtype)return[e,t];const a=$063ffdf621a4b072$export$7bcca02d1a156bdf(e.dtype,t.dtype);return[e.cast(a),t.cast(a)]}function $fcc1393c3c192ea9$export$8a66522456343d17(e,t){$66860e147cb400ad$export$a7a9523472993e97(e.dtype===t.dtype,(()=>`The dtypes of the first(${e.dtype}) and second(${t.dtype}) input must match`))}function $fcc1393c3c192ea9$export$537d2ee9de90a490(e,t){return t.some((t=>t.id===e.id))}function $fcc1393c3c192ea9$export$888c106d343989f5(e){const t=[];return $fcc1393c3c192ea9$var$walkTensorContainer(e,t,new Set),t}function $fcc1393c3c192ea9$var$walkTensorContainer(e,t,a){if(null==e)return;if(e instanceof $eaf1009c48c149de$export$7b6b8d90402f8814)return void t.push(e);if(!$fcc1393c3c192ea9$var$isIterable(e))return;const n=e;for(const e in n){const r=n[e];a.has(r)||(a.add(r),$fcc1393c3c192ea9$var$walkTensorContainer(r,t,a))}}function $fcc1393c3c192ea9$var$isIterable(e){return Array.isArray(e)||"object"==typeof e}function $b0d6cc13a7079390$var$isRegisteredKernelInvocation(e){return null!=e.kernelName}class $b0d6cc13a7079390$var$EngineState{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class $b0d6cc13a7079390$export$2c3b404bf3a77a1f{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new $b0d6cc13a7079390$var$EngineState}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const a=e[t];if(await this.initializeBackend(a).success)return void await this.setBackend(a)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,a=1){return e in this.registryFactory?($85f1bae22015ed38$export$c106dd0671a0fc2d(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:a},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:a}=this.initializeBackend(e);if(!(a?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new $ca8c65101e205735$export$e2c29f18771995cb(this.backendInstance),!0}setupRegisteredKernels(){$dd56e1b20444f968$export$e4b8d76e176eaecc(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){$dd56e1b20444f968$export$e4b8d76e176eaecc(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const a=t.factory();if(!a||a instanceof $ac24014badd54b1e$export$543916c62202b50a||"function"!=typeof a.then)return this.registry[e]=a,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,n=a.then((a=>!(t<this.pendingBackendInitId)&&(this.registry[e]=a,this.pendingBackendInit=null,!0))).catch((a=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,$85f1bae22015ed38$export$c106dd0671a0fc2d(`Initialization of backend ${e} failed`),$85f1bae22015ed38$export$c106dd0671a0fc2d(a.stack||a.message)),!1)));return this.pendingBackendInit=n,{success:n,asyncInit:!0}}}catch(t){return $85f1bae22015ed38$export$c106dd0671a0fc2d(`Initialization of backend ${e} failed`),$85f1bae22015ed38$export$c106dd0671a0fc2d(t.stack||t.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const a=e[t],{success:n,asyncInit:r}=this.initializeBackend(a);if(r||n)return{name:a,asyncInit:r}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const a=this.state.tensorInfo.get(t),n=a.backend,r=this.readSync(t),o=n.refCount(t);n.disposeData(t,!0),a.backend=e,e.move(t,r,a.shape,a.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let a,n=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");n=e}return this.scopedRun((()=>this.startScope(n)),(()=>this.endScope(a)),(()=>(a=t(),a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),a)))}scopedRun(e,t,a){e();try{const e=a();return t(),e}catch(e){throw t(),e}}nextTensorId(){return $b0d6cc13a7079390$export$2c3b404bf3a77a1f.nextTensorId++}nextVariableId(){return $b0d6cc13a7079390$export$2c3b404bf3a77a1f.nextVariableId++}clone(e){const t=$b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$544bf02140fa9a77,{x:e}),a={x:e};return this.addTapeNode(this.state.activeScope.name,a,[t],(e=>({x:()=>{const t={x:e},a={dtype:"float32"};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$107ecfb3d1ccbd77,t,a)}})),[],{}),t}runKernel(e,t,a){null==this.backendName&&this.backend;if(!(null!=$dd56e1b20444f968$export$1b85808c967cc434(e,this.backendName)))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:a})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,a){const n=this.backend.numDataIds();let r=0;a.forEach((e=>{r+="complex64"===e.dtype?3:1}));const o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=n-t-r-o;if(s>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${s} data ids) after running '${e}'`)}runKernelFunc(e){let t,a=[];const n=this.isTapeOn(),r=this.state.numBytes,o=this.state.numTensors;let s,c;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const i=$b0d6cc13a7079390$var$isRegisteredKernelInvocation(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if($b0d6cc13a7079390$var$isRegisteredKernelInvocation(e)){const{kernelName:t,inputs:r,attrs:o}=e;null==this.backendName&&this.backend;const i=$dd56e1b20444f968$export$1b85808c967cc434(t,this.backendName);$66860e147cb400ad$export$a7a9523472993e97(null!=i,(()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`)),s=()=>{const e=this.backend.numDataIds();c=i.kernelFunc({inputs:r,attrs:o,backend:this.backend});const s=Array.isArray(c)?c:[c];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,s);const d=s.map((e=>{if(null!=e.rank)return e;const{dataId:t,shape:a,dtype:n}=e;return this.makeTensorFromDataId(t,a,n)}));if(n){const e=this.getTensorsForGradient(t,r,d);a=this.saveTensorsForBackwardMode(e)}return d}}else{const{forwardFunc:t}=e,r=e=>{n&&(a=e.map((e=>this.keep(this.clone(e)))))};s=()=>{const e=this.backend.numDataIds();c=this.tidy((()=>t(this.backend,r)));const a=Array.isArray(c)?c:[c];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(i,e,a),a}}const{inputs:d,attrs:f}=e,$=$b0d6cc13a7079390$var$isRegisteredKernelInvocation(e)?null:e.backwardsFunc;let u;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(u=this.profiler.profileKernel(i,d,(()=>s())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(u),t=u.outputs):t=s()})),n&&this.addTapeNode(i,d,t,$,a,f),this.state.profiling&&this.state.activeProfile.kernels.push({name:i,bytesAdded:this.state.numBytes-r,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-o,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(d).map((e=>null!=d[e]?d[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:u.timeMs,extraInfo:u.extraInfo}),Array.isArray(c)?t:t[0]}saveTensorsForBackwardMode(e){return e.map((e=>this.keep(this.clone(e))))}getTensorsForGradient(e,t,a){const n=$dd56e1b20444f968$export$e14995d3ec1747ee(e);if(null!=n){const e=n.inputsToSave||[],r=n.outputsToSave||[];let o;n.saveAllInputs?($66860e147cb400ad$export$a7a9523472993e97(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),o=Object.keys(t).map((e=>t[e]))):o=e.map((e=>t[e]));const s=a.filter(((e,t)=>r[t]));return o.concat(s)}return[]}makeTensor(e,t,a,n){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");a=a||"float32",n=n||this.backend;let r=e;"string"===a&&$66860e147cb400ad$export$844ec244b1367d54(e[0])&&(r=e.map((e=>$5d5df9ecf1c80076$export$8146d2e653b87d6a(e))));const o=n.write(r,t,a),s=new $eaf1009c48c149de$export$7b6b8d90402f8814(t,a,o,this.nextTensorId());if(this.trackTensor(s,n),"string"===a){const e=this.state.tensorInfo.get(o),t=$66860e147cb400ad$export$c474902e1102282d(r);this.state.numBytes+=t-e.bytes,e.bytes=t}return s}makeTensorFromDataId(e,t,a,n){const r=new $eaf1009c48c149de$export$7b6b8d90402f8814(t,a=a||"float32",e,this.nextTensorId());return this.trackTensor(r,n),r}makeVariable(e,t=!0,a,n){a=a||this.nextVariableId().toString(),null!=n&&n!==e.dtype&&(e=e.cast(n));const r=new $eaf1009c48c149de$export$c867a5c9595a1350(e,t,a,this.nextTensorId());if(null!=this.state.registeredVariables[r.name])throw new Error(`Variable with name ${r.name} was already registered`);return this.state.registeredVariables[r.name]=r,this.incRef(r,this.backend),r}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let a=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(a=e.size*$66860e147cb400ad$export$3f355ce86503b89f(e.dtype)),this.state.numBytes+=a,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:a})),e instanceof $eaf1009c48c149de$export$c867a5c9595a1350||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*$66860e147cb400ad$export$3f355ce86503b89f(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,a=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-a;for(const e of this.state.activeProfile.kernels)e.kernelTimeMs=await e.kernelTimeMs,e.extraInfo=await e.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,a,n,r,o){const s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:a,saved:r},c=$dd56e1b20444f968$export$e14995d3ec1747ee(e);null!=c&&(n=c.gradFunc),null!=n&&(s.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=a[t],n=$66860e147cb400ad$export$edbc8aedac4e036f(e.size,e.dtype);return this.makeTensor(n,e.shape,e.dtype)}return e})),n(e.length>1?e:e[0],r,o))),this.state.activeTape.push(s)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=$fcc1393c3c192ea9$export$888c106d343989f5(e),a=new Set(t.map((e=>e.id)));for(let e=0;e<this.state.activeScope.track.length;e++){const t=this.state.activeScope.track[e];t.kept||a.has(t.id)||t.dispose()}const n=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==n.id||this.track(e)}))}gradients(e,t,a,n=!1){if($66860e147cb400ad$export$a7a9523472993e97(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=a&&"float32"!==a.dtype)throw new Error(`dy must have 'float32' dtype, but has '${a.dtype}'`);const r=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));$66860e147cb400ad$export$a7a9523472993e97(r instanceof $eaf1009c48c149de$export$7b6b8d90402f8814,(()=>"The result y returned by f() must be a tensor."));const o=$21005e2d1b3b61ba$export$13eebbb952f0db02(this.state.activeTape,t,r);if(!n&&0===o.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[r.id]=null==a?$b0d6cc13a7079390$var$ones(r.shape):a,$21005e2d1b3b61ba$export$2992958ba0a8790d(e,o,(e=>this.tidy(e)),$b0d6cc13a7079390$export$e16d8520af44a096);const n=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:r,grads:n}}))}customGrad(e){return $66860e147cb400ad$export$a7a9523472993e97($66860e147cb400ad$export$f6e2535fb5126e54(e),(()=>"The f passed in customGrad(f) must be a function.")),(...t)=>{let a;$66860e147cb400ad$export$a7a9523472993e97(t.every((e=>e instanceof $eaf1009c48c149de$export$7b6b8d90402f8814)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const n={};t.forEach(((e,t)=>{n[t]=e}));return this.runKernelFunc({forwardFunc:(n,r)=>(a=e(...t,r),$66860e147cb400ad$export$a7a9523472993e97(a.value instanceof $eaf1009c48c149de$export$7b6b8d90402f8814,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),$66860e147cb400ad$export$a7a9523472993e97($66860e147cb400ad$export$f6e2535fb5126e54(a.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),a.value),backwardsFunc:(e,n)=>{const r=a.gradFunc(e,n),o=Array.isArray(r)?r:[r];$66860e147cb400ad$export$a7a9523472993e97(o.length===t.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),$66860e147cb400ad$export$a7a9523472993e97(o.every((e=>e instanceof $eaf1009c48c149de$export$7b6b8d90402f8814)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const s={};return o.forEach(((e,t)=>{s[t]=()=>e})),s},inputs:n})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=$5d5df9ecf1c80076$export$461939dd4422153(),a=await this.backend.time(e);return a.wallMs=$5d5df9ecf1c80076$export$461939dd4422153()-t,a}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new $b0d6cc13a7079390$var$EngineState;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function $b0d6cc13a7079390$var$ones(e){const t=$66860e147cb400ad$export$b915f681a907ae99($66860e147cb400ad$export$b4c3214a70a0e73f(e),"float32");return $b0d6cc13a7079390$export$33b63313cc511a3b.makeTensor(t,e,"float32")}function $b0d6cc13a7079390$export$ca8737f6c8c212b8(){const e=$e95ff5c3fdb76e87$export$5054b240ae6849b7();if(null==e._tfengine){const t=new $3a44a12dab85f91a$export$7dc6752a22ab011a(e);e._tfengine=new $b0d6cc13a7079390$export$2c3b404bf3a77a1f(t)}return $3a44a12dab85f91a$export$3ef32a49eeda04cc(e._tfengine.ENV),$eaf1009c48c149de$export$b1e34d2f0ffbbd85((()=>e._tfengine)),e._tfengine}$b0d6cc13a7079390$export$2c3b404bf3a77a1f.nextTensorId=0,$b0d6cc13a7079390$export$2c3b404bf3a77a1f.nextVariableId=0;const $b0d6cc13a7079390$export$33b63313cc511a3b=$b0d6cc13a7079390$export$ca8737f6c8c212b8();function $b0d6cc13a7079390$export$e16d8520af44a096(e,t){const a={a:e,b:t};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$d0265b2c425512d6,a)}var $4344898573a8cf3b$exports={};
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function $4344898573a8cf3b$var$_isNavigatorDefined(){return"undefined"!=typeof navigator&&null!=navigator}let $4344898573a8cf3b$var$isMobileMockValue;function $4344898573a8cf3b$export$f55f7bd5cb259cb2(e){$4344898573a8cf3b$var$isMobileMockValue=e}function $4344898573a8cf3b$export$d0a8044dce8ff2fc(e){if(void 0!==$4344898573a8cf3b$var$isMobileMockValue)return $4344898573a8cf3b$var$isMobileMockValue;if(e||$4344898573a8cf3b$var$_isNavigatorDefined()){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!=typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function $4344898573a8cf3b$export$4e09c449d6c407f7(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}$parcel$export($4344898573a8cf3b$exports,"mockIsMobile",(function(){return $4344898573a8cf3b$export$f55f7bd5cb259cb2})),$parcel$export($4344898573a8cf3b$exports,"isMobile",(function(){return $4344898573a8cf3b$export$d0a8044dce8ff2fc})),$parcel$export($4344898573a8cf3b$exports,"isBrowser",(function(){return $4344898573a8cf3b$export$4e09c449d6c407f7}));var $eKCdi=parcelRequire("eKCdi");const $98efeb4a343b01fa$var$ENV=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3();function $f6b5295c7bebfcca$export$467a8ad638b9ad20(e,t){let a=e;if($66860e147cb400ad$export$b119cc7e1840e59c(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];const n=[];for(;Array.isArray(a)||$66860e147cb400ad$export$b119cc7e1840e59c(a)&&"string"!==t;)n.push(a.length),a=a[0];return Array.isArray(e)&&$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&$f6b5295c7bebfcca$var$deepAssertShapeConsistency(e,n,[]),n}function $f6b5295c7bebfcca$var$deepAssertShapeConsistency(e,t,a){if(a=a||[],!Array.isArray(e)&&!$66860e147cb400ad$export$b119cc7e1840e59c(e))return void $66860e147cb400ad$export$a7a9523472993e97(0===t.length,(()=>`Element arr[${a.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`));$66860e147cb400ad$export$a7a9523472993e97(t.length>0,(()=>`Element arr[${a.join("][")}] should be a primitive, but is an array of ${e.length} elements`)),$66860e147cb400ad$export$a7a9523472993e97(e.length===t[0],(()=>`Element arr[${a.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`));const n=t.slice(1);for(let t=0;t<e.length;++t)$f6b5295c7bebfcca$var$deepAssertShapeConsistency(e[t],n,a.concat(t))}function $f6b5295c7bebfcca$var$assertDtype(e,t,a,n){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${a}' passed to '${n}' must be ${e} tensor, but got ${t} tensor`)}}function $f6b5295c7bebfcca$export$ede379c4c939d71a(e,t,a,n="numeric"){if(e instanceof $eaf1009c48c149de$export$7b6b8d90402f8814)return $f6b5295c7bebfcca$var$assertDtype(n,e.dtype,t,a),e;let r=$66860e147cb400ad$export$2005775d905d2dc2(e);if("string"!==r&&["bool","int32","float32"].indexOf(n)>=0&&(r=n),$f6b5295c7bebfcca$var$assertDtype(n,r,t,a),null==e||!$66860e147cb400ad$export$b119cc7e1840e59c(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){const n=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${a}' must be a Tensor or TensorLike, but got '${n}'`)}const o=$f6b5295c7bebfcca$export$467a8ad638b9ad20(e,r);$66860e147cb400ad$export$b119cc7e1840e59c(e)||Array.isArray(e)||(e=[e]);const s="string"!==r?$5d5df9ecf1c80076$export$965adc581230795c(e,r):$66860e147cb400ad$export$bffa455ba8c619a6(e,[],!0);return $b0d6cc13a7079390$export$33b63313cc511a3b.makeTensor(s,o,r)}function $f6b5295c7bebfcca$export$758e66616b4d410b(e,t,a,n="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${a} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map(((e,r)=>$f6b5295c7bebfcca$export$ede379c4c939d71a(e,`${t}[${r}]`,a,n)))}$98efeb4a343b01fa$var$ENV.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),$98efeb4a343b01fa$var$ENV.registerFlag("IS_BROWSER",(()=>$4344898573a8cf3b$export$4e09c449d6c407f7())),$98efeb4a343b01fa$var$ENV.registerFlag("IS_NODE",(()=>void 0!==$eKCdi&&void 0!==$eKCdi.versions&&void 0!==$eKCdi.versions.node)),$98efeb4a343b01fa$var$ENV.registerFlag("IS_CHROME",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),$98efeb4a343b01fa$var$ENV.registerFlag("PROD",(()=>!1)),$98efeb4a343b01fa$var$ENV.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>$98efeb4a343b01fa$var$ENV.getBool("DEBUG"))),$98efeb4a343b01fa$var$ENV.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),$98efeb4a343b01fa$var$ENV.registerFlag("IS_TEST",(()=>!1)),$98efeb4a343b01fa$var$ENV.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>!0)),$98efeb4a343b01fa$var$ENV.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),$98efeb4a343b01fa$var$ENV.registerFlag("ENGINE_COMPILE_ONLY",(()=>!1));const $ed8ad16572f67ac2$export$93114f1494faf9bb="__op";function $ed8ad16572f67ac2$export$f59964a629598e2(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let a=t[0];const n=e[a];a.endsWith("_")&&(a=a.substring(0,a.length-1)),a+=$ed8ad16572f67ac2$export$93114f1494faf9bb;const r=(...e)=>{$b0d6cc13a7079390$export$33b63313cc511a3b.startScope(a);try{const t=n(...e);return $66860e147cb400ad$export$4369c812aac99591(t)&&console.error("Cannot return a Promise inside of tidy."),$b0d6cc13a7079390$export$33b63313cc511a3b.endScope(t),t}catch(e){throw $b0d6cc13a7079390$export$33b63313cc511a3b.endScope(null),e}};return Object.defineProperty(r,"name",{value:a,configurable:!0}),r}function $b5a66c9f2532eee1$var$complex_(e,t){const a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"real","complex"),n=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"imag","complex");$66860e147cb400ad$export$e08b27e7f37e2782(a.shape,n.shape,`real and imag shapes, ${a.shape} and ${n.shape}, must match in call to tf.complex().`);const r={real:a,imag:n};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$50ceb3fb9926e63e,r)}const $b5a66c9f2532eee1$export$83a0e34f1302825b=$ed8ad16572f67ac2$export$f59964a629598e2({complex_:$b5a66c9f2532eee1$var$complex_});function $c99a4699bb7adbce$export$f41686c891d7ebce(e,t,a,n){if(null==n&&(n=$66860e147cb400ad$export$2005775d905d2dc2(e)),"complex64"===n)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!$66860e147cb400ad$export$b119cc7e1840e59c(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){$66860e147cb400ad$export$3d8b7619bac22cf5(t);const e=$66860e147cb400ad$export$b4c3214a70a0e73f(t),n=$66860e147cb400ad$export$b4c3214a70a0e73f(a);$66860e147cb400ad$export$a7a9523472993e97(e===n,(()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${n}`));for(let e=0;e<a.length;++e){const n=a[e],r=e!==a.length-1||n!==$66860e147cb400ad$export$b4c3214a70a0e73f(t.slice(e));$66860e147cb400ad$export$a7a9523472993e97(a[e]===t[e]||!r,(()=>`Error creating a new Tensor. Inferred shape (${a}) does not match the provided shape (${t}). `))}}return $66860e147cb400ad$export$b119cc7e1840e59c(e)||Array.isArray(e)||(e=[e]),t=t||a,e="string"!==n?$5d5df9ecf1c80076$export$965adc581230795c(e,n):$66860e147cb400ad$export$bffa455ba8c619a6(e,[],!0),$b0d6cc13a7079390$export$33b63313cc511a3b.makeTensor(e,t,n)}function $51c648d3f52d38e2$export$65df3ad1ad888abb(e,t,a){return $c99a4699bb7adbce$export$f41686c891d7ebce(e,t,$f6b5295c7bebfcca$export$467a8ad638b9ad20(e,a),a)}const $6a499dff597e6c1c$export$8103dee73e5eaa46={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};var $405a4682b31e8ea5$export$a143d493d941bafc,$405a4682b31e8ea5$export$e4cf37d7f6fb9e0a,$405a4682b31e8ea5$export$f99ded8fe4b79145,$405a4682b31e8ea5$export$599f31c3813fae4d,$af89716507bff75e$export$a48f0734ac7c2329,$af89716507bff75e$export$d622b2ad8d90c771,$af89716507bff75e$export$6100ba28696e12de;$af89716507bff75e$export$a48f0734ac7c2329=$af89716507bff75e$var$byteLength,$af89716507bff75e$export$d622b2ad8d90c771=$af89716507bff75e$var$toByteArray,$af89716507bff75e$export$6100ba28696e12de=$af89716507bff75e$var$fromByteArray;for(var $af89716507bff75e$var$lookup=[],$af89716507bff75e$var$revLookup=[],$af89716507bff75e$var$Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,$af89716507bff75e$var$code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$af89716507bff75e$var$i=0,$af89716507bff75e$var$len=$af89716507bff75e$var$code.length,$54523d74c3c7c7d7$export$aafa59e2e03f2942,$54523d74c3c7c7d7$export$68d8715fc104d294;$af89716507bff75e$var$i<$af89716507bff75e$var$len;++$af89716507bff75e$var$i)$af89716507bff75e$var$lookup[$af89716507bff75e$var$i]=$af89716507bff75e$var$code[$af89716507bff75e$var$i],$af89716507bff75e$var$revLookup[$af89716507bff75e$var$code.charCodeAt($af89716507bff75e$var$i)]=$af89716507bff75e$var$i;function $af89716507bff75e$var$getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=e.indexOf("=");return-1===a&&(a=t),[a,a===t?0:4-a%4]}function $af89716507bff75e$var$byteLength(e){var t=$af89716507bff75e$var$getLens(e),a=t[0],n=t[1];return 3*(a+n)/4-n}function $af89716507bff75e$var$_byteLength(e,t,a){return 3*(t+a)/4-a}function $af89716507bff75e$var$toByteArray(e){var t,a,n=$af89716507bff75e$var$getLens(e),r=n[0],o=n[1],s=new $af89716507bff75e$var$Arr($af89716507bff75e$var$_byteLength(e,r,o)),c=0,i=o>0?r-4:r;for(a=0;a<i;a+=4)t=$af89716507bff75e$var$revLookup[e.charCodeAt(a)]<<18|$af89716507bff75e$var$revLookup[e.charCodeAt(a+1)]<<12|$af89716507bff75e$var$revLookup[e.charCodeAt(a+2)]<<6|$af89716507bff75e$var$revLookup[e.charCodeAt(a+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=255&t;return 2===o&&(t=$af89716507bff75e$var$revLookup[e.charCodeAt(a)]<<2|$af89716507bff75e$var$revLookup[e.charCodeAt(a+1)]>>4,s[c++]=255&t),1===o&&(t=$af89716507bff75e$var$revLookup[e.charCodeAt(a)]<<10|$af89716507bff75e$var$revLookup[e.charCodeAt(a+1)]<<4|$af89716507bff75e$var$revLookup[e.charCodeAt(a+2)]>>2,s[c++]=t>>8&255,s[c++]=255&t),s}function $af89716507bff75e$var$tripletToBase64(e){return $af89716507bff75e$var$lookup[e>>18&63]+$af89716507bff75e$var$lookup[e>>12&63]+$af89716507bff75e$var$lookup[e>>6&63]+$af89716507bff75e$var$lookup[63&e]}function $af89716507bff75e$var$encodeChunk(e,t,a){for(var n,r=[],o=t;o<a;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),r.push($af89716507bff75e$var$tripletToBase64(n));return r.join("")}function $af89716507bff75e$var$fromByteArray(e){for(var t,a=e.length,n=a%3,r=[],o=16383,s=0,c=a-n;s<c;s+=o)r.push($af89716507bff75e$var$encodeChunk(e,s,s+o>c?c:s+o));return 1===n?(t=e[a-1],r.push($af89716507bff75e$var$lookup[t>>2]+$af89716507bff75e$var$lookup[t<<4&63]+"==")):2===n&&(t=(e[a-2]<<8)+e[a-1],r.push($af89716507bff75e$var$lookup[t>>10]+$af89716507bff75e$var$lookup[t>>4&63]+$af89716507bff75e$var$lookup[t<<2&63]+"=")),r.join("")}
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */$af89716507bff75e$var$revLookup["-".charCodeAt(0)]=62,$af89716507bff75e$var$revLookup["_".charCodeAt(0)]=63,$54523d74c3c7c7d7$export$aafa59e2e03f2942=function(e,t,a,n,r){var o,s,c=8*r-n-1,i=(1<<c)-1,d=i>>1,f=-7,$=a?r-1:0,u=a?-1:1,p=e[t+$];for($+=u,o=p&(1<<-f)-1,p>>=-f,f+=c;f>0;o=256*o+e[t+$],$+=u,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+e[t+$],$+=u,f-=8);if(0===o)o=1-d;else{if(o===i)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=d}return(p?-1:1)*s*Math.pow(2,o-n)},$54523d74c3c7c7d7$export$68d8715fc104d294=function(e,t,a,n,r,o){var s,c,i,d=8*o-r-1,f=(1<<d)-1,$=f>>1,u=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,l=n?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(i=Math.pow(2,-s))<1&&(s--,i*=2),(t+=s+$>=1?u/i:u*Math.pow(2,1-$))*i>=2&&(s++,i/=2),s+$>=f?(c=0,s=f):s+$>=1?(c=(t*i-1)*Math.pow(2,r),s+=$):(c=t*Math.pow(2,$-1)*Math.pow(2,r),s=0));r>=8;e[a+p]=255&c,p+=l,c/=256,r-=8);for(s=s<<r|c,d+=r;d>0;e[a+p]=255&s,p+=l,s/=256,d-=8);e[a+p-l]|=128*b};const $405a4682b31e8ea5$var$customInspectSymbol="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;$405a4682b31e8ea5$export$a143d493d941bafc=$405a4682b31e8ea5$var$Buffer,$405a4682b31e8ea5$export$e4cf37d7f6fb9e0a=$405a4682b31e8ea5$var$SlowBuffer,$405a4682b31e8ea5$export$f99ded8fe4b79145=50;const $405a4682b31e8ea5$var$K_MAX_LENGTH=2147483647;function $405a4682b31e8ea5$var$typedArraySupport(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}function $405a4682b31e8ea5$var$createBuffer(e){if(e>$405a4682b31e8ea5$var$K_MAX_LENGTH)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,$405a4682b31e8ea5$var$Buffer.prototype),t}function $405a4682b31e8ea5$var$Buffer(e,t,a){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return $405a4682b31e8ea5$var$allocUnsafe(e)}return $405a4682b31e8ea5$var$from(e,t,a)}function $405a4682b31e8ea5$var$from(e,t,a){if("string"==typeof e)return $405a4682b31e8ea5$var$fromString(e,t);if(ArrayBuffer.isView(e))return $405a4682b31e8ea5$var$fromArrayView(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if($405a4682b31e8ea5$var$isInstance(e,ArrayBuffer)||e&&$405a4682b31e8ea5$var$isInstance(e.buffer,ArrayBuffer))return $405a4682b31e8ea5$var$fromArrayBuffer(e,t,a);if("undefined"!=typeof SharedArrayBuffer&&($405a4682b31e8ea5$var$isInstance(e,SharedArrayBuffer)||e&&$405a4682b31e8ea5$var$isInstance(e.buffer,SharedArrayBuffer)))return $405a4682b31e8ea5$var$fromArrayBuffer(e,t,a);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return $405a4682b31e8ea5$var$Buffer.from(n,t,a);const r=$405a4682b31e8ea5$var$fromObject(e);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return $405a4682b31e8ea5$var$Buffer.from(e[Symbol.toPrimitive]("string"),t,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function $405a4682b31e8ea5$var$assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function $405a4682b31e8ea5$var$alloc(e,t,a){return $405a4682b31e8ea5$var$assertSize(e),e<=0?$405a4682b31e8ea5$var$createBuffer(e):void 0!==t?"string"==typeof a?$405a4682b31e8ea5$var$createBuffer(e).fill(t,a):$405a4682b31e8ea5$var$createBuffer(e).fill(t):$405a4682b31e8ea5$var$createBuffer(e)}function $405a4682b31e8ea5$var$allocUnsafe(e){return $405a4682b31e8ea5$var$assertSize(e),$405a4682b31e8ea5$var$createBuffer(e<0?0:0|$405a4682b31e8ea5$var$checked(e))}function $405a4682b31e8ea5$var$fromString(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!$405a4682b31e8ea5$var$Buffer.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const a=0|$405a4682b31e8ea5$var$byteLength(e,t);let n=$405a4682b31e8ea5$var$createBuffer(a);const r=n.write(e,t);return r!==a&&(n=n.slice(0,r)),n}function $405a4682b31e8ea5$var$fromArrayLike(e){const t=e.length<0?0:0|$405a4682b31e8ea5$var$checked(e.length),a=$405a4682b31e8ea5$var$createBuffer(t);for(let n=0;n<t;n+=1)a[n]=255&e[n];return a}function $405a4682b31e8ea5$var$fromArrayView(e){if($405a4682b31e8ea5$var$isInstance(e,Uint8Array)){const t=new Uint8Array(e);return $405a4682b31e8ea5$var$fromArrayBuffer(t.buffer,t.byteOffset,t.byteLength)}return $405a4682b31e8ea5$var$fromArrayLike(e)}function $405a4682b31e8ea5$var$fromArrayBuffer(e,t,a){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(a||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===a?new Uint8Array(e):void 0===a?new Uint8Array(e,t):new Uint8Array(e,t,a),Object.setPrototypeOf(n,$405a4682b31e8ea5$var$Buffer.prototype),n}function $405a4682b31e8ea5$var$fromObject(e){if($405a4682b31e8ea5$var$Buffer.isBuffer(e)){const t=0|$405a4682b31e8ea5$var$checked(e.length),a=$405a4682b31e8ea5$var$createBuffer(t);return 0===a.length||e.copy(a,0,0,t),a}return void 0!==e.length?"number"!=typeof e.length||$405a4682b31e8ea5$var$numberIsNaN(e.length)?$405a4682b31e8ea5$var$createBuffer(0):$405a4682b31e8ea5$var$fromArrayLike(e):"Buffer"===e.type&&Array.isArray(e.data)?$405a4682b31e8ea5$var$fromArrayLike(e.data):void 0}function $405a4682b31e8ea5$var$checked(e){if(e>=$405a4682b31e8ea5$var$K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+$405a4682b31e8ea5$var$K_MAX_LENGTH.toString(16)+" bytes");return 0|e}function $405a4682b31e8ea5$var$SlowBuffer(e){return+e!=e&&(e=0),$405a4682b31e8ea5$var$Buffer.alloc(+e)}function $405a4682b31e8ea5$var$byteLength(e,t){if($405a4682b31e8ea5$var$Buffer.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||$405a4682b31e8ea5$var$isInstance(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const a=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===a)return 0;let r=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return $405a4682b31e8ea5$var$utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*a;case"hex":return a>>>1;case"base64":return $405a4682b31e8ea5$var$base64ToBytes(e).length;default:if(r)return n?-1:$405a4682b31e8ea5$var$utf8ToBytes(e).length;t=(""+t).toLowerCase(),r=!0}}function $405a4682b31e8ea5$var$slowToString(e,t,a){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===a||a>this.length)&&(a=this.length),a<=0)return"";if((a>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return $405a4682b31e8ea5$var$hexSlice(this,t,a);case"utf8":case"utf-8":return $405a4682b31e8ea5$var$utf8Slice(this,t,a);case"ascii":return $405a4682b31e8ea5$var$asciiSlice(this,t,a);case"latin1":case"binary":return $405a4682b31e8ea5$var$latin1Slice(this,t,a);case"base64":return $405a4682b31e8ea5$var$base64Slice(this,t,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $405a4682b31e8ea5$var$utf16leSlice(this,t,a);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function $405a4682b31e8ea5$var$swap(e,t,a){const n=e[t];e[t]=e[a],e[a]=n}function $405a4682b31e8ea5$var$bidirectionalIndexOf(e,t,a,n,r){if(0===e.length)return-1;if("string"==typeof a?(n=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),$405a4682b31e8ea5$var$numberIsNaN(a=+a)&&(a=r?0:e.length-1),a<0&&(a=e.length+a),a>=e.length){if(r)return-1;a=e.length-1}else if(a<0){if(!r)return-1;a=0}if("string"==typeof t&&(t=$405a4682b31e8ea5$var$Buffer.from(t,n)),$405a4682b31e8ea5$var$Buffer.isBuffer(t))return 0===t.length?-1:$405a4682b31e8ea5$var$arrayIndexOf(e,t,a,n,r);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,a):Uint8Array.prototype.lastIndexOf.call(e,t,a):$405a4682b31e8ea5$var$arrayIndexOf(e,[t],a,n,r);throw new TypeError("val must be string, number or Buffer")}function $405a4682b31e8ea5$var$arrayIndexOf(e,t,a,n,r){let o,s=1,c=e.length,i=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,c/=2,i/=2,a/=2}function d(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(r){let n=-1;for(o=a;o<c;o++)if(d(e,o)===d(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===i)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(a+i>c&&(a=c-i),o=a;o>=0;o--){let a=!0;for(let n=0;n<i;n++)if(d(e,o+n)!==d(t,n)){a=!1;break}if(a)return o}return-1}function $405a4682b31e8ea5$var$hexWrite(e,t,a,n){a=Number(a)||0;const r=e.length-a;n?(n=Number(n))>r&&(n=r):n=r;const o=t.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if($405a4682b31e8ea5$var$numberIsNaN(n))return s;e[a+s]=n}return s}function $405a4682b31e8ea5$var$utf8Write(e,t,a,n){return $405a4682b31e8ea5$var$blitBuffer($405a4682b31e8ea5$var$utf8ToBytes(t,e.length-a),e,a,n)}function $405a4682b31e8ea5$var$asciiWrite(e,t,a,n){return $405a4682b31e8ea5$var$blitBuffer($405a4682b31e8ea5$var$asciiToBytes(t),e,a,n)}function $405a4682b31e8ea5$var$base64Write(e,t,a,n){return $405a4682b31e8ea5$var$blitBuffer($405a4682b31e8ea5$var$base64ToBytes(t),e,a,n)}function $405a4682b31e8ea5$var$ucs2Write(e,t,a,n){return $405a4682b31e8ea5$var$blitBuffer($405a4682b31e8ea5$var$utf16leToBytes(t,e.length-a),e,a,n)}function $405a4682b31e8ea5$var$base64Slice(e,t,a){return 0===t&&a===e.length?$af89716507bff75e$export$6100ba28696e12de(e):$af89716507bff75e$export$6100ba28696e12de(e.slice(t,a))}function $405a4682b31e8ea5$var$utf8Slice(e,t,a){a=Math.min(e.length,a);const n=[];let r=t;for(;r<a;){const t=e[r];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(r+s<=a){let a,n,c,i;switch(s){case 1:t<128&&(o=t);break;case 2:a=e[r+1],128==(192&a)&&(i=(31&t)<<6|63&a,i>127&&(o=i));break;case 3:a=e[r+1],n=e[r+2],128==(192&a)&&128==(192&n)&&(i=(15&t)<<12|(63&a)<<6|63&n,i>2047&&(i<55296||i>57343)&&(o=i));break;case 4:a=e[r+1],n=e[r+2],c=e[r+3],128==(192&a)&&128==(192&n)&&128==(192&c)&&(i=(15&t)<<18|(63&a)<<12|(63&n)<<6|63&c,i>65535&&i<1114112&&(o=i))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),r+=s}return $405a4682b31e8ea5$var$decodeCodePointsArray(n)}$405a4682b31e8ea5$export$599f31c3813fae4d=$405a4682b31e8ea5$var$K_MAX_LENGTH,$405a4682b31e8ea5$var$Buffer.TYPED_ARRAY_SUPPORT=$405a4682b31e8ea5$var$typedArraySupport(),$405a4682b31e8ea5$var$Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty($405a4682b31e8ea5$var$Buffer.prototype,"parent",{enumerable:!0,get:function(){if($405a4682b31e8ea5$var$Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty($405a4682b31e8ea5$var$Buffer.prototype,"offset",{enumerable:!0,get:function(){if($405a4682b31e8ea5$var$Buffer.isBuffer(this))return this.byteOffset}}),$405a4682b31e8ea5$var$Buffer.poolSize=8192,$405a4682b31e8ea5$var$Buffer.from=function(e,t,a){return $405a4682b31e8ea5$var$from(e,t,a)},Object.setPrototypeOf($405a4682b31e8ea5$var$Buffer.prototype,Uint8Array.prototype),Object.setPrototypeOf($405a4682b31e8ea5$var$Buffer,Uint8Array),$405a4682b31e8ea5$var$Buffer.alloc=function(e,t,a){return $405a4682b31e8ea5$var$alloc(e,t,a)},$405a4682b31e8ea5$var$Buffer.allocUnsafe=function(e){return $405a4682b31e8ea5$var$allocUnsafe(e)},$405a4682b31e8ea5$var$Buffer.allocUnsafeSlow=function(e){return $405a4682b31e8ea5$var$allocUnsafe(e)},$405a4682b31e8ea5$var$Buffer.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==$405a4682b31e8ea5$var$Buffer.prototype},$405a4682b31e8ea5$var$Buffer.compare=function(e,t){if($405a4682b31e8ea5$var$isInstance(e,Uint8Array)&&(e=$405a4682b31e8ea5$var$Buffer.from(e,e.offset,e.byteLength)),$405a4682b31e8ea5$var$isInstance(t,Uint8Array)&&(t=$405a4682b31e8ea5$var$Buffer.from(t,t.offset,t.byteLength)),!$405a4682b31e8ea5$var$Buffer.isBuffer(e)||!$405a4682b31e8ea5$var$Buffer.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let a=e.length,n=t.length;for(let r=0,o=Math.min(a,n);r<o;++r)if(e[r]!==t[r]){a=e[r],n=t[r];break}return a<n?-1:n<a?1:0},$405a4682b31e8ea5$var$Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},$405a4682b31e8ea5$var$Buffer.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return $405a4682b31e8ea5$var$Buffer.alloc(0);let a;if(void 0===t)for(t=0,a=0;a<e.length;++a)t+=e[a].length;const n=$405a4682b31e8ea5$var$Buffer.allocUnsafe(t);let r=0;for(a=0;a<e.length;++a){let t=e[a];if($405a4682b31e8ea5$var$isInstance(t,Uint8Array))r+t.length>n.length?($405a4682b31e8ea5$var$Buffer.isBuffer(t)||(t=$405a4682b31e8ea5$var$Buffer.from(t)),t.copy(n,r)):Uint8Array.prototype.set.call(n,t,r);else{if(!$405a4682b31e8ea5$var$Buffer.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,r)}r+=t.length}return n},$405a4682b31e8ea5$var$Buffer.byteLength=$405a4682b31e8ea5$var$byteLength,$405a4682b31e8ea5$var$Buffer.prototype._isBuffer=!0,$405a4682b31e8ea5$var$Buffer.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)$405a4682b31e8ea5$var$swap(this,t,t+1);return this},$405a4682b31e8ea5$var$Buffer.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)$405a4682b31e8ea5$var$swap(this,t,t+3),$405a4682b31e8ea5$var$swap(this,t+1,t+2);return this},$405a4682b31e8ea5$var$Buffer.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)$405a4682b31e8ea5$var$swap(this,t,t+7),$405a4682b31e8ea5$var$swap(this,t+1,t+6),$405a4682b31e8ea5$var$swap(this,t+2,t+5),$405a4682b31e8ea5$var$swap(this,t+3,t+4);return this},$405a4682b31e8ea5$var$Buffer.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?$405a4682b31e8ea5$var$utf8Slice(this,0,e):$405a4682b31e8ea5$var$slowToString.apply(this,arguments)},$405a4682b31e8ea5$var$Buffer.prototype.toLocaleString=$405a4682b31e8ea5$var$Buffer.prototype.toString,$405a4682b31e8ea5$var$Buffer.prototype.equals=function(e){if(!$405a4682b31e8ea5$var$Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===$405a4682b31e8ea5$var$Buffer.compare(this,e)},$405a4682b31e8ea5$var$Buffer.prototype.inspect=function(){let e="";const t=$405a4682b31e8ea5$export$f99ded8fe4b79145;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},$405a4682b31e8ea5$var$customInspectSymbol&&($405a4682b31e8ea5$var$Buffer.prototype[$405a4682b31e8ea5$var$customInspectSymbol]=$405a4682b31e8ea5$var$Buffer.prototype.inspect),$405a4682b31e8ea5$var$Buffer.prototype.compare=function(e,t,a,n,r){if($405a4682b31e8ea5$var$isInstance(e,Uint8Array)&&(e=$405a4682b31e8ea5$var$Buffer.from(e,e.offset,e.byteLength)),!$405a4682b31e8ea5$var$Buffer.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===a&&(a=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||a>e.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=a)return 0;if(n>=r)return-1;if(t>=a)return 1;if(this===e)return 0;let o=(r>>>=0)-(n>>>=0),s=(a>>>=0)-(t>>>=0);const c=Math.min(o,s),i=this.slice(n,r),d=e.slice(t,a);for(let e=0;e<c;++e)if(i[e]!==d[e]){o=i[e],s=d[e];break}return o<s?-1:s<o?1:0},$405a4682b31e8ea5$var$Buffer.prototype.includes=function(e,t,a){return-1!==this.indexOf(e,t,a)},$405a4682b31e8ea5$var$Buffer.prototype.indexOf=function(e,t,a){return $405a4682b31e8ea5$var$bidirectionalIndexOf(this,e,t,a,!0)},$405a4682b31e8ea5$var$Buffer.prototype.lastIndexOf=function(e,t,a){return $405a4682b31e8ea5$var$bidirectionalIndexOf(this,e,t,a,!1)},$405a4682b31e8ea5$var$Buffer.prototype.write=function(e,t,a,n){if(void 0===t)n="utf8",a=this.length,t=0;else if(void 0===a&&"string"==typeof t)n=t,a=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(a)?(a>>>=0,void 0===n&&(n="utf8")):(n=a,a=void 0)}const r=this.length-t;if((void 0===a||a>r)&&(a=r),e.length>0&&(a<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return $405a4682b31e8ea5$var$hexWrite(this,e,t,a);case"utf8":case"utf-8":return $405a4682b31e8ea5$var$utf8Write(this,e,t,a);case"ascii":case"latin1":case"binary":return $405a4682b31e8ea5$var$asciiWrite(this,e,t,a);case"base64":return $405a4682b31e8ea5$var$base64Write(this,e,t,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $405a4682b31e8ea5$var$ucs2Write(this,e,t,a);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},$405a4682b31e8ea5$var$Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const $405a4682b31e8ea5$var$MAX_ARGUMENTS_LENGTH=4096;function $405a4682b31e8ea5$var$decodeCodePointsArray(e){const t=e.length;if(t<=$405a4682b31e8ea5$var$MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);let a="",n=0;for(;n<t;)a+=String.fromCharCode.apply(String,e.slice(n,n+=$405a4682b31e8ea5$var$MAX_ARGUMENTS_LENGTH));return a}function $405a4682b31e8ea5$var$asciiSlice(e,t,a){let n="";a=Math.min(e.length,a);for(let r=t;r<a;++r)n+=String.fromCharCode(127&e[r]);return n}function $405a4682b31e8ea5$var$latin1Slice(e,t,a){let n="";a=Math.min(e.length,a);for(let r=t;r<a;++r)n+=String.fromCharCode(e[r]);return n}function $405a4682b31e8ea5$var$hexSlice(e,t,a){const n=e.length;(!t||t<0)&&(t=0),(!a||a<0||a>n)&&(a=n);let r="";for(let n=t;n<a;++n)r+=$405a4682b31e8ea5$var$hexSliceLookupTable[e[n]];return r}function $405a4682b31e8ea5$var$utf16leSlice(e,t,a){const n=e.slice(t,a);let r="";for(let e=0;e<n.length-1;e+=2)r+=String.fromCharCode(n[e]+256*n[e+1]);return r}function $405a4682b31e8ea5$var$checkOffset(e,t,a){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>a)throw new RangeError("Trying to access beyond buffer length")}function $405a4682b31e8ea5$var$checkInt(e,t,a,n,r,o){if(!$405a4682b31e8ea5$var$Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(a+n>e.length)throw new RangeError("Index out of range")}function $405a4682b31e8ea5$var$wrtBigUInt64LE(e,t,a,n,r){$405a4682b31e8ea5$var$checkIntBI(t,n,r,e,a,7);let o=Number(t&BigInt(4294967295));e[a++]=o,o>>=8,e[a++]=o,o>>=8,e[a++]=o,o>>=8,e[a++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[a++]=s,s>>=8,e[a++]=s,s>>=8,e[a++]=s,s>>=8,e[a++]=s,a}function $405a4682b31e8ea5$var$wrtBigUInt64BE(e,t,a,n,r){$405a4682b31e8ea5$var$checkIntBI(t,n,r,e,a,7);let o=Number(t&BigInt(4294967295));e[a+7]=o,o>>=8,e[a+6]=o,o>>=8,e[a+5]=o,o>>=8,e[a+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[a+3]=s,s>>=8,e[a+2]=s,s>>=8,e[a+1]=s,s>>=8,e[a]=s,a+8}function $405a4682b31e8ea5$var$checkIEEE754(e,t,a,n,r,o){if(a+n>e.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function $405a4682b31e8ea5$var$writeFloat(e,t,a,n,r){return t=+t,a>>>=0,r||$405a4682b31e8ea5$var$checkIEEE754(e,t,a,4,34028234663852886e22,-34028234663852886e22),$54523d74c3c7c7d7$export$68d8715fc104d294(e,t,a,n,23,4),a+4}function $405a4682b31e8ea5$var$writeDouble(e,t,a,n,r){return t=+t,a>>>=0,r||$405a4682b31e8ea5$var$checkIEEE754(e,t,a,8,17976931348623157e292,-17976931348623157e292),$54523d74c3c7c7d7$export$68d8715fc104d294(e,t,a,n,52,8),a+8}$405a4682b31e8ea5$var$Buffer.prototype.slice=function(e,t){const a=this.length;(e=~~e)<0?(e+=a)<0&&(e=0):e>a&&(e=a),(t=void 0===t?a:~~t)<0?(t+=a)<0&&(t=0):t>a&&(t=a),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,$405a4682b31e8ea5$var$Buffer.prototype),n},$405a4682b31e8ea5$var$Buffer.prototype.readUintLE=$405a4682b31e8ea5$var$Buffer.prototype.readUIntLE=function(e,t,a){e>>>=0,t>>>=0,a||$405a4682b31e8ea5$var$checkOffset(e,t,this.length);let n=this[e],r=1,o=0;for(;++o<t&&(r*=256);)n+=this[e+o]*r;return n},$405a4682b31e8ea5$var$Buffer.prototype.readUintBE=$405a4682b31e8ea5$var$Buffer.prototype.readUIntBE=function(e,t,a){e>>>=0,t>>>=0,a||$405a4682b31e8ea5$var$checkOffset(e,t,this.length);let n=this[e+--t],r=1;for(;t>0&&(r*=256);)n+=this[e+--t]*r;return n},$405a4682b31e8ea5$var$Buffer.prototype.readUint8=$405a4682b31e8ea5$var$Buffer.prototype.readUInt8=function(e,t){return e>>>=0,t||$405a4682b31e8ea5$var$checkOffset(e,1,this.length),this[e]},$405a4682b31e8ea5$var$Buffer.prototype.readUint16LE=$405a4682b31e8ea5$var$Buffer.prototype.readUInt16LE=function(e,t){return e>>>=0,t||$405a4682b31e8ea5$var$checkOffset(e,2,this.length),this[e]|this[e+1]<<8},$405a4682b31e8ea5$var$Buffer.prototype.readUint16BE=$405a4682b31e8ea5$var$Buffer.prototype.readUInt16BE=function(e,t){return e>>>=0,t||$405a4682b31e8ea5$var$checkOffset(e,2,this.length),this[e]<<8|this[e+1]},$405a4682b31e8ea5$var$Buffer.prototype.readUint32LE=$405a4682b31e8ea5$var$Buffer.prototype.readUInt32LE=function(e,t){return e>>>=0,t||$405a4682b31e8ea5$var$checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},$405a4682b31e8ea5$var$Buffer.prototype.readUint32BE=$405a4682b31e8ea5$var$Buffer.prototype.readUInt32BE=function(e,t){return e>>>=0,t||$405a4682b31e8ea5$var$checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},$405a4682b31e8ea5$var$Buffer.prototype.readBigUInt64LE=$405a4682b31e8ea5$var$defineBigIntMethod((function(e){$405a4682b31e8ea5$var$validateNumber(e>>>=0,"offset");const t=this[e],a=this[e+7];void 0!==t&&void 0!==a||$405a4682b31e8ea5$var$boundsError(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,r=this[++e]+256*this[++e]+65536*this[++e]+a*2**24;return BigInt(n)+(BigInt(r)<<BigInt(32))})),$405a4682b31e8ea5$var$Buffer.prototype.readBigUInt64BE=$405a4682b31e8ea5$var$defineBigIntMethod((function(e){$405a4682b31e8ea5$var$validateNumber(e>>>=0,"offset");const t=this[e],a=this[e+7];void 0!==t&&void 0!==a||$405a4682b31e8ea5$var$boundsError(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],r=this[++e]*2**24+65536*this[++e]+256*this[++e]+a;return(BigInt(n)<<BigInt(32))+BigInt(r)})),$405a4682b31e8ea5$var$Buffer.prototype.readIntLE=function(e,t,a){e>>>=0,t>>>=0,a||$405a4682b31e8ea5$var$checkOffset(e,t,this.length);let n=this[e],r=1,o=0;for(;++o<t&&(r*=256);)n+=this[e+o]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*t)),n},$405a4682b31e8ea5$var$Buffer.prototype.readIntBE=function(e,t,a){e>>>=0,t>>>=0,a||$405a4682b31e8ea5$var$checkOffset(e,t,this.length);let n=t,r=1,o=this[e+--n];for(;n>0&&(r*=256);)o+=this[e+--n]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*t)),o},$405a4682b31e8ea5$var$Buffer.prototype.readInt8=function(e,t){return e>>>=0,t||$405a4682b31e8ea5$var$checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},$405a4682b31e8ea5$var$Buffer.prototype.readInt16LE=function(e,t){e>>>=0,t||$405a4682b31e8ea5$var$checkOffset(e,2,this.length);const a=this[e]|this[e+1]<<8;return 32768&a?4294901760|a:a},$405a4682b31e8ea5$var$Buffer.prototype.readInt16BE=function(e,t){e>>>=0,t||$405a4682b31e8ea5$var$checkOffset(e,2,this.length);const a=this[e+1]|this[e]<<8;return 32768&a?4294901760|a:a},$405a4682b31e8ea5$var$Buffer.prototype.readInt32LE=function(e,t){return e>>>=0,t||$405a4682b31e8ea5$var$checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},$405a4682b31e8ea5$var$Buffer.prototype.readInt32BE=function(e,t){return e>>>=0,t||$405a4682b31e8ea5$var$checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},$405a4682b31e8ea5$var$Buffer.prototype.readBigInt64LE=$405a4682b31e8ea5$var$defineBigIntMethod((function(e){$405a4682b31e8ea5$var$validateNumber(e>>>=0,"offset");const t=this[e],a=this[e+7];void 0!==t&&void 0!==a||$405a4682b31e8ea5$var$boundsError(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(a<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),$405a4682b31e8ea5$var$Buffer.prototype.readBigInt64BE=$405a4682b31e8ea5$var$defineBigIntMethod((function(e){$405a4682b31e8ea5$var$validateNumber(e>>>=0,"offset");const t=this[e],a=this[e+7];void 0!==t&&void 0!==a||$405a4682b31e8ea5$var$boundsError(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+a)})),$405a4682b31e8ea5$var$Buffer.prototype.readFloatLE=function(e,t){return e>>>=0,t||$405a4682b31e8ea5$var$checkOffset(e,4,this.length),$54523d74c3c7c7d7$export$aafa59e2e03f2942(this,e,!0,23,4)},$405a4682b31e8ea5$var$Buffer.prototype.readFloatBE=function(e,t){return e>>>=0,t||$405a4682b31e8ea5$var$checkOffset(e,4,this.length),$54523d74c3c7c7d7$export$aafa59e2e03f2942(this,e,!1,23,4)},$405a4682b31e8ea5$var$Buffer.prototype.readDoubleLE=function(e,t){return e>>>=0,t||$405a4682b31e8ea5$var$checkOffset(e,8,this.length),$54523d74c3c7c7d7$export$aafa59e2e03f2942(this,e,!0,52,8)},$405a4682b31e8ea5$var$Buffer.prototype.readDoubleBE=function(e,t){return e>>>=0,t||$405a4682b31e8ea5$var$checkOffset(e,8,this.length),$54523d74c3c7c7d7$export$aafa59e2e03f2942(this,e,!1,52,8)},$405a4682b31e8ea5$var$Buffer.prototype.writeUintLE=$405a4682b31e8ea5$var$Buffer.prototype.writeUIntLE=function(e,t,a,n){if(e=+e,t>>>=0,a>>>=0,!n){$405a4682b31e8ea5$var$checkInt(this,e,t,a,Math.pow(2,8*a)-1,0)}let r=1,o=0;for(this[t]=255&e;++o<a&&(r*=256);)this[t+o]=e/r&255;return t+a},$405a4682b31e8ea5$var$Buffer.prototype.writeUintBE=$405a4682b31e8ea5$var$Buffer.prototype.writeUIntBE=function(e,t,a,n){if(e=+e,t>>>=0,a>>>=0,!n){$405a4682b31e8ea5$var$checkInt(this,e,t,a,Math.pow(2,8*a)-1,0)}let r=a-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+a},$405a4682b31e8ea5$var$Buffer.prototype.writeUint8=$405a4682b31e8ea5$var$Buffer.prototype.writeUInt8=function(e,t,a){return e=+e,t>>>=0,a||$405a4682b31e8ea5$var$checkInt(this,e,t,1,255,0),this[t]=255&e,t+1},$405a4682b31e8ea5$var$Buffer.prototype.writeUint16LE=$405a4682b31e8ea5$var$Buffer.prototype.writeUInt16LE=function(e,t,a){return e=+e,t>>>=0,a||$405a4682b31e8ea5$var$checkInt(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},$405a4682b31e8ea5$var$Buffer.prototype.writeUint16BE=$405a4682b31e8ea5$var$Buffer.prototype.writeUInt16BE=function(e,t,a){return e=+e,t>>>=0,a||$405a4682b31e8ea5$var$checkInt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},$405a4682b31e8ea5$var$Buffer.prototype.writeUint32LE=$405a4682b31e8ea5$var$Buffer.prototype.writeUInt32LE=function(e,t,a){return e=+e,t>>>=0,a||$405a4682b31e8ea5$var$checkInt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},$405a4682b31e8ea5$var$Buffer.prototype.writeUint32BE=$405a4682b31e8ea5$var$Buffer.prototype.writeUInt32BE=function(e,t,a){return e=+e,t>>>=0,a||$405a4682b31e8ea5$var$checkInt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},$405a4682b31e8ea5$var$Buffer.prototype.writeBigUInt64LE=$405a4682b31e8ea5$var$defineBigIntMethod((function(e,t=0){return $405a4682b31e8ea5$var$wrtBigUInt64LE(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),$405a4682b31e8ea5$var$Buffer.prototype.writeBigUInt64BE=$405a4682b31e8ea5$var$defineBigIntMethod((function(e,t=0){return $405a4682b31e8ea5$var$wrtBigUInt64BE(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),$405a4682b31e8ea5$var$Buffer.prototype.writeIntLE=function(e,t,a,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*a-1);$405a4682b31e8ea5$var$checkInt(this,e,t,a,n-1,-n)}let r=0,o=1,s=0;for(this[t]=255&e;++r<a&&(o*=256);)e<0&&0===s&&0!==this[t+r-1]&&(s=1),this[t+r]=(e/o>>0)-s&255;return t+a},$405a4682b31e8ea5$var$Buffer.prototype.writeIntBE=function(e,t,a,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*a-1);$405a4682b31e8ea5$var$checkInt(this,e,t,a,n-1,-n)}let r=a-1,o=1,s=0;for(this[t+r]=255&e;--r>=0&&(o*=256);)e<0&&0===s&&0!==this[t+r+1]&&(s=1),this[t+r]=(e/o>>0)-s&255;return t+a},$405a4682b31e8ea5$var$Buffer.prototype.writeInt8=function(e,t,a){return e=+e,t>>>=0,a||$405a4682b31e8ea5$var$checkInt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},$405a4682b31e8ea5$var$Buffer.prototype.writeInt16LE=function(e,t,a){return e=+e,t>>>=0,a||$405a4682b31e8ea5$var$checkInt(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},$405a4682b31e8ea5$var$Buffer.prototype.writeInt16BE=function(e,t,a){return e=+e,t>>>=0,a||$405a4682b31e8ea5$var$checkInt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},$405a4682b31e8ea5$var$Buffer.prototype.writeInt32LE=function(e,t,a){return e=+e,t>>>=0,a||$405a4682b31e8ea5$var$checkInt(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},$405a4682b31e8ea5$var$Buffer.prototype.writeInt32BE=function(e,t,a){return e=+e,t>>>=0,a||$405a4682b31e8ea5$var$checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},$405a4682b31e8ea5$var$Buffer.prototype.writeBigInt64LE=$405a4682b31e8ea5$var$defineBigIntMethod((function(e,t=0){return $405a4682b31e8ea5$var$wrtBigUInt64LE(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),$405a4682b31e8ea5$var$Buffer.prototype.writeBigInt64BE=$405a4682b31e8ea5$var$defineBigIntMethod((function(e,t=0){return $405a4682b31e8ea5$var$wrtBigUInt64BE(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),$405a4682b31e8ea5$var$Buffer.prototype.writeFloatLE=function(e,t,a){return $405a4682b31e8ea5$var$writeFloat(this,e,t,!0,a)},$405a4682b31e8ea5$var$Buffer.prototype.writeFloatBE=function(e,t,a){return $405a4682b31e8ea5$var$writeFloat(this,e,t,!1,a)},$405a4682b31e8ea5$var$Buffer.prototype.writeDoubleLE=function(e,t,a){return $405a4682b31e8ea5$var$writeDouble(this,e,t,!0,a)},$405a4682b31e8ea5$var$Buffer.prototype.writeDoubleBE=function(e,t,a){return $405a4682b31e8ea5$var$writeDouble(this,e,t,!1,a)},$405a4682b31e8ea5$var$Buffer.prototype.copy=function(e,t,a,n){if(!$405a4682b31e8ea5$var$Buffer.isBuffer(e))throw new TypeError("argument should be a Buffer");if(a||(a=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<a&&(n=a),n===a)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-a&&(n=e.length-t+a);const r=n-a;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,a,n):Uint8Array.prototype.set.call(e,this.subarray(a,n),t),r},$405a4682b31e8ea5$var$Buffer.prototype.fill=function(e,t,a,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,a=this.length):"string"==typeof a&&(n=a,a=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!$405a4682b31e8ea5$var$Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<a)throw new RangeError("Out of range index");if(a<=t)return this;let r;if(t>>>=0,a=void 0===a?this.length:a>>>0,e||(e=0),"number"==typeof e)for(r=t;r<a;++r)this[r]=e;else{const o=$405a4682b31e8ea5$var$Buffer.isBuffer(e)?e:$405a4682b31e8ea5$var$Buffer.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(r=0;r<a-t;++r)this[r+t]=o[r%s]}return this};const $405a4682b31e8ea5$var$errors={};function $405a4682b31e8ea5$var$E(e,t,a){$405a4682b31e8ea5$var$errors[e]=class extends a{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function $405a4682b31e8ea5$var$addNumericalSeparator(e){let t="",a=e.length;const n="-"===e[0]?1:0;for(;a>=n+4;a-=3)t=`_${e.slice(a-3,a)}${t}`;return`${e.slice(0,a)}${t}`}function $405a4682b31e8ea5$var$checkBounds(e,t,a){$405a4682b31e8ea5$var$validateNumber(t,"offset"),void 0!==e[t]&&void 0!==e[t+a]||$405a4682b31e8ea5$var$boundsError(t,e.length-(a+1))}function $405a4682b31e8ea5$var$checkIntBI(e,t,a,n,r,o){if(e>a||e<t){const n="bigint"==typeof t?"n":"";let r;throw r=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${a}${n}`,new $405a4682b31e8ea5$var$errors.ERR_OUT_OF_RANGE("value",r,e)}$405a4682b31e8ea5$var$checkBounds(n,r,o)}function $405a4682b31e8ea5$var$validateNumber(e,t){if("number"!=typeof e)throw new $405a4682b31e8ea5$var$errors.ERR_INVALID_ARG_TYPE(t,"number",e)}function $405a4682b31e8ea5$var$boundsError(e,t,a){if(Math.floor(e)!==e)throw $405a4682b31e8ea5$var$validateNumber(e,a),new $405a4682b31e8ea5$var$errors.ERR_OUT_OF_RANGE(a||"offset","an integer",e);if(t<0)throw new $405a4682b31e8ea5$var$errors.ERR_BUFFER_OUT_OF_BOUNDS;throw new $405a4682b31e8ea5$var$errors.ERR_OUT_OF_RANGE(a||"offset",`>= ${a?1:0} and <= ${t}`,e)}$405a4682b31e8ea5$var$E("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),$405a4682b31e8ea5$var$E("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),$405a4682b31e8ea5$var$E("ERR_OUT_OF_RANGE",(function(e,t,a){let n=`The value of "${e}" is out of range.`,r=a;return Number.isInteger(a)&&Math.abs(a)>2**32?r=$405a4682b31e8ea5$var$addNumericalSeparator(String(a)):"bigint"==typeof a&&(r=String(a),(a>BigInt(2)**BigInt(32)||a<-(BigInt(2)**BigInt(32)))&&(r=$405a4682b31e8ea5$var$addNumericalSeparator(r)),r+="n"),n+=` It must be ${t}. Received ${r}`,n}),RangeError);const $405a4682b31e8ea5$var$INVALID_BASE64_RE=/[^+/0-9A-Za-z-_]/g;function $405a4682b31e8ea5$var$base64clean(e){if((e=(e=e.split("=")[0]).trim().replace($405a4682b31e8ea5$var$INVALID_BASE64_RE,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function $405a4682b31e8ea5$var$utf8ToBytes(e,t){let a;t=t||1/0;const n=e.length;let r=null;const o=[];for(let s=0;s<n;++s){if(a=e.charCodeAt(s),a>55295&&a<57344){if(!r){if(a>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}r=a;continue}if(a<56320){(t-=3)>-1&&o.push(239,191,189),r=a;continue}a=65536+(r-55296<<10|a-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,a<128){if((t-=1)<0)break;o.push(a)}else if(a<2048){if((t-=2)<0)break;o.push(a>>6|192,63&a|128)}else if(a<65536){if((t-=3)<0)break;o.push(a>>12|224,a>>6&63|128,63&a|128)}else{if(!(a<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(a>>18|240,a>>12&63|128,a>>6&63|128,63&a|128)}}return o}function $405a4682b31e8ea5$var$asciiToBytes(e){const t=[];for(let a=0;a<e.length;++a)t.push(255&e.charCodeAt(a));return t}function $405a4682b31e8ea5$var$utf16leToBytes(e,t){let a,n,r;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)a=e.charCodeAt(s),n=a>>8,r=a%256,o.push(r),o.push(n);return o}function $405a4682b31e8ea5$var$base64ToBytes(e){return $af89716507bff75e$export$d622b2ad8d90c771($405a4682b31e8ea5$var$base64clean(e))}function $405a4682b31e8ea5$var$blitBuffer(e,t,a,n){let r;for(r=0;r<n&&!(r+a>=t.length||r>=e.length);++r)t[r+a]=e[r];return r}function $405a4682b31e8ea5$var$isInstance(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function $405a4682b31e8ea5$var$numberIsNaN(e){return e!=e}const $405a4682b31e8ea5$var$hexSliceLookupTable=function(){const e="0123456789abcdef",t=new Array(256);for(let a=0;a<16;++a){const n=16*a;for(let r=0;r<16;++r)t[n+r]=e[a]+e[r]}return t}();function $405a4682b31e8ea5$var$defineBigIntMethod(e){return"undefined"==typeof BigInt?$405a4682b31e8ea5$var$BufferBigIntNotDefined:e}function $405a4682b31e8ea5$var$BufferBigIntNotDefined(){throw new Error("BigInt not supported")}var $e09737275e4b3546$require$Buffer=$405a4682b31e8ea5$export$a143d493d941bafc;const $e09737275e4b3546$var$NUM_BYTES_STRING_LENGTH=4;async function $e09737275e4b3546$export$6c50c12dbd6168b(e,t){const a=[],n=[],r=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let o=0;o<r.length;++o){const s=r[o],c=Array.isArray(e)?e[o].tensor:e[s];if("float32"!==c.dtype&&"int32"!==c.dtype&&"bool"!==c.dtype&&"string"!==c.dtype&&"complex64"!==c.dtype)throw new Error(`Unsupported dtype in weight '${s}': ${c.dtype}`);const i={name:s,shape:c.shape,dtype:c.dtype};if("string"===c.dtype){const e=new Promise((async e=>{const t=await c.bytes(),a=t.reduce(((e,t)=>e+t.length),0)+$e09737275e4b3546$var$NUM_BYTES_STRING_LENGTH*t.length,n=new Uint8Array(a);let r=0;for(let e=0;e<t.length;e++){const a=t[e],o=new Uint8Array(new Uint32Array([a.length]).buffer);n.set(o,r),r+=$e09737275e4b3546$var$NUM_BYTES_STRING_LENGTH,n.set(a,r),r+=a.length}e(n)}));n.push(e)}else n.push(c.data());null!=t&&(i.group=t),a.push(i)}return{data:$e09737275e4b3546$export$b9f790e5e2031778(await Promise.all(n)),specs:a}}function $e09737275e4b3546$export$7a14c2428d4f4a2e(e,t){const a={};let n,r=0;for(const o of t){const t=o.name,s=o.dtype,c=o.shape,i=$66860e147cb400ad$export$b4c3214a70a0e73f(c);let d;if("quantization"in o){const a=o.quantization;if("uint8"===a.dtype||"uint16"===a.dtype){if(!("min"in a)||!("scale"in a))throw new Error(`Weight ${o.name} with quantization ${a.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==a.dtype)throw new Error(`Weight ${o.name} has unknown quantization dtype ${a.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==s)throw new Error(`Weight ${o.name} is quantized with ${a.dtype} which only supports weights of type float32 not ${s}.`)}const c=$6a499dff597e6c1c$export$8103dee73e5eaa46[a.dtype],f=e.slice(r,r+i*c),$="uint8"===a.dtype?new Uint8Array(f):new Uint16Array(f);if("float32"===s)if("uint8"===a.dtype||"uint16"===a.dtype){d=new Float32Array($.length);for(let e=0;e<$.length;e++){const t=$[e];d[e]=t*a.scale+a.min}}else{if("float16"!==a.dtype)throw new Error(`Unsupported quantization type ${a.dtype} for weight type float32.`);void 0===n&&(n=$e09737275e4b3546$export$6f94974d2b5810f7()),d=n($)}else{if("int32"!==s)throw new Error(`Unsupported dtype in weight '${t}': ${s}`);if("uint8"!==a.dtype&&"uint16"!==a.dtype)throw new Error(`Unsupported quantization type ${a.dtype} for weight type int32.`);d=new Int32Array($.length);for(let e=0;e<$.length;e++){const t=$[e];d[e]=Math.round(t*a.scale+a.min)}}r+=i*c}else if("string"===s){const t=$66860e147cb400ad$export$b4c3214a70a0e73f(o.shape);d=[];for(let a=0;a<t;a++){const t=new Uint32Array(e.slice(r,r+$e09737275e4b3546$var$NUM_BYTES_STRING_LENGTH))[0];r+=$e09737275e4b3546$var$NUM_BYTES_STRING_LENGTH;const a=new Uint8Array(e.slice(r,r+t));d.push(a),r+=t}}else{const n=$6a499dff597e6c1c$export$8103dee73e5eaa46[s],o=e.slice(r,r+i*n);if("float32"===s)d=new Float32Array(o);else if("int32"===s)d=new Int32Array(o);else if("bool"===s)d=new Uint8Array(o);else{if("complex64"!==s)throw new Error(`Unsupported dtype in weight '${t}': ${s}`);{d=new Float32Array(o);const e=new Float32Array(d.length/2),n=new Float32Array(d.length/2);for(let t=0;t<e.length;t++)e[t]=d[2*t],n[t]=d[2*t+1];const r=$51c648d3f52d38e2$export$65df3ad1ad888abb(e,c,"float32"),s=$51c648d3f52d38e2$export$65df3ad1ad888abb(n,c,"float32");a[t]=$b5a66c9f2532eee1$export$83a0e34f1302825b(r,s),r.dispose(),s.dispose()}}r+=i*n}"complex64"!==s&&(a[t]=$51c648d3f52d38e2$export$65df3ad1ad888abb(d,c,s))}return a}function $e09737275e4b3546$export$b9f790e5e2031778(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const a=[];e.forEach((e=>{if(t+=e.byteLength,a.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));const n=new Uint8Array(t);let r=0;return a.forEach((e=>{n.set(new Uint8Array(e.buffer),r),r+=e.byteLength})),n.buffer}const $e09737275e4b3546$var$useNodeBuffer=void 0!==$e09737275e4b3546$require$Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function $e09737275e4b3546$export$42600be9c932993b(e){return $e09737275e4b3546$var$useNodeBuffer?$e09737275e4b3546$require$Buffer.byteLength(e):new Blob([e]).size}function $e09737275e4b3546$export$28e753ea3e93cabf(e){if($e09737275e4b3546$var$useNodeBuffer)return $e09737275e4b3546$require$Buffer.from(e).toString("base64");const t=new Uint8Array(e);let a="";for(let e=0,n=t.length;e<n;e++)a+=String.fromCharCode(t[e]);return btoa(a)}function $e09737275e4b3546$export$aa941b9d243f1be4(e){if($e09737275e4b3546$var$useNodeBuffer){const t=$e09737275e4b3546$require$Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),a=new Uint8Array(t.length);for(let e=0;e<t.length;++e)a.set([t.charCodeAt(e)],e);return a.buffer}function $e09737275e4b3546$export$9a3e9c78eb778da8(e){if(1===e.length)return e[0];let t=0;e.forEach((e=>{t+=e.byteLength}));const a=new Uint8Array(t);let n=0;return e.forEach((e=>{a.set(new Uint8Array(e),n),n+=e.byteLength})),a.buffer}function $e09737275e4b3546$export$9bf319d8f74f51d1(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function $e09737275e4b3546$export$a725daa2cfaa7bd5(e,t){const a={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(a.signature=e.signature),null!=e.userDefinedMetadata&&(a.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(a.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(a.trainingConfig=e.trainingConfig),a}async function $e09737275e4b3546$export$b867c14eedd5b8a2(e,t){const a={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(a.trainingConfig=e.trainingConfig),null!=e.weightsManifest){const[n,r]=await t(e.weightsManifest);a.weightSpecs=n,a.weightData=r}return null!=e.signature&&(a.signature=e.signature),null!=e.userDefinedMetadata&&(a.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(a.modelInitializer=e.modelInitializer),a}function $e09737275e4b3546$export$ece8b449d7d29272(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:$e09737275e4b3546$export$42600be9c932993b(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:$e09737275e4b3546$export$42600be9c932993b(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function $e09737275e4b3546$var$computeFloat16MantisaTable(){const e=e=>{let t=e<<13,a=0;for(;0==(8388608&t);)a-=8388608,t<<=1;return t&=-8388609,a+=947912704,t|a},t=new Uint32Array(2048);t[0]=0;for(let a=1;a<1024;a++)t[a]=e(a);for(let e=1024;e<2048;e++)t[e]=939524096+(e-1024<<13);return t}function $e09737275e4b3546$var$computeFloat16ExponentTable(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}function $e09737275e4b3546$var$computeFloat16OffsetTable(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}function $e09737275e4b3546$export$6f94974d2b5810f7(){const e=$e09737275e4b3546$var$computeFloat16MantisaTable(),t=$e09737275e4b3546$var$computeFloat16ExponentTable(),a=$e09737275e4b3546$var$computeFloat16OffsetTable();return n=>{const r=new ArrayBuffer(4*n.length),o=new Uint32Array(r);for(let r=0;r<n.length;r++){const s=n[r],c=e[a[s>>10]+(1023&s)]+t[s>>10];o[r]=c}return new Float32Array(r)}}class $ab4515eb66b0009e$export$512275d398c0bdcd{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==$ab4515eb66b0009e$export$512275d398c0bdcd.instance&&($ab4515eb66b0009e$export$512275d398c0bdcd.instance=new $ab4515eb66b0009e$export$512275d398c0bdcd),$ab4515eb66b0009e$export$512275d398c0bdcd.instance}static registerSaveRouter(e){$ab4515eb66b0009e$export$512275d398c0bdcd.getInstance().saveRouters.push(e)}static registerLoadRouter(e){$ab4515eb66b0009e$export$512275d398c0bdcd.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return $ab4515eb66b0009e$export$512275d398c0bdcd.getHandlers(e,"save")}static getLoadHandlers(e,t){return $ab4515eb66b0009e$export$512275d398c0bdcd.getHandlers(e,"load",t)}static getHandlers(e,t,a){const n=[];return("load"===t?$ab4515eb66b0009e$export$512275d398c0bdcd.getInstance().loadRouters:$ab4515eb66b0009e$export$512275d398c0bdcd.getInstance().saveRouters).forEach((t=>{const r=t(e,a);null!==r&&n.push(r)})),n}}const $ab4515eb66b0009e$export$94da4683f36f634e=e=>$ab4515eb66b0009e$export$512275d398c0bdcd.registerSaveRouter(e),$ab4515eb66b0009e$export$8bf64df3d1fb9866=e=>$ab4515eb66b0009e$export$512275d398c0bdcd.registerLoadRouter(e),$ab4515eb66b0009e$export$88af18fd9ddb62ff=e=>$ab4515eb66b0009e$export$512275d398c0bdcd.getSaveHandlers(e),$ab4515eb66b0009e$export$90c6c4d24103fa9a=(e,t)=>$ab4515eb66b0009e$export$512275d398c0bdcd.getLoadHandlers(e,t),$ed7a2db83bb27e51$var$DATABASE_NAME="tensorflowjs",$ed7a2db83bb27e51$var$DATABASE_VERSION=1,$ed7a2db83bb27e51$var$MODEL_STORE_NAME="models_store",$ed7a2db83bb27e51$var$INFO_STORE_NAME="model_info_store";async function $ed7a2db83bb27e51$export$24b6df48b2529372(){const e=$ed7a2db83bb27e51$var$getIndexedDBFactory();return new Promise(((t,a)=>{const n=e.deleteDatabase($ed7a2db83bb27e51$var$DATABASE_NAME);n.onsuccess=()=>t(),n.onerror=e=>a(e)}))}function $ed7a2db83bb27e51$var$getIndexedDBFactory(){if(!$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"==typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function $ed7a2db83bb27e51$var$setUpDatabase(e){const t=e.result;t.createObjectStore($ed7a2db83bb27e51$var$MODEL_STORE_NAME,{keyPath:"modelPath"}),t.createObjectStore($ed7a2db83bb27e51$var$INFO_STORE_NAME,{keyPath:"modelPath"})}class $ed7a2db83bb27e51$export$2c670ce804876090{constructor(e){if(this.indexedDB=$ed7a2db83bb27e51$var$getIndexedDBFactory(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,a)=>{const n=this.indexedDB.open($ed7a2db83bb27e51$var$DATABASE_NAME,$ed7a2db83bb27e51$var$DATABASE_VERSION);n.onupgradeneeded=()=>$ed7a2db83bb27e51$var$setUpDatabase(n),n.onsuccess=()=>{const r=n.result;if(null==t){const t=r.transaction($ed7a2db83bb27e51$var$MODEL_STORE_NAME,"readonly"),n=t.objectStore($ed7a2db83bb27e51$var$MODEL_STORE_NAME).get(this.modelPath);n.onsuccess=()=>{if(null==n.result)return r.close(),a(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(n.result.modelArtifacts)},n.onerror=e=>(r.close(),a(n.error)),t.oncomplete=()=>r.close()}else{const n=$e09737275e4b3546$export$ece8b449d7d29272(t),o=r.transaction($ed7a2db83bb27e51$var$INFO_STORE_NAME,"readwrite");let s=o.objectStore($ed7a2db83bb27e51$var$INFO_STORE_NAME);const c=s.put({modelPath:this.modelPath,modelArtifactsInfo:n});let i;c.onsuccess=()=>{i=r.transaction($ed7a2db83bb27e51$var$MODEL_STORE_NAME,"readwrite");const c=i.objectStore($ed7a2db83bb27e51$var$MODEL_STORE_NAME).put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:n});c.onsuccess=()=>e({modelArtifactsInfo:n}),c.onerror=e=>{s=o.objectStore($ed7a2db83bb27e51$var$INFO_STORE_NAME);const t=s.delete(this.modelPath);t.onsuccess=()=>(r.close(),a(c.error)),t.onerror=e=>(r.close(),a(c.error))}},c.onerror=e=>(r.close(),a(c.error)),o.oncomplete=()=>{null==i?r.close():i.oncomplete=()=>r.close()}}},n.onerror=e=>a(n.error)}))}}$ed7a2db83bb27e51$export$2c670ce804876090.URL_SCHEME="indexeddb://";const $ed7a2db83bb27e51$export$7375c81acb8edf6e=e=>$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith($ed7a2db83bb27e51$export$2c670ce804876090.URL_SCHEME)?$ed7a2db83bb27e51$export$a4d8901e5a950049(e.slice($ed7a2db83bb27e51$export$2c670ce804876090.URL_SCHEME.length)):null;function $ed7a2db83bb27e51$export$a4d8901e5a950049(e){return new $ed7a2db83bb27e51$export$2c670ce804876090(e)}function $ed7a2db83bb27e51$var$maybeStripScheme(e){return e.startsWith($ed7a2db83bb27e51$export$2c670ce804876090.URL_SCHEME)?e.slice($ed7a2db83bb27e51$export$2c670ce804876090.URL_SCHEME.length):e}$ab4515eb66b0009e$export$512275d398c0bdcd.registerSaveRouter($ed7a2db83bb27e51$export$7375c81acb8edf6e),$ab4515eb66b0009e$export$512275d398c0bdcd.registerLoadRouter($ed7a2db83bb27e51$export$7375c81acb8edf6e);class $ed7a2db83bb27e51$export$4b0775e2ff88802{constructor(){this.indexedDB=$ed7a2db83bb27e51$var$getIndexedDBFactory()}async listModels(){return new Promise(((e,t)=>{const a=this.indexedDB.open($ed7a2db83bb27e51$var$DATABASE_NAME,$ed7a2db83bb27e51$var$DATABASE_VERSION);a.onupgradeneeded=()=>$ed7a2db83bb27e51$var$setUpDatabase(a),a.onsuccess=()=>{const n=a.result,r=n.transaction($ed7a2db83bb27e51$var$INFO_STORE_NAME,"readonly"),o=r.objectStore($ed7a2db83bb27e51$var$INFO_STORE_NAME).getAll();o.onsuccess=()=>{const t={};for(const e of o.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},o.onerror=e=>(n.close(),t(o.error)),r.oncomplete=()=>n.close()},a.onerror=e=>t(a.error)}))}async removeModel(e){return e=$ed7a2db83bb27e51$var$maybeStripScheme(e),new Promise(((t,a)=>{const n=this.indexedDB.open($ed7a2db83bb27e51$var$DATABASE_NAME,$ed7a2db83bb27e51$var$DATABASE_VERSION);n.onupgradeneeded=()=>$ed7a2db83bb27e51$var$setUpDatabase(n),n.onsuccess=()=>{const r=n.result,o=r.transaction($ed7a2db83bb27e51$var$INFO_STORE_NAME,"readwrite"),s=o.objectStore($ed7a2db83bb27e51$var$INFO_STORE_NAME),c=s.get(e);let i;c.onsuccess=()=>{if(null==c.result)return r.close(),a(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const n=s.delete(e),o=()=>{i=r.transaction($ed7a2db83bb27e51$var$MODEL_STORE_NAME,"readwrite");const n=i.objectStore($ed7a2db83bb27e51$var$MODEL_STORE_NAME).delete(e);n.onsuccess=()=>t(c.result.modelArtifactsInfo),n.onerror=e=>a(c.error)};n.onsuccess=o,n.onerror=e=>(o(),r.close(),a(c.error))}},c.onerror=e=>(r.close(),a(c.error)),o.oncomplete=()=>{null==i?r.close():i.oncomplete=()=>r.close()}},n.onerror=e=>a(n.error)}))}}const $4cbfcc2f45af29ab$var$PATH_SEPARATOR="/",$4cbfcc2f45af29ab$var$PATH_PREFIX="tensorflowjs_models",$4cbfcc2f45af29ab$var$INFO_SUFFIX="info",$4cbfcc2f45af29ab$var$MODEL_TOPOLOGY_SUFFIX="model_topology",$4cbfcc2f45af29ab$var$WEIGHT_SPECS_SUFFIX="weight_specs",$4cbfcc2f45af29ab$var$WEIGHT_DATA_SUFFIX="weight_data",$4cbfcc2f45af29ab$var$MODEL_METADATA_SUFFIX="model_metadata";function $4cbfcc2f45af29ab$export$af2a48c9611db360(){if(!$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("purgeLocalStorageModels() cannot proceed because local storage is unavailable in the current environment.");const e=window.localStorage,t=[];for(let a=0;a<e.length;++a){const n=e.key(a),r=$4cbfcc2f45af29ab$var$PATH_PREFIX+$4cbfcc2f45af29ab$var$PATH_SEPARATOR;if(n.startsWith(r)&&n.length>r.length){e.removeItem(n);const a=$4cbfcc2f45af29ab$var$getModelPathFromKey(n);-1===t.indexOf(a)&&t.push(a)}}return t}function $4cbfcc2f45af29ab$var$getModelKeys(e){return{info:[$4cbfcc2f45af29ab$var$PATH_PREFIX,e,$4cbfcc2f45af29ab$var$INFO_SUFFIX].join($4cbfcc2f45af29ab$var$PATH_SEPARATOR),topology:[$4cbfcc2f45af29ab$var$PATH_PREFIX,e,$4cbfcc2f45af29ab$var$MODEL_TOPOLOGY_SUFFIX].join($4cbfcc2f45af29ab$var$PATH_SEPARATOR),weightSpecs:[$4cbfcc2f45af29ab$var$PATH_PREFIX,e,$4cbfcc2f45af29ab$var$WEIGHT_SPECS_SUFFIX].join($4cbfcc2f45af29ab$var$PATH_SEPARATOR),weightData:[$4cbfcc2f45af29ab$var$PATH_PREFIX,e,$4cbfcc2f45af29ab$var$WEIGHT_DATA_SUFFIX].join($4cbfcc2f45af29ab$var$PATH_SEPARATOR),modelMetadata:[$4cbfcc2f45af29ab$var$PATH_PREFIX,e,$4cbfcc2f45af29ab$var$MODEL_METADATA_SUFFIX].join($4cbfcc2f45af29ab$var$PATH_SEPARATOR)}}function $4cbfcc2f45af29ab$var$removeItems(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function $4cbfcc2f45af29ab$var$getModelPathFromKey(e){const t=e.split($4cbfcc2f45af29ab$var$PATH_SEPARATOR);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join($4cbfcc2f45af29ab$var$PATH_SEPARATOR)}function $4cbfcc2f45af29ab$var$maybeStripScheme(e){return e.startsWith($4cbfcc2f45af29ab$export$8984a84f7aef20de.URL_SCHEME)?e.slice($4cbfcc2f45af29ab$export$8984a84f7aef20de.URL_SCHEME.length):e}class $4cbfcc2f45af29ab$export$8984a84f7aef20de{constructor(e){if(!$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=$4cbfcc2f45af29ab$var$getModelKeys(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const t=JSON.stringify(e.modelTopology),a=JSON.stringify(e.weightSpecs),n=$e09737275e4b3546$export$ece8b449d7d29272(e);try{this.LS.setItem(this.keys.info,JSON.stringify(n)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,a),this.LS.setItem(this.keys.weightData,$e09737275e4b3546$export$28e753ea3e93cabf(e.weightData));const r={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(r)),{modelArtifactsInfo:n}}catch(e){throw $4cbfcc2f45af29ab$var$removeItems(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${n.modelTopologyBytes}, weightSpecsBytes=${n.weightSpecsBytes}, weightDataBytes=${n.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},a=JSON.parse(this.LS.getItem(this.keys.topology));if(null==a)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=a;const n=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==n)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=n;const r=this.LS.getItem(this.keys.modelMetadata);if(null!=r){const e=JSON.parse(r);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const o=this.LS.getItem(this.keys.weightData);if(null==o)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=$e09737275e4b3546$export$aa941b9d243f1be4(o),t}}$4cbfcc2f45af29ab$export$8984a84f7aef20de.URL_SCHEME="localstorage://";const $4cbfcc2f45af29ab$export$64ff64fd6b1180ae=e=>$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith($4cbfcc2f45af29ab$export$8984a84f7aef20de.URL_SCHEME)?$4cbfcc2f45af29ab$export$96d8dd89e6c22307(e.slice($4cbfcc2f45af29ab$export$8984a84f7aef20de.URL_SCHEME.length)):null;function $4cbfcc2f45af29ab$export$96d8dd89e6c22307(e){return new $4cbfcc2f45af29ab$export$8984a84f7aef20de(e)}$ab4515eb66b0009e$export$512275d398c0bdcd.registerSaveRouter($4cbfcc2f45af29ab$export$64ff64fd6b1180ae),$ab4515eb66b0009e$export$512275d398c0bdcd.registerLoadRouter($4cbfcc2f45af29ab$export$64ff64fd6b1180ae);class $4cbfcc2f45af29ab$export$bb7e7fb445a616f4{constructor(){$66860e147cb400ad$export$a7a9523472993e97($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),$66860e147cb400ad$export$a7a9523472993e97("undefined"==typeof window||void 0!==window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=$4cbfcc2f45af29ab$var$PATH_PREFIX+$4cbfcc2f45af29ab$var$PATH_SEPARATOR,a=$4cbfcc2f45af29ab$var$PATH_SEPARATOR+$4cbfcc2f45af29ab$var$INFO_SUFFIX;for(let n=0;n<this.LS.length;++n){const r=this.LS.key(n);if(r.startsWith(t)&&r.endsWith(a)){e[$4cbfcc2f45af29ab$var$getModelPathFromKey(r)]=JSON.parse(this.LS.getItem(r))}}return e}async removeModel(e){const t=$4cbfcc2f45af29ab$var$getModelKeys(e=$4cbfcc2f45af29ab$var$maybeStripScheme(e));if(null==this.LS.getItem(t.info))throw new Error(`Cannot find model at path '${e}'`);const a=JSON.parse(this.LS.getItem(t.info));return $4cbfcc2f45af29ab$var$removeItems(t),a}}const $95836c455065c501$var$URL_SCHEME_SUFFIX="://";class $95836c455065c501$export$ccf7f72dec8f0028{constructor(){this.managers={}}static getInstance(){return null==$95836c455065c501$export$ccf7f72dec8f0028.instance&&($95836c455065c501$export$ccf7f72dec8f0028.instance=new $95836c455065c501$export$ccf7f72dec8f0028),$95836c455065c501$export$ccf7f72dec8f0028.instance}static registerManager(e,t){$66860e147cb400ad$export$a7a9523472993e97(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith($95836c455065c501$var$URL_SCHEME_SUFFIX)&&(e=e.slice(0,e.indexOf($95836c455065c501$var$URL_SCHEME_SUFFIX))),$66860e147cb400ad$export$a7a9523472993e97(e.length>0,(()=>"scheme must not be an empty string."));const a=$95836c455065c501$export$ccf7f72dec8f0028.getInstance();$66860e147cb400ad$export$a7a9523472993e97(null==a.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),a.managers[e]=t}static getManager(e){const t=this.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(this.getInstance().managers)}}function $95836c455065c501$var$parseURL(e){if(-1===e.indexOf($95836c455065c501$var$URL_SCHEME_SUFFIX))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${$95836c455065c501$export$ccf7f72dec8f0028.getSchemes().join(",")}`);return{scheme:e.split($95836c455065c501$var$URL_SCHEME_SUFFIX)[0],path:e.split($95836c455065c501$var$URL_SCHEME_SUFFIX)[1]}}async function $95836c455065c501$var$cloneModelInternal(e,t,a=!1){$66860e147cb400ad$export$a7a9523472993e97(e!==t,(()=>`Old path and new path are the same: '${e}'`));const n=$ab4515eb66b0009e$export$512275d398c0bdcd.getLoadHandlers(e);$66860e147cb400ad$export$a7a9523472993e97(n.length>0,(()=>`Copying failed because no load handler is found for source URL ${e}.`)),$66860e147cb400ad$export$a7a9523472993e97(n.length<2,(()=>`Copying failed because more than one (${n.length}) load handlers for source URL ${e}.`));const r=n[0],o=$ab4515eb66b0009e$export$512275d398c0bdcd.getSaveHandlers(t);$66860e147cb400ad$export$a7a9523472993e97(o.length>0,(()=>`Copying failed because no save handler is found for destination URL ${t}.`)),$66860e147cb400ad$export$a7a9523472993e97(o.length<2,(()=>`Copying failed because more than one (${n.length}) save handlers for destination URL ${t}.`));const s=o[0],c=$95836c455065c501$var$parseURL(e).scheme,i=$95836c455065c501$var$parseURL(e).path,d=c===$95836c455065c501$var$parseURL(e).scheme,f=await r.load();a&&d&&await $95836c455065c501$export$ccf7f72dec8f0028.getManager(c).removeModel(i);const $=await s.save(f);return a&&!d&&await $95836c455065c501$export$ccf7f72dec8f0028.getManager(c).removeModel(i),$.modelArtifactsInfo}async function $95836c455065c501$export$8d63af86d795ece4(){const e=$95836c455065c501$export$ccf7f72dec8f0028.getSchemes(),t={};for(const a of e){const e=await $95836c455065c501$export$ccf7f72dec8f0028.getManager(a).listModels();for(const n in e){t[a+$95836c455065c501$var$URL_SCHEME_SUFFIX+n]=e[n]}}return t}async function $95836c455065c501$export$e71037184d1ad0fd(e){const t=$95836c455065c501$var$parseURL(e);return $95836c455065c501$export$ccf7f72dec8f0028.getManager(t.scheme).removeModel(t.path)}async function $95836c455065c501$export$b5971478866000ed(e,t){return $95836c455065c501$var$cloneModelInternal(e,t,!1)}async function $95836c455065c501$export$598f168272f4fec2(e,t){return $95836c455065c501$var$cloneModelInternal(e,t,!0)}class $36527e3ddd75f30c$export$c812b315576f1552{fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}}if($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().get("IS_BROWSER")){$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().setPlatform("browser",new $36527e3ddd75f30c$export$c812b315576f1552);try{$95836c455065c501$export$ccf7f72dec8f0028.registerManager($4cbfcc2f45af29ab$export$8984a84f7aef20de.URL_SCHEME,new $4cbfcc2f45af29ab$export$bb7e7fb445a616f4)}catch(e){}try{$95836c455065c501$export$ccf7f72dec8f0028.registerManager($ed7a2db83bb27e51$export$2c670ce804876090.URL_SCHEME,new $ed7a2db83bb27e51$export$4b0775e2ff88802)}catch(e){}}var $eKCdi=parcelRequire("eKCdi");const $aa40e67672ca7a5b$export$fc0623918121e18f={importFetch:()=>parcelRequire("ijMvi")};let $aa40e67672ca7a5b$var$systemFetch;function $aa40e67672ca7a5b$export$ab67f817cc7ff6dc(){$aa40e67672ca7a5b$var$systemFetch=null}function $aa40e67672ca7a5b$export$fec6b32271d1a551(e){$aa40e67672ca7a5b$var$systemFetch=e}function $aa40e67672ca7a5b$export$f53da9ce5ba19de0(){return $aa40e67672ca7a5b$var$systemFetch}class $aa40e67672ca7a5b$export$7befb6c3de272049{constructor(){this.util=parcelRequire("ijMvi"),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().global.fetch?$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().global.fetch(e,t):(null==$aa40e67672ca7a5b$var$systemFetch&&($aa40e67672ca7a5b$var$systemFetch=$aa40e67672ca7a5b$export$fc0623918121e18f.importFetch()),$aa40e67672ca7a5b$var$systemFetch(e,t))}now(){const e=$eKCdi.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}function $05a66951e325e00b$export$ab1029bcae9ddb4a(e,t="float32",a){return t=t||"float32",$66860e147cb400ad$export$3d8b7619bac22cf5(e),new $eaf1009c48c149de$export$350df26cd52e08e1(e,t,a)}function $b8938763064d2335$var$cast_(e,t){const a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","cast");if(!$66860e147cb400ad$export$a6a3df2178ac9529(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==a.dtype||"string"!==t&&"string"===a.dtype)throw new Error("Only strings can be casted to strings");const n={x:a},r={dtype:t};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$107ecfb3d1ccbd77,n,r)}$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().get("IS_NODE")&&!$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().get("IS_BROWSER")&&$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().setPlatform("node",new $aa40e67672ca7a5b$export$7befb6c3de272049);const $b8938763064d2335$export$f2db7d5238e1d23f=$ed8ad16572f67ac2$export$f59964a629598e2({cast_:$b8938763064d2335$var$cast_});function $c8377ad1869bb3f8$var$clone_(e){const t={x:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","clone","string_or_numeric")};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$544bf02140fa9a77,t)}const $c8377ad1869bb3f8$export$9cd59f9826255e47=$ed8ad16572f67ac2$export$f59964a629598e2({clone_:$c8377ad1869bb3f8$var$clone_});function $b9ccd6918bd6b52a$export$c2d084dc44961371(e,t=!1){console.log(e.toString(t))}$b0d6cc13a7079390$export$ca8737f6c8c212b8();const $838bec7112bd8da0$var$opHandler={buffer:$05a66951e325e00b$export$ab1029bcae9ddb4a,cast:$b8938763064d2335$export$f2db7d5238e1d23f,clone:$c8377ad1869bb3f8$export$9cd59f9826255e47,print:$b9ccd6918bd6b52a$export$c2d084dc44961371};$eaf1009c48c149de$export$1efe8d8b4884ad31($838bec7112bd8da0$var$opHandler);const $61f475240f3b7595$var$DEFAULT_FILE_NAME_PREFIX="model",$61f475240f3b7595$var$DEFAULT_JSON_EXTENSION_NAME=".json",$61f475240f3b7595$var$DEFAULT_WEIGHT_DATA_EXTENSION_NAME=".weights.bin";function $61f475240f3b7595$var$defer(e){return new Promise((e=>setTimeout(e))).then(e)}class $61f475240f3b7595$export$cc3c076530f2848f{constructor(e){if(!$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith($61f475240f3b7595$export$cc3c076530f2848f.URL_SCHEME)&&(e=e.slice($61f475240f3b7595$export$cc3c076530f2848f.URL_SCHEME.length)),null!=e&&0!==e.length||(e=$61f475240f3b7595$var$DEFAULT_FILE_NAME_PREFIX),this.modelJsonFileName=e+$61f475240f3b7595$var$DEFAULT_JSON_EXTENSION_NAME,this.weightDataFileName=e+$61f475240f3b7595$var$DEFAULT_WEIGHT_DATA_EXTENSION_NAME}async save(e){if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const a=$e09737275e4b3546$export$a725daa2cfaa7bd5(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),n=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),r=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(r.download=this.modelJsonFileName,r.href=n,await $61f475240f3b7595$var$defer((()=>r.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=t,await $61f475240f3b7595$var$defer((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:$e09737275e4b3546$export$ece8b449d7d29272(e)}}}}$61f475240f3b7595$export$cc3c076530f2848f.URL_SCHEME="downloads://";class $61f475240f3b7595$var$BrowserFiles{constructor(e){if(null==e||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const a=new FileReader;a.onload=a=>{const n=JSON.parse(a.target.result),r=n.modelTopology;if(null==r)return void t(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));if(null==n.weightsManifest)return void t(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));if(0===this.weightsFiles.length)return void e({modelTopology:r});const o=$e09737275e4b3546$export$b867c14eedd5b8a2(n,(e=>this.loadWeights(e)));e(o)},a.onerror=e=>t(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),a.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],a=[];for(const n of e)t.push(...n.weights),a.push(...n.paths);const n=this.checkManifestAndWeightFiles(e),r=a.map((e=>this.loadWeightsFile(e,n[e])));return Promise.all(r).then((e=>[t,$e09737275e4b3546$export$9a3e9c78eb778da8(e)]))}loadWeightsFile(e,t){return new Promise(((a,n)=>{const r=new FileReader;r.onload=e=>{const t=e.target.result;a(t)},r.onerror=t=>n(`Failed to weights data from file of path '${e}'.`),r.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],a=this.weightsFiles.map((e=>$e09737275e4b3546$export$9bf319d8f74f51d1(e.name))),n={};for(const r of e)r.paths.forEach((e=>{const r=$e09737275e4b3546$export$9bf319d8f74f51d1(e);if(-1!==t.indexOf(r))throw new Error(`Duplicate file basename found in weights manifest: '${r}'`);if(t.push(r),-1===a.indexOf(r))throw new Error(`Weight file with basename '${r}' is not provided.`);n[e]=this.weightsFiles[a.indexOf(r)]}));if(t.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${t.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return n}}const $61f475240f3b7595$export$6149c5f14395749b=e=>$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith($61f475240f3b7595$export$cc3c076530f2848f.URL_SCHEME)?$61f475240f3b7595$export$8fbc9551c735f788(e.slice($61f475240f3b7595$export$cc3c076530f2848f.URL_SCHEME.length)):null;function $61f475240f3b7595$export$8fbc9551c735f788(e="model"){return new $61f475240f3b7595$export$cc3c076530f2848f(e)}function $61f475240f3b7595$export$6729643cf069471c(e){return new $61f475240f3b7595$var$BrowserFiles(e)}function $35a3cbedd741f39b$export$b88cae388b9e062e(e,t,a,n){var r,o,s;$66860e147cb400ad$export$a7a9523472993e97(null!=(r=e)&&Array.isArray(r)&&r.length>0,(()=>"promises must be a none empty array")),s=n=null==n?1:n,$66860e147cb400ad$export$a7a9523472993e97((o=a=null==a?0:a)>=0&&o<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${o}`)),$66860e147cb400ad$export$a7a9523472993e97(s>=0&&s<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${s}`)),$66860e147cb400ad$export$a7a9523472993e97(s>=o,(()=>`startFraction must be no more than endFraction, but got startFraction ${o} and endFraction ${s}`));let c=0;return Promise.all(e.map((r=>(r.then((r=>{const o=a+ ++c/e.length*(n-a);return t(o),r})),r))))}async function $9a61be0d8fc1333a$export$6873c1a1d3325bf7(e,t){null==t&&(t={});const a=null==t.fetchFunc?$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().platform.fetch:t.fetchFunc,n=e.map((e=>a(e,t.requestInit,{isBinary:!0}))),r=(null==t.onProgress?await Promise.all(n):await $35a3cbedd741f39b$export$b88cae388b9e062e(n,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(r):await $35a3cbedd741f39b$export$b88cae388b9e062e(r,t.onProgress,.5,1)}async function $9a61be0d8fc1333a$export$55f7d42d35356096(e,t="",a,n){return $9a61be0d8fc1333a$export$635f986c4ab6ebe2((e=>$9a61be0d8fc1333a$export$6873c1a1d3325bf7(e,{requestInit:n})))(e,t,a)}function $9a61be0d8fc1333a$export$635f986c4ab6ebe2(e){return async(t,a="",n)=>{const r=t.map((()=>!1)),o={},s=null!=n?n.map((()=>!1)):[],c=[];if(t.forEach(((e,t)=>{let a=0;e.weights.forEach((e=>{const i="quantization"in e?e.quantization.dtype:e.dtype,d=$6a499dff597e6c1c$export$8103dee73e5eaa46[i]*$66860e147cb400ad$export$b4c3214a70a0e73f(e.shape),f=()=>{r[t]=!0,null==o[t]&&(o[t]=[]),o[t].push({manifestEntry:e,groupOffset:a,sizeBytes:d})};null!=n?n.forEach(((t,a)=>{t===e.name&&(f(),s[a]=!0)})):f(),c.push(e.name),a+=d}))})),!s.every((e=>e))){const e=n.filter(((e,t)=>!s[t]));throw new Error(`Could not find weights in manifest with names: ${e.join(", ")}. \nManifest JSON has weights with names: ${c.join(", ")}.`)}const i=r.reduce(((e,t,a)=>(t&&e.push(a),e)),[]),d=[];i.forEach((e=>{t[e].paths.forEach((e=>{const t=a+(a.endsWith("/")?"":"/")+e;d.push(t)}))}));const f=await e(d),$={};let u=0;return i.forEach((e=>{const a=t[e].paths.length;let n=0;for(let e=0;e<a;e++)n+=f[u+e].byteLength;const r=new ArrayBuffer(n),s=new Uint8Array(r);let c=0;for(let e=0;e<a;e++){const t=new Uint8Array(f[u+e]);s.set(t,c),c+=t.byteLength}o[e].forEach((e=>{const t=$e09737275e4b3546$export$7a14c2428d4f4a2e(r.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(const e in t)$[e]=t[e]})),u+=a})),$}}$ab4515eb66b0009e$export$512275d398c0bdcd.registerSaveRouter($61f475240f3b7595$export$6149c5f14395749b);const $8b3d034839327a01$var$OCTET_STREAM_MIME_TYPE="application/octet-stream",$8b3d034839327a01$var$JSON_TYPE="application/json";class $8b3d034839327a01$export$3df08bb5d0f8b499{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?($66860e147cb400ad$export$a7a9523472993e97("function"==typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().platform.fetch,$66860e147cb400ad$export$a7a9523472993e97(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&$66860e147cb400ad$export$a7a9523472993e97(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const a=$e09737275e4b3546$export$a725daa2cfaa7bd5(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);t.body.append("model.json",new Blob([JSON.stringify(a)],{type:$8b3d034839327a01$var$JSON_TYPE}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:$8b3d034839327a01$var$OCTET_STREAM_MIME_TYPE}),"model.weights.bin");const n=await this.fetch(this.path,t);if(n.ok)return{modelArtifactsInfo:$e09737275e4b3546$export$ece8b449d7d29272(e),responses:[n]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${n.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(e){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const a=t.modelTopology,n=t.weightsManifest;if(null==a&&null==n)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return $e09737275e4b3546$export$b867c14eedd5b8a2(t,(e=>this.loadWeights(e)))}async loadWeights(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[a,n]=$8b3d034839327a01$export$7a5253c0f62e0150(t),r=this.weightPathPrefix||a,o=[];for(const t of e)o.push(...t.weights);const s=[],c=[];for(const t of e)for(const e of t.paths)null!=this.weightUrlConverter?c.push(this.weightUrlConverter(e)):s.push(r+e+n);this.weightUrlConverter&&s.push(...await Promise.all(c));return[o,$e09737275e4b3546$export$9a3e9c78eb778da8(await $9a61be0d8fc1333a$export$6873c1a1d3325bf7(s,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress}))]}}function $8b3d034839327a01$export$7a5253c0f62e0150(e){const t=e.lastIndexOf("/"),a=e.lastIndexOf("?");return[e.substring(0,t)+"/",a>t?e.substring(a):""]}function $8b3d034839327a01$export$18a721ae4733601b(e){return null!=e.match($8b3d034839327a01$export$3df08bb5d0f8b499.URL_SCHEME_REGEX)}$8b3d034839327a01$export$3df08bb5d0f8b499.URL_SCHEME_REGEX=/^https?:\/\//;const $8b3d034839327a01$export$696b487c8ad531d2=(e,t)=>{if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc))return null;{let a=!0;if(a=Array.isArray(e)?e.every((e=>$8b3d034839327a01$export$18a721ae4733601b(e))):$8b3d034839327a01$export$18a721ae4733601b(e),a)return $8b3d034839327a01$export$7d6f1c8842f9f527(e,t)}return null};function $8b3d034839327a01$export$7d6f1c8842f9f527(e,t){return new $8b3d034839327a01$export$3df08bb5d0f8b499(e,t)}function $8b3d034839327a01$export$624ff5bc4e3a9d72(e,t){return $8b3d034839327a01$export$7d6f1c8842f9f527(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */$ab4515eb66b0009e$export$512275d398c0bdcd.registerSaveRouter($8b3d034839327a01$export$696b487c8ad531d2),$ab4515eb66b0009e$export$512275d398c0bdcd.registerLoadRouter($8b3d034839327a01$export$696b487c8ad531d2);class $daa13661f1583502$var$PassthroughLoader{constructor(e){this.modelArtifacts=e}async load(){return this.modelArtifacts}}class $daa13661f1583502$var$PassthroughSaver{constructor(e){this.saveHandler=e}async save(e){return this.saveHandler(e)}}function $daa13661f1583502$export$89ba941c7951a2e8(e,t,a,n){if(1===arguments.length){return null!=e.modelTopology||null!=e.weightSpecs?new $daa13661f1583502$var$PassthroughLoader(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new $daa13661f1583502$var$PassthroughLoader({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new $daa13661f1583502$var$PassthroughLoader({modelTopology:e,weightSpecs:t,weightData:a,trainingConfig:n})}function $daa13661f1583502$export$fa4a26428614aae7(e){return new $daa13661f1583502$var$PassthroughSaver(e)}var $cbf310cf53e91f85$exports={};function $cbf310cf53e91f85$export$fc823784344690e0(e,t){const a=e.length,n=[];for(let r=0;r<a;r++){const o=a-1-r,s=e[o]||1;(t[t.length-1-r]||1)>1&&1===s&&n.unshift(o)}return n}function $cbf310cf53e91f85$export$9f11ec258a9b2804(e,t){const a=[];for(let n=0;n<t.length;n++){const r=e[e.length-n-1],o=t.length-n-1,s=t[o];(null==r||1===r&&s>1)&&a.unshift(o)}return a}function $cbf310cf53e91f85$export$a3e2a38a57ec8318(e,t){const a=[],n=Math.max(e.length,t.length);for(let r=0;r<n;r++){let n=e[e.length-r-1];null==n&&(n=1);let o=t[t.length-r-1];if(null==o&&(o=1),1===n)a.unshift(o);else if(1===o)a.unshift(n);else{if(n!==o){throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`)}a.unshift(n)}}return a}$parcel$export($cbf310cf53e91f85$exports,"getBroadcastDims",(function(){return $cbf310cf53e91f85$export$fc823784344690e0})),$parcel$export($cbf310cf53e91f85$exports,"getReductionAxes",(function(){return $cbf310cf53e91f85$export$9f11ec258a9b2804})),$parcel$export($cbf310cf53e91f85$exports,"assertAndGetBroadcastShape",(function(){return $cbf310cf53e91f85$export$a3e2a38a57ec8318}));var $4ad8623edfc7f6c6$exports={};function $4ad8623edfc7f6c6$export$6bb34ea9be10068f(e,t){const a=e.shape.length,n=t.shape.length;if(a<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${a}.`);if(n<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${n}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[n-1]>a)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[n-1]} vs. ${a}`);if(0===$66860e147cb400ad$export$b4c3214a70a0e73f(e.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const r=t.shape,o=r[r.length-1];let s=1;for(let e=0;e<r.length-1;++e)s*=r[e];const c=e.shape,i=r.slice();i.pop();let d=1;for(let e=o;e<a;++e)d*=c[e],i.push(c[e]);const f=[...$66860e147cb400ad$export$6ad0292cf4d50f79(e.shape).map((e=>e/d)),1].slice(0,o);return[i,s,d,f]}$parcel$export($4ad8623edfc7f6c6$exports,"prepareAndValidate",(function(){return $4ad8623edfc7f6c6$export$6bb34ea9be10068f}));var $88504a10632c069e$exports={};function $88504a10632c069e$export$9d843bc97e7022ed(e,t,a){const n=t.rank>1?t.shape[t.rank-1]:1,r=t.rank>1?t.rank-1:1,o=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${a.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${n}, and batchDim: ${r}.`;if(a.rank<r)throw new Error(o+` update.rank < ${r}. `);if(e.length<n+(a.rank-r))throw new Error(o+` Output shape length < ${n+(a.rank-r)}`);if(a.rank!==r+e.length-n)throw new Error(o+" update.rank != "+(r+e.length-n));for(let e=0;e<r;++e)if(a.shape[e]!==t.shape[e])throw new Error(o+` updates.shape[${e}] (${a.shape[e]}) != indices.shape[${e}] (${t.shape[e]}).`);for(let t=0;t<a.rank-r;++t)if(a.shape[t+r]!==e[t+n])throw new Error(o+` updates.shape[${t+r}] (${a.shape[t+r]}) != shape[${t+r}] (${e[t+r]})`)}function $88504a10632c069e$export$4d09d4ac8ba225dd(e,t,a){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(a.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${a}`);if(0===a.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}$88504a10632c069e$export$9d843bc97e7022ed(a,t,e)}function $88504a10632c069e$export$4dc1a8917bf18661(e,t,a){const n=t.shape.length,r=n>1?t.shape[n-1]:1,o=a.length;let s=1;for(let e=r;e<o;++e)s*=a[e];const c=r<1?1:r;return{sliceRank:r,numUpdates:$66860e147cb400ad$export$b4c3214a70a0e73f(t.shape)/c,sliceSize:s,strides:[...$66860e147cb400ad$export$6ad0292cf4d50f79(a.slice(0,r)),1],outputSize:$66860e147cb400ad$export$b4c3214a70a0e73f(a)}}$parcel$export($88504a10632c069e$exports,"validateUpdateShape",(function(){return $88504a10632c069e$export$9d843bc97e7022ed})),$parcel$export($88504a10632c069e$exports,"validateInput",(function(){return $88504a10632c069e$export$4d09d4ac8ba225dd})),$parcel$export($88504a10632c069e$exports,"calculateShapes",(function(){return $88504a10632c069e$export$4dc1a8917bf18661}));var $6f2324169bf0e939$exports={};$parcel$export($6f2324169bf0e939$exports,"assertParamsValid",(function(){return $6f2324169bf0e939$export$1da6c8ba17e84239})),$parcel$export($6f2324169bf0e939$exports,"maskToAxes",(function(){return $6f2324169bf0e939$export$ce8be3e704107015})),$parcel$export($6f2324169bf0e939$exports,"computeOutShape",(function(){return $6f2324169bf0e939$export$22fa6b3b1305508e})),$parcel$export($6f2324169bf0e939$exports,"stridesWithElidedDims",(function(){return $6f2324169bf0e939$export$7f5fa1173bdb6e15})),$parcel$export($6f2324169bf0e939$exports,"getNormalizedAxes",(function(){return $6f2324169bf0e939$export$895fe9252fb79d1})),$parcel$export($6f2324169bf0e939$exports,"startIndicesWithElidedDims",(function(){return $6f2324169bf0e939$export$a9f0de12634a4ce3})),$parcel$export($6f2324169bf0e939$exports,"stopIndicesWithElidedDims",(function(){return $6f2324169bf0e939$export$19a416bd7e87244f})),$parcel$export($6f2324169bf0e939$exports,"startForAxis",(function(){return $6f2324169bf0e939$export$643aca61b9318da8})),$parcel$export($6f2324169bf0e939$exports,"stopForAxis",(function(){return $6f2324169bf0e939$export$612a961a199ffe65})),$parcel$export($6f2324169bf0e939$exports,"stridesForAxis",(function(){return $6f2324169bf0e939$export$9e3fd91f45c1f07f})),$parcel$export($6f2324169bf0e939$exports,"isSliceContinous",(function(){return $6f2324169bf0e939$export$9dc11bd6855e72c6})),$parcel$export($6f2324169bf0e939$exports,"computeFlatOffset",(function(){return $6f2324169bf0e939$export$b01553f5da8f819c})),$parcel$export($6f2324169bf0e939$exports,"parseSliceParams",(function(){return $6f2324169bf0e939$export$8448a0604fef5d62})),$parcel$export($6f2324169bf0e939$exports,"sliceInfo",(function(){return $6f2324169bf0e939$export$54d224865abb6767}));const $6f2324169bf0e939$var$NEW_AXIS=-2,$6f2324169bf0e939$var$SHRINK_AXIS=-1;function $6f2324169bf0e939$export$1da6c8ba17e84239(e,t,a){const n=e.shape.length;$66860e147cb400ad$export$a7a9523472993e97(n===t.length,(()=>`Error in slice${n}D: Length of begin ${t} must match the rank of the array (${n}).`)),$66860e147cb400ad$export$a7a9523472993e97(n===a.length,(()=>`Error in slice${n}D: Length of size ${a} must match the rank of the array (${n}).`));for(let r=0;r<n;++r)$66860e147cb400ad$export$a7a9523472993e97(t[r]+a[r]<=e.shape[r],(()=>`Error in slice${n}D: begin[${r}] + size[${r}] (${t[r]+a[r]}) would overflow input.shape[${r}] (${e.shape[r]})`))}function $6f2324169bf0e939$export$ce8be3e704107015(e){const t=[];let a=0;for(;e>0;)1&e&&t.push(a),e/=2,a++;return t}function $6f2324169bf0e939$export$22fa6b3b1305508e(e,t,a){const n=[];for(let r=0;r<e.length;r++)n[r]=Math.ceil((t[r]-e[r])/a[r]);return n}function $6f2324169bf0e939$export$7f5fa1173bdb6e15(e,t,a,n){const r=[...e];for(let e=r.length;e<n.length;e++)r.push(1);for(let e=0;e<a;e++)0===e?r[t]=1:(r.splice(t,0,1),r.pop());return r}function $6f2324169bf0e939$var$unnormalizeAxis(e,t,a){return a<=e?a:a-(t-1)}function $6f2324169bf0e939$var$getElidedAxes(e,t){const a=[];for(let n=0;n<e;n++)a.push(t+n);return a}function $6f2324169bf0e939$export$895fe9252fb79d1(e,t,a,n,r,o,s,c,i){const d=e.length;let f=new Array(d),$=new Array(d),u=new Array(d);if(t.length&&a>0){const i=t[0],d=a+1;f=$6f2324169bf0e939$export$a9f0de12634a4ce3(s,i,d,n,e),$=$6f2324169bf0e939$export$19a416bd7e87244f(c,i,d,r,e),u=$6f2324169bf0e939$export$7f5fa1173bdb6e15(o,i,d,e)}else for(let t=0;t<d;t++)f[t]=$6f2324169bf0e939$export$643aca61b9318da8(s,n,o,e,t,i),$[t]=$6f2324169bf0e939$export$612a961a199ffe65(c,r,o,e,t,i),u[t]=$6f2324169bf0e939$export$9e3fd91f45c1f07f(o,t,i);return{begin:f,end:$,strides:u}}function $6f2324169bf0e939$export$a9f0de12634a4ce3(e,t,a,n,r){const o=[...r],s=$6f2324169bf0e939$var$getElidedAxes(a,t);for(let r=0;r<o.length;r++)if(s.indexOf(r)>-1)o[r]=0;else{const s=$6f2324169bf0e939$var$unnormalizeAxis(t,a,r);let c=n[s];e&1<<s&&(c=0),o[r]=c}return o}function $6f2324169bf0e939$export$19a416bd7e87244f(e,t,a,n,r){const o=[...r],s=$6f2324169bf0e939$var$getElidedAxes(a,t);for(let r=0;r<o.length;r++)if(s.indexOf(r)>-1)o[r]=Number.MAX_SAFE_INTEGER;else{const s=$6f2324169bf0e939$var$unnormalizeAxis(t,a,r);let c=n[s];e&1<<s&&(c=Number.MAX_SAFE_INTEGER),o[r]=c}for(let e=0;e<o.length;e++){const t=r[e];o[e]<0&&(o[e]+=t),o[e]=$66860e147cb400ad$export$7d15b64cf5a3a4c4(0,o[e],r[e])}return o}function $6f2324169bf0e939$export$9e3fd91f45c1f07f(e,t,a){let n=e[t];return(a&1<<t||null==n)&&(n=1),n}function $6f2324169bf0e939$export$643aca61b9318da8(e,t,a,n,r,o){let s=t[r];const c=a[r]||1;(e&1<<r||o&1<<r||null==s)&&(s=c>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const i=n[r];return s<0&&(s+=i),s=$66860e147cb400ad$export$7d15b64cf5a3a4c4(0,s,i-1),s}function $6f2324169bf0e939$export$612a961a199ffe65(e,t,a,n,r,o){let s=t[r];const c=a[r]||1;(e&1<<r||o&1<<r||null==s)&&(s=c>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const i=n[r];return s<0&&(s+=i),s=c>0?$66860e147cb400ad$export$7d15b64cf5a3a4c4(0,s,i):$66860e147cb400ad$export$7d15b64cf5a3a4c4(-1,s,i-1),s}function $6f2324169bf0e939$export$9dc11bd6855e72c6(e,t,a){let n=a.length;for(let e=0;e<a.length;e++)if(a[e]>1){n=e;break}for(let r=n+1;r<a.length;r++)if(t[r]>0||a[r]!==e[r])return!1;return!0}function $6f2324169bf0e939$export$b01553f5da8f819c(e,t){let a=e.length>0?e[e.length-1]:1;for(let n=0;n<e.length-1;n++)a+=e[n]*t[n];return a}function $6f2324169bf0e939$export$8448a0604fef5d62(e,t,a){let n;const r=e.shape.length;let o;return n="number"==typeof t?[t,...new Array(r-1).fill(0)]:t.length<r?t.concat(new Array(r-t.length).fill(0)):t.slice(),n.forEach((e=>{$66860e147cb400ad$export$a7a9523472993e97(-1!==e,(()=>"slice() does not support negative begin indexing."))})),o=null==a?new Array(r).fill(-1):"number"==typeof a?[a,...new Array(r-1).fill(-1)]:a.length<r?a.concat(new Array(r-a.length).fill(-1)):a,o=o.map(((t,a)=>t>=0?t:($66860e147cb400ad$export$a7a9523472993e97(-1===t,(()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${a}.`)),e.shape[a]-n[a]))),[n,o]}function $6f2324169bf0e939$export$54d224865abb6767(e,t,a,n,r,o,s,c,i){let d;if(null==n?(d=new Array(t.length),d.fill(1)):d=n,null!=s&&0!=(s&s-1))throw new Error("Multiple ellipses in slice is not allowed.");let f=!1;const $={dims:d.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:a.slice(),strides:d.slice(),beginMask:r,endMask:o,ellipsisMask:s,newAxisMask:c,shrinkAxisMask:i};for(let e=0;e<$.dims;e++)f&&0!=(1<<e&c)&&$.numAddAxisAfterEllipsis++,1<<e&s&&(f=!0);f||($.ellipsisMask|=1<<$.dims,$.dims++);const u={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};$6f2324169bf0e939$var$buildDenseSpec($,u);let p=!0,l=!0,b=!0;const h=[],x=[];for(let t=0;t<e.length;++t){if(0===u.strides[t])throw Error(`strides[${t}] must be non-zero`);const a=!!(u.shrinkAxisMask&1<<t),n=e[t];if(-1===n){h.push(a?1:-1);continue}const r=[u.beginMask&1<<t,u.endMask&1<<t],o=[u.strides[t]>0?0:-1,u.strides[t]>0?n:n-1];if(a&&u.strides[t]<=0)throw Error("only stride 1 allowed on non-range indexing.");b=b&&1===u.strides[t];const s=!!(u.beginMask&1<<t&&u.endMask&1<<t);if(u.beginValid&&u.endValid){if(a){const e=u.begin[t]<0?n+u.begin[t]:u.begin[t];if(u.begin[t]=e,u.end[t]=u.begin[t]+1,e<0||e>=n)throw Error(`slice index ${u.begin[t]} of dimension ${t} out of bounds.`)}else u.begin[t]=$6f2324169bf0e939$var$canonical(u.begin[t],0,u.strides[t],n,r,o),u.end[t]=$6f2324169bf0e939$var$canonical(u.end[t],1,u.strides[t],n,r,o);const e=1===u.strides[t]&&0===u.begin[t]&&u.end[t]===n;p=p&&e,l=l&&(0===t&&1===u.strides[t]||e)}else p=p&&1===u.strides[t]&&s,l=l&&(0===t&&1===u.strides[t]||s);let c,i=!1;if(u.beginValid&&u.endValid?(c=u.end[t]-u.begin[t],i=!0):a?(c=1,i=!0):s&&n>=0&&(c=u.strides[t]<0?-n:n,i=!0),i){let e;e=0===c||c<0!=u.strides[t]<0?0:Math.trunc(c/u.strides[t])+(c%u.strides[t]!=0?1:0),h.push(e)}else h.push(-1)}for(let e=0;e<u.finalShapeGatherIndices.length;++e){const t=u.finalShapeGatherIndices[e];t>=0?x.push(h[t]):t===$6f2324169bf0e939$var$NEW_AXIS&&x.push(1)}return{finalShapeSparse:x.filter(((e,t)=>u.finalShapeGatherIndices[t]!==$6f2324169bf0e939$var$NEW_AXIS)),finalShape:x,isIdentity:p,sliceDim0:l,isSimpleSlice:b,begin:u.begin,end:u.end,strides:u.strides}}function $6f2324169bf0e939$var$buildDenseSpec(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let a=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let n=0;n<e.dims;n++)if(1<<n&e.ellipsisMask){const r=Math.min(t.dims-(e.dims-n)+1+e.numAddAxisAfterEllipsis,t.dims);for(;a<r;a++)t.begin[a]=0,t.end[a]=0,t.strides[a]=1,t.beginMask|=1<<a,t.endMask|=1<<a,t.finalShapeGatherIndices.push(a),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[a]=n}else if(1<<n&e.newAxisMask)t.finalShapeGatherIndices.push($6f2324169bf0e939$var$NEW_AXIS),t.finalShapeGatherIndicesSparse.push(-1);else{if(a===t.begin.length)throw Error(`Index out of range using input dim ${a}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[a]=e.begin[n]),null!=e.end&&(t.end[a]=e.end[n]),t.strides[a]=e.strides[n],e.beginMask&1<<n&&(t.beginMask|=1<<a),e.endMask&1<<n&&(t.endMask|=1<<a),e.shrinkAxisMask&1<<n?(t.finalShapeGatherIndices.push($6f2324169bf0e939$var$SHRINK_AXIS),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<a):(t.finalShapeGatherIndices.push(a),t.finalShapeGatherIndicesSparse.push(n)),t.inputShapeGatherIndicesSparse[a]=n,a++}}function $6f2324169bf0e939$var$canonical(e,t,a,n,r,o){if(r[t])return a>0?o[t]:o[t+1&1];{const t=e<0?n+e:e;return t<o[0]?o[0]:t>o[1]?o[1]:t}}var $c4c4d404109848b6$exports={};$parcel$export($c4c4d404109848b6$exports,"fromUint8ToStringArray",(function(){return $c4c4d404109848b6$export$debaff328bdca650})),$parcel$export($c4c4d404109848b6$exports,"fromStringArrayToUint8",(function(){return $c4c4d404109848b6$export$ce1f4ec5bdd0ab9a})),$parcel$export($c4c4d404109848b6$exports,"slice_util",(function(){return $6f2324169bf0e939$exports})),$parcel$export($c4c4d404109848b6$exports,"upcastType",(function(){return $063ffdf621a4b072$export$7bcca02d1a156bdf})),$parcel$export($c4c4d404109848b6$exports,"segment_util",(function(){return $ed9e54e26fa371e4$exports}));var $ed9e54e26fa371e4$exports={};$parcel$export($ed9e54e26fa371e4$exports,"segOpComputeOptimalWindowSize",(function(){return $ed9e54e26fa371e4$export$6ef0c7b128709ff})),$parcel$export($ed9e54e26fa371e4$exports,"computeOutShape",(function(){return $ed9e54e26fa371e4$export$22fa6b3b1305508e})),$parcel$export($ed9e54e26fa371e4$exports,"collectGatherOpShapeInfo",(function(){return $ed9e54e26fa371e4$export$fa9ad97afacf8191}));var $2aeeae49d35fcc3b$exports={};$parcel$export($2aeeae49d35fcc3b$exports,"PARALLELIZE_THRESHOLD",(function(){return $2aeeae49d35fcc3b$export$ee3544492fe530f6})),$parcel$export($2aeeae49d35fcc3b$exports,"computeOptimalWindowSize",(function(){return $2aeeae49d35fcc3b$export$ee795473f4c8fb04}));const $2aeeae49d35fcc3b$export$ee3544492fe530f6=30;function $2aeeae49d35fcc3b$export$ee795473f4c8fb04(e){return e<=$2aeeae49d35fcc3b$export$ee3544492fe530f6?e:$66860e147cb400ad$export$c0ff3276320ddb5e(e,Math.floor(Math.sqrt(e)))}function $ed9e54e26fa371e4$export$6ef0c7b128709ff(e,t){let a,n=!1;for(e<=$2aeeae49d35fcc3b$export$ee3544492fe530f6?(a=e,n=!0):a=$66860e147cb400ad$export$c0ff3276320ddb5e(e,Math.floor(Math.sqrt(e)));!n;)a>t||a===e?n=!0:a=$66860e147cb400ad$export$c0ff3276320ddb5e(e,a+1);return a}function $ed9e54e26fa371e4$export$22fa6b3b1305508e(e,t,a){const n=[],r=e.length;for(let o=0;o<r;o++)o!==t?n.push(e[o]):n.push(a);return n}function $ed9e54e26fa371e4$export$fa9ad97afacf8191(e,t,a,n){const r=t.shape.length,o=e.shape.length;if(0!==n&&(n<-r||n>r))throw new Error(`Expect batchDims in the range of [-${r}, ${r}], but got ${n}`);if(n<0&&(n+=r),n>o)throw new Error(`batchDims (${n}) must be less than rank(x) (\n    ${o}).`);if(a<n)throw new Error(`batchDims (${n}) must be less than or equal to axis (${a}).`);for(let a=0;a<n;++a)if(e.shape[a]!==t.shape[a])throw new Error(`x.shape[${a}]: ${e.shape[a]} should be equal to indices.shape[${a}]: ${t.shape[a]}.`);const s=e.shape[a],c=[];let i=1,d=1,f=1;for(let t=0;t<n;++t)c.push(e.shape[t]),i*=e.shape[t];for(let t=n;t<a;t++)c.push(e.shape[t]),d*=e.shape[t];for(let e=n;e<r;e++)c.push(t.shape[e]);for(let t=a+1;t<o;t++)c.push(e.shape[t]),f*=e.shape[t];return{batchSize:i,sliceSize:f,outerSize:d,dimSize:s,outputShape:c}}var $23a3a40ca9179408$exports={};function $23a3a40ca9179408$export$fcf762ecdaba1fc1(e,t){for(let a=0;a<e.length;++a)if(e[e.length-a-1]!==t-1-a)return!1;return!0}function $23a3a40ca9179408$export$6cfee5a53150f612(e,t,a){const n=e.length+t.length,r=[];let o=0,s=0;for(let c=0;c<n;c++)-1===a.indexOf(c)?r.push(e[o++]):r.push(t[s++]);return r}function $23a3a40ca9179408$export$68ecd7df33283881(e,t){const a=[],n=e.length;for(let r=0;r<n;r++)-1===t.indexOf(r)&&a.push(e[r]);return[a,t.map((t=>e[t]))]}function $23a3a40ca9179408$export$e35db9afe008d7e3(e,t){return $23a3a40ca9179408$export$6cfee5a53150f612(e,t.map((e=>1)),t)}function $23a3a40ca9179408$export$f83b6b93f3b44c9c(e,t,a){$66860e147cb400ad$export$a7a9523472993e97($23a3a40ca9179408$export$fcf762ecdaba1fc1(t,a),(()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${a} input.`))}function $23a3a40ca9179408$export$d2a6288eef79b310(e,t){if($23a3a40ca9179408$export$fcf762ecdaba1fc1(e,t))return null;const a=[];for(let n=0;n<t;++n)-1===e.indexOf(n)&&a.push(n);return e.forEach((e=>a.push(e))),a}function $23a3a40ca9179408$export$2975b40e45f30ba8(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function $23a3a40ca9179408$export$b62922ed36931ab6(e,t){const a=[];for(let n=t-e;n<t;++n)a.push(n);return a}$parcel$export($23a3a40ca9179408$exports,"axesAreInnerMostDims",(function(){return $23a3a40ca9179408$export$fcf762ecdaba1fc1})),$parcel$export($23a3a40ca9179408$exports,"combineLocations",(function(){return $23a3a40ca9179408$export$6cfee5a53150f612})),$parcel$export($23a3a40ca9179408$exports,"computeOutAndReduceShapes",(function(){return $23a3a40ca9179408$export$68ecd7df33283881})),$parcel$export($23a3a40ca9179408$exports,"expandShapeToKeepDim",(function(){return $23a3a40ca9179408$export$e35db9afe008d7e3})),$parcel$export($23a3a40ca9179408$exports,"assertAxesAreInnerMostDims",(function(){return $23a3a40ca9179408$export$f83b6b93f3b44c9c})),$parcel$export($23a3a40ca9179408$exports,"getAxesPermutation",(function(){return $23a3a40ca9179408$export$d2a6288eef79b310})),$parcel$export($23a3a40ca9179408$exports,"getUndoAxesPermutation",(function(){return $23a3a40ca9179408$export$2975b40e45f30ba8})),$parcel$export($23a3a40ca9179408$exports,"getInnerMostAxes",(function(){return $23a3a40ca9179408$export$b62922ed36931ab6}));var $aa8a74d286c7bb63$exports={};function $aa8a74d286c7bb63$export$ce1cccab5e7518dd(e,t){const a=e[0].length;e.forEach(((e,t)=>{$66860e147cb400ad$export$a7a9523472993e97(e.length===a,(()=>`Error in concat${a}D: rank of tensors[${t}] must be the same as the rank of the rest (${a})`))})),$66860e147cb400ad$export$a7a9523472993e97(t>=0&&t<a,(()=>`Error in concat${a}D: axis must be between 0 and ${a-1}.`));const n=e[0];e.forEach(((e,r)=>{for(let o=0;o<a;o++)$66860e147cb400ad$export$a7a9523472993e97(o===t||e[o]===n[o],(()=>`Error in concat${a}D: Shape of tensors[${r}] (${e}) does not match the shape of the rest (${n}) along the non-concatenated axis ${r}.`))}))}function $aa8a74d286c7bb63$export$22fa6b3b1305508e(e,t){const a=e[0].slice();for(let n=1;n<e.length;n++)a[t]+=e[n][t];return a}$parcel$export($aa8a74d286c7bb63$exports,"assertParamsConsistent",(function(){return $aa8a74d286c7bb63$export$ce1cccab5e7518dd})),$parcel$export($aa8a74d286c7bb63$exports,"computeOutShape",(function(){return $aa8a74d286c7bb63$export$22fa6b3b1305508e}));var $d41a8fbd243a8153$exports={};function $d41a8fbd243a8153$export$24e8a5cb688b9852(e,t,a,n,r="NHWC",o){return $d41a8fbd243a8153$export$fdd37387e0a3c672(e,[...t,e[3]],a,o,n,null,null,$d41a8fbd243a8153$export$1641c6bb3eb9a5b4(r))}function $d41a8fbd243a8153$export$67e321f77840205c(e,t,a,n,r,o,s="channelsLast"){const[c,i]=$d41a8fbd243a8153$var$parseTupleParam(t);let d;if("channelsLast"===s)d=[c,i,e[3],e[3]];else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);d=[c,i,e[1],e[1]]}return $d41a8fbd243a8153$export$fdd37387e0a3c672(e,d,a,n,r,o,!1,s)}function $d41a8fbd243a8153$export$1382473b2833755b(e,t,a,n,r,o,s="NDHWC"){const[c,i,d]=$d41a8fbd243a8153$var$parse3TupleParam(t);let f,$;if("NDHWC"===s)$="channelsLast",f=[c,i,d,e[4],e[4]];else{if("NCDHW"!==s)throw new Error(`Unknown dataFormat ${s}`);$="channelsFirst",f=[c,i,d,e[1],e[1]]}return $d41a8fbd243a8153$export$e4819ceef3994d7b(e,f,a,n,r,!1,$,o)}function $d41a8fbd243a8153$export$fdd37387e0a3c672(e,t,a,n,r,o,s=!1,c="channelsLast"){let[i,d,f,$]=[-1,-1,-1,-1];if("channelsLast"===c)[i,d,f,$]=e;else{if("channelsFirst"!==c)throw new Error(`Unknown dataFormat ${c}`);[i,$,d,f]=e}const[u,p,,l]=t,[b,h]=$d41a8fbd243a8153$var$parseTupleParam(a),[x,m]=$d41a8fbd243a8153$var$parseTupleParam(n),g=$d41a8fbd243a8153$var$getEffectiveFilterSize(u,x),v=$d41a8fbd243a8153$var$getEffectiveFilterSize(p,m),{padInfo:y,outHeight:w,outWidth:_}=$d41a8fbd243a8153$var$getPadAndOutInfo(r,d,f,b,h,g,v,o,c),I=s?l*$:l;let S;return"channelsFirst"===c?S=[i,I,w,_]:"channelsLast"===c&&(S=[i,w,_,I]),{batchSize:i,dataFormat:c,inHeight:d,inWidth:f,inChannels:$,outHeight:w,outWidth:_,outChannels:I,padInfo:y,strideHeight:b,strideWidth:h,filterHeight:u,filterWidth:p,effectiveFilterHeight:g,effectiveFilterWidth:v,dilationHeight:x,dilationWidth:m,inShape:e,outShape:S,filterShape:t}}function $d41a8fbd243a8153$export$e4819ceef3994d7b(e,t,a,n,r,o=!1,s="channelsLast",c){let[i,d,f,$,u]=[-1,-1,-1,-1,-1];if("channelsLast"===s)[i,d,f,$,u]=e;else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);[i,u,d,f,$]=e}const[p,l,b,,h]=t,[x,m,g]=$d41a8fbd243a8153$var$parse3TupleParam(a),[v,y,w]=$d41a8fbd243a8153$var$parse3TupleParam(n),_=$d41a8fbd243a8153$var$getEffectiveFilterSize(p,v),I=$d41a8fbd243a8153$var$getEffectiveFilterSize(l,y),S=$d41a8fbd243a8153$var$getEffectiveFilterSize(b,w),{padInfo:T,outDepth:k,outHeight:E,outWidth:A}=$d41a8fbd243a8153$var$get3DPadAndOutInfo(r,d,f,$,x,m,g,_,I,S,c),C=o?h*u:h;let O;return"channelsFirst"===s?O=[i,C,k,E,A]:"channelsLast"===s&&(O=[i,k,E,A,C]),{batchSize:i,dataFormat:s,inDepth:d,inHeight:f,inWidth:$,inChannels:u,outDepth:k,outHeight:E,outWidth:A,outChannels:C,padInfo:T,strideDepth:x,strideHeight:m,strideWidth:g,filterDepth:p,filterHeight:l,filterWidth:b,effectiveFilterDepth:_,effectiveFilterHeight:I,effectiveFilterWidth:S,dilationDepth:v,dilationHeight:y,dilationWidth:w,inShape:e,outShape:O,filterShape:t}}function $d41a8fbd243a8153$var$computeOutputShape2D(e,t,a,n,r){null==n&&(n=$d41a8fbd243a8153$export$670354fdcb16da70(e,t,a));const o=e[0],s=e[1];return[$d41a8fbd243a8153$var$round((o-t+2*n)/a+1,r),$d41a8fbd243a8153$var$round((s-t+2*n)/a+1,r)]}function $d41a8fbd243a8153$var$computeOutputShape4D(e,t,a,n,r,o){null==r&&(r=$d41a8fbd243a8153$export$670354fdcb16da70(e,t,n));const s=e[0],c=e[1],i=e[2];return[$d41a8fbd243a8153$var$round((s-t+2*r)/n+1,o),$d41a8fbd243a8153$var$round((c-t+2*r)/n+1,o),$d41a8fbd243a8153$var$round((i-t+2*r)/n+1,o),a]}function $d41a8fbd243a8153$export$670354fdcb16da70(e,t,a,n=1){const r=$d41a8fbd243a8153$var$getEffectiveFilterSize(t,n);return Math.floor((e[0]*(a-1)-a+r)/2)}function $d41a8fbd243a8153$var$parseTupleParam(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function $d41a8fbd243a8153$var$parse3TupleParam(e){return"number"==typeof e?[e,e,e]:e}function $d41a8fbd243a8153$var$getEffectiveFilterSize(e,t){return t<=1?e:e+(e-1)*(t-1)}function $d41a8fbd243a8153$var$getPadAndOutInfo(e,t,a,n,r,o,s,c,i){let d,f,$;if("number"==typeof e){d={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const r=$d41a8fbd243a8153$var$computeOutputShape2D([t,a],o,n,e,c);f=r[0],$=r[1]}else if("same"===e){f=Math.ceil(t/n),$=Math.ceil(a/r);const e=Math.max(0,(f-1)*n+o-t),c=Math.max(0,($-1)*r+s-a),i=Math.floor(e/2),u=e-i,p=Math.floor(c/2);d={top:i,bottom:u,left:p,right:c-p,type:"SAME"}}else if("valid"===e)d={top:0,bottom:0,left:0,right:0,type:"VALID"},f=Math.ceil((t-o+1)/n),$=Math.ceil((a-s+1)/r);else{if("object"!=typeof e)throw Error(`Unknown padding parameter: ${e}`);{const u="channelsLast"===i?e[1][0]:e[2][0],p="channelsLast"===i?e[1][1]:e[2][1],l="channelsLast"===i?e[2][0]:e[3][0],b="channelsLast"===i?e[2][1]:e[3][1];d={top:u,bottom:p,left:l,right:b,type:0===u&&0===p&&0===l&&0===b?"VALID":"EXPLICIT"},f=$d41a8fbd243a8153$var$round((t-o+u+p)/n+1,c),$=$d41a8fbd243a8153$var$round((a-s+l+b)/r+1,c)}}return{padInfo:d,outHeight:f,outWidth:$}}function $d41a8fbd243a8153$var$get3DPadAndOutInfo(e,t,a,n,r,o,s,c,i,d,f){let $,u,p,l;if("number"==typeof e){$={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const o=$d41a8fbd243a8153$var$computeOutputShape4D([t,a,n,1],c,1,r,e,f);u=o[0],p=o[1],l=o[2]}else if("same"===e){u=Math.ceil(t/r),p=Math.ceil(a/o),l=Math.ceil(n/s);const e=(u-1)*r+c-t,f=(p-1)*o+i-a,b=(l-1)*s+d-n,h=Math.floor(e/2),x=e-h,m=Math.floor(f/2),g=f-m,v=Math.floor(b/2);$={top:m,bottom:g,left:v,right:b-v,front:h,back:x,type:"SAME"}}else{if("valid"!==e)throw Error(`Unknown padding parameter: ${e}`);$={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},u=Math.ceil((t-c+1)/r),p=Math.ceil((a-i+1)/o),l=Math.ceil((n-d+1)/s)}return{padInfo:$,outDepth:u,outHeight:p,outWidth:l}}function $d41a8fbd243a8153$var$round(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function $d41a8fbd243a8153$export$f16174446c2d5b2a(e){const[t,a,n]=$d41a8fbd243a8153$var$parseTupleParam(e);return 1===t&&1===a&&1===n}function $d41a8fbd243a8153$export$1e13dbff91e2f5ca(e,t){return $d41a8fbd243a8153$export$f16174446c2d5b2a(e)||$d41a8fbd243a8153$export$f16174446c2d5b2a(t)}function $d41a8fbd243a8153$export$1641c6bb3eb9a5b4(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function $d41a8fbd243a8153$export$1b3400c26a44af8(e,t,a){if(null!=a){if("string"==typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${a} but got pad ${t}.`);if("number"==typeof t)$66860e147cb400ad$export$a7a9523472993e97($66860e147cb400ad$export$357fc28f6427af8b(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${a} but got pad ${t}.`));else{if("object"!=typeof t)throw Error(`Error in ${e}: Unknown padding parameter: ${t}`);t.forEach((t=>{t.forEach((t=>{$66860e147cb400ad$export$a7a9523472993e97($66860e147cb400ad$export$357fc28f6427af8b(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${a} but got pad ${t}.`))}))}))}}}$parcel$export($d41a8fbd243a8153$exports,"computeDilation2DInfo",(function(){return $d41a8fbd243a8153$export$24e8a5cb688b9852})),$parcel$export($d41a8fbd243a8153$exports,"convertConv2DDataFormat",(function(){return $d41a8fbd243a8153$export$1641c6bb3eb9a5b4})),$parcel$export($d41a8fbd243a8153$exports,"computeConv2DInfo",(function(){return $d41a8fbd243a8153$export$fdd37387e0a3c672})),$parcel$export($d41a8fbd243a8153$exports,"computePool2DInfo",(function(){return $d41a8fbd243a8153$export$67e321f77840205c})),$parcel$export($d41a8fbd243a8153$exports,"computePool3DInfo",(function(){return $d41a8fbd243a8153$export$1382473b2833755b})),$parcel$export($d41a8fbd243a8153$exports,"computeConv3DInfo",(function(){return $d41a8fbd243a8153$export$e4819ceef3994d7b})),$parcel$export($d41a8fbd243a8153$exports,"computeDefaultPad",(function(){return $d41a8fbd243a8153$export$670354fdcb16da70})),$parcel$export($d41a8fbd243a8153$exports,"tupleValuesAreOne",(function(){return $d41a8fbd243a8153$export$f16174446c2d5b2a})),$parcel$export($d41a8fbd243a8153$exports,"eitherStridesOrDilationsAreOne",(function(){return $d41a8fbd243a8153$export$1e13dbff91e2f5ca})),$parcel$export($d41a8fbd243a8153$exports,"checkPadOnDimRoundingMode",(function(){return $d41a8fbd243a8153$export$1b3400c26a44af8}));var $ad7d9470909e4e53$exports={};function $e0b7063be4781c37$var$elu_(e){const t={x:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","elu","float32")};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$64636e173424d83d,t)}$parcel$export($ad7d9470909e4e53$exports,"getFusedDyActivation",(function(){return $ad7d9470909e4e53$export$a1905aed55f51aef})),$parcel$export($ad7d9470909e4e53$exports,"getFusedBiasGradient",(function(){return $ad7d9470909e4e53$export$1a797e236ae09d1f})),$parcel$export($ad7d9470909e4e53$exports,"applyActivation",(function(){return $ad7d9470909e4e53$export$a0f250a2ba84196})),$parcel$export($ad7d9470909e4e53$exports,"shouldFuse",(function(){return $ad7d9470909e4e53$export$4904add493b957ab}));const $e0b7063be4781c37$export$796b583dd79d8524=$ed8ad16572f67ac2$export$f59964a629598e2({elu_:$e0b7063be4781c37$var$elu_});function $1a12f2ddcbc24937$var$leakyRelu_(e,t=.2){const a={x:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","leakyRelu")},n={alpha:t};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$f0c7162bb7af1a2d,a,n)}const $1a12f2ddcbc24937$export$23a860e40a2c6b61=$ed8ad16572f67ac2$export$f59964a629598e2({leakyRelu_:$1a12f2ddcbc24937$var$leakyRelu_});function $802417d98a09603d$var$mul_(e,t){let a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"a","mul"),n=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"b","mul");[a,n]=$fcc1393c3c192ea9$export$8b0e24c749a224d7(a,n);const r={a:a,b:n};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$f14f83b3b531d498,r)}const $802417d98a09603d$export$6e3a27864ab166fe=$ed8ad16572f67ac2$export$f59964a629598e2({mul_:$802417d98a09603d$var$mul_});function $650dee39d75c9820$var$prelu_(e,t){const a={x:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","prelu"),alpha:$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"alpha","prelu")};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$a42f35f308fc2fa3,a)}const $650dee39d75c9820$export$5882f235222e6729=$ed8ad16572f67ac2$export$f59964a629598e2({prelu_:$650dee39d75c9820$var$prelu_});function $159373319273f089$var$relu_(e){const t={x:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","relu")};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$9a6ff968bf961432,t)}const $159373319273f089$export$16d1e4612cc0139f=$ed8ad16572f67ac2$export$f59964a629598e2({relu_:$159373319273f089$var$relu_});function $b38ad2013008825e$var$relu6_(e){const t={x:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","relu6")};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$3be9e924f629054e,t)}const $b38ad2013008825e$export$4a62bcb95e9c44c4=$ed8ad16572f67ac2$export$f59964a629598e2({relu6_:$b38ad2013008825e$var$relu6_});function $4c369a1fffc2774a$var$reshape_(e,t){const a={x:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","reshape","string_or_numeric")},n={shape:t};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$755ddd847e5abe03,a,n)}const $4c369a1fffc2774a$export$9eaad88cf88cee2b=$ed8ad16572f67ac2$export$f59964a629598e2({reshape_:$4c369a1fffc2774a$var$reshape_});function $8127ae7d9337dac4$var$sigmoid_(e){const t={x:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","sigmoid","float32")};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$fde18c826dda6b1b,t)}const $8127ae7d9337dac4$export$3b295495ca3cad7c=$ed8ad16572f67ac2$export$f59964a629598e2({sigmoid_:$8127ae7d9337dac4$var$sigmoid_});function $04c05814e9159417$var$step_(e,t=0){const a={x:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","step")},n={alpha:t};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$fd55ce593607084a,a,n)}const $04c05814e9159417$export$35d34bc0ed591a92=$ed8ad16572f67ac2$export$f59964a629598e2({step_:$04c05814e9159417$var$step_});function $54121e31a8895c99$var$sum_(e,t=null,a=!1){let n=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","sum");"bool"===n.dtype&&(n=$b8938763064d2335$export$f2db7d5238e1d23f(n,"int32"));const r={x:n},o={axis:t,keepDims:a};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$534760f50726d5,r,o)}const $54121e31a8895c99$export$8a63f25cc62965f1=$ed8ad16572f67ac2$export$f59964a629598e2({sum_:$54121e31a8895c99$var$sum_});function $ad7d9470909e4e53$export$a1905aed55f51aef(e,t,a){if(null==a||"linear"===a)return e;if("relu"===a)return $802417d98a09603d$export$6e3a27864ab166fe(e,$04c05814e9159417$export$35d34bc0ed591a92(t));throw new Error(`Cannot compute gradient for fused activation ${a}.`)}function $ad7d9470909e4e53$export$1a797e236ae09d1f(e,t){let a=t;const n=$cbf310cf53e91f85$export$9f11ec258a9b2804(e.shape,t.shape);return n.length>0&&(a=$54121e31a8895c99$export$8a63f25cc62965f1(a,n)),$4c369a1fffc2774a$export$9eaad88cf88cee2b(a,e.shape)}function $ad7d9470909e4e53$export$a0f250a2ba84196(e,t,a,n){if("linear"===t)return e;if("relu"===t)return $159373319273f089$export$16d1e4612cc0139f(e);if("elu"===t)return $e0b7063be4781c37$export$796b583dd79d8524(e);if("relu6"===t)return $b38ad2013008825e$export$4a62bcb95e9c44c4(e);if("prelu"===t)return $650dee39d75c9820$export$5882f235222e6729(e,a);if("leakyrelu"===t)return $1a12f2ddcbc24937$export$23a860e40a2c6b61(e,n);if("sigmoid"===t)return $8127ae7d9337dac4$export$3b295495ca3cad7c(e);throw new Error(`Unknown fused activation ${t}.`)}const $ad7d9470909e4e53$export$4904add493b957ab=(e,t)=>!(e>0)||"linear"===t;var $ca49345fa086aa5d$exports={};function $ca49345fa086aa5d$export$3c8762d0dab347aa(e,t,a){return[a*("number"==typeof e?e:e[0]),t*("number"==typeof e?e:e[1])]}$parcel$export($ca49345fa086aa5d$exports,"getImageCenter",(function(){return $ca49345fa086aa5d$export$3c8762d0dab347aa}));var $1a455ebae05ae858$exports={};function $1a455ebae05ae858$export$4a6fd6a82dc667e2(e,t,a,n=!0){let r=[];if(n)r=r.concat(t.slice(0)),r.push(e[0]/a),r=r.concat(e.slice(1));else{r=r.concat(e[0]);const a=t.length;for(let n=0;n<a;++n)r=r.concat([e[n+1]/t[n],t[n]]);r=r.concat(e.slice(a+1))}return r}function $1a455ebae05ae858$export$4def7dccf4cfc2e9(e,t,a=!0){const n=[];if(a){n.push(t);for(let a=t+1;a<e;++a)a<=2*t?(n.push(a),n.push(a-(t+1))):n.push(a)}else{const a=[],r=[];for(let n=1;n<e;++n)n>=2*t+1||n%2==1?r.push(n):a.push(n);n.push(...a),n.push(0),n.push(...r)}return n}function $1a455ebae05ae858$export$2435a8b57f99e080(e,t,a,n=!0){const r=[];n?r.push(e[0]/a):r.push(e[0]*a);for(let a=1;a<e.length;++a)a<=t.length?n?r.push(t[a-1]*e[a]):r.push(e[a]/t[a-1]):r.push(e[a]);return r}function $1a455ebae05ae858$export$b9a01540baa98f86(e,t){const a=[0];for(let n=0;n<t;++n)a.push(e[n][0]);return a}function $1a455ebae05ae858$export$2457416ec9e0c8d3(e,t,a){const n=e.slice(0,1);for(let r=0;r<a;++r)n.push(e[r+1]-t[r][0]-t[r][1]);return n}$parcel$export($1a455ebae05ae858$exports,"getReshaped",(function(){return $1a455ebae05ae858$export$4a6fd6a82dc667e2})),$parcel$export($1a455ebae05ae858$exports,"getPermuted",(function(){return $1a455ebae05ae858$export$4def7dccf4cfc2e9})),$parcel$export($1a455ebae05ae858$exports,"getReshapedPermuted",(function(){return $1a455ebae05ae858$export$2435a8b57f99e080})),$parcel$export($1a455ebae05ae858$exports,"getSliceBeginCoords",(function(){return $1a455ebae05ae858$export$b9a01540baa98f86})),$parcel$export($1a455ebae05ae858$exports,"getSliceSize",(function(){return $1a455ebae05ae858$export$2457416ec9e0c8d3}));var $af73ab1abae2c39e$exports={};$parcel$export($af73ab1abae2c39e$exports,"SELU_SCALEALPHA",(function(){return $af73ab1abae2c39e$export$49dc487a025ce2d0})),$parcel$export($af73ab1abae2c39e$exports,"SELU_SCALE",(function(){return $af73ab1abae2c39e$export$e6ebc294ea9ea7e7}));const $af73ab1abae2c39e$export$49dc487a025ce2d0=1.7580993408473768,$af73ab1abae2c39e$export$e6ebc294ea9ea7e7=1.0507009873554805;var $187ef15a84c2e6de$exports={};$parcel$export($187ef15a84c2e6de$exports,"ERF_P",(function(){return $187ef15a84c2e6de$export$5588b9ca3e514e43})),$parcel$export($187ef15a84c2e6de$exports,"ERF_A1",(function(){return $187ef15a84c2e6de$export$2ac384940e9cdd31})),$parcel$export($187ef15a84c2e6de$exports,"ERF_A2",(function(){return $187ef15a84c2e6de$export$db2d4485da836713})),$parcel$export($187ef15a84c2e6de$exports,"ERF_A3",(function(){return $187ef15a84c2e6de$export$644ec7b31d43803f})),$parcel$export($187ef15a84c2e6de$exports,"ERF_A4",(function(){return $187ef15a84c2e6de$export$904f8b3bbafadf78})),$parcel$export($187ef15a84c2e6de$exports,"ERF_A5",(function(){return $187ef15a84c2e6de$export$e40fe2da7629526}));const $187ef15a84c2e6de$export$5588b9ca3e514e43=.3275911,$187ef15a84c2e6de$export$2ac384940e9cdd31=.254829592,$187ef15a84c2e6de$export$db2d4485da836713=-.284496736,$187ef15a84c2e6de$export$644ec7b31d43803f=1.421413741,$187ef15a84c2e6de$export$904f8b3bbafadf78=-1.453152027,$187ef15a84c2e6de$export$e40fe2da7629526=1.061405429;var $6c78e3b553616388$exports={};function $6c78e3b553616388$export$e54cb13fcd32a531(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const a=new Float32Array(2*e.length);for(let n=0;n<a.length;n+=2)a[n]=e[n/2],a[n+1]=t[n/2];return a}function $6c78e3b553616388$export$fa0ac0984ed1da1c(e){const t=new Float32Array(e.length/2),a=new Float32Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=e[n],a[n/2]=e[n+1];return{real:t,imag:a}}function $6c78e3b553616388$export$270b4351d25667e0(e){const t=Math.ceil(e.length/4),a=new Float32Array(t),n=new Float32Array(t);for(let t=0;t<e.length;t+=4)a[Math.floor(t/4)]=e[t],n[Math.floor(t/4)]=e[t+1];return{real:a,imag:n}}function $6c78e3b553616388$export$36193f08102303b4(e){const t=Math.floor(e.length/4),a=new Float32Array(t),n=new Float32Array(t);for(let t=2;t<e.length;t+=4)a[Math.floor(t/4)]=e[t],n[Math.floor(t/4)]=e[t+1];return{real:a,imag:n}}function $6c78e3b553616388$export$628d071452d50aaf(e,t){return{real:e[2*t],imag:e[2*t+1]}}function $6c78e3b553616388$export$b7f57c25a82b9fba(e,t,a,n){e[2*n]=t,e[2*n+1]=a}function $6c78e3b553616388$export$7d98ee6b5f9e9f08(e,t){const a=new Float32Array(e/2),n=new Float32Array(e/2);for(let r=0;r<Math.ceil(e/2);r++){const o=(t?2:-2)*Math.PI*(r/e);a[r]=Math.cos(o),n[r]=Math.sin(o)}return{real:a,imag:n}}function $6c78e3b553616388$export$abde88043842a778(e,t,a){const n=(a?2:-2)*Math.PI*(e/t);return{real:Math.cos(n),imag:Math.sin(n)}}$parcel$export($6c78e3b553616388$exports,"mergeRealAndImagArrays",(function(){return $6c78e3b553616388$export$e54cb13fcd32a531})),$parcel$export($6c78e3b553616388$exports,"splitRealAndImagArrays",(function(){return $6c78e3b553616388$export$fa0ac0984ed1da1c})),$parcel$export($6c78e3b553616388$exports,"complexWithEvenIndex",(function(){return $6c78e3b553616388$export$270b4351d25667e0})),$parcel$export($6c78e3b553616388$exports,"complexWithOddIndex",(function(){return $6c78e3b553616388$export$36193f08102303b4})),$parcel$export($6c78e3b553616388$exports,"getComplexWithIndex",(function(){return $6c78e3b553616388$export$628d071452d50aaf})),$parcel$export($6c78e3b553616388$exports,"assignToTypedArray",(function(){return $6c78e3b553616388$export$b7f57c25a82b9fba})),$parcel$export($6c78e3b553616388$exports,"exponents",(function(){return $6c78e3b553616388$export$7d98ee6b5f9e9f08})),$parcel$export($6c78e3b553616388$exports,"exponent",(function(){return $6c78e3b553616388$export$abde88043842a778}));var $c9eb23b782ddf49b$exports={};$parcel$export($c9eb23b782ddf49b$exports,"decodeEinsumEquation",(function(){return $c9eb23b782ddf49b$export$2f615958577142db})),$parcel$export($c9eb23b782ddf49b$exports,"getEinsumPermutation",(function(){return $c9eb23b782ddf49b$export$ce55bd5175fdcdbf})),$parcel$export($c9eb23b782ddf49b$exports,"checkEinsumDimSizes",(function(){return $c9eb23b782ddf49b$export$40ac7c38e2986bbe})),$parcel$export($c9eb23b782ddf49b$exports,"getEinsumComputePath",(function(){return $c9eb23b782ddf49b$export$3f6835c0d48b762d})),$parcel$export($c9eb23b782ddf49b$exports,"isIdentityPermutation",(function(){return $c9eb23b782ddf49b$export$6a8a32f5fc3d978e}));const $c9eb23b782ddf49b$var$ARROW="->",$c9eb23b782ddf49b$var$ARROW_REGEX=/->/g,$c9eb23b782ddf49b$var$COMMA=",",$c9eb23b782ddf49b$var$ELLIPSIS="...";function $c9eb23b782ddf49b$export$2f615958577142db(e,t){const a=((e=e.replace(/\s/g,"")).length-e.replace($c9eb23b782ddf49b$var$ARROW_REGEX,"").length)/$c9eb23b782ddf49b$var$ARROW.length;if(a<1)throw new Error("Equations without an arrow are not supported.");if(a>1)throw new Error(`Equation must contain exactly one arrow ("${$c9eb23b782ddf49b$var$ARROW}").`);const[n,r]=e.split($c9eb23b782ddf49b$var$ARROW);$66860e147cb400ad$export$a7a9523472993e97(-1===n.indexOf($c9eb23b782ddf49b$var$ELLIPSIS),(()=>`The ellipsis notation ("${$c9eb23b782ddf49b$var$ELLIPSIS}") is not supported yet.`));const o=n.split($c9eb23b782ddf49b$var$COMMA),s=o.length;if(t!==s)throw new Error(`Expected ${s} input tensors, received ${t}`);if(s>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const c=[];for(let e=0;e<r.length;++e){const t=r[e];if(!o.some((e=>-1!==e.indexOf(t))))throw new Error(`Output subscripts contain the label ${t} not present in the input subscripts.`);-1===c.indexOf(t)&&c.push(t)}for(let e=0;e<n.length;++e){const t=n[e];-1===c.indexOf(t)&&t!==$c9eb23b782ddf49b$var$COMMA&&c.push(t)}const i=new Array(o.length);for(let e=0;e<s;++e){if(new Set(o[e].split("")).size!==o[e].length)throw new Error(`Found duplicate axes in input component ${o[e]}. Support for duplicate axes in input is not implemented yet.`);i[e]=[];for(let t=0;t<o[e].length;++t)i[e].push(c.indexOf(o[e][t]))}const d=c.length,f=[];for(let e=r.length;e<d;++e)f.push(e);return{allDims:c,summedDims:f,idDims:i}}function $c9eb23b782ddf49b$export$ce55bd5175fdcdbf(e,t){let a=new Array(e);a.fill(-1);for(let e=0;e<t.length;++e)a[t[e]]=e;const n=[];for(let t=0;t<e;++t)-1===a[t]&&n.push(t);return a=a.filter((e=>-1!==e)),{permutationIndices:a,expandDims:n}}function $c9eb23b782ddf49b$export$40ac7c38e2986bbe(e,t,a){const n=new Array(e);for(let e=0;e<a.length;++e){const r=a[e].shape;for(let a=0;a<t[e].length;++a)void 0===n[t[e][a]]?n[t[e][a]]=r[a]:$66860e147cb400ad$export$a7a9523472993e97(n[t[e][a]]===r[a],(()=>`Expected dimension ${n[t[e][a]]} at axis ${a} of input shaped ${JSON.stringify(r)}, but got dimension ${r[a]}`))}}function $c9eb23b782ddf49b$export$3f6835c0d48b762d(e,t){const a=e,n=[];let r=0;0===e.length&&a.push(-1),r=e.length+1;for(let e=0;e<r;++e)n.push([]);const o=[];for(let e=0;e<a.length;++e){const r=$c9eb23b782ddf49b$var$findTermsWithDim(t,a[e]);for(const t of r)-1===o.indexOf(t)&&(n[e].push(t),o.push(t))}return{path:a,steps:n}}function $c9eb23b782ddf49b$export$6a8a32f5fc3d978e(e){return e.every(((e,t)=>e===t))}function $c9eb23b782ddf49b$var$findTermsWithDim(e,t){const a=[];for(let n=0;n<e.length;++n)0!==e[n].length&&-1===e[n].indexOf(t)&&-1!==t||a.push(n);return a}var $0b8b863ec8915968$exports={};function $0b8b863ec8915968$export$b45a3b30df9d4b49(e,t,a=0){let n=[];if("number"==typeof t)$66860e147cb400ad$export$a7a9523472993e97(e.shape[a]%t==0,(()=>"Number of splits must evenly divide the axis.")),n=new Array(t).fill(e.shape[a]/t);else{$66860e147cb400ad$export$a7a9523472993e97(t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0)<=1,(()=>"There should be only one negative value in split array."));const r=t.indexOf(-1);if(-1!==r){const n=t.reduce(((e,t)=>t>0?e+t:e));t[r]=e.shape[a]-n}$66860e147cb400ad$export$a7a9523472993e97(e.shape[a]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),n=t}return n}$parcel$export($0b8b863ec8915968$exports,"prepareSplitSize",(function(){return $0b8b863ec8915968$export$b45a3b30df9d4b49}));var $70c5721806355e8d$exports={};function $70c5721806355e8d$export$afc2f2dec50723b1(e){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${e}`}function $70c5721806355e8d$export$69038529bd45dbce(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function $70c5721806355e8d$export$4179b115ac384c01(e,t,a){return`indices(${e}, 0) is invalid: ${t} >= ${a}`}$parcel$export($70c5721806355e8d$exports,"getSparseFillEmptyRowsIndicesDenseShapeMismatch",(function(){return $70c5721806355e8d$export$afc2f2dec50723b1})),$parcel$export($70c5721806355e8d$exports,"getSparseFillEmptyRowsNegativeIndexErrorMessage",(function(){return $70c5721806355e8d$export$69038529bd45dbce})),$parcel$export($70c5721806355e8d$exports,"getSparseFillEmptyRowsOutOfRangeIndexErrorMessage",(function(){return $70c5721806355e8d$export$4179b115ac384c01}));var $f0546dd13893a2cb$exports={};function $f0546dd13893a2cb$export$22b04105649d1e3d(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function $f0546dd13893a2cb$export$3350ee0ca4641eae(e,t){return`size ${e} must be non-negative, not ${t}`}function $f0546dd13893a2cb$export$632a7731cfb4dc4b(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function $f0546dd13893a2cb$export$6996eb40ec18f24(e,t){return`Input to reshape is a SparseTensor with ${$66860e147cb400ad$export$b4c3214a70a0e73f(e)}\n  dense values, but the requested shape requires a multiple of ${$66860e147cb400ad$export$b4c3214a70a0e73f(t)}. inputShape=${e} outputShape= ${t}`}function $f0546dd13893a2cb$export$7c74c1672e7ca2d1(e,t){return`Input to reshape is a tensor with ${$66860e147cb400ad$export$b4c3214a70a0e73f(e)} dense values, but the requested shape has ${$66860e147cb400ad$export$b4c3214a70a0e73f(t)}. inputShape=${e} outputShape=${t}`}$parcel$export($f0546dd13893a2cb$exports,"getSparseReshapeMultipleNegativeOneOutputDimErrorMessage",(function(){return $f0546dd13893a2cb$export$22b04105649d1e3d})),$parcel$export($f0546dd13893a2cb$exports,"getSparseReshapeNegativeOutputDimErrorMessage",(function(){return $f0546dd13893a2cb$export$3350ee0ca4641eae})),$parcel$export($f0546dd13893a2cb$exports,"getSparseReshapeEmptyTensorZeroOutputDimErrorMessage",(function(){return $f0546dd13893a2cb$export$632a7731cfb4dc4b})),$parcel$export($f0546dd13893a2cb$exports,"getSparseReshapeInputOutputMultipleErrorMessage",(function(){return $f0546dd13893a2cb$export$6996eb40ec18f24})),$parcel$export($f0546dd13893a2cb$exports,"getSparseReshapeInputOutputMismatchErrorMessage",(function(){return $f0546dd13893a2cb$export$7c74c1672e7ca2d1}));var $686a8fe57ffb0aa3$exports={};function $686a8fe57ffb0aa3$export$cb1b83ffdf66736(){return"segment ids must be >= 0"}function $686a8fe57ffb0aa3$export$6f5af72ace1661e1(){return"segment ids are not increasing"}function $686a8fe57ffb0aa3$export$bdc282d2ae15e823(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function $686a8fe57ffb0aa3$export$c470f477911f1cb7(e,t,a){return`Bad: indices[${e}] == ${t} out of range [0, ${a})`}function $c4c4d404109848b6$export$debaff328bdca650(e){try{return e.map((e=>$5d5df9ecf1c80076$export$a0fb664af7d0cc44(e)))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function $c4c4d404109848b6$export$ce1f4ec5bdd0ab9a(e){return e.map((e=>$5d5df9ecf1c80076$export$8146d2e653b87d6a(e)))}$parcel$export($686a8fe57ffb0aa3$exports,"getSparseSegmentReductionNegativeSegmentIdsErrorMessage",(function(){return $686a8fe57ffb0aa3$export$cb1b83ffdf66736})),$parcel$export($686a8fe57ffb0aa3$exports,"getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage",(function(){return $686a8fe57ffb0aa3$export$6f5af72ace1661e1})),$parcel$export($686a8fe57ffb0aa3$exports,"getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage",(function(){return $686a8fe57ffb0aa3$export$bdc282d2ae15e823})),$parcel$export($686a8fe57ffb0aa3$exports,"getSparseSegmentReductionIndicesOutOfRangeErrorMessage",(function(){return $686a8fe57ffb0aa3$export$c470f477911f1cb7})),$parcel$exportWildcard($c4c4d404109848b6$exports,$23a3a40ca9179408$exports),$parcel$exportWildcard($c4c4d404109848b6$exports,$cbf310cf53e91f85$exports),$parcel$exportWildcard($c4c4d404109848b6$exports,$aa8a74d286c7bb63$exports),$parcel$exportWildcard($c4c4d404109848b6$exports,$d41a8fbd243a8153$exports),$parcel$exportWildcard($c4c4d404109848b6$exports,$ad7d9470909e4e53$exports),$parcel$exportWildcard($c4c4d404109848b6$exports,$2aeeae49d35fcc3b$exports),$parcel$exportWildcard($c4c4d404109848b6$exports,$ca49345fa086aa5d$exports),$parcel$exportWildcard($c4c4d404109848b6$exports,$1a455ebae05ae858$exports),$parcel$exportWildcard($c4c4d404109848b6$exports,$4ad8623edfc7f6c6$exports),$parcel$exportWildcard($c4c4d404109848b6$exports,$88504a10632c069e$exports),$parcel$exportWildcard($c4c4d404109848b6$exports,$af73ab1abae2c39e$exports),$parcel$exportWildcard($c4c4d404109848b6$exports,$187ef15a84c2e6de$exports),$parcel$exportWildcard($c4c4d404109848b6$exports,$85f1bae22015ed38$exports),$parcel$exportWildcard($c4c4d404109848b6$exports,$6c78e3b553616388$exports),$parcel$exportWildcard($c4c4d404109848b6$exports,$c9eb23b782ddf49b$exports),$parcel$exportWildcard($c4c4d404109848b6$exports,$0b8b863ec8915968$exports),$parcel$exportWildcard($c4c4d404109848b6$exports,$70c5721806355e8d$exports),$parcel$exportWildcard($c4c4d404109848b6$exports,$f0546dd13893a2cb$exports),$parcel$exportWildcard($c4c4d404109848b6$exports,$686a8fe57ffb0aa3$exports);var $97d6759176c7a39f$exports={};function $0946f0daa0f82c99$export$a64fad5e27f22af5(e,t,a){const n=$0946f0daa0f82c99$export$2e0ae67339d5f1ac(e,t,a),r=n<0?-(n+1):n;e.splice(r,0,t)}function $0946f0daa0f82c99$export$2e0ae67339d5f1ac(e,t,a){return $0946f0daa0f82c99$var$binarySearch_(e,t,a||$0946f0daa0f82c99$var$defaultComparator)}function $0946f0daa0f82c99$var$defaultComparator(e,t){return e>t?1:e<t?-1:0}function $0946f0daa0f82c99$var$binarySearch_(e,t,a){let n=0,r=e.length,o=0,s=!1;for(;n<r;){o=n+(r-n>>>1);const c=a(t,e[o]);c>0?n=o+1:(r=o,s=!c)}return s?n:-n-1}function $988d682452172278$export$89e22275998c2878(e,t,a,n,r){return $988d682452172278$var$nonMaxSuppressionImpl_(e,t,a,n,r,0)}function $988d682452172278$export$697e7a8cdfefe3a(e,t,a,n,r,o){return $988d682452172278$var$nonMaxSuppressionImpl_(e,t,a,n,r,0,!1,o,!0)}function $988d682452172278$export$4ff849794bce73c5(e,t,a,n,r,o){return $988d682452172278$var$nonMaxSuppressionImpl_(e,t,a,n,r,o,!0)}function $988d682452172278$var$nonMaxSuppressionImpl_(e,t,a,n,r,o,s=!1,c=!1,i=!1){const d=[];for(let e=0;e<t.length;e++)t[e]>r&&d.push({score:t[e],boxIndex:e,suppressBeginIndex:0});d.sort($988d682452172278$var$ascendingComparator);const f=o>0?-.5/o:0,$=[],u=[];for(;$.length<a&&d.length>0;){const t=d.pop(),{score:a,boxIndex:o,suppressBeginIndex:s}=t;if(a<r)break;let c=!1;for(let a=$.length-1;a>=s;--a){const s=$988d682452172278$var$intersectionOverUnion(e,o,$[a]);if(s>=n){c=!0;break}if(t.score=t.score*$988d682452172278$var$suppressWeight(n,f,s),t.score<=r)break}t.suppressBeginIndex=$.length,c||(t.score===a?($.push(o),u.push(t.score)):t.score>r&&$0946f0daa0f82c99$export$a64fad5e27f22af5(d,t,$988d682452172278$var$ascendingComparator))}const p=$.length,l=a-p;c&&l>0&&($.push(...new Array(l).fill(0)),u.push(...new Array(l).fill(0)));const b={selectedIndices:$};return s&&(b.selectedScores=u),i&&(b.validOutputs=p),b}function $988d682452172278$var$intersectionOverUnion(e,t,a){const n=e.subarray(4*t,4*t+4),r=e.subarray(4*a,4*a+4),o=Math.min(n[0],n[2]),s=Math.min(n[1],n[3]),c=Math.max(n[0],n[2]),i=Math.max(n[1],n[3]),d=Math.min(r[0],r[2]),f=Math.min(r[1],r[3]),$=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),p=(c-o)*(i-s),l=($-d)*(u-f);if(p<=0||l<=0)return 0;const b=Math.max(o,d),h=Math.max(s,f),x=Math.min(c,$),m=Math.min(i,u),g=Math.max(x-b,0)*Math.max(m-h,0);return g/(p+l-g)}function $988d682452172278$var$suppressWeight(e,t,a){const n=Math.exp(t*a*a);return a<=e?n:0}function $988d682452172278$var$ascendingComparator(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function $20931044ffccf594$export$3a1005f93c3f4453(e,t){const a=[];for(let e=0;e<t.length;e++)t[e]&&a.push(e);const n=$05a66951e325e00b$export$ab1029bcae9ddb4a(e,"int32"),r=$05a66951e325e00b$export$ab1029bcae9ddb4a([a.length,e.length],"int32");for(let t=0;t<a.length;t++){const o=n.indexToLoc(a[t]),s=t*e.length;r.values.set(o,s)}return r.toTensor()}function $28f213c9c5d2cef9$var$concat_(e,t=0){$66860e147cb400ad$export$a7a9523472993e97(e.length>=1,(()=>"Pass at least one tensor to concat"));const a=$f6b5295c7bebfcca$export$758e66616b4d410b(e,"tensors","concat","string_or_numeric");if("complex64"===a[0].dtype&&a.forEach((e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)})),1===a.length)return $c8377ad1869bb3f8$export$9cd59f9826255e47(a[0]);const n=a,r={axis:t};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$936bbfc007425eea,n,r)}$parcel$export($97d6759176c7a39f$exports,"nonMaxSuppressionV3Impl",(function(){return $988d682452172278$export$89e22275998c2878})),$parcel$export($97d6759176c7a39f$exports,"nonMaxSuppressionV4Impl",(function(){return $988d682452172278$export$697e7a8cdfefe3a})),$parcel$export($97d6759176c7a39f$exports,"nonMaxSuppressionV5Impl",(function(){return $988d682452172278$export$4ff849794bce73c5})),$parcel$export($97d6759176c7a39f$exports,"whereImpl",(function(){return $20931044ffccf594$export$3a1005f93c3f4453}));const $28f213c9c5d2cef9$export$ee1b3e54f0441b22=$ed8ad16572f67ac2$export$f59964a629598e2({concat_:$28f213c9c5d2cef9$var$concat_});function $d92e9241c26f98f7$var$imag_(e){const t={input:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"input","imag")};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$303b4473993a24f,t)}const $d92e9241c26f98f7$export$d78fab5778ab392b=$ed8ad16572f67ac2$export$f59964a629598e2({imag_:$d92e9241c26f98f7$var$imag_});function $1a2dea3e90a643a8$var$real_(e){const t={input:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"input","real")};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$f41305719b94e675,t)}const $1a2dea3e90a643a8$export$9fc57fb453bdbd67=$ed8ad16572f67ac2$export$f59964a629598e2({real_:$1a2dea3e90a643a8$var$real_});function $d8e6de5695e5848b$var$slice_(e,t,a){const n=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","slice","string_or_numeric");if(0===n.rank)throw new Error("Slicing scalar is not possible");const r={x:n},o={begin:t,size:a};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$b3f2e2de3a8baa1e,r,o)}const $d8e6de5695e5848b$export$58adb3bec8346d0f=$ed8ad16572f67ac2$export$f59964a629598e2({slice_:$d8e6de5695e5848b$var$slice_});function $44dbae10aa88e49b$var$split_(e,t,a=0){const n={x:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","split")},r={numOrSizeSplits:t,axis:a};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$8dffabb4071f05aa,n,r)}const $44dbae10aa88e49b$export$65980d18b75784e2=$ed8ad16572f67ac2$export$f59964a629598e2({split_:$44dbae10aa88e49b$var$split_});function $69223f1c830a49d7$export$4445a00dafa2633b(e,t="float32"){if("complex64"===t){const t=$69223f1c830a49d7$export$4445a00dafa2633b(e,"float32"),a=$69223f1c830a49d7$export$4445a00dafa2633b(e,"float32");return $b5a66c9f2532eee1$export$83a0e34f1302825b(t,a)}const a=$66860e147cb400ad$export$edbc8aedac4e036f($66860e147cb400ad$export$b4c3214a70a0e73f(e),t);return $b0d6cc13a7079390$export$33b63313cc511a3b.makeTensor(a,e,t)}function $b32d5f3b302405ce$var$zerosLike_(e){const t={x:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","zerosLike")};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$430969a37eda1e88,t)}const $b32d5f3b302405ce$export$cb1f824e7733584d=$ed8ad16572f67ac2$export$f59964a629598e2({zerosLike_:$b32d5f3b302405ce$var$zerosLike_});function $19bddf58609b0550$var$fft_(e){$66860e147cb400ad$export$a7a9523472993e97("complex64"===e.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`));const t={input:e};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$677347237c014ba,t)}const $19bddf58609b0550$export$a535ef183b6128fa=$ed8ad16572f67ac2$export$f59964a629598e2({fft_:$19bddf58609b0550$var$fft_});function $06495db77e339149$var$rfft_(e,t){$66860e147cb400ad$export$a7a9523472993e97("float32"===e.dtype,(()=>`The dtype for rfft() must be real value but got ${e.dtype}`));let a=e.shape[e.shape.length-1];const n=e.size/a;let r;if(null!=t&&t<a){const n=e.shape.map((e=>0)),o=e.shape.map((e=>e));o[e.shape.length-1]=t,r=$d8e6de5695e5848b$export$58adb3bec8346d0f(e,n,o),a=t}else if(null!=t&&t>a){const n=e.shape.map((e=>e));n[e.shape.length-1]=t-a,r=$28f213c9c5d2cef9$export$ee1b3e54f0441b22([e,$69223f1c830a49d7$export$4445a00dafa2633b(n)],e.shape.length-1),a=t}else r=e;const o=$b32d5f3b302405ce$export$cb1f824e7733584d(r),s=$4c369a1fffc2774a$export$9eaad88cf88cee2b($b5a66c9f2532eee1$export$83a0e34f1302825b(r,o),[n,a]),c=$19bddf58609b0550$export$a535ef183b6128fa(s),i=Math.floor(a/2)+1,d=$1a2dea3e90a643a8$export$9fc57fb453bdbd67(c),f=$d92e9241c26f98f7$export$d78fab5778ab392b(c),$=$44dbae10aa88e49b$export$65980d18b75784e2(d,[i,a-i],d.shape.length-1),u=$44dbae10aa88e49b$export$65980d18b75784e2(f,[i,a-i],f.shape.length-1),p=r.shape.slice();return p[r.shape.length-1]=i,$4c369a1fffc2774a$export$9eaad88cf88cee2b($b5a66c9f2532eee1$export$83a0e34f1302825b($[0],u[0]),p)}const $06495db77e339149$export$72aff1768917e9e5=$ed8ad16572f67ac2$export$f59964a629598e2({rfft_:$06495db77e339149$var$rfft_});function $1f8ae40846a6e776$var$ifft_(e){$66860e147cb400ad$export$a7a9523472993e97("complex64"===e.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`));const t={input:e};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$21c6f576ae8100e8,t)}const $1f8ae40846a6e776$export$776649b0bf8ce1fd=$ed8ad16572f67ac2$export$f59964a629598e2({ifft_:$1f8ae40846a6e776$var$ifft_});function $85c9a537714a1222$var$reverse_(e,t){const a={x:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","reverse")},n={dims:t};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$53c81f36b32e1bba,a,n)}const $85c9a537714a1222$export$66c1ae025e96b4bc=$ed8ad16572f67ac2$export$f59964a629598e2({reverse_:$85c9a537714a1222$var$reverse_});function $23abd4a5c2de03d8$export$7de3fcd3cdba2a46(e,t){if(($66860e147cb400ad$export$b119cc7e1840e59c(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&$66860e147cb400ad$export$b119cc7e1840e59c(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return $c99a4699bb7adbce$export$f41686c891d7ebce(e,[],[],t)}function $80fbd0c523cc771c$var$irfft_(e){const t=e.shape[e.shape.length-1],a=e.size/t;let n;if(t<=2){const r=$4c369a1fffc2774a$export$9eaad88cf88cee2b(e,[a,t]);n=$1f8ae40846a6e776$export$776649b0bf8ce1fd(r)}else{const r=[a,2*(t-1)],o=$4c369a1fffc2774a$export$9eaad88cf88cee2b($1a2dea3e90a643a8$export$9fc57fb453bdbd67(e),[a,t]),s=$4c369a1fffc2774a$export$9eaad88cf88cee2b($d92e9241c26f98f7$export$d78fab5778ab392b(e),[a,t]),c=$85c9a537714a1222$export$66c1ae025e96b4bc($d8e6de5695e5848b$export$58adb3bec8346d0f(o,[0,1],[a,t-2]),1),i=$802417d98a09603d$export$6e3a27864ab166fe($85c9a537714a1222$export$66c1ae025e96b4bc($d8e6de5695e5848b$export$58adb3bec8346d0f(s,[0,1],[a,t-2]),1),$23abd4a5c2de03d8$export$7de3fcd3cdba2a46(-1)),d=$28f213c9c5d2cef9$export$ee1b3e54f0441b22([o,c],1),f=$28f213c9c5d2cef9$export$ee1b3e54f0441b22([s,i],1),$=$4c369a1fffc2774a$export$9eaad88cf88cee2b($b5a66c9f2532eee1$export$83a0e34f1302825b(d,f),[r[0],r[1]]);n=$1f8ae40846a6e776$export$776649b0bf8ce1fd($)}if(n=$1a2dea3e90a643a8$export$9fc57fb453bdbd67(n),3===e.rank&&0!==e.shape[0]){const t=n,a=e.shape[0];n=$4c369a1fffc2774a$export$9eaad88cf88cee2b(n,[a,n.shape[0]/a,n.shape[1]]),t.dispose()}return n}const $80fbd0c523cc771c$export$f47f4e5bcd3d6a66=$ed8ad16572f67ac2$export$f59964a629598e2({irfft_:$80fbd0c523cc771c$var$irfft_});function $ef5a2450ce174f2f$export$8133e3bf3cd8f464(e,t){$66860e147cb400ad$export$44a06cc2759dd036(e);const a=$f6b5295c7bebfcca$export$467a8ad638b9ad20(e,t);if(1!==a.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return $c99a4699bb7adbce$export$f41686c891d7ebce(e,null,a,t)}function $ed2743da527771ad$export$6fc2fe3b19043bf3(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function $ed2743da527771ad$export$e875398ce092ee45(e,t,a){const n=1-e%2,r=new Float32Array(e);for(let o=0;o<e;++o){const s=2*Math.PI*o/(e+n-1);r[o]=t-a*Math.cos(s)}return $ef5a2450ce174f2f$export$8133e3bf3cd8f464(r,"float32")}function $5264e31e8ec54c77$var$hammingWindow_(e){return $ed2743da527771ad$export$e875398ce092ee45(e,.54,.46)}const $5264e31e8ec54c77$export$941eafcc99b559fa=$ed8ad16572f67ac2$export$f59964a629598e2({hammingWindow_:$5264e31e8ec54c77$var$hammingWindow_});function $c841025b264d4b85$var$hannWindow_(e){return $ed2743da527771ad$export$e875398ce092ee45(e,.5,.5)}const $c841025b264d4b85$export$f498cfeee84e5e59=$ed8ad16572f67ac2$export$f59964a629598e2({hannWindow_:$c841025b264d4b85$var$hannWindow_});function $22cddf35e8755501$export$9563e054e6f787fb(e,t,a){const n={shape:e,value:t,dtype:a};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$ffffe40bfa0649a3,{},n)}function $37a4a95df7ca4b03$export$b5469a65e8732256(e,t,a){if($66860e147cb400ad$export$44a06cc2759dd036(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const n=$f6b5295c7bebfcca$export$467a8ad638b9ad20(e,a);if(2!==n.length&&1!==n.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===n.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return $c99a4699bb7adbce$export$f41686c891d7ebce(e,t,n,a)}function $24817c5385186bf2$var$frame_(e,t,a,n=!1,r=0){let o=0;const s=[];for(;o+t<=e.size;)s.push($d8e6de5695e5848b$export$58adb3bec8346d0f(e,o,t)),o+=a;if(n)for(;o<e.size;){const n=o+t-e.size,c=$28f213c9c5d2cef9$export$ee1b3e54f0441b22([$d8e6de5695e5848b$export$58adb3bec8346d0f(e,o,t-n),$22cddf35e8755501$export$9563e054e6f787fb([n],r)]);s.push(c),o+=a}return 0===s.length?$37a4a95df7ca4b03$export$b5469a65e8732256([],[0,t]):$4c369a1fffc2774a$export$9eaad88cf88cee2b($28f213c9c5d2cef9$export$ee1b3e54f0441b22(s),[s.length,t])}const $24817c5385186bf2$export$2cef06c20297c17d=$ed8ad16572f67ac2$export$f59964a629598e2({frame_:$24817c5385186bf2$var$frame_});function $b12778f99892abdf$var$stft_(e,t,a,n,r=$c841025b264d4b85$export$f498cfeee84e5e59){null==n&&(n=$ed2743da527771ad$export$6fc2fe3b19043bf3(t));const o=$24817c5385186bf2$export$2cef06c20297c17d(e,t,a),s=$802417d98a09603d$export$6e3a27864ab166fe(o,r(t));return $06495db77e339149$export$72aff1768917e9e5(s,n)}const $b12778f99892abdf$export$eb1cf9b274257b4a=$ed8ad16572f67ac2$export$f59964a629598e2({stft_:$b12778f99892abdf$var$stft_});function $c4670c551015b0be$var$cropAndResize_(e,t,a,n,r="bilinear",o=0){const s=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"image","cropAndResize"),c=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"boxes","cropAndResize","float32"),i=$f6b5295c7bebfcca$export$ede379c4c939d71a(a,"boxInd","cropAndResize","int32"),d=c.shape[0];$66860e147cb400ad$export$a7a9523472993e97(4===s.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${s.rank}.`)),$66860e147cb400ad$export$a7a9523472993e97(2===c.rank&&4===c.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${d},4] but had shape ${c.shape}.`)),$66860e147cb400ad$export$a7a9523472993e97(1===i.rank&&i.shape[0]===d,(()=>`Error in cropAndResize: boxInd must be have size [${d}] but had shape ${c.shape}.`)),$66860e147cb400ad$export$a7a9523472993e97(2===n.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${n.length}.`)),$66860e147cb400ad$export$a7a9523472993e97(n[0]>=1&&n[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${n}`)),$66860e147cb400ad$export$a7a9523472993e97("bilinear"===r||"nearest"===r,(()=>`method must be bilinear or nearest, but was ${r}`));const f={image:s,boxes:c,boxInd:i},$={method:r,extrapolationValue:o,cropSize:n};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$50bc9557793c2e04,f,$)}const $c4670c551015b0be$export$6f0f0090e1f6cd3c=$ed8ad16572f67ac2$export$f59964a629598e2({cropAndResize_:$c4670c551015b0be$var$cropAndResize_});function $fc9eacd2a9dc4e7a$var$flipLeftRight_(e){const t=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"image","flipLeftRight","float32");$66860e147cb400ad$export$a7a9523472993e97(4===t.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`));const a={image:t};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$34e7296fc8558df5,a,{})}const $fc9eacd2a9dc4e7a$export$8358b9c43b687b22=$ed8ad16572f67ac2$export$f59964a629598e2({flipLeftRight_:$fc9eacd2a9dc4e7a$var$flipLeftRight_});function $985996c53311652c$var$tile_(e,t){const a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","tile","string_or_numeric");$66860e147cb400ad$export$a7a9523472993e97(a.rank===t.length,(()=>`Error in transpose: rank of input ${a.rank} must match length of reps ${t}.`));const n={x:a},r={reps:t};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$235cb65c20ad2b7,n,r)}const $985996c53311652c$export$3c17558da18e4d75=$ed8ad16572f67ac2$export$f59964a629598e2({tile_:$985996c53311652c$var$tile_});function $bcb5473335b71a4e$var$grayscaleToRGB_(e){const t=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"image","grayscaleToRGB"),a=t.rank-1,n=t.shape[a];$66860e147cb400ad$export$a7a9523472993e97(t.rank>=2,(()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`)),$66860e147cb400ad$export$a7a9523472993e97(1===n,(()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${n}.`));const r=new Array(t.rank);return r.fill(1,0,a),r[a]=3,$985996c53311652c$export$3c17558da18e4d75(t,r)}const $bcb5473335b71a4e$export$f68e334bfd7e4be6=$ed8ad16572f67ac2$export$f59964a629598e2({grayscaleToRGB_:$bcb5473335b71a4e$var$grayscaleToRGB_});function $6f463cced5845cbf$var$rotateWithOffset_(e,t,a=0,n=.5){const r=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"image","rotateWithOffset","float32");$66860e147cb400ad$export$a7a9523472993e97(4===r.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${r.rank}.`));const o={image:r},s={radians:t,fillValue:a,center:n};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$c5a44649815d1c3,o,s)}const $6f463cced5845cbf$export$66462c489f5f29d2=$ed8ad16572f67ac2$export$f59964a629598e2({rotateWithOffset_:$6f463cced5845cbf$var$rotateWithOffset_});function $b9972b8f5629410d$export$ccf61bcb3b4e6ac6(e,t,a,n,r,o){null==n&&(n=.5),null==r&&(r=Number.NEGATIVE_INFINITY),null==o&&(o=0);const s=e.shape[0];return a=Math.min(a,s),$66860e147cb400ad$export$a7a9523472993e97(0<=n&&n<=1,(()=>`iouThreshold must be in [0, 1], but was '${n}'`)),$66860e147cb400ad$export$a7a9523472993e97(2===e.rank,(()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`)),$66860e147cb400ad$export$a7a9523472993e97(4===e.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`)),$66860e147cb400ad$export$a7a9523472993e97(1===t.rank,(()=>"scores must be a 1D tensor")),$66860e147cb400ad$export$a7a9523472993e97(t.shape[0]===s,(()=>`scores has incompatible shape with boxes. Expected ${s}, but was ${t.shape[0]}`)),$66860e147cb400ad$export$a7a9523472993e97(0<=o&&o<=1,(()=>`softNmsSigma must be in [0, 1], but was '${o}'`)),{maxOutputSize:a,iouThreshold:n,scoreThreshold:r,softNmsSigma:o}}function $ef35d23543f0c8a0$var$nonMaxSuppression_(e,t,a,n=.5,r=Number.NEGATIVE_INFINITY){const o=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"boxes","nonMaxSuppression","float32"),s=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"scores","nonMaxSuppression","float32"),c=$b9972b8f5629410d$export$ccf61bcb3b4e6ac6(o,s,a,n,r),i={maxOutputSize:a=c.maxOutputSize,iouThreshold:n=c.iouThreshold,scoreThreshold:r=c.scoreThreshold};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$5e11788439c2f04,{boxes:o,scores:s},i)}const $ef35d23543f0c8a0$export$b7d265b19ca1d628=$ed8ad16572f67ac2$export$f59964a629598e2({nonMaxSuppression_:$ef35d23543f0c8a0$var$nonMaxSuppression_});async function $34ad7d41df4e079f$var$nonMaxSuppressionAsync_(e,t,a,n=.5,r=Number.NEGATIVE_INFINITY){const o=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"boxes","nonMaxSuppressionAsync"),s=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"scores","nonMaxSuppressionAsync"),c=$b9972b8f5629410d$export$ccf61bcb3b4e6ac6(o,s,a,n,r);a=c.maxOutputSize,n=c.iouThreshold,r=c.scoreThreshold;const i=await Promise.all([o.data(),s.data()]),d=i[0],f=i[1],{selectedIndices:$}=$988d682452172278$export$89e22275998c2878(d,f,a,n,r);return o!==e&&o.dispose(),s!==t&&s.dispose(),$ef5a2450ce174f2f$export$8133e3bf3cd8f464($,"int32")}const $34ad7d41df4e079f$export$cc6d94dffac2ee1a=$34ad7d41df4e079f$var$nonMaxSuppressionAsync_;function $7970e1c6fd036d9b$var$nonMaxSuppressionWithScore_(e,t,a,n=.5,r=Number.NEGATIVE_INFINITY,o=0){const s=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"boxes","nonMaxSuppression"),c=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"scores","nonMaxSuppression"),i=$b9972b8f5629410d$export$ccf61bcb3b4e6ac6(s,c,a,n,r,o),d={boxes:s,scores:c},f={maxOutputSize:a=i.maxOutputSize,iouThreshold:n=i.iouThreshold,scoreThreshold:r=i.scoreThreshold,softNmsSigma:o=i.softNmsSigma},$=$b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$cb45d3fcefce2ef0,d,f);return{selectedIndices:$[0],selectedScores:$[1]}}const $7970e1c6fd036d9b$export$d65fe1460f8c5b4e=$ed8ad16572f67ac2$export$f59964a629598e2({nonMaxSuppressionWithScore_:$7970e1c6fd036d9b$var$nonMaxSuppressionWithScore_});async function $473d6fa0fea49906$var$nonMaxSuppressionWithScoreAsync_(e,t,a,n=.5,r=Number.NEGATIVE_INFINITY,o=0){const s=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"boxes","nonMaxSuppressionAsync"),c=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"scores","nonMaxSuppressionAsync"),i=$b9972b8f5629410d$export$ccf61bcb3b4e6ac6(s,c,a,n,r,o);a=i.maxOutputSize,n=i.iouThreshold,r=i.scoreThreshold,o=i.softNmsSigma;const d=await Promise.all([s.data(),c.data()]),f=d[0],$=d[1],{selectedIndices:u,selectedScores:p}=$988d682452172278$export$4ff849794bce73c5(f,$,a,n,r,o);return s!==e&&s.dispose(),c!==t&&c.dispose(),{selectedIndices:$ef5a2450ce174f2f$export$8133e3bf3cd8f464(u,"int32"),selectedScores:$ef5a2450ce174f2f$export$8133e3bf3cd8f464(p)}}const $473d6fa0fea49906$export$d1826570c883f7cf=$473d6fa0fea49906$var$nonMaxSuppressionWithScoreAsync_;function $16c3d0deed9d411d$var$nonMaxSuppressionPadded_(e,t,a,n=.5,r=Number.NEGATIVE_INFINITY,o=!1){const s=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"boxes","nonMaxSuppression"),c=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"scores","nonMaxSuppression"),i=$b9972b8f5629410d$export$ccf61bcb3b4e6ac6(s,c,a,n,r,null),d={boxes:s,scores:c},f={maxOutputSize:i.maxOutputSize,iouThreshold:i.iouThreshold,scoreThreshold:i.scoreThreshold,padToMaxOutputSize:o},$=$b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$7df908154366fe7f,d,f);return{selectedIndices:$[0],validOutputs:$[1]}}const $16c3d0deed9d411d$export$d8d10e31c41c95dc=$ed8ad16572f67ac2$export$f59964a629598e2({nonMaxSuppressionPadded_:$16c3d0deed9d411d$var$nonMaxSuppressionPadded_});async function $abca3bfcb58d9a84$var$nonMaxSuppressionPaddedAsync_(e,t,a,n=.5,r=Number.NEGATIVE_INFINITY,o=!1){const s=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"boxes","nonMaxSuppressionAsync"),c=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"scores","nonMaxSuppressionAsync"),i=$b9972b8f5629410d$export$ccf61bcb3b4e6ac6(s,c,a,n,r,null),d=i.maxOutputSize,f=i.iouThreshold,$=i.scoreThreshold,[u,p]=await Promise.all([s.data(),c.data()]),{selectedIndices:l,validOutputs:b}=$988d682452172278$export$697e7a8cdfefe3a(u,p,d,f,$,o);return s!==e&&s.dispose(),c!==t&&c.dispose(),{selectedIndices:$ef5a2450ce174f2f$export$8133e3bf3cd8f464(l,"int32"),validOutputs:$23abd4a5c2de03d8$export$7de3fcd3cdba2a46(b,"int32")}}const $abca3bfcb58d9a84$export$4c5691f9710b88a8=$abca3bfcb58d9a84$var$nonMaxSuppressionPaddedAsync_;function $04a793c59fa6e573$var$resizeBilinear_(e,t,a=!1,n=!1){const r=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"images","resizeBilinear");$66860e147cb400ad$export$a7a9523472993e97(3===r.rank||4===r.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${r.rank}.`)),$66860e147cb400ad$export$a7a9523472993e97(2===t.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`)),$66860e147cb400ad$export$a7a9523472993e97(!1===n||!1===a,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let o=r,s=!1;3===r.rank&&(s=!0,o=$4c369a1fffc2774a$export$9eaad88cf88cee2b(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const[]=t,c={images:o},i={alignCorners:a,halfPixelCenters:n,size:t},d=$b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$24f2f15d869e0fd,c,i);return s?$4c369a1fffc2774a$export$9eaad88cf88cee2b(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const $04a793c59fa6e573$export$1f1cbc7da93d06a0=$ed8ad16572f67ac2$export$f59964a629598e2({resizeBilinear_:$04a793c59fa6e573$var$resizeBilinear_});function $f14c2b25b5731813$var$resizeNearestNeighbor_(e,t,a=!1,n=!1){const r=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"images","resizeNearestNeighbor");$66860e147cb400ad$export$a7a9523472993e97(3===r.rank||4===r.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${r.rank}.`)),$66860e147cb400ad$export$a7a9523472993e97(2===t.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`)),$66860e147cb400ad$export$a7a9523472993e97("float32"===r.dtype||"int32"===r.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),$66860e147cb400ad$export$a7a9523472993e97(!1===n||!1===a,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let o=r,s=!1;3===r.rank&&(s=!0,o=$4c369a1fffc2774a$export$9eaad88cf88cee2b(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const[]=t,c={images:o},i={alignCorners:a,halfPixelCenters:n,size:t},d=$b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$6c8d8ec26192bb18,c,i);return s?$4c369a1fffc2774a$export$9eaad88cf88cee2b(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const $f14c2b25b5731813$export$74a902ae74ac2560=$ed8ad16572f67ac2$export$f59964a629598e2({resizeNearestNeighbor_:$f14c2b25b5731813$var$resizeNearestNeighbor_});function $d25f5d70a1b05cb2$var$bincount_(e,t,a){const n=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","bincount"),r=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"weights","bincount");$66860e147cb400ad$export$a7a9523472993e97("int32"===n.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${n.dtype}`)),$66860e147cb400ad$export$a7a9523472993e97(a>=0,(()=>`size must be non-negative, but got ${a}.`)),$66860e147cb400ad$export$a7a9523472993e97(r.size===n.size||0===r.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${n.shape}, weights shape: ${r.shape}.`));const o={x:n,weights:r},s={size:a};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$45dfbbff595c32aa,o,s)}const $d25f5d70a1b05cb2$export$7e474bab088ed182=$ed8ad16572f67ac2$export$f59964a629598e2({bincount_:$d25f5d70a1b05cb2$var$bincount_});function $a37280a15f8686f2$var$lessEqual_(e,t){let a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"a","lessEqual","string_or_numeric"),n=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"b","lessEqual","string_or_numeric");[a,n]=$fcc1393c3c192ea9$export$8b0e24c749a224d7(a,n),$cbf310cf53e91f85$export$a3e2a38a57ec8318(a.shape,n.shape);const r={a:a,b:n};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$84afd0d8f7fb8c5d,r)}const $a37280a15f8686f2$export$c24ad19a692bb92=$ed8ad16572f67ac2$export$f59964a629598e2({lessEqual_:$a37280a15f8686f2$var$lessEqual_});function $6116d82642925f67$var$greater_(e,t){let a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"a","greater","string_or_numeric"),n=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"b","greater","string_or_numeric");[a,n]=$fcc1393c3c192ea9$export$8b0e24c749a224d7(a,n),$cbf310cf53e91f85$export$a3e2a38a57ec8318(a.shape,n.shape);const r={a:a,b:n};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$d0a25eac5ee3f515,r)}const $6116d82642925f67$export$9dca161faaf6308b=$ed8ad16572f67ac2$export$f59964a629598e2({greater_:$6116d82642925f67$var$greater_});function $b1abd611218ab8cc$var$add_(e,t){let a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"a","add"),n=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"b","add");[a,n]=$fcc1393c3c192ea9$export$8b0e24c749a224d7(a,n);const r={a:a,b:n};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$d0265b2c425512d6,r)}const $b1abd611218ab8cc$export$e16d8520af44a096=$ed8ad16572f67ac2$export$f59964a629598e2({add_:$b1abd611218ab8cc$var$add_});function $64f5fdc70e8f0121$var$floorDiv_(e,t){let a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"a","floorDiv"),n=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"b","floorDiv");[a,n]=$fcc1393c3c192ea9$export$8b0e24c749a224d7(a,n);const r={a:a,b:n};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$d79b5692ede26c2f,r)}const $64f5fdc70e8f0121$export$112397bc52715a8=$ed8ad16572f67ac2$export$f59964a629598e2({floorDiv_:$64f5fdc70e8f0121$var$floorDiv_});function $9cad4239aa360709$var$div_(e,t){let a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"a","div"),n=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"b","div");if([a,n]=$fcc1393c3c192ea9$export$8b0e24c749a224d7(a,n),"int32"===a.dtype&&"int32"===n.dtype)return $64f5fdc70e8f0121$export$112397bc52715a8(a,n);const r={a:a,b:n};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$b9880b86e1014bb8,r,{})}const $9cad4239aa360709$export$159d9494db57879b=$ed8ad16572f67ac2$export$f59964a629598e2({div_:$9cad4239aa360709$var$div_});function $c99f28d355a3a2ce$var$sub_(e,t){let a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"a","sub"),n=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"b","sub");[a,n]=$fcc1393c3c192ea9$export$8b0e24c749a224d7(a,n);const r={a:a,b:n};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$d7a01e11500dfb6f,r)}const $c99f28d355a3a2ce$export$f93b5905241a7cca=$ed8ad16572f67ac2$export$f59964a629598e2({sub_:$c99f28d355a3a2ce$var$sub_});function $3a646586ce3f406b$var$round_(e){const t={x:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","round")};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$c5ed3eef16c0612f,t)}const $3a646586ce3f406b$export$2077e0241d6afd3c=$ed8ad16572f67ac2$export$f59964a629598e2({round_:$3a646586ce3f406b$var$round_});function $77816c52a9fc19b2$var$broadcastTo_(e,t){let a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"broadcastTo","x");const n=a.shape;if(t.some((e=>!(e>0)||e%1!=0)))throw new Error(`broadcastTo(): Invalid broadcast shape [${t}].`);if(t.length<a.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${a.rank}.`);if(t.length>a.rank){const e=a.shape.slice();for(;e.length<t.length;)e.unshift(1);a=$4c369a1fffc2774a$export$9eaad88cf88cee2b(a,e)}const r=a.shape,o=Array.from(t);for(let e=t.length-1;e>=0;e--)if(r[e]===t[e])o[e]=1;else if(1!==a.shape[e])throw new Error(`broadcastTo(): [${n}] cannot be broadcast to [${t}].`);if(0===o.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0)).length)return $c8377ad1869bb3f8$export$9cd59f9826255e47(a);const s={x:a},c={reps:o};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$235cb65c20ad2b7,s,c)}const $77816c52a9fc19b2$export$ec9086aff2624eab=$ed8ad16572f67ac2$export$f59964a629598e2({broadcastTo_:$77816c52a9fc19b2$var$broadcastTo_});function $41bd978b60f3d618$var$where_(e,t,a){const n=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"a","where"),r=$f6b5295c7bebfcca$export$ede379c4c939d71a(a,"b","where"),o=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"condition","where","bool"),s=$cbf310cf53e91f85$export$a3e2a38a57ec8318($cbf310cf53e91f85$export$a3e2a38a57ec8318(o.shape,n.shape),r.shape),c={condition:$77816c52a9fc19b2$export$ec9086aff2624eab(o,s),t:$77816c52a9fc19b2$export$ec9086aff2624eab(n,s),e:$77816c52a9fc19b2$export$ec9086aff2624eab(r,s)};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$ef9b1a59e592288f,c)}const $41bd978b60f3d618$export$9c59b80dda569a6e=$ed8ad16572f67ac2$export$f59964a629598e2({where_:$41bd978b60f3d618$var$where_});function $fb1cb922ba31ac2c$export$d02631cccf789723(e,t,a=1,n="float32"){if(0===a)throw new Error("Cannot have a step of zero");const r={start:e,stop:t,step:a,dtype:n};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$9a58ef0d7ad3278c,{},r)}function $5acb483bb80617e0$var$threshold_(e,t="binary",a=!1,n=.5){const r=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"image","threshold"),o=r.shape[0]*r.shape[1];let s,c,i,d,f=$802417d98a09603d$export$6e3a27864ab166fe($ef5a2450ce174f2f$export$8133e3bf3cd8f464([n]),255);if($66860e147cb400ad$export$a7a9523472993e97(3===r.rank,(()=>`Error in threshold: image must be rank 3,but got rank ${r.rank}.`)),$66860e147cb400ad$export$a7a9523472993e97(3===r.shape[2]||1===r.shape[2],(()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${r.shape[2]}.`)),$66860e147cb400ad$export$a7a9523472993e97("int32"===r.dtype||"float32"===r.dtype,(()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${r.dtype}.`)),$66860e147cb400ad$export$a7a9523472993e97("otsu"===t||"binary"===t,(()=>`Method must be binary or otsu, but was ${t}`)),3===r.shape[2]){[s,c,i]=$44dbae10aa88e49b$export$65980d18b75784e2(r,[1,1,1],-1);const e=$802417d98a09603d$export$6e3a27864ab166fe(s,.2989),t=$802417d98a09603d$export$6e3a27864ab166fe(c,.587),a=$802417d98a09603d$export$6e3a27864ab166fe(i,.114);d=$b1abd611218ab8cc$export$e16d8520af44a096($b1abd611218ab8cc$export$e16d8520af44a096(e,t),a)}else d=e;if("otsu"===t){f=$5acb483bb80617e0$var$otsu($d25f5d70a1b05cb2$export$7e474bab088ed182($b8938763064d2335$export$f2db7d5238e1d23f($3a646586ce3f406b$export$2077e0241d6afd3c(d),"int32"),$51c648d3f52d38e2$export$65df3ad1ad888abb([]),256),o)}const $=a?$a37280a15f8686f2$export$c24ad19a692bb92(d,f):$6116d82642925f67$export$9dca161faaf6308b(d,f);return $b8938763064d2335$export$f2db7d5238e1d23f($802417d98a09603d$export$6e3a27864ab166fe($,255),"int32")}function $5acb483bb80617e0$var$otsu(e,t){let a,n,r,o,s,c,i=$ef5a2450ce174f2f$export$8133e3bf3cd8f464([-1]),d=$ef5a2450ce174f2f$export$8133e3bf3cd8f464([0]),f=$ef5a2450ce174f2f$export$8133e3bf3cd8f464([0]);for(let $=0;$<e.size-1;$++){a=$d8e6de5695e5848b$export$58adb3bec8346d0f(e,0,$+1),n=$d8e6de5695e5848b$export$58adb3bec8346d0f(e,$+1),s=$9cad4239aa360709$export$159d9494db57879b($54121e31a8895c99$export$8a63f25cc62965f1(a),t),c=$9cad4239aa360709$export$159d9494db57879b($54121e31a8895c99$export$8a63f25cc62965f1(n),t);const u=$54121e31a8895c99$export$8a63f25cc62965f1($802417d98a09603d$export$6e3a27864ab166fe(a,$fb1cb922ba31ac2c$export$d02631cccf789723(0,a.size)));r=$9cad4239aa360709$export$159d9494db57879b(u,$54121e31a8895c99$export$8a63f25cc62965f1(a));const p=$22cddf35e8755501$export$9563e054e6f787fb(n.shape,a.size),l=$b1abd611218ab8cc$export$e16d8520af44a096($fb1cb922ba31ac2c$export$d02631cccf789723(0,n.size),p),b=$802417d98a09603d$export$6e3a27864ab166fe(n,l);o=$9cad4239aa360709$export$159d9494db57879b($54121e31a8895c99$export$8a63f25cc62965f1(b),$54121e31a8895c99$export$8a63f25cc62965f1(n));const h=$c99f28d355a3a2ce$export$f93b5905241a7cca(r,o),x=$c99f28d355a3a2ce$export$f93b5905241a7cca(r,o),m=$802417d98a09603d$export$6e3a27864ab166fe(s,c);f=$802417d98a09603d$export$6e3a27864ab166fe($802417d98a09603d$export$6e3a27864ab166fe(m,h),x);const g=$6116d82642925f67$export$9dca161faaf6308b(f,d);d=$41bd978b60f3d618$export$9c59b80dda569a6e(g,f,d),i=$41bd978b60f3d618$export$9c59b80dda569a6e(g,$ef5a2450ce174f2f$export$8133e3bf3cd8f464([$]),i)}return i}const $5acb483bb80617e0$export$454d09aca5f3ea63=$ed8ad16572f67ac2$export$f59964a629598e2({threshold_:$5acb483bb80617e0$var$threshold_});function $5ef0bc971b970c31$var$transform_(e,t,a="nearest",n="constant",r=0,o){const s=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"image","transform","float32"),c=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"transforms","transform","float32");$66860e147cb400ad$export$a7a9523472993e97(4===s.rank,(()=>`Error in transform: image must be rank 4,but got rank ${s.rank}.`)),$66860e147cb400ad$export$a7a9523472993e97(2===c.rank&&(c.shape[0]===s.shape[0]||1===c.shape[0])&&8===c.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),$66860e147cb400ad$export$a7a9523472993e97(null==o||2===o.length,(()=>`Error in transform: outputShape must be [height, width] or null, but got ${o}.`));const i={image:s,transforms:c},d={interpolation:a,fillMode:n,fillValue:r,outputShape:o};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$563a914cafbdc389,i,d)}const $5ef0bc971b970c31$export$51186ad6e864892a=$ed8ad16572f67ac2$export$f59964a629598e2({transform_:$5ef0bc971b970c31$var$transform_});function $7ba16c57f6eba126$var$greaterEqual_(e,t){let a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"a","greaterEqual","string_or_numeric"),n=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"b","greaterEqual","string_or_numeric");[a,n]=$fcc1393c3c192ea9$export$8b0e24c749a224d7(a,n),$cbf310cf53e91f85$export$a3e2a38a57ec8318(a.shape,n.shape);const r={a:a,b:n};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$3b7d21bc9aee0851,r)}const $7ba16c57f6eba126$export$c2fd4164cadc1fa2=$ed8ad16572f67ac2$export$f59964a629598e2({greaterEqual_:$7ba16c57f6eba126$var$greaterEqual_});function $a2b737aefec904bb$var$logicalAnd_(e,t){const a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"a","logicalAnd","bool"),n=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"b","logicalAnd","bool");$cbf310cf53e91f85$export$a3e2a38a57ec8318(a.shape,n.shape);const r={a:a,b:n};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$8a27ff10dff4d6e5,r)}const $a2b737aefec904bb$export$db5dd0ef9d505f=$ed8ad16572f67ac2$export$f59964a629598e2({logicalAnd_:$a2b737aefec904bb$var$logicalAnd_});function $19dfd27d5dbc5ffe$var$stack_(e,t=0){const a=$f6b5295c7bebfcca$export$758e66616b4d410b(e,"tensors","stack","string_or_numeric");$66860e147cb400ad$export$a7a9523472993e97(a.length>=1,(()=>"Pass at least one tensor to tf.stack")),a.length>0&&$66860e147cb400ad$export$a7a9523472993e97(t<=a[0].rank,(()=>"Axis must be <= rank of the tensor"));const n=a,r={axis:t};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$c26f40b29201e5b7,n,r)}const $19dfd27d5dbc5ffe$export$a57ab32f40f83ea9=$ed8ad16572f67ac2$export$f59964a629598e2({stack_:$19dfd27d5dbc5ffe$var$stack_});function $0fc978ac9b4d9daa$var$unstack_(e,t=0){const a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","unstack","string_or_numeric");$66860e147cb400ad$export$a7a9523472993e97(t>=-a.shape.length&&t<a.shape.length,(()=>`Axis = ${t} is not in [-${a.shape.length}, ${a.shape.length})`));const n={value:a},r={axis:t};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$441ad6bfc5db8ab4,n,r)}const $0fc978ac9b4d9daa$export$3c05285afa115eec=$ed8ad16572f67ac2$export$f59964a629598e2({unstack_:$0fc978ac9b4d9daa$var$unstack_});function $2344be57d3c93fe1$var$bandPart_(e,t,a){$66860e147cb400ad$export$a7a9523472993e97(t%1==0,(()=>`bandPart(): numLower must be an integer, got ${t}.`)),$66860e147cb400ad$export$a7a9523472993e97(a%1==0,(()=>`bandPart(): numUpper must be an integer, got ${a}.`));const n=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"a","bandPart");$66860e147cb400ad$export$a7a9523472993e97(n.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${n.rank}.`));const r=n.shape,[o,s]=n.shape.slice(-2);if(!(t<=o))throw new Error(`bandPart(): numLower (${t}) must not be greater than the number of rows (${o}).`);if(!(a<=s))throw new Error(`bandPart(): numUpper (${a}) must not be greater than the number of columns (${s}).`);t<0&&(t=o),a<0&&(a=s);const c=$4c369a1fffc2774a$export$9eaad88cf88cee2b($fb1cb922ba31ac2c$export$d02631cccf789723(0,o,1,"int32"),[-1,1]),i=$fb1cb922ba31ac2c$export$d02631cccf789723(0,s,1,"int32"),d=$c99f28d355a3a2ce$export$f93b5905241a7cca(c,i),f=$a2b737aefec904bb$export$db5dd0ef9d505f($a37280a15f8686f2$export$c24ad19a692bb92(d,$23abd4a5c2de03d8$export$7de3fcd3cdba2a46(+t,"int32")),$7ba16c57f6eba126$export$c2fd4164cadc1fa2(d,$23abd4a5c2de03d8$export$7de3fcd3cdba2a46(-a,"int32"))),$=$69223f1c830a49d7$export$4445a00dafa2633b([o,s],n.dtype);return $4c369a1fffc2774a$export$9eaad88cf88cee2b($19dfd27d5dbc5ffe$export$a57ab32f40f83ea9($0fc978ac9b4d9daa$export$3c05285afa115eec($4c369a1fffc2774a$export$9eaad88cf88cee2b(n,[-1,o,s])).map((e=>$41bd978b60f3d618$export$9c59b80dda569a6e(f,e,$)))),r)}const $2344be57d3c93fe1$export$8a3da9cb9e5610a0=$ed8ad16572f67ac2$export$f59964a629598e2({bandPart_:$2344be57d3c93fe1$var$bandPart_});function $6f31df3a0ca2ef02$var$abs_(e){const t=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$32902e58f1b48f4b,e)}{const e={x:t};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$b73c596ee8758a66,e)}}const $6f31df3a0ca2ef02$export$2335f513bbd82c6d=$ed8ad16572f67ac2$export$f59964a629598e2({abs_:$6f31df3a0ca2ef02$var$abs_});function $9e0c80b2292d5ca1$var$max_(e,t=null,a=!1){const n={x:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","max")},r={reductionIndices:t,keepDims:a};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$d36c09e5d02927e7,n,r)}const $9e0c80b2292d5ca1$export$8960430cfd85939f=$ed8ad16572f67ac2$export$f59964a629598e2({max_:$9e0c80b2292d5ca1$var$max_});function $dc560a263d97d0de$var$min_(e,t=null,a=!1){const n={x:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","min")},r={axis:t,keepDims:a};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$dfed19fabc75a31d,n,r)}const $dc560a263d97d0de$export$96ec731ed4dcb222=$ed8ad16572f67ac2$export$f59964a629598e2({min_:$dc560a263d97d0de$var$min_});function $8bc4723833c31b42$var$pow_(e,t){let a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"base","pow"),n=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"exp","pow");[a,n]=$fcc1393c3c192ea9$export$8b0e24c749a224d7(a,n);const r={a:a,b:n};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$ce28d653ec559ee,r)}const $8bc4723833c31b42$export$9c297f60e22e3389=$ed8ad16572f67ac2$export$f59964a629598e2({pow_:$8bc4723833c31b42$var$pow_});function $46a782c6dd06cd71$var$sqrt_(e){const t={x:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","sqrt","float32")};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$21ab404ab9d512a6,t)}const $46a782c6dd06cd71$export$eba8049fb5020b81=$ed8ad16572f67ac2$export$f59964a629598e2({sqrt_:$46a782c6dd06cd71$var$sqrt_});function $f786448bd1db7ebe$var$square_(e){const t=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","square");return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel("Square",{x:t},{})}const $f786448bd1db7ebe$export$dd4f28cef696bc7d=$ed8ad16572f67ac2$export$f59964a629598e2({square_:$f786448bd1db7ebe$var$square_});function $5ad04c36e857d612$var$norm_(e,t="euclidean",a=null,n=!1){const r=$5ad04c36e857d612$var$normImpl(e=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","norm"),t,a);let o=r.shape;if(n){const t=$66860e147cb400ad$export$72b84eb9fe1f482(a,e.shape);o=$23a3a40ca9179408$export$e35db9afe008d7e3(r.shape,t)}return $4c369a1fffc2774a$export$9eaad88cf88cee2b(r,o)}function $5ad04c36e857d612$var$normImpl(e,t,a=null){if(0===e.rank)return $6f31df3a0ca2ef02$export$2335f513bbd82c6d(e);if(1!==e.rank&&null===a)return $5ad04c36e857d612$var$normImpl($4c369a1fffc2774a$export$9eaad88cf88cee2b(e,[-1]),t,a);if(1===e.rank||"number"==typeof a||Array.isArray(a)&&1===a.length){if(1===t)return $54121e31a8895c99$export$8a63f25cc62965f1($6f31df3a0ca2ef02$export$2335f513bbd82c6d(e),a);if(t===1/0)return $9e0c80b2292d5ca1$export$8960430cfd85939f($6f31df3a0ca2ef02$export$2335f513bbd82c6d(e),a);if(t===-1/0)return $dc560a263d97d0de$export$96ec731ed4dcb222($6f31df3a0ca2ef02$export$2335f513bbd82c6d(e),a);if("euclidean"===t||2===t)return $46a782c6dd06cd71$export$eba8049fb5020b81($54121e31a8895c99$export$8a63f25cc62965f1($8bc4723833c31b42$export$9c297f60e22e3389($6f31df3a0ca2ef02$export$2335f513bbd82c6d(e),$23abd4a5c2de03d8$export$7de3fcd3cdba2a46(2,"int32")),a));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(a)&&2===a.length){if(1===t)return $9e0c80b2292d5ca1$export$8960430cfd85939f($54121e31a8895c99$export$8a63f25cc62965f1($6f31df3a0ca2ef02$export$2335f513bbd82c6d(e),a[0]),a[1]-1);if(t===1/0)return $9e0c80b2292d5ca1$export$8960430cfd85939f($54121e31a8895c99$export$8a63f25cc62965f1($6f31df3a0ca2ef02$export$2335f513bbd82c6d(e),a[1]),a[0]);if(t===-1/0)return $dc560a263d97d0de$export$96ec731ed4dcb222($54121e31a8895c99$export$8a63f25cc62965f1($6f31df3a0ca2ef02$export$2335f513bbd82c6d(e),a[1]),a[0]);if("fro"===t||"euclidean"===t)return $46a782c6dd06cd71$export$eba8049fb5020b81($54121e31a8895c99$export$8a63f25cc62965f1($f786448bd1db7ebe$export$dd4f28cef696bc7d(e),a));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${a}`)}const $5ad04c36e857d612$export$1991ecd29cc92c6b=$ed8ad16572f67ac2$export$f59964a629598e2({norm_:$5ad04c36e857d612$var$norm_});function $f1517a06f7e9c0e7$var$squeeze_(e,t){const a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","squeeze");return $4c369a1fffc2774a$export$9eaad88cf88cee2b(a,$66860e147cb400ad$export$3106ace2a3b5396d(a.shape,t).newShape)}const $f1517a06f7e9c0e7$export$889c931173b77c2f=$ed8ad16572f67ac2$export$f59964a629598e2({squeeze_:$f1517a06f7e9c0e7$var$squeeze_});function $fb2f0480445191c0$var$gramSchmidt_(e){let t;if(Array.isArray(e)){t=!1,$66860e147cb400ad$export$a7a9523472993e97(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const a=e[0].shape[0];for(let t=1;t<e.length;++t)$66860e147cb400ad$export$a7a9523472993e97(e[t].shape[0]===a,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${a})`))}else t=!0,e=$44dbae10aa88e49b$export$65980d18b75784e2(e,e.shape[0],0).map((e=>$f1517a06f7e9c0e7$export$889c931173b77c2f(e,[0])));$66860e147cb400ad$export$a7a9523472993e97(e.length<=e[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`));const a=[],n=e;for(let t=0;t<e.length;++t)a.push($b0d6cc13a7079390$export$33b63313cc511a3b.tidy((()=>{let e=n[t];if(t>0)for(let n=0;n<t;++n){const t=$802417d98a09603d$export$6e3a27864ab166fe($54121e31a8895c99$export$8a63f25cc62965f1($802417d98a09603d$export$6e3a27864ab166fe(a[n],e)),a[n]);e=$c99f28d355a3a2ce$export$f93b5905241a7cca(e,t)}return $9cad4239aa360709$export$159d9494db57879b(e,$5ad04c36e857d612$export$1991ecd29cc92c6b(e,"euclidean"))})));return t?$19dfd27d5dbc5ffe$export$a57ab32f40f83ea9(a,0):a}const $fb2f0480445191c0$export$d505610386a600de=$ed8ad16572f67ac2$export$f59964a629598e2({gramSchmidt_:$fb2f0480445191c0$var$gramSchmidt_});function $2f175fd57ae81f5b$export$1e73b1267274f27e(){$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().set("PROD",!0)}function $2f175fd57ae81f5b$export$ef8a131e8a882a3a(){$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().set("DEBUG",!0)}function $2f175fd57ae81f5b$export$cb100329fdb11914(){$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function $2f175fd57ae81f5b$export$e46eea6a629d2da5(e){$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function $2f175fd57ae81f5b$export$f22ce7a2fa538c48(){$b0d6cc13a7079390$export$33b63313cc511a3b.disposeVariables()}function $2f175fd57ae81f5b$export$d3c662a6136faebb(){return $b0d6cc13a7079390$export$33b63313cc511a3b}function $2f175fd57ae81f5b$export$827b61424e8f52d2(){return $b0d6cc13a7079390$export$33b63313cc511a3b.memory()}function $2f175fd57ae81f5b$export$4882ae973e0491e(e){return $b0d6cc13a7079390$export$33b63313cc511a3b.profile(e)}function $2f175fd57ae81f5b$export$b841c6a213a653eb(e,t){return $b0d6cc13a7079390$export$33b63313cc511a3b.tidy(e,t)}function $2f175fd57ae81f5b$export$fcfbbcec2cb820d5(e){$fcc1393c3c192ea9$export$888c106d343989f5(e).forEach((e=>e.dispose()))}function $2f175fd57ae81f5b$export$fae3166c418e0471(e){return $b0d6cc13a7079390$export$33b63313cc511a3b.keep(e)}function $2f175fd57ae81f5b$export$2da9be4cfdb689b1(e){return $b0d6cc13a7079390$export$33b63313cc511a3b.time(e)}function $2f175fd57ae81f5b$export$7953970fabc9c2(e){return $b0d6cc13a7079390$export$33b63313cc511a3b.setBackend(e)}function $2f175fd57ae81f5b$export$28ee1007e174a2a6(){return $b0d6cc13a7079390$export$33b63313cc511a3b.ready()}function $2f175fd57ae81f5b$export$b098501f764cdf30(){return $b0d6cc13a7079390$export$33b63313cc511a3b.backendName}function $2f175fd57ae81f5b$export$c299110fbe92c80c(e){$b0d6cc13a7079390$export$33b63313cc511a3b.removeBackend(e)}function $2f175fd57ae81f5b$export$f94fbc07ea8e852e(e){return $b0d6cc13a7079390$export$33b63313cc511a3b.findBackend(e)}function $2f175fd57ae81f5b$export$e4a6d214466a2c7b(e){return $b0d6cc13a7079390$export$33b63313cc511a3b.findBackendFactory(e)}function $2f175fd57ae81f5b$export$1ac8c3a90eff05d(e,t,a=1){return $b0d6cc13a7079390$export$33b63313cc511a3b.registerBackend(e,t,a)}function $2f175fd57ae81f5b$export$32a253b6f8b50fb4(){return $b0d6cc13a7079390$export$33b63313cc511a3b.backend}function $2f175fd57ae81f5b$export$5f05d56a0f2349cc(e,t){$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().setPlatform(e,t)}function $f544569c29b17099$var$expandDims_(e,t=0){const a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","expandDims","string_or_numeric");$66860e147cb400ad$export$a7a9523472993e97(t<=a.rank,(()=>"Axis must be <= rank of the tensor"));const n={input:a},r={dim:t};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$2391750b1d901146,n,r)}$eaf1009c48c149de$export$ca605c1d8919649f($2f175fd57ae81f5b$export$e46eea6a629d2da5);const $f544569c29b17099$export$d660d8ed21f46635=$ed8ad16572f67ac2$export$f59964a629598e2({expandDims_:$f544569c29b17099$var$expandDims_});function $fabd8cf34f21b27c$var$eye_(e,t,a,n="float32"){null==t&&(t=e);const r=$05a66951e325e00b$export$ab1029bcae9ddb4a([e,t],n),o=e<=t?e:t;for(let e=0;e<o;++e)r.set(1,e,e);const s=$4c369a1fffc2774a$export$9eaad88cf88cee2b(r.toTensor(),[e,t]);if(null==a)return s;if(1===a.length)return $985996c53311652c$export$3c17558da18e4d75($f544569c29b17099$export$d660d8ed21f46635(s,0),[a[0],1,1]);if(2===a.length)return $985996c53311652c$export$3c17558da18e4d75($f544569c29b17099$export$d660d8ed21f46635($f544569c29b17099$export$d660d8ed21f46635(s,0),0),[a[0],a[1],1,1]);if(3===a.length)return $985996c53311652c$export$3c17558da18e4d75($f544569c29b17099$export$d660d8ed21f46635($f544569c29b17099$export$d660d8ed21f46635($f544569c29b17099$export$d660d8ed21f46635(s,0),0),0),[a[0],a[1],a[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${a.length}D.`)}const $fabd8cf34f21b27c$export$4e18cf730a59887e=$ed8ad16572f67ac2$export$f59964a629598e2({eye_:$fabd8cf34f21b27c$var$eye_});function $f3b2f4ddf56c3ba6$var$matMul_(e,t,a=!1,n=!1){let r=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"a","matMul"),o=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"b","matMul");[r,o]=$fcc1393c3c192ea9$export$8b0e24c749a224d7(r,o);const s={a:r,b:o},c={transposeA:a,transposeB:n};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$9a3bf60b23f63c8,s,c)}const $f3b2f4ddf56c3ba6$export$6706882a873e9a8f=$ed8ad16572f67ac2$export$f59964a629598e2({matMul_:$f3b2f4ddf56c3ba6$var$matMul_});function $ad000a0dd360e7ae$var$neg_(e){const t={x:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","neg")};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$c07c549000872073,t)}const $ad000a0dd360e7ae$export$d9493ff0dfa0fdd5=$ed8ad16572f67ac2$export$f59964a629598e2({neg_:$ad000a0dd360e7ae$var$neg_});function $79af129adc04fb5a$var$transpose_(e,t){const a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","transpose");if(null==t&&(t=a.shape.map(((e,t)=>t)).reverse()),$66860e147cb400ad$export$a7a9523472993e97(a.rank===t.length,(()=>`Error in transpose: rank of input ${a.rank} must match length of perm ${t}.`)),t.forEach((e=>{$66860e147cb400ad$export$a7a9523472993e97(e>=0&&e<a.rank,(()=>"All entries in 'perm' must be between 0 and "+(a.rank-1)+` but got ${t}`))})),a.rank<=1)return a.clone();const n={x:a},r={perm:t};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$7e714455f9a1f8f7,n,r)}const $79af129adc04fb5a$export$9cb09a71b7d66923=$ed8ad16572f67ac2$export$f59964a629598e2({transpose_:$79af129adc04fb5a$var$transpose_});function $c6cb797ae717f9d2$var$qr_(e,t=!1){if($66860e147cb400ad$export$a7a9523472993e97(e.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`)),2===e.rank)return $c6cb797ae717f9d2$var$qr2d(e,t);{const a=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),n=$0fc978ac9b4d9daa$export$3c05285afa115eec($4c369a1fffc2774a$export$9eaad88cf88cee2b(e,[a,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),r=[],o=[];n.forEach((e=>{const[a,n]=$c6cb797ae717f9d2$var$qr2d(e,t);r.push(a),o.push(n)}));return[$4c369a1fffc2774a$export$9eaad88cf88cee2b($19dfd27d5dbc5ffe$export$a57ab32f40f83ea9(r,0),e.shape),$4c369a1fffc2774a$export$9eaad88cf88cee2b($19dfd27d5dbc5ffe$export$a57ab32f40f83ea9(o,0),e.shape)]}}function $c6cb797ae717f9d2$var$qr2d(e,t=!1){return $b0d6cc13a7079390$export$33b63313cc511a3b.tidy((()=>{$66860e147cb400ad$export$a7a9523472993e97(2===e.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`));const a=e.shape[0],n=e.shape[1];let r=$fabd8cf34f21b27c$export$4e18cf730a59887e(a),o=$c8377ad1869bb3f8$export$9cd59f9826255e47(e);const s=$37a4a95df7ca4b03$export$b5469a65e8732256([[1]],[1,1]);let c=$c8377ad1869bb3f8$export$9cd59f9826255e47(s);const i=a>=n?n:a;for(let e=0;e<i;++e){const t=o,i=c,d=r;[c,o,r]=$b0d6cc13a7079390$export$33b63313cc511a3b.tidy((()=>{const t=$d8e6de5695e5848b$export$58adb3bec8346d0f(o,[e,e],[a-e,1]),i=$5ad04c36e857d612$export$1991ecd29cc92c6b(t),d=$d8e6de5695e5848b$export$58adb3bec8346d0f(o,[e,e],[1,1]),f=$41bd978b60f3d618$export$9c59b80dda569a6e($6116d82642925f67$export$9dca161faaf6308b(d,0),$37a4a95df7ca4b03$export$b5469a65e8732256([[-1]]),$37a4a95df7ca4b03$export$b5469a65e8732256([[1]])),$=$c99f28d355a3a2ce$export$f93b5905241a7cca(d,$802417d98a09603d$export$6e3a27864ab166fe(f,i)),u=$9cad4239aa360709$export$159d9494db57879b(t,$);c=1===u.shape[0]?$c8377ad1869bb3f8$export$9cd59f9826255e47(s):$28f213c9c5d2cef9$export$ee1b3e54f0441b22([s,$d8e6de5695e5848b$export$58adb3bec8346d0f(u,[1,0],[u.shape[0]-1,u.shape[1]])],0);const p=$ad000a0dd360e7ae$export$d9493ff0dfa0fdd5($9cad4239aa360709$export$159d9494db57879b($f3b2f4ddf56c3ba6$export$6706882a873e9a8f(f,$),i)),l=$d8e6de5695e5848b$export$58adb3bec8346d0f(o,[e,0],[a-e,n]),b=$802417d98a09603d$export$6e3a27864ab166fe(p,c),h=$79af129adc04fb5a$export$9cb09a71b7d66923(c);if(0===e)o=$c99f28d355a3a2ce$export$f93b5905241a7cca(l,$f3b2f4ddf56c3ba6$export$6706882a873e9a8f(b,$f3b2f4ddf56c3ba6$export$6706882a873e9a8f(h,l)));else{const t=$c99f28d355a3a2ce$export$f93b5905241a7cca(l,$f3b2f4ddf56c3ba6$export$6706882a873e9a8f(b,$f3b2f4ddf56c3ba6$export$6706882a873e9a8f(h,l)));o=$28f213c9c5d2cef9$export$ee1b3e54f0441b22([$d8e6de5695e5848b$export$58adb3bec8346d0f(o,[0,0],[e,n]),t],0)}const x=$79af129adc04fb5a$export$9cb09a71b7d66923(b),m=$d8e6de5695e5848b$export$58adb3bec8346d0f(r,[0,e],[a,r.shape[1]-e]);if(0===e)r=$c99f28d355a3a2ce$export$f93b5905241a7cca(m,$f3b2f4ddf56c3ba6$export$6706882a873e9a8f($f3b2f4ddf56c3ba6$export$6706882a873e9a8f(m,c),x));else{const t=$c99f28d355a3a2ce$export$f93b5905241a7cca(m,$f3b2f4ddf56c3ba6$export$6706882a873e9a8f($f3b2f4ddf56c3ba6$export$6706882a873e9a8f(m,c),x));r=$28f213c9c5d2cef9$export$ee1b3e54f0441b22([$d8e6de5695e5848b$export$58adb3bec8346d0f(r,[0,0],[a,e]),t],1)}return[c,o,r]})),$2f175fd57ae81f5b$export$fcfbbcec2cb820d5([t,i,d])}return!t&&a>n&&(r=$d8e6de5695e5848b$export$58adb3bec8346d0f(r,[0,0],[a,n]),o=$d8e6de5695e5848b$export$58adb3bec8346d0f(o,[0,0],[n,n])),[r,o]}))}const $c6cb797ae717f9d2$export$7c27fb47516129d9=$ed8ad16572f67ac2$export$f59964a629598e2({qr_:$c6cb797ae717f9d2$var$qr_});var $4050d1fe895cac8a$export$cc9fa7113d70efba;function $080d1e293278ee0f$var$mean_(e,t=null,a=!1){const n={x:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","mean")},r={axis:t,keepDims:a};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$1c2d59c4b681fbd8,n,r)}!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}($4050d1fe895cac8a$export$cc9fa7113d70efba||($4050d1fe895cac8a$export$cc9fa7113d70efba={}));const $080d1e293278ee0f$export$1ce691f85baaa52=$ed8ad16572f67ac2$export$f59964a629598e2({mean_:$080d1e293278ee0f$var$mean_});function $a58f02f782374e74$var$notEqual_(e,t){let a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"a","notEqual","string_or_numeric"),n=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"b","notEqual","string_or_numeric");[a,n]=$fcc1393c3c192ea9$export$8b0e24c749a224d7(a,n),$cbf310cf53e91f85$export$a3e2a38a57ec8318(a.shape,n.shape);const r={a:a,b:n};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$385ebe9945cae0c5,r)}const $a58f02f782374e74$export$53a6892c50694894=$ed8ad16572f67ac2$export$f59964a629598e2({notEqual_:$a58f02f782374e74$var$notEqual_});function $a8b2945a45e7eab0$export$21041dee6b8001b0(e,t="float32"){if("complex64"===t){const t=$a8b2945a45e7eab0$export$21041dee6b8001b0(e,"float32"),a=$69223f1c830a49d7$export$4445a00dafa2633b(e,"float32");return $b5a66c9f2532eee1$export$83a0e34f1302825b(t,a)}const a=$66860e147cb400ad$export$b915f681a907ae99($66860e147cb400ad$export$b4c3214a70a0e73f(e),t);return $b0d6cc13a7079390$export$33b63313cc511a3b.makeTensor(a,e,t)}function $82ebaf686d7087f1$var$computeWeightedLoss_(e,t,a=$4050d1fe895cac8a$export$cc9fa7113d70efba.SUM_BY_NONZERO_WEIGHTS){const n=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"losses","computeWeightedLoss");let r=null;null!=t&&(r=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"weights","computeWeightedLoss"));const o=null==r?n:$802417d98a09603d$export$6e3a27864ab166fe(n,r);if(a===$4050d1fe895cac8a$export$cc9fa7113d70efba.NONE)return o;if(a===$4050d1fe895cac8a$export$cc9fa7113d70efba.SUM)return $54121e31a8895c99$export$8a63f25cc62965f1(o);if(a===$4050d1fe895cac8a$export$cc9fa7113d70efba.MEAN){if(null==r)return $080d1e293278ee0f$export$1ce691f85baaa52(o);{const e=n.size/r.size,t=$9cad4239aa360709$export$159d9494db57879b($54121e31a8895c99$export$8a63f25cc62965f1(o),$54121e31a8895c99$export$8a63f25cc62965f1(r));return e>1?$9cad4239aa360709$export$159d9494db57879b(t,$23abd4a5c2de03d8$export$7de3fcd3cdba2a46(e)):t}}if(a===$4050d1fe895cac8a$export$cc9fa7113d70efba.SUM_BY_NONZERO_WEIGHTS){if(null==r)return $9cad4239aa360709$export$159d9494db57879b($54121e31a8895c99$export$8a63f25cc62965f1(o),$23abd4a5c2de03d8$export$7de3fcd3cdba2a46(n.size));{const e=$802417d98a09603d$export$6e3a27864ab166fe(r,$a8b2945a45e7eab0$export$21041dee6b8001b0(n.shape)),t=$b8938763064d2335$export$f2db7d5238e1d23f($54121e31a8895c99$export$8a63f25cc62965f1($a58f02f782374e74$export$53a6892c50694894(e,$23abd4a5c2de03d8$export$7de3fcd3cdba2a46(0))),"float32");return $9cad4239aa360709$export$159d9494db57879b($54121e31a8895c99$export$8a63f25cc62965f1(o),t)}}throw Error(`Unknown reduction: ${a}`)}const $82ebaf686d7087f1$export$23bdc4cea2e28782=$ed8ad16572f67ac2$export$f59964a629598e2({computeWeightedLoss_:$82ebaf686d7087f1$var$computeWeightedLoss_});function $1a0ca3153036a19e$var$absoluteDifference_(e,t,a,n=$4050d1fe895cac8a$export$cc9fa7113d70efba.SUM_BY_NONZERO_WEIGHTS){const r=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"labels","absoluteDifference"),o=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"predictions","absoluteDifference");let s=null;null!=a&&(s=$f6b5295c7bebfcca$export$ede379c4c939d71a(a,"weights","absoluteDifference")),$66860e147cb400ad$export$e08b27e7f37e2782(r.shape,o.shape,"Error in absoluteDifference: ");const c=$6f31df3a0ca2ef02$export$2335f513bbd82c6d($c99f28d355a3a2ce$export$f93b5905241a7cca(r,o));return $82ebaf686d7087f1$export$23bdc4cea2e28782(c,s,n)}const $1a0ca3153036a19e$export$d81f35aebafd8971=$ed8ad16572f67ac2$export$f59964a629598e2({absoluteDifference_:$1a0ca3153036a19e$var$absoluteDifference_});function $7065d50a4a62e1ba$var$cosineDistance_(e,t,a,n,r=$4050d1fe895cac8a$export$cc9fa7113d70efba.SUM_BY_NONZERO_WEIGHTS){const o=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"labels","cosineDistance"),s=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"predictions","cosineDistance");let c=null;null!=n&&(c=$f6b5295c7bebfcca$export$ede379c4c939d71a(n,"weights","cosineDistance")),$66860e147cb400ad$export$e08b27e7f37e2782(o.shape,s.shape,"Error in cosineDistance: ");const i=$23abd4a5c2de03d8$export$7de3fcd3cdba2a46(1),d=$c99f28d355a3a2ce$export$f93b5905241a7cca(i,$54121e31a8895c99$export$8a63f25cc62965f1($802417d98a09603d$export$6e3a27864ab166fe(o,s),a,!0));return $82ebaf686d7087f1$export$23bdc4cea2e28782(d,c,r)}const $7065d50a4a62e1ba$export$6168ae03858f836b=$ed8ad16572f67ac2$export$f59964a629598e2({cosineDistance_:$7065d50a4a62e1ba$var$cosineDistance_});function $89c59436788037e6$var$hingeLoss_(e,t,a,n=$4050d1fe895cac8a$export$cc9fa7113d70efba.SUM_BY_NONZERO_WEIGHTS){let r=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"labels","hingeLoss");const o=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"predictions","hingeLoss");let s=null;null!=a&&(s=$f6b5295c7bebfcca$export$ede379c4c939d71a(a,"weights","hingeLoss")),$66860e147cb400ad$export$e08b27e7f37e2782(r.shape,o.shape,"Error in hingeLoss: ");const c=$23abd4a5c2de03d8$export$7de3fcd3cdba2a46(1);r=$c99f28d355a3a2ce$export$f93b5905241a7cca($802417d98a09603d$export$6e3a27864ab166fe($23abd4a5c2de03d8$export$7de3fcd3cdba2a46(2),r),c);const i=$159373319273f089$export$16d1e4612cc0139f($c99f28d355a3a2ce$export$f93b5905241a7cca(c,$802417d98a09603d$export$6e3a27864ab166fe(r,o)));return $82ebaf686d7087f1$export$23bdc4cea2e28782(i,s,n)}const $89c59436788037e6$export$fc7754731492f43f=$ed8ad16572f67ac2$export$f59964a629598e2({hingeLoss_:$89c59436788037e6$var$hingeLoss_});function $05af2bf2c538977b$var$minimum_(e,t){let a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"a","minimum"),n=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"b","minimum");[a,n]=$fcc1393c3c192ea9$export$8b0e24c749a224d7(a,n),"bool"===a.dtype&&(a=$b8938763064d2335$export$f2db7d5238e1d23f(a,"int32"),n=$b8938763064d2335$export$f2db7d5238e1d23f(n,"int32")),$cbf310cf53e91f85$export$a3e2a38a57ec8318(a.shape,n.shape);const r={a:a,b:n};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$23cb308301e89d6b,r)}const $05af2bf2c538977b$export$916782c1f0ddb132=$ed8ad16572f67ac2$export$f59964a629598e2({minimum_:$05af2bf2c538977b$var$minimum_});function $66ed59856ad31018$var$huberLoss_(e,t,a,n=1,r=$4050d1fe895cac8a$export$cc9fa7113d70efba.SUM_BY_NONZERO_WEIGHTS){const o=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"labels","huberLoss"),s=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"predictions","huberLoss");let c=null;null!=a&&(c=$f6b5295c7bebfcca$export$ede379c4c939d71a(a,"weights","huberLoss")),$66860e147cb400ad$export$e08b27e7f37e2782(o.shape,s.shape,"Error in huberLoss: ");const i=$23abd4a5c2de03d8$export$7de3fcd3cdba2a46(n),d=$6f31df3a0ca2ef02$export$2335f513bbd82c6d($c99f28d355a3a2ce$export$f93b5905241a7cca(s,o)),f=$05af2bf2c538977b$export$916782c1f0ddb132(d,i),$=$c99f28d355a3a2ce$export$f93b5905241a7cca(d,f),u=$b1abd611218ab8cc$export$e16d8520af44a096($802417d98a09603d$export$6e3a27864ab166fe($23abd4a5c2de03d8$export$7de3fcd3cdba2a46(.5),$f786448bd1db7ebe$export$dd4f28cef696bc7d(f)),$802417d98a09603d$export$6e3a27864ab166fe(i,$));return $82ebaf686d7087f1$export$23bdc4cea2e28782(u,c,r)}const $66ed59856ad31018$export$ad2dd557b367bf2b=$ed8ad16572f67ac2$export$f59964a629598e2({huberLoss_:$66ed59856ad31018$var$huberLoss_});function $0c38a1fcf3910a11$var$log_(e){const t={x:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","log","float32")};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$ce30dbb46644d06c,t)}const $0c38a1fcf3910a11$export$bef1f36f5486a6a3=$ed8ad16572f67ac2$export$f59964a629598e2({log_:$0c38a1fcf3910a11$var$log_});function $e1309cd1ffbf9c08$var$logLoss_(e,t,a,n=1e-7,r=$4050d1fe895cac8a$export$cc9fa7113d70efba.SUM_BY_NONZERO_WEIGHTS){const o=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"labels","logLoss"),s=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"predictions","logLoss");let c=null;null!=a&&(c=$f6b5295c7bebfcca$export$ede379c4c939d71a(a,"weights","logLoss")),$66860e147cb400ad$export$e08b27e7f37e2782(o.shape,s.shape,"Error in logLoss: ");const i=$23abd4a5c2de03d8$export$7de3fcd3cdba2a46(1),d=$23abd4a5c2de03d8$export$7de3fcd3cdba2a46(n),f=$ad000a0dd360e7ae$export$d9493ff0dfa0fdd5($802417d98a09603d$export$6e3a27864ab166fe(o,$0c38a1fcf3910a11$export$bef1f36f5486a6a3($b1abd611218ab8cc$export$e16d8520af44a096(s,d)))),$=$802417d98a09603d$export$6e3a27864ab166fe($c99f28d355a3a2ce$export$f93b5905241a7cca(i,o),$0c38a1fcf3910a11$export$bef1f36f5486a6a3($b1abd611218ab8cc$export$e16d8520af44a096($c99f28d355a3a2ce$export$f93b5905241a7cca(i,s),d))),u=$c99f28d355a3a2ce$export$f93b5905241a7cca(f,$);return $82ebaf686d7087f1$export$23bdc4cea2e28782(u,c,r)}const $e1309cd1ffbf9c08$export$5ca6937b99935214=$ed8ad16572f67ac2$export$f59964a629598e2({logLoss_:$e1309cd1ffbf9c08$var$logLoss_});function $33bc000762bcd8b8$var$squaredDifference_(e,t){let a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"a","squaredDifference"),n=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"b","squaredDifference");[a,n]=$fcc1393c3c192ea9$export$8b0e24c749a224d7(a,n),$cbf310cf53e91f85$export$a3e2a38a57ec8318(a.shape,n.shape);const r={a:a,b:n};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$2f922d20d66089c6,r,{})}const $33bc000762bcd8b8$export$b178697fb6d0b37f=$ed8ad16572f67ac2$export$f59964a629598e2({squaredDifference_:$33bc000762bcd8b8$var$squaredDifference_});function $bff61959f1848c85$var$meanSquaredError_(e,t,a,n=$4050d1fe895cac8a$export$cc9fa7113d70efba.SUM_BY_NONZERO_WEIGHTS){const r=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"labels","meanSquaredError"),o=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"predictions","meanSquaredError");let s=null;null!=a&&(s=$f6b5295c7bebfcca$export$ede379c4c939d71a(a,"weights","meanSquaredError")),$66860e147cb400ad$export$e08b27e7f37e2782(r.shape,o.shape,"Error in meanSquaredError: ");const c=$33bc000762bcd8b8$export$b178697fb6d0b37f(r,o);return $82ebaf686d7087f1$export$23bdc4cea2e28782(c,s,n)}const $bff61959f1848c85$export$33de16355e97f7fb=$ed8ad16572f67ac2$export$f59964a629598e2({meanSquaredError_:$bff61959f1848c85$var$meanSquaredError_});function $6ccc124e4758811d$var$exp_(e){const t={x:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","exp")};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$f908be7a96fb3363,t)}const $6ccc124e4758811d$export$b310ec824aaee37f=$ed8ad16572f67ac2$export$f59964a629598e2({exp_:$6ccc124e4758811d$var$exp_});function $a04060d10a6a7b65$var$log1p_(e){const t={x:$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","log1p")};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$70f05bf9ddcfca68,t)}const $a04060d10a6a7b65$export$144dcf16adfb9698=$ed8ad16572f67ac2$export$f59964a629598e2({log1p_:$a04060d10a6a7b65$var$log1p_});function $f872db78ab5137c3$var$sigmoidCrossEntropyWithLogits_(e,t){const a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"labels","sigmoidCrossEntropyWithLogits"),n=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"logits","sigmoidCrossEntropyWithLogits");$66860e147cb400ad$export$e08b27e7f37e2782(a.shape,n.shape,"Error in sigmoidCrossEntropyWithLogits: ");const r=$159373319273f089$export$16d1e4612cc0139f(n),o=$802417d98a09603d$export$6e3a27864ab166fe(n,a),s=$a04060d10a6a7b65$export$144dcf16adfb9698($6ccc124e4758811d$export$b310ec824aaee37f($ad000a0dd360e7ae$export$d9493ff0dfa0fdd5($6f31df3a0ca2ef02$export$2335f513bbd82c6d(n))));return $b1abd611218ab8cc$export$e16d8520af44a096($c99f28d355a3a2ce$export$f93b5905241a7cca(r,o),s)}function $f872db78ab5137c3$var$sigmoidCrossEntropy_(e,t,a,n=0,r=$4050d1fe895cac8a$export$cc9fa7113d70efba.SUM_BY_NONZERO_WEIGHTS){let o=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"multiClassLabels","sigmoidCrossEntropy");const s=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"logits","sigmoidCrossEntropy");let c=null;if(null!=a&&(c=$f6b5295c7bebfcca$export$ede379c4c939d71a(a,"weights","sigmoidCrossEntropy")),$66860e147cb400ad$export$e08b27e7f37e2782(o.shape,s.shape,"Error in sigmoidCrossEntropy: "),n>0){const e=$23abd4a5c2de03d8$export$7de3fcd3cdba2a46(n),t=$23abd4a5c2de03d8$export$7de3fcd3cdba2a46(1),a=$23abd4a5c2de03d8$export$7de3fcd3cdba2a46(.5);o=$b1abd611218ab8cc$export$e16d8520af44a096($802417d98a09603d$export$6e3a27864ab166fe(o,$c99f28d355a3a2ce$export$f93b5905241a7cca(t,e)),$802417d98a09603d$export$6e3a27864ab166fe(a,e))}const i=$f872db78ab5137c3$var$sigmoidCrossEntropyWithLogits_(o,s);return $82ebaf686d7087f1$export$23bdc4cea2e28782(i,c,r)}const $f872db78ab5137c3$export$d099e04c73e0aede=$ed8ad16572f67ac2$export$f59964a629598e2({sigmoidCrossEntropy_:$f872db78ab5137c3$var$sigmoidCrossEntropy_});function $03d476449ddfcde3$export$c24429b22bb73814(e){return $66860e147cb400ad$export$a7a9523472993e97($66860e147cb400ad$export$f6e2535fb5126e54(e),(()=>"The f passed in grad(f) must be a function")),(t,a)=>{const n=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"x","tf.grad","string_or_numeric"),r=null!=a?$f6b5295c7bebfcca$export$ede379c4c939d71a(a,"dy","tf.grad"):null;return $b0d6cc13a7079390$export$33b63313cc511a3b.tidy((()=>{const{value:t,grads:a}=$b0d6cc13a7079390$export$33b63313cc511a3b.gradients((()=>e(n)),[n],r);return null!=r&&$66860e147cb400ad$export$e08b27e7f37e2782(t.shape,r.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),$03d476449ddfcde3$var$checkGrads(a),a[0]}))}}function $03d476449ddfcde3$export$3f3749f5340c73f2(e){return $66860e147cb400ad$export$a7a9523472993e97($66860e147cb400ad$export$f6e2535fb5126e54(e),(()=>"The f passed in grads(f) must be a function")),(t,a)=>{$66860e147cb400ad$export$a7a9523472993e97(Array.isArray(t),(()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"));const n=$f6b5295c7bebfcca$export$758e66616b4d410b(t,"args","tf.grads","string_or_numeric"),r=null!=a?$f6b5295c7bebfcca$export$ede379c4c939d71a(a,"dy","tf.grads"):null;return $b0d6cc13a7079390$export$33b63313cc511a3b.tidy((()=>{const{value:t,grads:a}=$b0d6cc13a7079390$export$33b63313cc511a3b.gradients((()=>e(...n)),n,r);return null!=r&&$66860e147cb400ad$export$e08b27e7f37e2782(t.shape,r.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),$03d476449ddfcde3$var$checkGrads(a),a}))}}function $03d476449ddfcde3$export$9fbe39d4dcb3921e(e){return $66860e147cb400ad$export$a7a9523472993e97($66860e147cb400ad$export$f6e2535fb5126e54(e),(()=>"The f passed in valueAndGrad(f) must be a function")),(t,a)=>{$66860e147cb400ad$export$a7a9523472993e97(t instanceof $eaf1009c48c149de$export$7b6b8d90402f8814,(()=>"The x passed in valueAndGrad(f)(x) must be a tensor")),$66860e147cb400ad$export$a7a9523472993e97(null==a||a instanceof $eaf1009c48c149de$export$7b6b8d90402f8814,(()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"));const{grads:n,value:r}=$b0d6cc13a7079390$export$33b63313cc511a3b.gradients((()=>e(t)),[t],a);return $03d476449ddfcde3$var$checkGrads(n),{grad:n[0],value:r}}}function $03d476449ddfcde3$export$c03281a254ef3cf0(e){return $66860e147cb400ad$export$a7a9523472993e97($66860e147cb400ad$export$f6e2535fb5126e54(e),(()=>"The f passed in valueAndGrads(f) must be a function")),(t,a)=>{$66860e147cb400ad$export$a7a9523472993e97(Array.isArray(t)&&t.every((e=>e instanceof $eaf1009c48c149de$export$7b6b8d90402f8814)),(()=>"The args passed in valueAndGrads(f)(args) must be array of tensors")),$66860e147cb400ad$export$a7a9523472993e97(null==a||a instanceof $eaf1009c48c149de$export$7b6b8d90402f8814,(()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"));const n=$b0d6cc13a7079390$export$33b63313cc511a3b.gradients((()=>e(...t)),t,a);return null!=a&&$66860e147cb400ad$export$e08b27e7f37e2782(n.value.shape,a.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),$03d476449ddfcde3$var$checkGrads(n.grads),n}}function $03d476449ddfcde3$export$c756d9ed08b9677f(e,t){$66860e147cb400ad$export$a7a9523472993e97($66860e147cb400ad$export$f6e2535fb5126e54(e),(()=>"The f passed in variableGrads(f) must be a function")),$66860e147cb400ad$export$a7a9523472993e97(null==t||Array.isArray(t)&&t.every((e=>e instanceof $eaf1009c48c149de$export$c867a5c9595a1350)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const a=null!=t;if(!a){t=[];for(const e in $b0d6cc13a7079390$export$33b63313cc511a3b.registeredVariables)t.push($b0d6cc13a7079390$export$33b63313cc511a3b.registeredVariables[e])}const n=a?t.filter((e=>!e.trainable)):null,r=t.length;$66860e147cb400ad$export$a7a9523472993e97((t=t.filter((e=>e.trainable))).length>0,(()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${r} variables is trainable.`));const{value:o,grads:s}=$b0d6cc13a7079390$export$33b63313cc511a3b.gradients(e,t,null,!0);$66860e147cb400ad$export$a7a9523472993e97(s.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),$66860e147cb400ad$export$a7a9523472993e97(0===o.rank,(()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${o.rank} tensor`));const c={};return t.forEach(((e,t)=>{null!=s[t]&&(c[e.name]=s[t])})),null!=n&&n.forEach((e=>c[e.name]=null)),{value:o,grads:c}}function $03d476449ddfcde3$export$5519f0eeb00c44e5(e){return $b0d6cc13a7079390$export$33b63313cc511a3b.customGrad(e)}function $03d476449ddfcde3$var$checkGrads(e){if(e.filter((e=>null==e)).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}function $f3f3ca6320777812$var$logSumExp_(e,t=null,a=!1){const n=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"x","logSumExp"),r=$66860e147cb400ad$export$72b84eb9fe1f482(t,n.shape),o=$9e0c80b2292d5ca1$export$8960430cfd85939f(n,r,!0),s=$c99f28d355a3a2ce$export$f93b5905241a7cca(n,o),c=$6ccc124e4758811d$export$b310ec824aaee37f(s),i=$54121e31a8895c99$export$8a63f25cc62965f1(c,r),d=$0c38a1fcf3910a11$export$bef1f36f5486a6a3(i),f=$b1abd611218ab8cc$export$e16d8520af44a096($4c369a1fffc2774a$export$9eaad88cf88cee2b(o,d.shape),d);if(a){const e=$23a3a40ca9179408$export$e35db9afe008d7e3(f.shape,r);return $4c369a1fffc2774a$export$9eaad88cf88cee2b(f,e)}return f}const $f3f3ca6320777812$export$e20aca1e89397787=$ed8ad16572f67ac2$export$f59964a629598e2({logSumExp_:$f3f3ca6320777812$var$logSumExp_});function $d5714a3bb0cad135$var$softmaxCrossEntropyWithLogits_(e,t,a=-1){if(-1===a&&(a=t.rank-1),a!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${a}`);return $03d476449ddfcde3$export$5519f0eeb00c44e5(((e,t,n)=>{const r=$f3f3ca6320777812$export$e20aca1e89397787(t,[a],!0),o=$c99f28d355a3a2ce$export$f93b5905241a7cca($b8938763064d2335$export$f2db7d5238e1d23f(t,"float32"),r);n([e,o]);const s=$ad000a0dd360e7ae$export$d9493ff0dfa0fdd5($802417d98a09603d$export$6e3a27864ab166fe(o,e));return{value:$54121e31a8895c99$export$8a63f25cc62965f1(s,[a]),gradFunc:(e,t)=>{const[n,r]=t,o=$23a3a40ca9179408$export$e35db9afe008d7e3(e.shape,[a]);return[$802417d98a09603d$export$6e3a27864ab166fe($4c369a1fffc2774a$export$9eaad88cf88cee2b(e,o),$c99f28d355a3a2ce$export$f93b5905241a7cca($b8938763064d2335$export$f2db7d5238e1d23f(n,"float32"),$6ccc124e4758811d$export$b310ec824aaee37f(r))),$802417d98a09603d$export$6e3a27864ab166fe($4c369a1fffc2774a$export$9eaad88cf88cee2b(e,o),$c99f28d355a3a2ce$export$f93b5905241a7cca($6ccc124e4758811d$export$b310ec824aaee37f(r),$b8938763064d2335$export$f2db7d5238e1d23f(n,"float32")))]}}}))(e,t)}function $d5714a3bb0cad135$var$softmaxCrossEntropy_(e,t,a,n=0,r=$4050d1fe895cac8a$export$cc9fa7113d70efba.SUM_BY_NONZERO_WEIGHTS){let o=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"onehotLabels","softmaxCrossEntropy");const s=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"logits","softmaxCrossEntropy");let c=null;if(null!=a&&(c=$f6b5295c7bebfcca$export$ede379c4c939d71a(a,"weights","softmaxCrossEntropy")),$66860e147cb400ad$export$e08b27e7f37e2782(o.shape,s.shape,"Error in softmaxCrossEntropy: "),n>0){const e=$23abd4a5c2de03d8$export$7de3fcd3cdba2a46(n),t=$23abd4a5c2de03d8$export$7de3fcd3cdba2a46(1),a=$23abd4a5c2de03d8$export$7de3fcd3cdba2a46(o.shape[1]);o=$b1abd611218ab8cc$export$e16d8520af44a096($802417d98a09603d$export$6e3a27864ab166fe(o,$c99f28d355a3a2ce$export$f93b5905241a7cca(t,e)),$9cad4239aa360709$export$159d9494db57879b(e,a))}const i=$d5714a3bb0cad135$var$softmaxCrossEntropyWithLogits_(o,s);return $82ebaf686d7087f1$export$23bdc4cea2e28782(i,c,r)}const $d5714a3bb0cad135$export$38869aa02829577=$ed8ad16572f67ac2$export$f59964a629598e2({softmaxCrossEntropy_:$d5714a3bb0cad135$var$softmaxCrossEntropy_});function $a7d5352acc4ce37c$var$sparseFillEmptyRows_(e,t,a,n){const r=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"indices","sparseFillEmptyRows","int32"),o=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"values","sparseFillEmptyRows"),s=$f6b5295c7bebfcca$export$ede379c4c939d71a(a,"denseShape","sparseFillEmptyRows","int32"),c=$f6b5295c7bebfcca$export$ede379c4c939d71a(n,"defaultValue","sparseFillEmptyRows",o.dtype);if(2!==r.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${r.shape}`);if(1!==o.rank)throw new Error(`Values should be Tensor1D but received shape ${o.shape}`);if(1!==s.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${s.shape}`);if(0!==c.rank)throw new Error(`Default value should be a scalar but received shape ${c.shape}`);const i={indices:r,values:o,denseShape:s,defaultValue:c},d=$b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$8f1933853a5c8cca,i);return{outputIndices:d[0],outputValues:d[1],emptyRowIndicator:d[2],reverseIndexMap:d[3]}}const $a7d5352acc4ce37c$export$c82a1904a15b5028=$ed8ad16572f67ac2$export$f59964a629598e2({sparseFillEmptyRows_:$a7d5352acc4ce37c$var$sparseFillEmptyRows_});function $ffd764cae7b43754$var$sparseReshape_(e,t,a){const n=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"inputIndices","sparseReshape","int32"),r=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"inputShape","sparseReshape","int32"),o=$f6b5295c7bebfcca$export$ede379c4c939d71a(a,"newShape","sparseReshape","int32");if(2!==n.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${n.shape}`);if(1!==r.rank)throw new Error(`Input shape should be Tensor1D but received shape ${r.shape}`);if(1!==o.rank)throw new Error(`New shape should be Tensor1D but received shape ${o.shape}`);const s={inputIndices:n,inputShape:r,newShape:o},c=$b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$f08f0dca44fa542,s);return{outputIndices:c[0],outputShape:c[1]}}const $ffd764cae7b43754$export$1408c45865e11fc6=$ed8ad16572f67ac2$export$f59964a629598e2({sparseReshape_:$ffd764cae7b43754$var$sparseReshape_});function $7eba5ca613061fa7$var$sparseSegmentMean_(e,t,a){const n=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"data","sparseSegmentMean"),r=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"indices","sparseSegmentMean","int32"),o=$f6b5295c7bebfcca$export$ede379c4c939d71a(a,"segmentIds","sparseSegmentMean","int32");if(n.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${r.shape}`);if(1!==o.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${o.shape}`);const s={data:n,indices:r,segmentIds:o};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$610b077aecc2447b,s)}const $7eba5ca613061fa7$export$dbc0c9096869d04e=$ed8ad16572f67ac2$export$f59964a629598e2({sparseSegmentMean_:$7eba5ca613061fa7$var$sparseSegmentMean_});function $f9c8289c8cfaa9a5$var$sparseSegmentSum_(e,t,a){const n=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"data","sparseSegmentSum"),r=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"indices","sparseSegmentSum","int32"),o=$f6b5295c7bebfcca$export$ede379c4c939d71a(a,"segmentIds","sparseSegmentSum","int32");if(n.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${r.shape}`);if(1!==o.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${o.shape}`);const s={data:n,indices:r,segmentIds:o};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$68351c28d7116b56,s)}const $f9c8289c8cfaa9a5$export$2255ce53fc777865=$ed8ad16572f67ac2$export$f59964a629598e2({sparseSegmentSum_:$f9c8289c8cfaa9a5$var$sparseSegmentSum_});function $ed0d7a2f860ae7f1$var$stringNGrams_(e,t,a,n,r,o,s,c){const i=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"data","stringNGrams","string");if("string"!==i.dtype)throw new Error("Data must be of datatype string");if(1!==i.shape.length)throw new Error(`Data must be a vector, saw: ${i.shape}`);const d=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"dataSplits","stringNGrams");if("int32"!==d.dtype)throw new Error("Data splits must be of datatype int32");const f={separator:a,nGramWidths:n,leftPad:r,rightPad:o,padWidth:s,preserveShortSequences:c},$={data:i,dataSplits:d},u=$b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$11a7f4af7d96ad41,$,f);return{nGrams:u[0],nGramsSplits:u[1]}}const $ed0d7a2f860ae7f1$export$3490514dcc63b044=$ed8ad16572f67ac2$export$f59964a629598e2({stringNGrams_:$ed0d7a2f860ae7f1$var$stringNGrams_});function $7488b93e04895452$var$stringSplit_(e,t,a=!0){const n=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"input","stringSplit","string"),r=$f6b5295c7bebfcca$export$ede379c4c939d71a(t,"delimiter","stringSplit","string");if(1!==n.rank)throw new Error(`Input should be Tensor1D but received shape ${n.shape}`);if(0!==r.rank)throw new Error(`Delimiter should be a scalar but received shape ${r.shape}`);const o={skipEmpty:a},s={input:n,delimiter:r},c=$b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$7e266f7223b9d396,s,o);return{indices:c[0],values:c[1],shape:c[2]}}const $7488b93e04895452$export$aa7f8babb17e7672=$ed8ad16572f67ac2$export$f59964a629598e2({stringSplit_:$7488b93e04895452$var$stringSplit_});function $71ec6bf42c5804ae$var$stringToHashBucketFast_(e,t){const a=$f6b5295c7bebfcca$export$ede379c4c939d71a(e,"input","stringToHashBucketFast","string"),n={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const r={input:a};return $b0d6cc13a7079390$export$33b63313cc511a3b.runKernel($0eb90ddf241a18bf$export$a5639899909bc8ae,r,n)}const $71ec6bf42c5804ae$export$6195616d6fd0c848=$ed8ad16572f67ac2$export$f59964a629598e2({stringToHashBucketFast_:$71ec6bf42c5804ae$var$stringToHashBucketFast_}),$acfddc1a67f6665a$var$delayCallback="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:e=>e();
/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $acfddc1a67f6665a$export$68d2d147c928d1dd(){return new Promise((e=>$acfddc1a67f6665a$var$delayCallback((()=>e()))))}var $5546163d7eac2223$export$7b843996b6cf8ee0,$5546163d7eac2223$export$4cb673822966e9a9;let $79ec4af05bd7f4d5$var$wasmFusedMatMul;function $79ec4af05bd7f4d5$var$setup(e){$79ec4af05bd7f4d5$var$wasmFusedMatMul=e.wasm.cwrap($0eb90ddf241a18bf$export$8d1af0f7c2a4da9e,null,["number","array","number","number","array","number","number","number","number","number","number","number","number"])}function $79ec4af05bd7f4d5$var$fusedBatchMatMul(e){const{inputs:t,backend:a,attrs:n}=e,{a:r,b:o,bias:s,preluActivationWeights:c}=t;if("float32"!==r.dtype||"float32"!==o.dtype)throw new Error("_FusedMatMul for non non-float32 tensors not yet supported.");const{transposeA:i,transposeB:d,activation:f,leakyreluAlpha:$}=n,u=a.dataIdMap.get(r.dataId).id,p=a.dataIdMap.get(o.dataId).id;let l=0;if(null!=s){const e=a.dataIdMap.get(s.dataId);if(1!==e.shape.length)throw new Error(`_FusedMatMul only supports rank-1 bias but got rank ${e.shape.length}.`);l=e.id}const b=null==c?0:a.dataIdMap.get(c.dataId).id,h=$5546163d7eac2223$export$4cb673822966e9a9[f];if(null==h)throw new Error(`${f} activation not yet supported for FusedConv2D in the wasm backend.`);const x=i?r.shape[2]:r.shape[1],m=d?o.shape[1]:o.shape[2],g=$cbf310cf53e91f85$exports.assertAndGetBroadcastShape(r.shape.slice(0,-2),o.shape.slice(0,-2)),v=a.makeOutput([...g,x,m],r.dtype),y=a.dataIdMap.get(v.dataId).id,w=new Uint8Array(new Int32Array(r.shape).buffer),_=new Uint8Array(new Int32Array(o.shape).buffer);return $79ec4af05bd7f4d5$var$wasmFusedMatMul(u,w,r.shape.length,p,_,o.shape.length,i,d,h,l,b,$||0,y),v}!function(e){e[e.float32=0]="float32",e[e.int32=1]="int32",e[e.bool=2]="bool",e[e.string=3]="string",e[e.complex64=4]="complex64"}($5546163d7eac2223$export$7b843996b6cf8ee0||($5546163d7eac2223$export$7b843996b6cf8ee0={})),function(e){e[e.linear=0]="linear",e[e.relu=1]="relu",e[e.relu6=2]="relu6",e[e.prelu=3]="prelu",e[e.leakyrelu=4]="leakyrelu",e[e.sigmoid=5]="sigmoid",e[e.elu=6]="elu"}($5546163d7eac2223$export$4cb673822966e9a9||($5546163d7eac2223$export$4cb673822966e9a9={}));const $79ec4af05bd7f4d5$export$f70d36da1c218f84={kernelName:$0eb90ddf241a18bf$export$8d1af0f7c2a4da9e,backendName:"wasm",setupFunc:$79ec4af05bd7f4d5$var$setup,kernelFunc:$79ec4af05bd7f4d5$var$fusedBatchMatMul};function $f634810283efcf2e$export$1064a4367d46e10e(e,t){let a;return{kernelName:e,backendName:"wasm",setupFunc:function(t){a=t.wasm.cwrap(e,null,["number","number","number"])},kernelFunc:function(e){const{backend:n,inputs:{x:r}}=e,o=n.dataIdMap.get(r.dataId).id,s=n.makeOutput(r.shape,t||r.dtype),c=n.dataIdMap.get(s.dataId).id;return 0===$5d5df9ecf1c80076$exports.sizeFromShape(s.shape)||a(o,$5546163d7eac2223$export$7b843996b6cf8ee0[r.dtype],c),s}}}const $a0bd7b36004929d1$export$d66f48648b9d5ec7=$f634810283efcf2e$export$1064a4367d46e10e($0eb90ddf241a18bf$export$b73c596ee8758a66);function $dffddab03cfc8242$export$643f3601638ef87a(e,t,a){let n;return{kernelName:e,backendName:"wasm",setupFunc:function(t){n=t.wasm.cwrap(e,null,["number","array","number","number","array","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:r}=e,{a:o,b:s}=r,c=t.dataIdMap.get(o.dataId).id,i=t.dataIdMap.get(s.dataId).id,d=null!=a?a:o.dtype,f=$c4c4d404109848b6$exports.assertAndGetBroadcastShape(o.shape,s.shape),$=t.makeOutput(f,d);if(0===$5d5df9ecf1c80076$exports.sizeFromShape(f))return $;const u=new Uint8Array(new Int32Array(o.shape).buffer),p=new Uint8Array(new Int32Array(s.shape).buffer),l=t.dataIdMap.get($.dataId).id;return n(c,u,o.shape.length,i,p,s.shape.length,$5546163d7eac2223$export$7b843996b6cf8ee0[o.dtype],l),$}}}const $25e6516a9e772796$var$supportsFullBroadcast=!0,$25e6516a9e772796$export$b1f3a580afb68e4c=$dffddab03cfc8242$export$643f3601638ef87a($0eb90ddf241a18bf$export$d0265b2c425512d6,$25e6516a9e772796$var$supportsFullBroadcast);let $d4a1b8794d01056a$var$wasmFunc;function $d4a1b8794d01056a$var$setupFunc(e){$d4a1b8794d01056a$var$wasmFunc=e.wasm.cwrap($0eb90ddf241a18bf$export$eef235ad06d3226a,null,["array","number","number","number"])}function $d4a1b8794d01056a$var$addn(e){const{inputs:t,backend:a}=e,n=a.makeOutput(t[0].shape,t[0].dtype);if(0===$5d5df9ecf1c80076$exports.sizeFromShape(n.shape))return n;const r=t.map((e=>a.dataIdMap.get(e.dataId).id)),o=new Uint8Array(new Int32Array(r).buffer),s=a.dataIdMap.get(n.dataId).id;return $d4a1b8794d01056a$var$wasmFunc(o,r.length,$5546163d7eac2223$export$7b843996b6cf8ee0[n.dtype],s),n}const $d4a1b8794d01056a$export$ff8000bc6f0313e1={kernelName:$0eb90ddf241a18bf$export$eef235ad06d3226a,backendName:"wasm",setupFunc:$d4a1b8794d01056a$var$setupFunc,kernelFunc:$d4a1b8794d01056a$var$addn};function $2ff6ddcdc9f04436$export$f0954fd7d5368655(e){const{inputs:{x:t},backend:a}=e,n=a.makeOutput(t.shape,t.dtype),r=a.typedArrayFromHeap(t);return a.typedArrayFromHeap(n).set(r),n}const $2ff6ddcdc9f04436$export$c426d3942537ad84={kernelName:$0eb90ddf241a18bf$export$544bf02140fa9a77,backendName:"wasm",kernelFunc:$2ff6ddcdc9f04436$export$f0954fd7d5368655};let $6d56e0ab03b8e542$var$wasmTranspose;function $6d56e0ab03b8e542$var$setup(e){$6d56e0ab03b8e542$var$wasmTranspose=e.wasm.cwrap($0eb90ddf241a18bf$export$7e714455f9a1f8f7,null,["number","array","number","number","number","array","number"])}function $6d56e0ab03b8e542$export$9cb09a71b7d66923(e){const{inputs:t,backend:a,attrs:n}=e,[r,o]=$6d56e0ab03b8e542$var$removeOneSizeDims(t.x.shape,n.perm);let s=!0;for(let e=0;e<o.length;e++)o[e]!==e&&(s=!1);const c=$6d56e0ab03b8e542$var$computeOutShape(t.x.shape,n.perm),i={dataId:t.x.dataId,shape:r,dtype:t.x.dtype};if(s){const e=$2ff6ddcdc9f04436$export$f0954fd7d5368655({inputs:t,backend:a});return e.shape=c,e}const d=a.makeOutput(c,i.dtype),f=a.dataIdMap.get(i.dataId).id,$=a.dataIdMap.get(d.dataId).id,u=new Uint8Array(new Int32Array(o).buffer),p=new Uint8Array(new Int32Array(i.shape).buffer);return $6d56e0ab03b8e542$var$wasmTranspose(f,p,i.shape.length,$5546163d7eac2223$export$7b843996b6cf8ee0[i.dtype],$,u,o.length),d}function $6d56e0ab03b8e542$var$computeOutShape(e,t){const a=new Array(e.length);for(let n=0;n<a.length;n++)a[n]=e[t[n]];return a}function $6d56e0ab03b8e542$var$removeOneSizeDims(e,t){const a=[],n=[];for(let r=0;r<e.length;++r)1!==e[r]&&a.push(e[r]),1!==e[t[r]]&&n.push(t[r]);for(let e=0;e<n.length;++e){let t=-1;for(let a=0;a<n.length;++a)n[a]>=e&&(-1===t||n[t]>n[a])&&(t=a);n[t]=e}return[a,n]}const $6d56e0ab03b8e542$export$895a002a39b774be={kernelName:$0eb90ddf241a18bf$export$7e714455f9a1f8f7,backendName:"wasm",kernelFunc:$6d56e0ab03b8e542$export$9cb09a71b7d66923,setupFunc:$6d56e0ab03b8e542$var$setup};function $e8a826f0276978b9$export$822718f51723d8ff(e,t,a){const n=e.shape,r=e.shape.length,o=$5d5df9ecf1c80076$exports.parseAxisParam(t,n);let s=o;const c=$c4c4d404109848b6$exports.getAxesPermutation(s,r);let i=null,d=!1;if(null!=c){const t=new Array(r);for(let e=0;e<t.length;e++)t[e]=n[c[e]];s=$c4c4d404109848b6$exports.getInnerMostAxes(s.length,r),i=$6d56e0ab03b8e542$export$9cb09a71b7d66923({inputs:{x:e},attrs:{perm:c},backend:a});const o=a.dataIdMap.get(e.dataId).id;a.dataIdMap.get(i.dataId).id!==o&&(d=!0)}return{transposed:i,originalAxes:o,axes:s,inputWasTransposed:d}}let $f8d216498329c068$var$wasmAll;function $f8d216498329c068$var$setup(e){$f8d216498329c068$var$wasmAll=e.wasm.cwrap($0eb90ddf241a18bf$export$5dceb1ab650a1776,null,["number, number, number"])}function $f8d216498329c068$var$all(e){const{backend:t,inputs:a,attrs:n}=e,{axis:r,keepDims:o}=n,{x:s}=a;let c=t.dataIdMap.get(s.dataId).id,i=s;const{transposed:d,axes:f,originalAxes:$,inputWasTransposed:u}=$e8a826f0276978b9$export$822718f51723d8ff(s,r,t);if(u){i=d,c=t.dataIdMap.get(d.dataId).id}const p=i.shape.length;$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("all",f,p);const[l,b]=$c4c4d404109848b6$exports.computeOutAndReduceShapes(i.shape,f),h=$5d5df9ecf1c80076$exports.sizeFromShape(b),x=t.makeOutput(l,s.dtype);if(0!==$5d5df9ecf1c80076$exports.sizeFromShape(i.shape)){const e=t.dataIdMap.get(x.dataId).id;$f8d216498329c068$var$wasmAll(c,h,e)}if(u&&t.disposeData(d.dataId),o){const e=$c4c4d404109848b6$exports.expandShapeToKeepDim(x.shape,$);x.shape=e}return x}const $f8d216498329c068$export$4e3f081eb1a330fa={kernelName:$0eb90ddf241a18bf$export$5dceb1ab650a1776,backendName:"wasm",setupFunc:$f8d216498329c068$var$setup,kernelFunc:$f8d216498329c068$var$all};let $620e6c61b9b85f5b$var$wasmAny;function $620e6c61b9b85f5b$var$setup(e){$620e6c61b9b85f5b$var$wasmAny=e.wasm.cwrap($0eb90ddf241a18bf$export$b24b633b1364b94b,null,["number, number, number"])}function $620e6c61b9b85f5b$var$any(e){const{backend:t,inputs:a,attrs:n}=e,{axis:r,keepDims:o}=n,{x:s}=a;let c=t.dataIdMap.get(s.dataId).id,i=s;const{transposed:d,axes:f,originalAxes:$,inputWasTransposed:u}=$e8a826f0276978b9$export$822718f51723d8ff(s,r,t);if(u){i=d,c=t.dataIdMap.get(d.dataId).id}const p=i.shape.length;$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("any",f,p);const[l,b]=$c4c4d404109848b6$exports.computeOutAndReduceShapes(i.shape,f),h=$5d5df9ecf1c80076$exports.sizeFromShape(b),x=t.makeOutput(l,s.dtype);if(0!==$5d5df9ecf1c80076$exports.sizeFromShape(i.shape)){const e=t.dataIdMap.get(x.dataId).id;$620e6c61b9b85f5b$var$wasmAny(c,h,e)}if(u&&t.disposeData(d.dataId),o){const e=$c4c4d404109848b6$exports.expandShapeToKeepDim(x.shape,$);x.shape=e}return x}const $620e6c61b9b85f5b$export$1a8ff634f2df3da6={kernelName:$0eb90ddf241a18bf$export$b24b633b1364b94b,backendName:"wasm",setupFunc:$620e6c61b9b85f5b$var$setup,kernelFunc:$620e6c61b9b85f5b$var$any};let $81e7f81e2f2885bc$var$wasmFunc;function $81e7f81e2f2885bc$var$setup(e){$81e7f81e2f2885bc$var$wasmFunc=e.wasm.cwrap($0eb90ddf241a18bf$export$17612294a1503e1c,null,["number","number","number","number","number"])}function $81e7f81e2f2885bc$var$argmax(e){const{backend:t,inputs:a,attrs:n}=e,{axis:r}=n,{x:o}=a,s=t.dataIdMap.get(o.dataId).id;let c=s,i=o;const{transposed:d,axes:f,inputWasTransposed:$}=$e8a826f0276978b9$export$822718f51723d8ff(o,r,t);if($){const e=t.dataIdMap.get(d.dataId).id;e!==s&&(i=d,c=e)}const u=i.shape.slice(0,-1),p=t.makeOutput(u,"int32"),l=t.dataIdMap.get(p.dataId).id,b=$5d5df9ecf1c80076$exports.sizeFromShape(p.shape),h=i.shape[f[0]];return $81e7f81e2f2885bc$var$wasmFunc(c,$5546163d7eac2223$export$7b843996b6cf8ee0[i.dtype],b,h,l),$&&t.disposeData(d.dataId),p}const $81e7f81e2f2885bc$export$ec7419fc9ad0069e={kernelName:$0eb90ddf241a18bf$export$17612294a1503e1c,backendName:"wasm",kernelFunc:$81e7f81e2f2885bc$var$argmax,setupFunc:$81e7f81e2f2885bc$var$setup};let $c51f44e24d16b338$var$wasmAvgPool;function $c51f44e24d16b338$var$setup(e){$c51f44e24d16b338$var$wasmAvgPool=e.wasm.cwrap($0eb90ddf241a18bf$export$37f2cc7be1add88c,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function $c51f44e24d16b338$var$avgPool(e){const{inputs:t,attrs:a,backend:n}=e,r=t.x,o=n.dataIdMap.get(r.dataId).id,{filterSize:s,strides:c,pad:i,dimRoundingMode:d}=a,f=$c4c4d404109848b6$exports.computePool2DInfo(r.shape,s,c,1,i,d),$=f.filterHeight,u=f.filterWidth,p=f.padInfo.top,l=f.padInfo.right,b=f.padInfo.bottom,h=f.padInfo.left,x=f.strideHeight,m=f.strideWidth,g=f.inChannels;if("channelsLast"!==f.dataFormat)throw new Error(`wasm backend does not support dataFormat:'${f.dataFormat}'. Please use 'channelsLast'.`);if(1!==f.dilationWidth||1!==f.dilationHeight)throw new Error(`was backend only supports average pooling with dilation = [1, 1], got [${f.dilationHeight}, ${f.dilationWidth}].`);const v=n.makeOutput(f.outShape,"float32"),y=n.dataIdMap.get(v.dataId).id;return $c51f44e24d16b338$var$wasmAvgPool(o,r.shape[0],r.shape[1],r.shape[2],$,u,p,l,b,h,x,m,g,y),v}const $c51f44e24d16b338$export$6c901824a23e6150={kernelName:$0eb90ddf241a18bf$export$37f2cc7be1add88c,backendName:"wasm",setupFunc:$c51f44e24d16b338$var$setup,kernelFunc:$c51f44e24d16b338$var$avgPool};function $c509dc069b10c20a$export$9eaad88cf88cee2b(e){const{inputs:t,attrs:a}=e,{x:n}=t,{shape:r}=a,o=$5d5df9ecf1c80076$exports.sizeFromShape(n.shape),s=$5d5df9ecf1c80076$exports.inferFromImplicitShape(r,o);return $5d5df9ecf1c80076$exports.assert(o===$5d5df9ecf1c80076$exports.sizeFromShape(s),(()=>`new shape: ${s}, old shape: ${n.shape}. New shape and old shape must have the same number of elements.`)),e.backend.incRef(n.dataId),{dataId:n.dataId,shape:s,dtype:n.dtype}}const $c509dc069b10c20a$export$cfa02e698602aca2={kernelName:$0eb90ddf241a18bf$export$755ddd847e5abe03,backendName:"wasm",kernelFunc:$c509dc069b10c20a$export$9eaad88cf88cee2b};let $3b7e64023609dafd$var$wasmBatchMatMul;function $3b7e64023609dafd$var$setup(e){$3b7e64023609dafd$var$wasmBatchMatMul=e.wasm.cwrap($0eb90ddf241a18bf$export$9a3bf60b23f63c8,null,["number","array","number","number","array","number","number","number","number"])}function $3b7e64023609dafd$var$batchMatMul(e){const{inputs:t,backend:a,attrs:n}=e,{a:r,b:o}=t,{transposeA:s,transposeB:c}=n;if("float32"!==r.dtype||"float32"!==o.dtype)throw new Error("BatchMatMul for non non-float32 tensors not yet supported.");const i=r.shape.length,d=o.shape.length,f=s?r.shape[i-2]:r.shape[i-1],$=c?o.shape[d-1]:o.shape[d-2],u=s?r.shape[i-1]:r.shape[i-2],p=c?o.shape[d-2]:o.shape[d-1],l=r.shape.slice(0,-2),b=o.shape.slice(0,-2),h=$5d5df9ecf1c80076$exports.sizeFromShape(l),x=$5d5df9ecf1c80076$exports.sizeFromShape(b),m=$cbf310cf53e91f85$exports.assertAndGetBroadcastShape(r.shape.slice(0,-2),o.shape.slice(0,-2)).concat([u,p]);$5d5df9ecf1c80076$exports.assert(f===$,(()=>`Error in matMul: inner shapes (${f}) and (${$}) of Tensors with shapes ${r.shape} and ${o.shape} and transposeA=${s} and transposeB=${c} must match.`));const g=c?[x,p,$]:[x,$,p],v=$c509dc069b10c20a$export$9eaad88cf88cee2b({inputs:{x:r},backend:a,attrs:{shape:s?[h,f,u]:[h,u,f]}}),y=$c509dc069b10c20a$export$9eaad88cf88cee2b({inputs:{x:o},backend:a,attrs:{shape:g}}),w=a.dataIdMap.get(v.dataId).id,_=a.dataIdMap.get(y.dataId).id,I=s?v.shape[2]:v.shape[1],S=c?y.shape[1]:y.shape[2],T=Math.max(h,x),k=a.makeOutput([T,I,S],v.dtype),E=a.dataIdMap.get(k.dataId).id,A=new Uint8Array(new Int32Array(v.shape).buffer),C=new Uint8Array(new Int32Array(y.shape).buffer);return $3b7e64023609dafd$var$wasmBatchMatMul(w,A,v.shape.length,_,C,y.shape.length,s,c,E),a.disposeData(v.dataId),a.disposeData(y.dataId),k.shape=m,k}const $3b7e64023609dafd$export$d0dd993198185538={kernelName:$0eb90ddf241a18bf$export$9a3bf60b23f63c8,backendName:"wasm",setupFunc:$3b7e64023609dafd$var$setup,kernelFunc:$3b7e64023609dafd$var$batchMatMul};var $068de0e28a5d41bf$exports={};function $a610dd74d979c6f8$export$1412c17b2531581a(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&$5d5df9ecf1c80076$exports.assert("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the CPU backend.`))}))}function $5a50297bc2f31277$export$9e7ee8a1798ec2d5(e){const t=new Float32Array(e.length);for(let a=0;a<e.length;++a)t[a]=Math.abs(e[a]);return t}$parcel$export($068de0e28a5d41bf$exports,"simpleAbsImpl",(function(){return $5a50297bc2f31277$export$9e7ee8a1798ec2d5})),$parcel$export($068de0e28a5d41bf$exports,"addImpl",(function(){return $5a19aa681576e63e$export$da57353b24bb5e2})),$parcel$export($068de0e28a5d41bf$exports,"bincountImpl",(function(){return $9f76ddbf9ddceeac$export$8e4da6ec633bf0a6})),$parcel$export($068de0e28a5d41bf$exports,"bincountReduceImpl",(function(){return $9f76ddbf9ddceeac$export$486b8d48edd28ba5})),$parcel$export($068de0e28a5d41bf$exports,"ceilImpl",(function(){return $39cb1eaa891bf103$export$72486f20c97f6da8})),$parcel$export($068de0e28a5d41bf$exports,"concatImpl",(function(){return $15c8f1254ef4b6c0$export$777da59f594f497d})),$parcel$export($068de0e28a5d41bf$exports,"equalImpl",(function(){return $b3d3800932b5f0c5$export$437b1c87795f120c})),$parcel$export($068de0e28a5d41bf$exports,"expImpl",(function(){return $b234c8aeb0eec368$export$823000b70594f385})),$parcel$export($068de0e28a5d41bf$exports,"expm1Impl",(function(){return $76e4fd9298f1ce19$export$44f6c1b1ff8db911})),$parcel$export($068de0e28a5d41bf$exports,"floorImpl",(function(){return $3066c937cbf45358$export$c365361068e97c87})),$parcel$export($068de0e28a5d41bf$exports,"gatherNdImpl",(function(){return $019b27ceef9d27c2$export$eed1912b07a3c4d5})),$parcel$export($068de0e28a5d41bf$exports,"gatherV2Impl",(function(){return $a55d086092516d60$export$d7b732f2e62ccc09})),$parcel$export($068de0e28a5d41bf$exports,"greaterImpl",(function(){return $6643b7b93ad9747d$export$bec57aa1d63b78bc})),$parcel$export($068de0e28a5d41bf$exports,"greaterEqualImpl",(function(){return $cb54182d74378067$export$3cea60aeb61ae586})),$parcel$export($068de0e28a5d41bf$exports,"lessImpl",(function(){return $91b2cf2367a0f089$export$d4d22ddbe6cd91a5})),$parcel$export($068de0e28a5d41bf$exports,"lessEqualImpl",(function(){return $08d6e89d0e7f87c8$export$27397851733876fa})),$parcel$export($068de0e28a5d41bf$exports,"linSpaceImpl",(function(){return $457a08d46fe2d764$export$31412d657cd1cc08})),$parcel$export($068de0e28a5d41bf$exports,"logImpl",(function(){return $0238b81cd7289b3d$export$8a107ec4d5b0e907})),$parcel$export($068de0e28a5d41bf$exports,"maxImpl",(function(){return $71fc9e36d85670a1$export$23c9b99bdac85be0})),$parcel$export($068de0e28a5d41bf$exports,"maximumImpl",(function(){return $ab744febf0b5aceb$export$4e233ba825c9b60e})),$parcel$export($068de0e28a5d41bf$exports,"minimumImpl",(function(){return $4b9a7d869dbc67b4$export$756c08a3fa64d43})),$parcel$export($068de0e28a5d41bf$exports,"multiplyImpl",(function(){return $1ae3d2d9e69b2480$export$ac59ae2be94ddda3})),$parcel$export($068de0e28a5d41bf$exports,"negImpl",(function(){return $b160db426e2c9d4a$export$e9053236ce0e659b})),$parcel$export($068de0e28a5d41bf$exports,"notEqualImpl",(function(){return $78a2668b708ad7fb$export$eaea354630818ed4})),$parcel$export($068de0e28a5d41bf$exports,"prodImpl",(function(){return $11f9d31ae559ad70$export$a3c8a5271f6bb700})),$parcel$export($068de0e28a5d41bf$exports,"rangeImpl",(function(){return $9595a21d3739f473$export$3561205b7dff20bf})),$parcel$export($068de0e28a5d41bf$exports,"rsqrtImpl",(function(){return $aae6ccad10f239ab$export$7ec24de9bffc6b90})),$parcel$export($068de0e28a5d41bf$exports,"sigmoidImpl",(function(){return $76a5e0b6ff81836e$export$e31bae35ce8238b3})),$parcel$export($068de0e28a5d41bf$exports,"sliceImpl",(function(){return $b3c67133f4f177b8$export$4bdf1ac3fa5d3d6a})),$parcel$export($068de0e28a5d41bf$exports,"sparseFillEmptyRowsImpl",(function(){return $a5427b1ddd7612eb$export$9db01208a1bec190})),$parcel$export($068de0e28a5d41bf$exports,"sparseReshapeImpl",(function(){return $be64bb2f8f7ebf6f$export$a65a15ebab81f5cd})),$parcel$export($068de0e28a5d41bf$exports,"sparseSegmentReductionImpl",(function(){return $b080b65bcdb9aafb$export$7d3f7130c4245e65})),$parcel$export($068de0e28a5d41bf$exports,"sqrtImpl",(function(){return $7811b50048ad2db7$export$c6f4fdf945028fb})),$parcel$export($068de0e28a5d41bf$exports,"squaredDifferenceImpl",(function(){return $73349831fff5756e$export$11806d7b3158c032})),$parcel$export($068de0e28a5d41bf$exports,"stridedSliceImpl",(function(){return $1ad18ebc53d8b619$export$b7c450ffe7e10d88})),$parcel$export($068de0e28a5d41bf$exports,"stringNGramsImpl",(function(){return $0815bc80fd64de2e$export$67c0958e8184138b})),$parcel$export($068de0e28a5d41bf$exports,"stringSplitImpl",(function(){return $a59fa5395e12d6f9$export$c3b08e43aa36d65d})),$parcel$export($068de0e28a5d41bf$exports,"stringToHashBucketFastImpl",(function(){return $80c9bedebdbfc94e$export$37cbed4d0b2fe56a})),$parcel$export($068de0e28a5d41bf$exports,"subImpl",(function(){return $9f61baa0f7f211bf$export$ad8defe68e22c8c1})),$parcel$export($068de0e28a5d41bf$exports,"tileImpl",(function(){return $98c2ffb2d09d69b6$export$f3e554b937559516})),$parcel$export($068de0e28a5d41bf$exports,"topKImpl",(function(){return $555f8fe85567f612$export$b083239978762299})),$parcel$export($068de0e28a5d41bf$exports,"transposeImpl",(function(){return $0351532618eecdf1$export$986b9e65182e08d})),$parcel$export($068de0e28a5d41bf$exports,"uniqueImpl",(function(){return $c9f22ffb681b2e6a$export$58be9cc013c994e}));const $5a50297bc2f31277$export$2335f513bbd82c6d=e=>{const{x:t}=e.inputs,a=e.backend;$a610dd74d979c6f8$export$1412c17b2531581a(t,"abs");let n=new Float32Array($5d5df9ecf1c80076$exports.sizeFromShape(t.shape));return n=$5a50297bc2f31277$export$9e7ee8a1798ec2d5(a.data.get(t.dataId).values),a.makeOutput(n,t.shape,t.dtype)},$5a50297bc2f31277$export$d66f48648b9d5ec7={kernelName:$0eb90ddf241a18bf$export$b73c596ee8758a66,backendName:"cpu",kernelFunc:$5a50297bc2f31277$export$2335f513bbd82c6d};function $dd3145371544799a$export$28de919591fae5d9(e){return(t,a,n,r,o)=>{const s=$c4c4d404109848b6$exports.assertAndGetBroadcastShape(t,a),c=s.length,i=$5d5df9ecf1c80076$exports.computeStrides(s),d=$5d5df9ecf1c80076$exports.sizeFromShape(s),f=$5d5df9ecf1c80076$exports.getTypedArrayFromDType(o,d),$=t.length,u=a.length,p=$5d5df9ecf1c80076$exports.computeStrides(t),l=$5d5df9ecf1c80076$exports.computeStrides(a),b=$c4c4d404109848b6$exports.getBroadcastDims(t,s),h=$c4c4d404109848b6$exports.getBroadcastDims(a,s);if(b.length+h.length===0)for(let t=0;t<f.length;++t)f[t]=e(n[t%n.length],r[t%r.length]);else for(let t=0;t<f.length;++t){const a=$5d5df9ecf1c80076$exports.indexToLoc(t,c,i),o=a.slice(-$);b.forEach((e=>o[e]=0));const s=$5d5df9ecf1c80076$exports.locToIndex(o,$,p),d=a.slice(-u);h.forEach((e=>d[e]=0));const x=$5d5df9ecf1c80076$exports.locToIndex(d,u,l);f[t]=e(n[s],r[x])}return[f,s]}}function $5a06c686963b389a$export$83a0e34f1302825b(e){const{inputs:t,backend:a}=e,{real:n,imag:r}=t,o=a.data.get(n.dataId).values,s=a.data.get(r.dataId).values,c=a.makeTensorInfo(n.shape,"complex64");return a.data.get(c.dataId).complexTensorInfos={real:a.makeTensorInfo(n.shape,"float32",o),imag:a.makeTensorInfo(r.shape,"float32",s)},c}const $5a06c686963b389a$export$67917f7910d27fd8={kernelName:$0eb90ddf241a18bf$export$50ceb3fb9926e63e,backendName:"cpu",kernelFunc:$5a06c686963b389a$export$83a0e34f1302825b};function $f4826b2dec0fef84$export$4445a00dafa2633b(e,t,a="float32"){if("complex64"===a){return $5a06c686963b389a$export$83a0e34f1302825b({inputs:{real:$f4826b2dec0fef84$export$4445a00dafa2633b(e,t,"float32"),imag:$f4826b2dec0fef84$export$4445a00dafa2633b(e,t,"float32")},backend:e})}const n=$5d5df9ecf1c80076$exports.makeZerosTypedArray($5d5df9ecf1c80076$exports.sizeFromShape(t),a);return e.makeTensorInfo(t,a,n)}function $ce3553c9094c2ca5$export$f0954fd7d5368655(e){const{inputs:t,backend:a}=e,{x:n}=t;return a.incRef(n.dataId),{dataId:n.dataId,shape:n.shape,dtype:n.dtype}}const $ce3553c9094c2ca5$export$c426d3942537ad84={kernelName:$0eb90ddf241a18bf$export$544bf02140fa9a77,backendName:"cpu",kernelFunc:$ce3553c9094c2ca5$export$f0954fd7d5368655};function $e450c9206864f81f$export$9fc57fb453bdbd67(e){const{inputs:t,backend:a}=e,{input:n}=t,r=a.data.get(n.dataId).complexTensorInfos.real,o=a.data.get(r.dataId).values;return a.makeTensorInfo(r.shape,r.dtype,o)}const $e450c9206864f81f$export$4b7bce57557ae68b={kernelName:$0eb90ddf241a18bf$export$f41305719b94e675,backendName:"cpu",kernelFunc:$e450c9206864f81f$export$9fc57fb453bdbd67};function $b24dde8cf719cd9e$export$f2db7d5238e1d23f(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{dtype:o}=n;if("complex64"===o){if("complex64"===r.dtype)return $ce3553c9094c2ca5$export$f0954fd7d5368655({inputs:{x:r},backend:a});const e=$f4826b2dec0fef84$export$4445a00dafa2633b(a,r.shape,r.dtype),t=$b24dde8cf719cd9e$export$f2db7d5238e1d23f({inputs:{x:r},backend:a,attrs:{dtype:"float32"}}),n=$5a06c686963b389a$export$83a0e34f1302825b({inputs:{real:t,imag:e},backend:a});return a.disposeIntermediateTensorInfo(e),a.disposeIntermediateTensorInfo(t),n}if("complex64"===r.dtype){const e=$e450c9206864f81f$export$9fc57fb453bdbd67({inputs:{input:r},backend:a}),t=$b24dde8cf719cd9e$export$f2db7d5238e1d23f({inputs:{x:e},backend:a,attrs:{dtype:o}});return a.disposeIntermediateTensorInfo(e),t}if(!$5d5df9ecf1c80076$exports.hasEncodingLoss(r.dtype,o)){const e=$ce3553c9094c2ca5$export$f0954fd7d5368655({inputs:{x:r},backend:a});return{dataId:e.dataId,shape:e.shape,dtype:o}}if("int32"===o){const e=a.data.get(r.dataId).values,t=Int32Array.from(e);return a.makeTensorInfo(r.shape,"int32",t)}if("bool"===o){const e=a.data.get(r.dataId).values,t=$5d5df9ecf1c80076$exports.toTypedArray([0],r.dtype),[n,o]=$dd3145371544799a$export$28de919591fae5d9(((e,t)=>e!==t?1:0))(r.shape,[],e,t,"bool");return a.makeTensorInfo(o,"bool",n)}throw new Error(`Error in Cast: failed to cast ${r.dtype} to ${o}`)}const $b24dde8cf719cd9e$export$ac4d0f0f3927a8f3={kernelName:$0eb90ddf241a18bf$export$107ecfb3d1ccbd77,backendName:"cpu",kernelFunc:$b24dde8cf719cd9e$export$f2db7d5238e1d23f};function $fd60d8c5c1532db1$export$29353c66e70e3e16(e,t,a,n){return null==a?({inputs:a,backend:r})=>{const{a:o,b:s}=a,c=r;$a610dd74d979c6f8$export$1412c17b2531581a([o,s],e);const i=c.data.get(o.dataId).values,d=c.data.get(s.dataId).values,f="string"===o.dtype?$c4c4d404109848b6$exports.fromUint8ToStringArray(i):i,$="string"===o.dtype?$c4c4d404109848b6$exports.fromUint8ToStringArray(d):d,u=n||o.dtype,[p,l]=t(o.shape,s.shape,f,$,u);return c.makeTensorInfo(l,u,p)}:({inputs:e,backend:r})=>{const{a:o,b:s}=e,c=r;if("complex64"===o.dtype||"complex64"===s.dtype){const e=$b24dde8cf719cd9e$export$f2db7d5238e1d23f({inputs:{x:o},backend:c,attrs:{dtype:"complex64"}}),t=c.data.get(e.dataId),n=t.complexTensorInfos.real,r=t.complexTensorInfos.imag,i=c.data.get(n.dataId).values,d=c.data.get(r.dataId).values,f=$b24dde8cf719cd9e$export$f2db7d5238e1d23f({inputs:{x:s},backend:c,attrs:{dtype:"complex64"}}),$=c.data.get(f.dataId),u=$.complexTensorInfos.real,p=$.complexTensorInfos.imag,l=c.data.get(u.dataId).values,b=c.data.get(p.dataId).values,[h,x,m]=a(o.shape,s.shape,i,d,l,b),g=c.makeTensorInfo(m,"float32",h),v=c.makeTensorInfo(m,"float32",x),y=$5a06c686963b389a$export$83a0e34f1302825b({inputs:{real:g,imag:v},backend:c});return c.disposeIntermediateTensorInfo(e),c.disposeIntermediateTensorInfo(f),c.disposeIntermediateTensorInfo(g),c.disposeIntermediateTensorInfo(v),y}{const e=c.data.get(o.dataId).values,a=c.data.get(s.dataId).values,r=n||o.dtype,[i,d]=t(o.shape,s.shape,e,a,r);return c.makeTensorInfo(d,r,i)}}}function $fd60d8c5c1532db1$export$79261d982c3c14a7(e){return(t,a,n,r,o,s)=>{const c=$c4c4d404109848b6$exports.assertAndGetBroadcastShape(t,a),i=$5d5df9ecf1c80076$exports.sizeFromShape(c),d=c.length,f=$5d5df9ecf1c80076$exports.computeStrides(c),$=$5d5df9ecf1c80076$exports.getTypedArrayFromDType("float32",i),u=$5d5df9ecf1c80076$exports.getTypedArrayFromDType("float32",i),p=$c4c4d404109848b6$exports.getBroadcastDims(t,c),l=$c4c4d404109848b6$exports.getBroadcastDims(a,c),b=$c4c4d404109848b6$exports.mergeRealAndImagArrays(n,r),h=$c4c4d404109848b6$exports.mergeRealAndImagArrays(o,s),x=t.length,m=$5d5df9ecf1c80076$exports.computeStrides(t),g=a.length,v=$5d5df9ecf1c80076$exports.computeStrides(a);if(p.length+l.length===0)for(let t=0;t<$.length;t++){const a=t%b.length,n=t%h.length,r=e(b[2*a],b[2*a+1],h[2*n],h[2*n+1]);$[t]=r.real,u[t]=r.imag}else for(let t=0;t<$.length;t++){const a=$5d5df9ecf1c80076$exports.indexToLoc(t,d,f),n=a.slice(-x);p.forEach((e=>n[e]=0));const r=$5d5df9ecf1c80076$exports.locToIndex(n,x,m),o=a.slice(-g);l.forEach((e=>o[e]=0));const s=$5d5df9ecf1c80076$exports.locToIndex(o,g,v),c=e(b[2*r],b[2*r+1],h[2*s],h[2*s+1]);$[t]=c.real,u[t]=c.imag}return[$,u,c]}}const $5a19aa681576e63e$export$da57353b24bb5e2=$dd3145371544799a$export$28de919591fae5d9(((e,t)=>e+t)),$5a19aa681576e63e$export$ace1d0de36b43ba2=$fd60d8c5c1532db1$export$79261d982c3c14a7(((e,t,a,n)=>({real:e+a,imag:t+n}))),$5a19aa681576e63e$export$e16d8520af44a096=$fd60d8c5c1532db1$export$29353c66e70e3e16($0eb90ddf241a18bf$export$d0265b2c425512d6,$5a19aa681576e63e$export$da57353b24bb5e2,$5a19aa681576e63e$export$ace1d0de36b43ba2),$5a19aa681576e63e$export$b1f3a580afb68e4c={kernelName:$0eb90ddf241a18bf$export$d0265b2c425512d6,backendName:"cpu",kernelFunc:$5a19aa681576e63e$export$e16d8520af44a096};function $9f76ddbf9ddceeac$export$8e4da6ec633bf0a6(e,t,a,n,r){const o=$5d5df9ecf1c80076$exports.sizeFromShape(n),s=$5d5df9ecf1c80076$exports.makeZerosTypedArray(r,a);for(let a=0;a<e.length;a++){const n=e[a];if(n<0)throw new Error("Input x must be non-negative!");n>=r||(s[n]+=o>0?t[a]:1)}return s}function $9f76ddbf9ddceeac$export$486b8d48edd28ba5(e,t,a,n=!1){const r=e.shape[0],o=e.shape[1],s=$05a66951e325e00b$export$ab1029bcae9ddb4a([r,a],t.dtype);for(let c=0;c<r;c++)for(let r=0;r<o;r++){const o=e.get(c,r);if(o<0)throw new Error("Input x must be non-negative!");o>=a||(n?s.set(1,c,o):t.size>0?s.set(s.get(c,o)+t.get(c,r),c,o):s.set(s.get(c,o)+1,c,o))}return s}function $f2a202d953e6451f$export$ef8b4452872ef3fc(e){return(t,a,n)=>{const r=$5d5df9ecf1c80076$exports.getTypedArrayFromDType(a,t.length);for(let a=0;a<t.length;++a)r[a]=e(t[a],n);return r}}function $8a80747e3d72851c$export$ba4daf5748026fba(e,t,a){return({inputs:n,attrs:r,backend:o})=>{const{x:s}=n;if($a610dd74d979c6f8$export$1412c17b2531581a(s,e),"string"===s.dtype||"string"===a)throw new Error("unaryKernelFunc does not support string input/output");const c=o,i=c.data.get(s.dataId).values,d=$5d5df9ecf1c80076$exports.sizeFromShape(s.shape),f=a||s.dtype,$=$5d5df9ecf1c80076$exports.getArrayFromDType(f,d);for(let e=0;e<d;++e)$[e]=t(i[e],r);return c.makeTensorInfo(s.shape,f,$)}}function $8a80747e3d72851c$export$34f6865a07ad09b6(e,t,a){return({inputs:n,attrs:r,backend:o})=>{const{x:s}=n;if($a610dd74d979c6f8$export$1412c17b2531581a(s,e),"string"===s.dtype||"string"===a)throw new Error("unaryKernelFunc does not support string input/output");const c=o,i=c.data.get(s.dataId).values,d=a||s.dtype,f=t(i,d,r);return c.makeTensorInfo(s.shape,d,f)}}const $39cb1eaa891bf103$export$72486f20c97f6da8=$f2a202d953e6451f$export$ef8b4452872ef3fc((e=>Math.ceil(e))),$39cb1eaa891bf103$export$803ce6b71a0a94b2=$8a80747e3d72851c$export$34f6865a07ad09b6($0eb90ddf241a18bf$export$d4a1bccfd52ebd3,$39cb1eaa891bf103$export$72486f20c97f6da8),$39cb1eaa891bf103$export$df387212b1898306={kernelName:$0eb90ddf241a18bf$export$d4a1bccfd52ebd3,backendName:"cpu",kernelFunc:$39cb1eaa891bf103$export$803ce6b71a0a94b2};function $15c8f1254ef4b6c0$export$777da59f594f497d(e,t,a,n){const r=$5d5df9ecf1c80076$exports.getArrayFromDType(a,$5d5df9ecf1c80076$exports.sizeFromShape(t));if(n&&"string"!==a){let t=0;e.forEach((e=>{const a=$5d5df9ecf1c80076$exports.sizeFromShape(e.shape);r.set(e.vals,t),t+=a}))}else{let n=0;e.forEach((e=>{const o="string"===a?$c4c4d404109848b6$exports.fromUint8ToStringArray(e.vals):e.vals;let s=0;for(let a=0;a<e.shape[0];++a){const c=a*t[1]+n;for(let t=0;t<e.shape[1];++t)r[c+t]=o[s++]}n+=e.shape[1]}))}return r}const $b3d3800932b5f0c5$export$437b1c87795f120c=$dd3145371544799a$export$28de919591fae5d9(((e,t)=>e===t?1:0)),$b3d3800932b5f0c5$export$411ce8e5a71e3069=$fd60d8c5c1532db1$export$29353c66e70e3e16($0eb90ddf241a18bf$export$8dcf9f58ce5cdfc,$b3d3800932b5f0c5$export$437b1c87795f120c,null,"bool"),$b3d3800932b5f0c5$export$3c8bc3d8ee318217={kernelName:$0eb90ddf241a18bf$export$8dcf9f58ce5cdfc,backendName:"cpu",kernelFunc:$b3d3800932b5f0c5$export$411ce8e5a71e3069},$b234c8aeb0eec368$export$823000b70594f385=$f2a202d953e6451f$export$ef8b4452872ef3fc((e=>Math.exp(e))),$b234c8aeb0eec368$export$b310ec824aaee37f=$8a80747e3d72851c$export$34f6865a07ad09b6($0eb90ddf241a18bf$export$f908be7a96fb3363,$b234c8aeb0eec368$export$823000b70594f385,"float32"),$b234c8aeb0eec368$export$2fd7ea0fcf021f34={kernelName:$0eb90ddf241a18bf$export$f908be7a96fb3363,backendName:"cpu",kernelFunc:$b234c8aeb0eec368$export$b310ec824aaee37f},$76e4fd9298f1ce19$export$44f6c1b1ff8db911=$f2a202d953e6451f$export$ef8b4452872ef3fc((e=>Math.expm1(e))),$76e4fd9298f1ce19$export$b6c0a80d46d3391d=$8a80747e3d72851c$export$34f6865a07ad09b6($0eb90ddf241a18bf$export$261f26143a1ff3,$76e4fd9298f1ce19$export$44f6c1b1ff8db911),$76e4fd9298f1ce19$export$16db8a08b36f938={kernelName:$0eb90ddf241a18bf$export$261f26143a1ff3,backendName:"cpu",kernelFunc:$76e4fd9298f1ce19$export$b6c0a80d46d3391d},$3066c937cbf45358$export$c365361068e97c87=$f2a202d953e6451f$export$ef8b4452872ef3fc((e=>Math.floor(e))),$3066c937cbf45358$export$a3fe094919f356fd=$8a80747e3d72851c$export$34f6865a07ad09b6($0eb90ddf241a18bf$export$4880b0ae5643c62b,$3066c937cbf45358$export$c365361068e97c87),$3066c937cbf45358$export$7e9a0f96fa6bd01c={kernelName:$0eb90ddf241a18bf$export$4880b0ae5643c62b,backendName:"cpu",kernelFunc:$3066c937cbf45358$export$a3fe094919f356fd};function $019b27ceef9d27c2$export$eed1912b07a3c4d5(e,t,a,n,r,o,s,c,i){const d=$05a66951e325e00b$export$ab1029bcae9ddb4a([n,o],a);for(let a=0;a<n;a++){const n=[];let f=0;for(let t=0;t<r;t++){const o=e[a*r+t];f+=o*s[t],n.push(o)}if(f<0||f>=i/o)throw new Error(`Invalid indices: ${n} does not index into ${c}`);for(let e=0;e<o;e++)d.values[a*o+e]=t.get(...t.indexToLoc(f*o+e))}return d}function $a55d086092516d60$export$d7b732f2e62ccc09(e,t,a){const n=$05a66951e325e00b$export$ab1029bcae9ddb4a(a,e.dtype);for(let a=0;a<n.size;++a){const r=n.indexToLoc(a).slice(),o=r[0],s=r[2],c=t.locToIndex([o,s]);r[2]=t.values[c];const i=e.locToIndex(r);0<=i&&i<e.values.length&&(n.values[a]=e.values[i])}return n}const $6643b7b93ad9747d$export$bec57aa1d63b78bc=$dd3145371544799a$export$28de919591fae5d9(((e,t)=>e>t?1:0)),$6643b7b93ad9747d$export$9dca161faaf6308b=$fd60d8c5c1532db1$export$29353c66e70e3e16($0eb90ddf241a18bf$export$d0a25eac5ee3f515,$6643b7b93ad9747d$export$bec57aa1d63b78bc,null,"bool"),$6643b7b93ad9747d$export$8c4f7e92d92310f8={kernelName:$0eb90ddf241a18bf$export$d0a25eac5ee3f515,backendName:"cpu",kernelFunc:$6643b7b93ad9747d$export$9dca161faaf6308b},$cb54182d74378067$export$3cea60aeb61ae586=$dd3145371544799a$export$28de919591fae5d9(((e,t)=>e>=t?1:0)),$cb54182d74378067$export$c2fd4164cadc1fa2=$fd60d8c5c1532db1$export$29353c66e70e3e16($0eb90ddf241a18bf$export$3b7d21bc9aee0851,$cb54182d74378067$export$3cea60aeb61ae586,null,"bool"),$cb54182d74378067$export$7a6926f9fcac24ca={kernelName:$0eb90ddf241a18bf$export$3b7d21bc9aee0851,backendName:"cpu",kernelFunc:$cb54182d74378067$export$c2fd4164cadc1fa2},$91b2cf2367a0f089$export$d4d22ddbe6cd91a5=$dd3145371544799a$export$28de919591fae5d9(((e,t)=>e<t?1:0)),$91b2cf2367a0f089$export$bb1a638da8ad190f=$fd60d8c5c1532db1$export$29353c66e70e3e16($0eb90ddf241a18bf$export$728c50f1c88ac779,$91b2cf2367a0f089$export$d4d22ddbe6cd91a5,null,"bool"),$91b2cf2367a0f089$export$8d4530ce8b6ffc3c={kernelName:$0eb90ddf241a18bf$export$728c50f1c88ac779,backendName:"cpu",kernelFunc:$91b2cf2367a0f089$export$bb1a638da8ad190f},$08d6e89d0e7f87c8$export$27397851733876fa=$dd3145371544799a$export$28de919591fae5d9(((e,t)=>e<=t?1:0)),$08d6e89d0e7f87c8$export$c24ad19a692bb92=$fd60d8c5c1532db1$export$29353c66e70e3e16($0eb90ddf241a18bf$export$84afd0d8f7fb8c5d,$08d6e89d0e7f87c8$export$27397851733876fa,null,"bool"),$08d6e89d0e7f87c8$export$9f26bd257393dd8={kernelName:$0eb90ddf241a18bf$export$84afd0d8f7fb8c5d,backendName:"cpu",kernelFunc:$08d6e89d0e7f87c8$export$c24ad19a692bb92};function $457a08d46fe2d764$export$31412d657cd1cc08(e,t,a){const n=(t-e)/(a-1),r=$5d5df9ecf1c80076$exports.makeZerosTypedArray(a,"float32");r[0]=e;for(let e=1;e<r.length;e++)r[e]=r[e-1]+n;return r}const $0238b81cd7289b3d$export$8a107ec4d5b0e907=$f2a202d953e6451f$export$ef8b4452872ef3fc((e=>Math.log(e))),$0238b81cd7289b3d$export$bef1f36f5486a6a3=$8a80747e3d72851c$export$34f6865a07ad09b6($0eb90ddf241a18bf$export$ce30dbb46644d06c,$0238b81cd7289b3d$export$8a107ec4d5b0e907),$0238b81cd7289b3d$export$a4ae1f00643ddd14={kernelName:$0eb90ddf241a18bf$export$ce30dbb46644d06c,backendName:"cpu",kernelFunc:$0238b81cd7289b3d$export$bef1f36f5486a6a3};function $71fc9e36d85670a1$export$23c9b99bdac85be0(e,t,a,n){const r=$5d5df9ecf1c80076$exports.getTypedArrayFromDType(n,$5d5df9ecf1c80076$exports.sizeFromShape(a));for(let a=0;a<r.length;++a){const n=a*t;let o=e[n];for(let a=0;a<t;++a){const t=e[n+a];(Number.isNaN(t)||t>o)&&(o=t)}r[a]=o}return r}const $ab744febf0b5aceb$export$4e233ba825c9b60e=$dd3145371544799a$export$28de919591fae5d9(((e,t)=>Math.max(e,t))),$ab744febf0b5aceb$export$b25e0be55f42c9a=$fd60d8c5c1532db1$export$29353c66e70e3e16($0eb90ddf241a18bf$export$d8d02ac92d161004,$ab744febf0b5aceb$export$4e233ba825c9b60e),$ab744febf0b5aceb$export$45b97bdc342e72a2={kernelName:$0eb90ddf241a18bf$export$d8d02ac92d161004,backendName:"cpu",kernelFunc:$ab744febf0b5aceb$export$b25e0be55f42c9a},$4b9a7d869dbc67b4$export$756c08a3fa64d43=$dd3145371544799a$export$28de919591fae5d9(((e,t)=>Math.min(e,t))),$4b9a7d869dbc67b4$export$916782c1f0ddb132=$fd60d8c5c1532db1$export$29353c66e70e3e16($0eb90ddf241a18bf$export$23cb308301e89d6b,$4b9a7d869dbc67b4$export$756c08a3fa64d43),$4b9a7d869dbc67b4$export$ea24ffbbbce8d546={kernelName:$0eb90ddf241a18bf$export$23cb308301e89d6b,backendName:"cpu",kernelFunc:$4b9a7d869dbc67b4$export$916782c1f0ddb132},$1ae3d2d9e69b2480$export$ac59ae2be94ddda3=$dd3145371544799a$export$28de919591fae5d9(((e,t)=>e*t)),$1ae3d2d9e69b2480$export$93ff634b9c7cb5b9=$fd60d8c5c1532db1$export$79261d982c3c14a7(((e,t,a,n)=>({real:e*a-t*n,imag:e*n+t*a}))),$1ae3d2d9e69b2480$export$2060d2db72cce88f=$fd60d8c5c1532db1$export$29353c66e70e3e16($0eb90ddf241a18bf$export$f14f83b3b531d498,$1ae3d2d9e69b2480$export$ac59ae2be94ddda3,$1ae3d2d9e69b2480$export$93ff634b9c7cb5b9),$1ae3d2d9e69b2480$export$745576778aafee88={kernelName:$0eb90ddf241a18bf$export$f14f83b3b531d498,backendName:"cpu",kernelFunc:$1ae3d2d9e69b2480$export$2060d2db72cce88f};function $b160db426e2c9d4a$export$e9053236ce0e659b(e,t,a){const n=$5d5df9ecf1c80076$exports.createScalarValue(-1,a);return $1ae3d2d9e69b2480$export$ac59ae2be94ddda3([],t,n,e,a)}function $b160db426e2c9d4a$export$d9493ff0dfa0fdd5(e){const{inputs:t,backend:a}=e,{x:n}=t;$a610dd74d979c6f8$export$1412c17b2531581a(n,"neg");const r=a.data.get(n.dataId).values,[o,s]=$b160db426e2c9d4a$export$e9053236ce0e659b(r,n.shape,n.dtype);return a.makeTensorInfo(s,n.dtype,o)}const $b160db426e2c9d4a$export$cc7b18b8229c3db={kernelName:$0eb90ddf241a18bf$export$c07c549000872073,backendName:"cpu",kernelFunc:$b160db426e2c9d4a$export$d9493ff0dfa0fdd5},$78a2668b708ad7fb$export$eaea354630818ed4=$dd3145371544799a$export$28de919591fae5d9(((e,t)=>e!==t?1:0)),$78a2668b708ad7fb$export$53a6892c50694894=$fd60d8c5c1532db1$export$29353c66e70e3e16($0eb90ddf241a18bf$export$385ebe9945cae0c5,$78a2668b708ad7fb$export$eaea354630818ed4,null,"bool"),$78a2668b708ad7fb$export$d003d4d7e1500775={kernelName:$0eb90ddf241a18bf$export$385ebe9945cae0c5,backendName:"cpu",kernelFunc:$78a2668b708ad7fb$export$53a6892c50694894};function $0351532618eecdf1$export$986b9e65182e08d(e,t,a,n,r){const o=t.length,s=$5d5df9ecf1c80076$exports.sizeFromShape(t),c=$5d5df9ecf1c80076$exports.computeStrides(t),i=$5d5df9ecf1c80076$exports.computeStrides(r),d=$5d5df9ecf1c80076$exports.getTypedArrayFromDType(a,$5d5df9ecf1c80076$exports.sizeFromShape(r));for(let t=0;t<s;++t){const a=$5d5df9ecf1c80076$exports.indexToLoc(t,o,c),r=new Array(a.length);for(let e=0;e<r.length;e++)r[e]=a[n[e]];d[$5d5df9ecf1c80076$exports.locToIndex(r,o,i)]=e[t]}return d}function $61f81ad1f2b16ca7$export$9cb09a71b7d66923(e){const{inputs:t,attrs:a,backend:n}=e,{x:r}=t,{perm:o}=a;$a610dd74d979c6f8$export$1412c17b2531581a(r,"transpose");const s=r.shape.length,c=new Array(s);for(let e=0;e<c.length;e++)c[e]=r.shape[o[e]];const i=$0351532618eecdf1$export$986b9e65182e08d(n.data.get(r.dataId).values,r.shape,r.dtype,o,c);return{dataId:n.write(i,c,r.dtype),shape:c,dtype:r.dtype}}const $61f81ad1f2b16ca7$export$895a002a39b774be={kernelName:$0eb90ddf241a18bf$export$7e714455f9a1f8f7,backendName:"cpu",kernelFunc:$61f81ad1f2b16ca7$export$9cb09a71b7d66923};function $11f9d31ae559ad70$export$a3c8a5271f6bb700(e,t,a,n){const[r,o]=$c4c4d404109848b6$exports.computeOutAndReduceShapes(e,n),s=$063ffdf621a4b072$export$7bcca02d1a156bdf(t,"int32"),c=$5d5df9ecf1c80076$exports.makeZerosTypedArray($5d5df9ecf1c80076$exports.sizeFromShape(r),s),i=$5d5df9ecf1c80076$exports.sizeFromShape(o);for(let e=0;e<c.length;++e){const t=e*i;let n=1;for(let e=0;e<i;++e)n*=a[t+e];c[e]=n}return{outVals:c,outShape:r,outDtype:s}}function $11f9d31ae559ad70$export$5e143010dea16c85(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{axis:o,keepDims:s}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"prod");const c=r.shape.length,i=$5d5df9ecf1c80076$exports.parseAxisParam(o,r.shape),d=$c4c4d404109848b6$exports.getAxesPermutation(i,c);let f=i,$=r;const u=[];null!=d&&($=$61f81ad1f2b16ca7$export$9cb09a71b7d66923({inputs:{x:r},backend:a,attrs:{perm:d}}),u.push($),f=$c4c4d404109848b6$exports.getInnerMostAxes(f.length,c));const p=a.data.get($.dataId).values,{outVals:l,outShape:b,outDtype:h}=$11f9d31ae559ad70$export$a3c8a5271f6bb700($.shape,$.dtype,p,f);let x=b;return s&&(x=$c4c4d404109848b6$exports.expandShapeToKeepDim(b,i)),u.forEach((e=>a.disposeIntermediateTensorInfo(e))),a.makeTensorInfo(x,h,l)}const $11f9d31ae559ad70$export$d556aa935cef5c0c={kernelName:$0eb90ddf241a18bf$export$b8a16d526a791fb0,backendName:"cpu",kernelFunc:$11f9d31ae559ad70$export$5e143010dea16c85};function $9595a21d3739f473$export$3561205b7dff20bf(e,t,a,n){if(e===t||e<t&&a<0||t<e&&a>1)return $5d5df9ecf1c80076$exports.makeZerosTypedArray(0,n);const r=Math.abs(Math.ceil((t-e)/a)),o=$5d5df9ecf1c80076$exports.makeZerosTypedArray(r,n);t<e&&1===a&&(a=-1),o[0]=e;for(let e=1;e<o.length;e++)o[e]=o[e-1]+a;return o}const $aae6ccad10f239ab$export$7ec24de9bffc6b90=$f2a202d953e6451f$export$ef8b4452872ef3fc((e=>1/Math.sqrt(e))),$aae6ccad10f239ab$export$1cc01d192953037e=$8a80747e3d72851c$export$34f6865a07ad09b6($0eb90ddf241a18bf$export$7cc53aa09f5f3a2d,$aae6ccad10f239ab$export$7ec24de9bffc6b90),$aae6ccad10f239ab$export$941104b789956ef6={kernelName:$0eb90ddf241a18bf$export$7cc53aa09f5f3a2d,backendName:"cpu",kernelFunc:$aae6ccad10f239ab$export$1cc01d192953037e},$76a5e0b6ff81836e$export$e31bae35ce8238b3=$f2a202d953e6451f$export$ef8b4452872ef3fc((e=>1/(1+Math.exp(-e)))),$76a5e0b6ff81836e$export$3b295495ca3cad7c=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$fde18c826dda6b1b,(e=>1/(1+Math.exp(-e)))),$76a5e0b6ff81836e$export$195d1cf7c59f3ef={kernelName:$0eb90ddf241a18bf$export$fde18c826dda6b1b,backendName:"cpu",kernelFunc:$76a5e0b6ff81836e$export$3b295495ca3cad7c};function $b3c67133f4f177b8$export$4bdf1ac3fa5d3d6a(e,t,a,n,r){const o=$6f2324169bf0e939$exports.isSliceContinous(n,t,a),s=$5d5df9ecf1c80076$exports.sizeFromShape(a),c=$5d5df9ecf1c80076$exports.computeStrides(n);if(o){const a=$6f2324169bf0e939$exports.computeFlatOffset(t,c);return"string"===r?e.slice(a,a+s):e.subarray(a,a+s)}const i=$05a66951e325e00b$export$ab1029bcae9ddb4a(n,r,"string"===r?$c4c4d404109848b6$exports.fromUint8ToStringArray(e):e),d=$05a66951e325e00b$export$ab1029bcae9ddb4a(a,r);for(let e=0;e<d.size;++e){const a=d.indexToLoc(e),n=a.map(((e,a)=>e+t[a]));d.set(i.get(...n),...a)}return"string"===r?$c4c4d404109848b6$exports.fromStringArrayToUint8(d.values):d.values}function $b3c67133f4f177b8$export$58adb3bec8346d0f(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{begin:o,size:s}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"slice");const[c,i]=$6f2324169bf0e939$exports.parseSliceParams(r,o,s);$6f2324169bf0e939$exports.assertParamsValid(r,c,i);const d=$b3c67133f4f177b8$export$4bdf1ac3fa5d3d6a(a.data.get(r.dataId).values,c,i,r.shape,r.dtype);return a.makeTensorInfo(i,r.dtype,d)}const $b3c67133f4f177b8$export$8d8a1e11dd2cc6c4={kernelName:$0eb90ddf241a18bf$export$b3f2e2de3a8baa1e,backendName:"cpu",kernelFunc:$b3c67133f4f177b8$export$58adb3bec8346d0f};function $a5427b1ddd7612eb$export$9db01208a1bec190(e,t,a,n,r,o,s){const c=t[0],i=o[0],d=new Array(i),f=new Array(c),$=t[1];if(0===i){if(0!==c)throw new Error($c4c4d404109848b6$exports.getSparseFillEmptyRowsIndicesDenseShapeMismatch(c));return[$5d5df9ecf1c80076$exports.getArrayFromDType(a,0),[0,$],$5d5df9ecf1c80076$exports.getArrayFromDType(r,0),d,f]}let u=!0,p=0;const l=new Array(i).fill(0);for(let t=0;t<c;++t){const a=e[t*$];if(a<0)throw new Error($c4c4d404109848b6$exports.getSparseFillEmptyRowsNegativeIndexErrorMessage(t,a));if(a>=i)throw new Error($c4c4d404109848b6$exports.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(t,a,i));++l[a],u=u&&a>=p,p=a}let b=!0;for(let e=0;e<i;++e){const t=0===l[e];d[e]=t,b=b&&!t,l[e]=Math.max(l[e],1),e>0&&(l[e]+=l[e-1])}if(b&&u){const t=e,a=n;for(let e=0;e<c;++e)f[e]=e;return[t,[c,$],a,d,f]}{const t=l[i-1],o=$5d5df9ecf1c80076$exports.getArrayFromDType(a,t*$),u=$5d5df9ecf1c80076$exports.getArrayFromDType(r,t),p=new Array(i).fill(0);for(let t=0;t<c;++t){const a=e[t*$],r=p[a],s=(0===a?0:l[a-1])+r;p[a]++;for(let a=0;a<$;++a)o[s*$+a]=e[t*$+a];u[s]=n[t],f[t]=s}for(let e=0;e<i;++e){if(0===p[e]){const t=0===e?0:l[e-1];o[t*$+0]=e;for(let e=1;e<$;++e)o[t*$+e]=0;u[t]=s}}return[o,[t,$],u,d,f]}}function $be64bb2f8f7ebf6f$export$a65a15ebab81f5cd(e,t,a,n,r){const o=$5d5df9ecf1c80076$exports.sizeFromShape(n),s=t[0],c=r.length,i=[];let d=1,f=-1;for(let e=0;e<c;++e){const t=r[e];if(-1===t){if(-1!==f)throw new Error($c4c4d404109848b6$exports.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(f,e));f=e,i.push(1)}else{if(t<0)throw new Error($c4c4d404109848b6$exports.getSparseReshapeNegativeOutputDimErrorMessage(e,t));d*=t,i.push(t)}}if(-1!==f){if(d<=0)throw new Error($c4c4d404109848b6$exports.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage());const e=Math.trunc(o/d);if(d*e!==o)throw new Error($c4c4d404109848b6$exports.getSparseReshapeInputOutputMultipleErrorMessage(n,i));i[f]=e}if($5d5df9ecf1c80076$exports.sizeFromShape(i)!==o)throw new Error($c4c4d404109848b6$exports.getSparseReshapeInputOutputMismatchErrorMessage(n,i));const $=n.length,u=[];if($>0){u[$-1]=1;for(let e=$-2;e>=0;--e)u[e]=u[e+1]*n[e+1]}const p=[];if(c>0){p[c-1]=1;for(let e=c-2;e>=0;--e)p[e]=p[e+1]*i[e+1]}const l=$5d5df9ecf1c80076$exports.getArrayFromDType(a,s*c);for(let t=0;t<s;++t){let a=0;for(let n=0;n<$;++n)a+=e[t*$+n]*u[n];for(let e=0;e<c;++e)l[t*c+e]=Math.trunc(a/p[e]),a%=p[e]}return[l,[s,c],i]}function $b080b65bcdb9aafb$export$7d3f7130c4245e65(e,t,a,n,r,o=!1,s=0){const c=n.length,i=[t[0],e.length/t[0]],d=i[1],f=c>0?r[c-1]+1:0;if(f<0)throw new Error($c4c4d404109848b6$exports.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());const $=t.slice();$[0]=f;const u=$.reduce(((e,t)=>e*t),1),p=$5d5df9ecf1c80076$exports.getArrayFromDType(a,u);if(0===c)return f>0&&p.fill(s),[p,$];if(f<=0)throw new Error($c4c4d404109848b6$exports.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());let l=0,b=1,h=0,x=r[l];for(;;){let t=0;if(b<c){if(t=r[b],x===t){++b;continue}if(x>=t)throw new Error($c4c4d404109848b6$exports.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage())}if(x<0||x>=f)throw new Error($c4c4d404109848b6$exports.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(x,f));x>h&&p.fill(s,h*d,x*d);for(let t=l;t<b;++t){const a=n[t];if(a<0||a>=i[0])throw new Error($c4c4d404109848b6$exports.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(t,n[t],i[0]));for(let t=0;t<d;t++)p[x*d+t]+=e[a*d+t]}if(o)for(let e=0;e<d;e++)p[x*d+e]/=b-l;if(l=b,++b,h=x+1,x=t,b>c)break}return h<f&&p.fill(s,h*d,f*d),[p,$]}const $7811b50048ad2db7$export$c6f4fdf945028fb=$f2a202d953e6451f$export$ef8b4452872ef3fc((e=>Math.sqrt(e))),$7811b50048ad2db7$export$eba8049fb5020b81=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$21ab404ab9d512a6,(e=>Math.sqrt(e))),$7811b50048ad2db7$export$a592ba9268f10eeb={kernelName:$0eb90ddf241a18bf$export$21ab404ab9d512a6,backendName:"cpu",kernelFunc:$7811b50048ad2db7$export$eba8049fb5020b81},$73349831fff5756e$export$11806d7b3158c032=$dd3145371544799a$export$28de919591fae5d9(((e,t)=>{const a=e-t;return a*a})),$73349831fff5756e$export$b178697fb6d0b37f=$fd60d8c5c1532db1$export$29353c66e70e3e16($0eb90ddf241a18bf$export$2f922d20d66089c6,$73349831fff5756e$export$11806d7b3158c032),$73349831fff5756e$export$9ed4691d69db8a43={kernelName:$0eb90ddf241a18bf$export$2f922d20d66089c6,backendName:"cpu",kernelFunc:$73349831fff5756e$export$b178697fb6d0b37f};function $1ad18ebc53d8b619$export$b7c450ffe7e10d88(e,t,a,n){const r=$05a66951e325e00b$export$ab1029bcae9ddb4a(e,t.dtype);for(let e=0;e<r.size;e++){const o=r.indexToLoc(e),s=new Array(o.length);for(let e=0;e<s.length;e++)s[e]=o[e]*a[e]+n[e];r.set(t.get(...s),...o)}return r}class $0815bc80fd64de2e$var$StringNGramsOp{constructor(e,t,a,n,r,o){this.separator=$5d5df9ecf1c80076$exports.encodeString(e),this.nGramWidths=t,this.leftPad=$5d5df9ecf1c80076$exports.encodeString(a),this.rightPad=$5d5df9ecf1c80076$exports.encodeString(n),this.padWidth=r,this.preserveShort=o}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const a=this.getPadWidth(t);return Math.max(0,e+2*a-t+1)}createNGrams(e,t,a,n,r,o){for(let s=0;s<r;++s){const c=this.getPadWidth(o),i=Math.max(0,c-s),d=Math.max(0,c-(r-(s+1))),f=o-(i+d),$=t+(i>0?0:s-c);let u=0;u+=i*this.leftPad.length;for(let t=0;t<f;++t)u+=e[$+t].length;u+=d*this.rightPad.length;u+=(i+d+f-1)*this.separator.length,a[n+s]=new Uint8Array(u);const p=a[n+s];let l=0;const b=e=>e.forEach((e=>p[l++]=e));for(let e=0;e<i;++e)b(this.leftPad),b(this.separator);for(let t=0;t<f-1;++t)b(e[$+t]),b(this.separator);if(f>0){b(e[$+f-1]);for(let e=0;e<d;++e)b(this.separator),b(this.rightPad)}else{for(let e=0;e<d-1;++e)b(this.rightPad),b(this.separator);b(this.rightPad)}}}compute(e,t){const a=e.length,n=t.length;if(n>0){let e=t[0];if(0!==e)throw new Error(`First split value must be 0, got ${e}`);for(let r=1;r<n;++r){let n=t[r]>=e;if(n=n&&t[r]<=a,!n)throw new Error(`Invalid split value ${t[r]}, must be in [${e}, ${a}]`);e=t[r]}if(e!==a)throw new Error(`Last split value must be data size. Expected ${a}, got ${e}`)}const r=n-1,o=$5d5df9ecf1c80076$exports.getArrayFromDType("int32",n);if(0===a||0===n){const e=new Array(a);for(let e=0;e<=r;++e)o[e]=0;return[e,o]}o[0]=0;for(let e=1;e<=r;++e){const a=t[e]-t[e-1];let n=0;this.nGramWidths.forEach((e=>{n+=this.getNumNGrams(a,e)})),this.preserveShort&&a>0&&0===n&&(n=1),o[e]=o[e-1]+n}const s=new Array(o[r]);for(let a=0;a<r;++a){const n=t[a];let r=o[a];if(this.nGramWidths.forEach((o=>{const c=t[a+1]-t[a],i=this.getNumNGrams(c,o);this.createNGrams(e,n,s,r,i,o),r+=i})),this.preserveShort&&r===o[a]){const o=t[a+1]-t[a];if(0===o)continue;const c=o+2*this.padWidth,i=1;this.createNGrams(e,n,s,r,i,c)}}return[s,o]}}function $0815bc80fd64de2e$export$67c0958e8184138b(e,t,a,n,r,o,s,c){return new $0815bc80fd64de2e$var$StringNGramsOp(a,n,r,o,s,c).compute(e,t)}function $a59fa5395e12d6f9$var$split(e,t,a,n){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)n.push(e.subarray(t,t+1));return}if(1===t.length){const r=t[0];let o=e.indexOf(r);for(;-1!==o;){const t=e.subarray(0,o);a&&0===t.length||n.push(t),o=(e=e.subarray(o+1)).indexOf(r)}return void(a&&0===e.length||n.push(e))}let r=0;for(let o=0;o<e.length+1;o++)if(o===e.length||-1!==t.indexOf(e[o])){const t=e.subarray(r,o);a&&0===t.length||n.push(t),r=o+1}}function $a59fa5395e12d6f9$export$c3b08e43aa36d65d(e,t,a){const n=e.length,r=[];let o=0,s=0;const c=new Array(n);for(let i=0;i<n;++i){const n=r.length;$a59fa5395e12d6f9$var$split(e[i],t,a,r);const d=r.length-n;c[i]=d,o+=d,s=Math.max(s,d)}const i=$5d5df9ecf1c80076$exports.getArrayFromDType("int32",2*o),d=new Array(o),f=[n,s];let $=0;for(let e=0;e<n;++e)for(let t=0;t<c[e];++t)i[2*$]=e,i[2*$+1]=t,d[$]=r[$],++$;return[i,d,f]}function $80c9bedebdbfc94e$export$37cbed4d0b2fe56a(e,t){const a=$5d5df9ecf1c80076$exports.getArrayFromDType("int32",e.length);for(let n=0;n<e.length;++n)a[n]=$5d5df9ecf1c80076$exports.fingerPrint64(e[n]).modulo(t).getLowBitsUnsigned();return a}const $9f61baa0f7f211bf$export$ad8defe68e22c8c1=$dd3145371544799a$export$28de919591fae5d9(((e,t)=>e-t)),$9f61baa0f7f211bf$export$e56bd24b892e7ec5=$fd60d8c5c1532db1$export$79261d982c3c14a7(((e,t,a,n)=>({real:e-a,imag:t-n}))),$9f61baa0f7f211bf$export$f93b5905241a7cca=$fd60d8c5c1532db1$export$29353c66e70e3e16($0eb90ddf241a18bf$export$d7a01e11500dfb6f,$9f61baa0f7f211bf$export$ad8defe68e22c8c1,$9f61baa0f7f211bf$export$e56bd24b892e7ec5),$9f61baa0f7f211bf$export$5d068476dad60c4d={kernelName:$0eb90ddf241a18bf$export$d7a01e11500dfb6f,backendName:"cpu",kernelFunc:$9f61baa0f7f211bf$export$f93b5905241a7cca};function $98c2ffb2d09d69b6$export$f3e554b937559516(e,t){const a=new Array(e.rank);for(let n=0;n<a.length;n++)a[n]=e.shape[n]*t[n];const n=$05a66951e325e00b$export$ab1029bcae9ddb4a(a,e.dtype);for(let t=0;t<n.values.length;++t){const a=n.indexToLoc(t),r=new Array(e.rank);for(let t=0;t<r.length;t++)r[t]=a[t]%e.shape[t];const o=e.locToIndex(r);n.values[t]=e.values[o]}return n}const $555f8fe85567f612$var$comparePair=(e,t)=>{const a=t.value-e.value;return 0===a?e.index-t.index:a};function $555f8fe85567f612$var$select(e,t,a=0,n=e.length-1){for(;n>a;){if(n-a>600){const r=n-a+1,o=t-a+1,s=Math.log(r),c=.5*Math.exp(2*s/3),i=.5*Math.sqrt(s*c*(r-c)/r)*Math.sign(o-r/2);$555f8fe85567f612$var$select(e,t,Math.max(a,Math.floor(t-o*c/r+i)),Math.min(n,Math.floor(t+(r-o)*c/r+i)))}const r=e[t];let o=a,s=n;for($5d5df9ecf1c80076$exports.swap(e,a,t),$555f8fe85567f612$var$comparePair(e[n],r)>0&&$5d5df9ecf1c80076$exports.swap(e,a,n);o<s;){for($5d5df9ecf1c80076$exports.swap(e,o,s),o++,s--;$555f8fe85567f612$var$comparePair(e[o],r)<0;)o+=1;for(;$555f8fe85567f612$var$comparePair(e[s],r)>0;)s-=1}0===$555f8fe85567f612$var$comparePair(e[a],r)?$5d5df9ecf1c80076$exports.swap(e,a,s):(s+=1,$5d5df9ecf1c80076$exports.swap(e,s,n)),s<=t&&(a=s+1),t<=s&&(n=s-1)}}function $555f8fe85567f612$export$b083239978762299(e,t,a,n,r){const o=t[t.length-1],[s,c]=[e.length/o,o],i=$5d5df9ecf1c80076$exports.getTypedArrayFromDType(a,s*n),d=$5d5df9ecf1c80076$exports.getTypedArrayFromDType("int32",s*n);for(let t=0;t<s;t++){const a=t*c,o=e.subarray(a,a+c);let s=new Array(o.length);o.forEach(((e,t)=>s[t]={value:e,index:t})),n<s.length&&($555f8fe85567f612$var$select(s,n),s=s.slice(0,n)),r&&s.sort($555f8fe85567f612$var$comparePair);const f=t*n,$=i.subarray(f,f+n),u=d.subarray(f,f+n);for(let e=0;e<n;e++)$[e]=s[e].value,u[e]=s[e].index}const f=t.slice();return f[f.length-1]=n,[$05a66951e325e00b$export$ab1029bcae9ddb4a(f,a,i),$05a66951e325e00b$export$ab1029bcae9ddb4a(f,"int32",d)]}function $c9f22ffb681b2e6a$export$58be9cc013c994e(e,t,a,n){const r=$5d5df9ecf1c80076$exports.parseAxisParam(t,a)[0],o=[1,a[0],1];for(let e=0;e<r;e++)o[0]*=a[e];o[1]=a[r];for(let e=r+1;e<a.length;e++)o[2]*=a[e];const s={},c=new Int32Array(a[r]),i=new $eaf1009c48c149de$export$350df26cd52e08e1(o,n,e),d=[],f=1===o[0]&&1===o[2];for(let t=0;t<a[r];t++){let a;if(f)a=e[t].toString();else{const e=[];for(let a=0;a<o[0];a++)for(let n=0;n<o[2];n++)e.push(i.get(a,t,n));a=e.join(",")}if(void 0!==s[a])c[t]=s[a];else{const e=Object.keys(s).length;s[a]=e,c[t]=e,d.push(t)}}const $=o.slice();$[1]=Object.keys(s).length;const u=new $eaf1009c48c149de$export$350df26cd52e08e1($,n);d.forEach(((e,t)=>{for(let a=0;a<o[0];a++)for(let n=0;n<o[2];n++)u.set(i.get(a,e,n),a,t,n)}));const p=a.slice();return p[r]=$[1],{outputValues:u.values,outputShape:p,indices:c}}function $3c47468fa731343d$export$58adb3bec8346d0f(e){const{inputs:{x:t},attrs:{begin:a,size:n},backend:r}=e,[o,s]=$6f2324169bf0e939$exports.parseSliceParams(t,a,n),c=$6f2324169bf0e939$exports.isSliceContinous(t.shape,o,s),i=r.readSync(t.dataId),d=r.makeOutput(s,t.dtype),f=$5d5df9ecf1c80076$exports.computeStrides(t.shape),$=r.dataIdMap.get(d.dataId);if(c){const e=$6f2324169bf0e939$exports.computeFlatOffset(o,f);if("string"===t.dtype)$.stringBytes=i.slice(e,e+$5d5df9ecf1c80076$exports.sizeFromShape(s));else{r.typedArrayFromHeap(d).set(i.subarray(e,e+$5d5df9ecf1c80076$exports.sizeFromShape(s)))}return d}if("string"===t.dtype){const e=$b3c67133f4f177b8$export$4bdf1ac3fa5d3d6a(i,o,s,t.shape,t.dtype);return $.stringBytes=e,d}const u=r.typedArrayFromHeap(d),p=t.shape.length;if(2===p)$3c47468fa731343d$var$slice2d(i,f[0],u,o,s);else if(3===p)$3c47468fa731343d$var$slice3d(i,f[0],f[1],u,o,s);else if(4===p)$3c47468fa731343d$var$slice4d(i,f[0],f[1],f[2],u,o,s);else{const e=$b3c67133f4f177b8$export$4bdf1ac3fa5d3d6a(i,o,s,t.shape,t.dtype);u.set(e)}return d}function $3c47468fa731343d$var$slice2d(e,t,a,n,r){let o=0;const s=n[0],c=n[1],i=s+r[0];for(let n=s;n<i;n++){const s=n*t+c;a.set(e.subarray(s,s+r[1]),o),o+=r[1]}}function $3c47468fa731343d$var$slice3d(e,t,a,n,r,o){let s=0;const c=r[0],i=r[1],d=r[2],f=c+o[0],$=i+o[1];for(let r=c;r<f;r++)for(let c=i;c<$;c++){const i=r*t+c*a+d;n.set(e.subarray(i,i+o[2]),s),s+=o[2]}}function $3c47468fa731343d$var$slice4d(e,t,a,n,r,o,s){let c=0;const i=o[0],d=o[1],f=o[2],$=i+s[0],u=d+s[1],p=f+s[2],l=o[3];for(let o=i;o<$;o++)for(let i=d;i<u;i++)for(let d=f;d<p;d++){const f=o*t+i*a+d*n+l;r.set(e.subarray(f,f+s[3]),c),c+=s[3]}}const $3c47468fa731343d$export$8d8a1e11dd2cc6c4={kernelName:$0eb90ddf241a18bf$export$b3f2e2de3a8baa1e,backendName:"wasm",kernelFunc:$3c47468fa731343d$export$58adb3bec8346d0f};function $d312d372059d01d7$var$batchToSpaceND(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{blockShape:o,crops:s}=n,c=o.reduce(((e,t)=>e*t)),i=$c4c4d404109848b6$exports.getReshaped(r.shape,o,c),d=$c4c4d404109848b6$exports.getPermuted(i.length,o.length),f=$c4c4d404109848b6$exports.getReshapedPermuted(r.shape,o,c),$=$c4c4d404109848b6$exports.getSliceBeginCoords(s,o.length),u=$c4c4d404109848b6$exports.getSliceSize(f,s,o.length),p=$c509dc069b10c20a$export$9eaad88cf88cee2b({inputs:{x:r},backend:a,attrs:{shape:i}}),l=$6d56e0ab03b8e542$export$9cb09a71b7d66923({inputs:{x:p},backend:a,attrs:{perm:d}}),b=$3c47468fa731343d$export$58adb3bec8346d0f({inputs:{x:$c509dc069b10c20a$export$9eaad88cf88cee2b({inputs:{x:l},backend:a,attrs:{shape:f}})},backend:a,attrs:{begin:$,size:u}});return a.disposeData(p.dataId),a.disposeData(l.dataId),a.disposeData(p.dataId),b}const $d312d372059d01d7$export$44e08e19f97e5513={kernelName:$0eb90ddf241a18bf$export$e2743f47f61cca1f,backendName:"wasm",kernelFunc:$d312d372059d01d7$var$batchToSpaceND};function $e79f8b770c04b01a$export$f2db7d5238e1d23f(e){const{inputs:{x:t},attrs:{dtype:a},backend:n}=e,r=n.makeOutput(t.shape,a),o=n.typedArrayFromHeap(t);return n.typedArrayFromHeap(r).set(o),r}const $e79f8b770c04b01a$export$ac4d0f0f3927a8f3={kernelName:$0eb90ddf241a18bf$export$107ecfb3d1ccbd77,backendName:"wasm",kernelFunc:$e79f8b770c04b01a$export$f2db7d5238e1d23f},$69a4a0bc164253fb$export$df387212b1898306=$f634810283efcf2e$export$1064a4367d46e10e($0eb90ddf241a18bf$export$d4a1bccfd52ebd3);let $d2e17041afe2f67a$var$wasmClip;function $d2e17041afe2f67a$var$setup(e){$d2e17041afe2f67a$var$wasmClip=e.wasm.cwrap($0eb90ddf241a18bf$export$611c0e357ac37f7d,null,["number","number","number","number"])}function $d2e17041afe2f67a$var$clip(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{clipValueMin:o,clipValueMax:s}=n,c=a.dataIdMap.get(r.dataId).id,i=a.makeOutput(r.shape,r.dtype),d=a.dataIdMap.get(i.dataId).id;return $d2e17041afe2f67a$var$wasmClip(c,o,s,d),i}const $d2e17041afe2f67a$export$f7ee8f07ce0ff4e1={kernelName:$0eb90ddf241a18bf$export$611c0e357ac37f7d,backendName:"wasm",setupFunc:$d2e17041afe2f67a$var$setup,kernelFunc:$d2e17041afe2f67a$var$clip};function $e90205e4e5661f23$export$ee1b3e54f0441b22(e){const{inputs:t,backend:a}=e,n=$5d5df9ecf1c80076$exports.parseAxisParam(e.attrs.axis,t[0].shape)[0];let r=$c4c4d404109848b6$exports.computeOutShape(t.map((e=>e.shape)),n);const o=t.filter((e=>$5d5df9ecf1c80076$exports.sizeFromShape(e.shape)>0));if(1===o.length)return $2ff6ddcdc9f04436$export$f0954fd7d5368655({inputs:{x:o[0]},backend:a});const s=a.makeOutput(r,t[0].dtype);if(0===$5d5df9ecf1c80076$exports.sizeFromShape(r))return s;const c=o.map((e=>e.shape));if($c4c4d404109848b6$exports.assertParamsConsistent(c,n),"string"===o[0].dtype){const e=o.map((e=>{const t=$5d5df9ecf1c80076$exports.sizeFromShape(e.shape.slice(n));return $c509dc069b10c20a$export$9eaad88cf88cee2b({inputs:{x:e},backend:a,attrs:{shape:[-1,t]}})})),c=e.map((e=>({vals:a.readSync(e.dataId),shape:e.shape})));r=$c4c4d404109848b6$exports.computeOutShape(e.map((e=>e.shape)),1);const i=1===e[0].shape[0],d=$15c8f1254ef4b6c0$export$777da59f594f497d(c,r,t[0].dtype,i),f=$c4c4d404109848b6$exports.computeOutShape(o.map((e=>e.shape)),n);s.shape=f;return a.dataIdMap.get(s.dataId).stringBytes=$c4c4d404109848b6$exports.fromStringArrayToUint8(d),e.forEach((e=>a.disposeData(e.dataId))),s}const i=$5d5df9ecf1c80076$exports.sizeFromShape(o[0].shape.slice(0,n));let d=0;const f=o.map((e=>{const t=$5d5df9ecf1c80076$exports.sizeFromShape(e.shape.slice(n));return d+=t,t})),$=o.map((e=>a.typedArrayFromHeap(e))),u=a.typedArrayFromHeap(s);for(let e=0;e<i;e++){let t=e*d;for(let a=0;a<$.length;a++){const n=f[a],r=e*n,o=$[a].subarray(r,r+n);u.set(o,t),t+=n}}return s}const $e90205e4e5661f23$export$c8cf96dae25282e5={kernelName:$0eb90ddf241a18bf$export$936bbfc007425eea,backendName:"wasm",kernelFunc:$e90205e4e5661f23$export$ee1b3e54f0441b22};let $8625010d0bc4d86d$var$wasmConv2d;function $8625010d0bc4d86d$var$setup(e){$8625010d0bc4d86d$var$wasmConv2d=e.wasm.cwrap($0eb90ddf241a18bf$export$57742e605d475795,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function $8625010d0bc4d86d$var$conv2d(e){const{inputs:t,attrs:a,backend:n}=e,{x:r,filter:o}=t,s=n.dataIdMap.get(r.dataId).id,c=n.dataIdMap.get(o.dataId).id,{strides:i,dilations:d,pad:f,dimRoundingMode:$,dataFormat:u}=a,p=$c4c4d404109848b6$exports.convertConv2DDataFormat(u),l=$c4c4d404109848b6$exports.computeConv2DInfo(r.shape,o.shape,i,d,f,$,!1,p),b=l.filterHeight,h=l.filterWidth,x=l.padInfo.top,m=l.padInfo.right,g=l.padInfo.bottom,v=l.padInfo.left,y=l.dilationHeight,w=l.dilationWidth,_=l.strideHeight,I=l.strideWidth,S=l.inChannels,T=l.outChannels,k="SAME"===l.padInfo.type?1:0;if("channelsLast"!==l.dataFormat)throw new Error(`wasm backend Conv2D does not support dataFormat:'${l.dataFormat}'. Please use 'channelsLast'.`);const E=n.makeOutput(l.outShape,"float32"),A=n.dataIdMap.get(E.dataId).id;return $8625010d0bc4d86d$var$wasmConv2d(s,r.shape[0],r.shape[1],r.shape[2],c,b,h,x,m,g,v,k,y,w,_,I,S,T,A),E}const $8625010d0bc4d86d$export$4a39bf13b4378042={kernelName:$0eb90ddf241a18bf$export$57742e605d475795,backendName:"wasm",setupFunc:$8625010d0bc4d86d$var$setup,kernelFunc:$8625010d0bc4d86d$var$conv2d};let $edaf146a088c8fd9$var$wasmConv2DBackpropInput;function $edaf146a088c8fd9$var$setup(e){$edaf146a088c8fd9$var$wasmConv2DBackpropInput=e.wasm.cwrap($0eb90ddf241a18bf$export$e26961e8ed0eb404,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function $edaf146a088c8fd9$var$conv2DBackpropInput(e){const{backend:t,inputs:a,attrs:n}=e,{dy:r,filter:o}=a,{strides:s,pad:c,dataFormat:i,dimRoundingMode:d,inputShape:f}=n,$=$c4c4d404109848b6$exports.convertConv2DDataFormat(i),u=$c4c4d404109848b6$exports.computeConv2DInfo(f,o.shape,s,1,c,d,!1,$),{batchSize:p,filterHeight:l,filterWidth:b,inChannels:h,inHeight:x,inWidth:m,outChannels:g,outHeight:v,outWidth:y,strideHeight:w,strideWidth:_}=u,I=l-1-u.padInfo.top,S=b-1-u.padInfo.left,T="channelsLast"===u.dataFormat,k=$5d5df9ecf1c80076$exports.computeStrides(u.inShape),E=$5d5df9ecf1c80076$exports.computeStrides(r.shape),[A,C,O]=$5d5df9ecf1c80076$exports.computeStrides(o.shape),N=k[0],R=T?k[1]:k[2],F=T?k[2]:1,D=T?1:k[1],P=E[0],M=T?E[1]:E[2],L=T?E[2]:1,B=T?1:E[1],U=t.makeOutput(u.inShape,"float32"),V=t.dataIdMap.get(U.dataId).id,W=t.dataIdMap.get(r.dataId).id,z=t.dataIdMap.get(o.dataId).id;return $edaf146a088c8fd9$var$wasmConv2DBackpropInput(W,z,p,l,b,x,m,h,v,y,g,w,_,I,S,A,C,O,N,R,F,D,P,M,L,B,V),U}const $edaf146a088c8fd9$export$19bbc19fff1ed26f={kernelName:$0eb90ddf241a18bf$export$e26961e8ed0eb404,backendName:"wasm",setupFunc:$edaf146a088c8fd9$var$setup,kernelFunc:$edaf146a088c8fd9$var$conv2DBackpropInput},$d7bab7de076d1e98$export$ff099a1da5235a7e=$f634810283efcf2e$export$1064a4367d46e10e($0eb90ddf241a18bf$export$ddfd0a983d257666),$fef93d8e6d082e31$export$c5824052b09ba0ed=$f634810283efcf2e$export$1064a4367d46e10e($0eb90ddf241a18bf$export$5e311a1c57b0d27c);var $b27eff1cb7d0d0dd$var$InterpolationMethod,InterpolationMethod;let $b27eff1cb7d0d0dd$var$wasmCropAndResize;function $b27eff1cb7d0d0dd$var$setup(e){$b27eff1cb7d0d0dd$var$wasmCropAndResize=e.wasm.cwrap($0eb90ddf241a18bf$export$50bc9557793c2e04,null,["number","number","number","number","array","number","number","number","number","number"])}function $b27eff1cb7d0d0dd$var$cropAndResize(e){const{backend:t,inputs:a,attrs:n}=e,{method:r,extrapolationValue:o,cropSize:s}=n,{image:c,boxes:i,boxInd:d}=a,f=i.shape[0],[$,u]=s,p=[f,$,u,c.shape[3]];let l,b=t.dataIdMap.get(c.dataId);"float32"!==c.dtype&&(l=$e79f8b770c04b01a$export$f2db7d5238e1d23f({backend:t,inputs:{x:c},attrs:{dtype:"float32"}}),b=t.dataIdMap.get(l.dataId));const h=b.id,x=t.dataIdMap.get(i.dataId).id,m=t.dataIdMap.get(d.dataId).id,g=t.makeOutput(p,"float32"),v=t.dataIdMap.get(g.dataId).id,y=new Uint8Array(new Int32Array(c.shape).buffer);return $b27eff1cb7d0d0dd$var$wasmCropAndResize(h,x,m,f,y,$,u,$b27eff1cb7d0d0dd$var$InterpolationMethod[r],o,v),null!=l&&t.disposeData(l.dataId),g}InterpolationMethod=$b27eff1cb7d0d0dd$var$InterpolationMethod||($b27eff1cb7d0d0dd$var$InterpolationMethod={}),InterpolationMethod[InterpolationMethod.bilinear=0]="bilinear",InterpolationMethod[InterpolationMethod.nearest=1]="nearest";const $b27eff1cb7d0d0dd$export$f7086edcf0050c7f={kernelName:$0eb90ddf241a18bf$export$50bc9557793c2e04,backendName:"wasm",setupFunc:$b27eff1cb7d0d0dd$var$setup,kernelFunc:$b27eff1cb7d0d0dd$var$cropAndResize};let $0d92a3a513ba3697$var$wasmCumprod;function $0d92a3a513ba3697$var$setup(e){$0d92a3a513ba3697$var$wasmCumprod=e.wasm.cwrap($0eb90ddf241a18bf$export$e581acc6014c47a,null,["number","number","number","number","number","number"])}function $0d92a3a513ba3697$export$dc7513e907e94b8d(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{axis:o,exclusive:s,reverse:c}=n,i=r.shape.length;$5d5df9ecf1c80076$exports.assert("float32"===r.dtype||"int32"===r.dtype,(()=>`cumprod does not support ${r.dtype} tensors in the WASM backend`));const d=$c4c4d404109848b6$exports.getAxesPermutation([o],i);let f=r;null!==d&&(f=$6d56e0ab03b8e542$export$9cb09a71b7d66923({inputs:{x:r},attrs:{perm:d},backend:a}));const $=$c4c4d404109848b6$exports.getInnerMostAxes(1,i)[0];$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("cumprod",[$],i);const u=a.makeOutput(f.shape,f.dtype),p=f.shape[$],l=a.dataIdMap.get(f.dataId).id,b=a.dataIdMap.get(u.dataId).id;$0d92a3a513ba3697$var$wasmCumprod(l,s?1:0,c?1:0,p,b,$5546163d7eac2223$export$7b843996b6cf8ee0[r.dtype]);let h=u;if(null!==d){h=$6d56e0ab03b8e542$export$9cb09a71b7d66923({inputs:{x:u},attrs:{perm:$c4c4d404109848b6$exports.getUndoAxesPermutation(d)},backend:a}),a.disposeData(f.dataId),a.disposeData(u.dataId)}return h}const $0d92a3a513ba3697$export$db50d81ed60c5a35={kernelName:$0eb90ddf241a18bf$export$e581acc6014c47a,backendName:"wasm",setupFunc:$0d92a3a513ba3697$var$setup,kernelFunc:$0d92a3a513ba3697$export$dc7513e907e94b8d};let $1bc0de1da6aa87ce$var$wasmCumsum;function $1bc0de1da6aa87ce$var$setup(e){$1bc0de1da6aa87ce$var$wasmCumsum=e.wasm.cwrap($0eb90ddf241a18bf$export$706617d894ad63da,null,["number","number","number","number","number","number"])}function $1bc0de1da6aa87ce$export$71990b1e1c4912fe(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{axis:o,exclusive:s,reverse:c}=n,i=r.shape.length;$5d5df9ecf1c80076$exports.assert("float32"===r.dtype||"int32"===r.dtype,(()=>`cumsum does not support ${r.dtype} tensors in the WASM backend`));const d=$c4c4d404109848b6$exports.getAxesPermutation([o],i);let f=r;null!==d&&(f=$6d56e0ab03b8e542$export$9cb09a71b7d66923({inputs:{x:r},attrs:{perm:d},backend:a}));const $=$c4c4d404109848b6$exports.getInnerMostAxes(1,i)[0];$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("cumsum",[$],i);const u=a.makeOutput(f.shape,f.dtype),p=f.shape[$],l=a.dataIdMap.get(f.dataId).id,b=a.dataIdMap.get(u.dataId).id;$1bc0de1da6aa87ce$var$wasmCumsum(l,s?1:0,c?1:0,p,b,$5546163d7eac2223$export$7b843996b6cf8ee0[r.dtype]);let h=u;if(null!==d){h=$6d56e0ab03b8e542$export$9cb09a71b7d66923({inputs:{x:u},attrs:{perm:$c4c4d404109848b6$exports.getUndoAxesPermutation(d)},backend:a}),a.disposeData(f.dataId),a.disposeData(u.dataId)}return h}const $1bc0de1da6aa87ce$export$2f6196f3316e7ed2={kernelName:$0eb90ddf241a18bf$export$706617d894ad63da,backendName:"wasm",setupFunc:$1bc0de1da6aa87ce$var$setup,kernelFunc:$1bc0de1da6aa87ce$export$71990b1e1c4912fe};let $fc477654ffab0226$var$wasmDepthToSpace;function $fc477654ffab0226$var$setup(e){$fc477654ffab0226$var$wasmDepthToSpace=e.wasm.cwrap($0eb90ddf241a18bf$export$fb0ee52d0cd6f233,null,["number","number","number","array","number","array","array","number","number"])}function $fc477654ffab0226$export$3b50daec0f185f12(e){const{backend:t,inputs:a,attrs:n}=e,{x:r}=a,{blockSize:o,dataFormat:s}=n,c=r.shape[0],i=("NHWC"===s?r.shape[1]:r.shape[2])*o,d=("NHWC"===s?r.shape[2]:r.shape[3])*o,f=("NHWC"===s?r.shape[3]:r.shape[1])/(o*o),$="NHWC"===s?[c,i,d,f]:[c,f,i,d],u=t.makeOutput($,"float32"),p=t.dataIdMap.get(r.dataId).id,l=new Uint8Array(new Int32Array($5d5df9ecf1c80076$exports.computeStrides(r.shape)).buffer),b=new Uint8Array(new Int32Array($).buffer),h=new Uint8Array(new Int32Array($5d5df9ecf1c80076$exports.computeStrides($)).buffer),x=t.dataIdMap.get(u.dataId).id;return $fc477654ffab0226$var$wasmDepthToSpace(p,o,"NHWC"===s?1:0,l,r.shape.length-1,b,h,$.length,x),u}const $fc477654ffab0226$export$9c5b88dcb1d2008b={kernelName:$0eb90ddf241a18bf$export$fb0ee52d0cd6f233,backendName:"wasm",setupFunc:$fc477654ffab0226$var$setup,kernelFunc:$fc477654ffab0226$export$3b50daec0f185f12};let $2688d0e0a2c3d4fc$var$wasmDepthwiseConv2d;function $2688d0e0a2c3d4fc$var$setup(e){$2688d0e0a2c3d4fc$var$wasmDepthwiseConv2d=e.wasm.cwrap($0eb90ddf241a18bf$export$7c0fc590ff9e156f,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function $2688d0e0a2c3d4fc$var$depthwiseConv2d(e){const{inputs:t,attrs:a,backend:n}=e,{x:r,filter:o}=t,s=n.dataIdMap.get(r.dataId).id,c=n.dataIdMap.get(o.dataId).id,{strides:i,dilations:d,pad:f,dimRoundingMode:$}=a,u=null==d?[1,1]:d,p=$c4c4d404109848b6$exports.computeConv2DInfo(r.shape,o.shape,i,u,f,$,!0),l=p.filterHeight,b=p.filterWidth,h=p.padInfo.top,x=p.padInfo.right,m=p.padInfo.bottom,g=p.padInfo.left,v=p.dilationHeight,y=p.dilationWidth,w=p.strideHeight,_=p.strideWidth,I=p.inChannels,S=p.outChannels,T="SAME"===p.padInfo.type?1:0;if("channelsLast"!==p.dataFormat)throw new Error(`wasm backend DepthwiseConv2dNative does not support dataFormat:'${p.dataFormat}'. Please use 'channelsLast'.`);const k=n.makeOutput(p.outShape,"float32"),E=n.dataIdMap.get(k.dataId).id;return $2688d0e0a2c3d4fc$var$wasmDepthwiseConv2d(s,r.shape[0],r.shape[1],r.shape[2],c,l,b,h,x,m,g,T,v,y,w,_,I,S,E),k}const $2688d0e0a2c3d4fc$export$240667804b7c390e={kernelName:$0eb90ddf241a18bf$export$7c0fc590ff9e156f,backendName:"wasm",setupFunc:$2688d0e0a2c3d4fc$var$setup,kernelFunc:$2688d0e0a2c3d4fc$var$depthwiseConv2d},$5d49cb8af77679c9$export$b990686634ee3cce=$f634810283efcf2e$export$1064a4367d46e10e($0eb90ddf241a18bf$export$64636e173424d83d),$b20367e83ac33684$var$supportsFullBroadcast=!1,$b20367e83ac33684$export$3c8bc3d8ee318217=$dffddab03cfc8242$export$643f3601638ef87a($0eb90ddf241a18bf$export$8dcf9f58ce5cdfc,$b20367e83ac33684$var$supportsFullBroadcast,"bool"),$853a5280f8de6d44$export$2fd7ea0fcf021f34=$f634810283efcf2e$export$1064a4367d46e10e($0eb90ddf241a18bf$export$f908be7a96fb3363,"float32");function $550ec1af16c69d24$export$d660d8ed21f46635(e){const{inputs:t,attrs:a,backend:n}=e,{input:r}=t,{dim:o}=a,s=r.shape.length,c=r.shape.slice();let i=o;return o<0&&($5d5df9ecf1c80076$exports.assert(-(s+1)<=o,(()=>`Axis must be in the interval [${-(s+1)}, ${s}]`)),i=s+o+1),c.splice(i,0,1),$c509dc069b10c20a$export$9eaad88cf88cee2b({inputs:{x:r},backend:n,attrs:{shape:c}})}const $550ec1af16c69d24$export$86341ba0ce5d8e60={kernelName:$0eb90ddf241a18bf$export$2391750b1d901146,backendName:"wasm",kernelFunc:$550ec1af16c69d24$export$d660d8ed21f46635};function $b1ec5d7084729a71$export$9563e054e6f787fb(e){const{attrs:{shape:t,value:a,dtype:n},backend:r}=e,o=r.makeOutput(t,n);return r.typedArrayFromHeap(o).fill(a),o}const $b1ec5d7084729a71$export$c953bf474b2bde62={kernelName:$0eb90ddf241a18bf$export$ffffe40bfa0649a3,backendName:"wasm",kernelFunc:$b1ec5d7084729a71$export$9563e054e6f787fb};let $9fc4699204bec558$var$wasmFlipLeftRight;function $9fc4699204bec558$var$setup(e){$9fc4699204bec558$var$wasmFlipLeftRight=e.wasm.cwrap($0eb90ddf241a18bf$export$34e7296fc8558df5,null,["number","number","number","number","number","number"])}function $9fc4699204bec558$export$8358b9c43b687b22(e){const{inputs:t,backend:a}=e,{image:n}=t,r=a.makeOutput(n.shape,n.dtype),o=a.dataIdMap.get(n.dataId).id,s=a.dataIdMap.get(r.dataId).id,[c,i,d,f]=n.shape;return $9fc4699204bec558$var$wasmFlipLeftRight(o,c,i,d,f,s),r}const $9fc4699204bec558$export$c9ec83cb23304466={kernelName:$0eb90ddf241a18bf$export$34e7296fc8558df5,backendName:"wasm",kernelFunc:$9fc4699204bec558$export$8358b9c43b687b22,setupFunc:$9fc4699204bec558$var$setup},$14dc8dd7d9583f17$export$7e9a0f96fa6bd01c=$f634810283efcf2e$export$1064a4367d46e10e($0eb90ddf241a18bf$export$4880b0ae5643c62b),$fbcc0127eede2ba9$var$supportsFullBroadcast=!1,$fbcc0127eede2ba9$export$7eac933a0c7fd37f=$dffddab03cfc8242$export$643f3601638ef87a($0eb90ddf241a18bf$export$d79b5692ede26c2f,$fbcc0127eede2ba9$var$supportsFullBroadcast);let $88f2c92d4bce504d$var$wasmBatchNorm;function $88f2c92d4bce504d$var$setup(e){$88f2c92d4bce504d$var$wasmBatchNorm=e.wasm.cwrap($0eb90ddf241a18bf$export$3821a0416660aaa2,null,["number","number","number","number","number","number","number"])}function $88f2c92d4bce504d$var$fusedBatchNorm(e){const{backend:t,inputs:a,attrs:n}=e,{varianceEpsilon:r}=n,{x:o,mean:s,variance:c,offset:i,scale:d}=a,f=t.dataIdMap.get(o.dataId).id,$=t.dataIdMap.get(s.dataId).id,u=t.dataIdMap.get(c.dataId).id,p=null!=i?t.dataIdMap.get(i.dataId).id:0,l=null!=d?t.dataIdMap.get(d.dataId).id:0,b=t.makeOutput(o.shape,o.dtype);if(0===$5d5df9ecf1c80076$exports.sizeFromShape(o.shape))return b;const h=t.dataIdMap.get(b.dataId).id;return $88f2c92d4bce504d$var$wasmBatchNorm(f,$,u,p,l,r,h),b}const $88f2c92d4bce504d$export$bfc6b905951b4903={kernelName:$0eb90ddf241a18bf$export$3821a0416660aaa2,backendName:"wasm",setupFunc:$88f2c92d4bce504d$var$setup,kernelFunc:$88f2c92d4bce504d$var$fusedBatchNorm};let $7ee6b5cae82859b0$var$wasmFusedConv2d;function $7ee6b5cae82859b0$var$setup(e){$7ee6b5cae82859b0$var$wasmFusedConv2d=e.wasm.cwrap($0eb90ddf241a18bf$export$86f8a8e3a8f2a8f2,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function $7ee6b5cae82859b0$var$fusedConv2d(e){const{inputs:t,attrs:a,backend:n}=e,{x:r,filter:o,bias:s,preluActivationWeights:c}=t,{strides:i,pad:d,dilations:f,dataFormat:$,dimRoundingMode:u,activation:p,leakyreluAlpha:l}=a,b=$c4c4d404109848b6$exports.computeConv2DInfo(r.shape,o.shape,i,f,d,u),h=$5546163d7eac2223$export$4cb673822966e9a9[p];if(null==h)throw new Error(`${p} activation not yet supported for FusedConv2D in the wasm backend.`);const x=n.dataIdMap.get(r.dataId).id,m=n.dataIdMap.get(o.dataId).id,g=b.outChannels;let v=0;if(null!=s){const e=n.dataIdMap.get(s.dataId);if(1!==e.shape.length)throw new Error(`FusedConv2D only supports rank-1 bias but got rank ${e.shape.length}.`);if(e.shape[0]!==g)throw new Error(`FusedConv2D bias shape (${e.shape}) does not match the number of output channels (${g})`);v=e.id}const y=b.filterHeight,w=b.filterWidth,_=b.padInfo.top,I=b.padInfo.right,S=b.padInfo.bottom,T=b.padInfo.left,k=b.dilationHeight,E=b.dilationWidth,A=b.strideHeight,C=b.strideWidth,O=b.inChannels,N="SAME"===b.padInfo.type?1:0,R=b.batchSize,F=b.inHeight,D=b.inWidth;if("NHWC"!==$)throw new Error(`wasm backend FusedConv2D does not support dataFormat:'${$}'. Please use 'NHWC'.`);const P=n.makeOutput(b.outShape,"float32"),M=n.dataIdMap.get(P.dataId).id,L=null==c?0:n.dataIdMap.get(c.dataId).id;return $7ee6b5cae82859b0$var$wasmFusedConv2d(x,R,F,D,m,y,w,v,_,I,S,T,N,k,E,A,C,O,g,h,L,l||0,M),P}const $7ee6b5cae82859b0$export$5b64efa829ddf94e={kernelName:$0eb90ddf241a18bf$export$86f8a8e3a8f2a8f2,backendName:"wasm",setupFunc:$7ee6b5cae82859b0$var$setup,kernelFunc:$7ee6b5cae82859b0$var$fusedConv2d};let $34c69375ffae1e51$var$wasmFusedDepthwiseConv2d;function $34c69375ffae1e51$var$setup(e){$34c69375ffae1e51$var$wasmFusedDepthwiseConv2d=e.wasm.cwrap($0eb90ddf241a18bf$export$5a249e8f498c02c1,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function $34c69375ffae1e51$var$fusedDepthwiseConv2d(e){const{inputs:t,attrs:a,backend:n}=e,{x:r,filter:o,bias:s,preluActivationWeights:c}=t,{strides:i,pad:d,dilations:f,dataFormat:$,dimRoundingMode:u,activation:p,leakyreluAlpha:l}=a,b=$c4c4d404109848b6$exports.computeConv2DInfo(r.shape,o.shape,i,f,d,u,!0),h=$5546163d7eac2223$export$4cb673822966e9a9[p];if(null==h)throw new Error(`${p} activation not yet supported for FusedDepthwiseConv2D in the wasm backend.`);const x=n.dataIdMap.get(r.dataId).id,m=n.dataIdMap.get(o.dataId).id,g=b.outChannels;let v=0;if(null!=s){const e=n.dataIdMap.get(s.dataId);if(1!==e.shape.length)throw new Error(`FusedDepthwiseConv2D only supports rank-1 bias but got rank ${e.shape.length}.`);if(e.shape[0]!==g)throw new Error(`FusedDepthwiseConv2D bias shape (${e.shape}) does not match the number of output channels (${g})`);v=e.id}const y=b.filterHeight,w=b.filterWidth,_=b.padInfo.top,I=b.padInfo.right,S=b.padInfo.bottom,T=b.padInfo.left,k=b.dilationHeight,E=b.dilationWidth,A=b.strideHeight,C=b.strideWidth,O=b.inChannels,N="SAME"===b.padInfo.type?1:0,R=b.batchSize,F=b.inHeight,D=b.inWidth;if("NHWC"!==$)throw new Error(`wasm backend FusedDepthwiseConv2D does not support dataFormat:'${$}'. Please use 'NHWC'.`);const P=n.makeOutput(b.outShape,"float32"),M=n.dataIdMap.get(P.dataId).id,L=null==c?0:n.dataIdMap.get(c.dataId).id;return $34c69375ffae1e51$var$wasmFusedDepthwiseConv2d(x,R,F,D,m,y,w,v,_,I,S,T,N,k,E,A,C,O,g,h,L,l||0,M),P}const $34c69375ffae1e51$export$58481cc3409b412c={kernelName:$0eb90ddf241a18bf$export$5a249e8f498c02c1,backendName:"wasm",setupFunc:$34c69375ffae1e51$var$setup,kernelFunc:$34c69375ffae1e51$var$fusedDepthwiseConv2d};let $75e07ad056b8260f$var$wasmGatherNd;function $75e07ad056b8260f$var$setup(e){$75e07ad056b8260f$var$wasmGatherNd=e.wasm.cwrap($0eb90ddf241a18bf$export$4ef6e37a23721703,null,["number","number","number","number","number","number","array","number"])}function $75e07ad056b8260f$var$gatherNd(e){const{backend:t,inputs:a}=e,{params:n,indices:r}=a,[o,s,c,i]=$4ad8623edfc7f6c6$exports.prepareAndValidate(n,r),d=t.makeOutput(o,n.dtype);if(0===s)return d;const f=r.shape,$=f[f.length-1],u=t.dataIdMap.get(n.dataId).id,p=t.dataIdMap.get(r.dataId).id,l=new Uint8Array(new Int32Array(i).buffer),b=t.dataIdMap.get(d.dataId).id;return $75e07ad056b8260f$var$wasmGatherNd(u,$5546163d7eac2223$export$7b843996b6cf8ee0[n.dtype],p,s,$,c,l,b),d}const $75e07ad056b8260f$export$d9700eb1c7f5c969={kernelName:$0eb90ddf241a18bf$export$4ef6e37a23721703,backendName:"wasm",setupFunc:$75e07ad056b8260f$var$setup,kernelFunc:$75e07ad056b8260f$var$gatherNd};let $fc7fd5918e99e6c1$var$wasmGather;function $fc7fd5918e99e6c1$var$setup(e){$fc7fd5918e99e6c1$var$wasmGather=e.wasm.cwrap("Gather",null,["number","number","array","number","number","number","array","number"])}function $fc7fd5918e99e6c1$var$gatherV2(e){const{backend:t,inputs:a,attrs:n}=e,{x:r,indices:o}=a,{axis:s,batchDims:c}=n,i=$5d5df9ecf1c80076$exports.parseAxisParam(s,r.shape)[0],d=t.readSync(o.dataId),f=r.shape[i];for(let e=0;e<d.length;++e){const t=d[e];$5d5df9ecf1c80076$exports.assert(t<=f-1&&t>=0,(()=>`GatherV2: the index value ${t} is not in [0, ${f-1}]`))}const $=$c4c4d404109848b6$exports.segment_util.collectGatherOpShapeInfo(r,o,i,c),u=$c509dc069b10c20a$export$9eaad88cf88cee2b({inputs:{x:r},attrs:{shape:[$.batchSize,$.outerSize,$.dimSize,$.sliceSize]},backend:t}),p=$5d5df9ecf1c80076$exports.sizeFromShape(o.shape),l=$c509dc069b10c20a$export$9eaad88cf88cee2b({inputs:{x:o},attrs:{shape:[$.batchSize,p/$.batchSize]},backend:t}),b=[$.batchSize,$.outerSize,p/$.batchSize,$.sliceSize],h=t.makeOutput(b,r.dtype);if(0===$5d5df9ecf1c80076$exports.sizeFromShape(r.shape))return h;const x=u.shape.length-1,m=t.dataIdMap.get(u.dataId).id,g=t.dataIdMap.get(l.dataId).id,v=t.dataIdMap.get(h.dataId).id,y=new Uint8Array(new Int32Array($5d5df9ecf1c80076$exports.computeStrides(u.shape)).buffer),w=new Uint8Array(new Int32Array($5d5df9ecf1c80076$exports.computeStrides(b)).buffer);return $fc7fd5918e99e6c1$var$wasmGather(m,$5546163d7eac2223$export$7b843996b6cf8ee0[r.dtype],y,x,g,$.batchSize,w,v),t.disposeData(u.dataId),t.disposeData(l.dataId),h.shape=$.outputShape,h}const $fc7fd5918e99e6c1$export$b1bd3139c91d8765={kernelName:$0eb90ddf241a18bf$export$ccd988942e5c0181,backendName:"wasm",setupFunc:$fc7fd5918e99e6c1$var$setup,kernelFunc:$fc7fd5918e99e6c1$var$gatherV2},$fdb9795806fcbdde$var$supportsFullBroadcast=!1,$fdb9795806fcbdde$export$8c4f7e92d92310f8=$dffddab03cfc8242$export$643f3601638ef87a($0eb90ddf241a18bf$export$d0a25eac5ee3f515,$fdb9795806fcbdde$var$supportsFullBroadcast,"bool"),$4923d46b3ad9d13a$var$supportsFullBroadcast=!1,$4923d46b3ad9d13a$export$7a6926f9fcac24ca=$dffddab03cfc8242$export$643f3601638ef87a($0eb90ddf241a18bf$export$3b7d21bc9aee0851,$4923d46b3ad9d13a$var$supportsFullBroadcast,"bool");let $a4b48a124187482b$var$wasmFunc;function $a4b48a124187482b$var$setupFunc(e){$a4b48a124187482b$var$wasmFunc=e.wasm.cwrap($0eb90ddf241a18bf$export$f0c7162bb7af1a2d,null,["number","number","number","number"])}function $a4b48a124187482b$export$23a860e40a2c6b61(e){const{inputs:{x:t},attrs:{alpha:a},backend:n}=e,r=n.dataIdMap.get(t.dataId).id,o=n.makeOutput(t.shape,"float32");if(0!==$5d5df9ecf1c80076$exports.sizeFromShape(t.shape)){const e=n.dataIdMap.get(o.dataId).id;$a4b48a124187482b$var$wasmFunc(r,$5546163d7eac2223$export$7b843996b6cf8ee0[t.dtype],a,e)}return o}const $a4b48a124187482b$export$aa04ab963fdf437f={kernelName:$0eb90ddf241a18bf$export$f0c7162bb7af1a2d,backendName:"wasm",setupFunc:$a4b48a124187482b$var$setupFunc,kernelFunc:$a4b48a124187482b$export$23a860e40a2c6b61},$7ac01b4b6c7782cc$var$supportsFullBroadcast=!1,$7ac01b4b6c7782cc$export$8d4530ce8b6ffc3c=$dffddab03cfc8242$export$643f3601638ef87a($0eb90ddf241a18bf$export$728c50f1c88ac779,$7ac01b4b6c7782cc$var$supportsFullBroadcast,"bool"),$16da0eed4f4694f8$var$supportsFullBroadcast=!1,$16da0eed4f4694f8$export$9f26bd257393dd8=$dffddab03cfc8242$export$643f3601638ef87a($0eb90ddf241a18bf$export$84afd0d8f7fb8c5d,$16da0eed4f4694f8$var$supportsFullBroadcast,"bool"),$f24cc1e6cf28c9ec$export$a4ae1f00643ddd14=$f634810283efcf2e$export$1064a4367d46e10e($0eb90ddf241a18bf$export$ce30dbb46644d06c),$3caada2c4ee24074$var$supportsFullBroadcast=!1,$3caada2c4ee24074$export$257f1e82e69113fb=$dffddab03cfc8242$export$643f3601638ef87a($0eb90ddf241a18bf$export$8a27ff10dff4d6e5,$3caada2c4ee24074$var$supportsFullBroadcast,"bool");let $8a87e65c1e7b4e8b$var$wasmMax;function $8a87e65c1e7b4e8b$var$setup(e){$8a87e65c1e7b4e8b$var$wasmMax=e.wasm.cwrap($0eb90ddf241a18bf$export$d36c09e5d02927e7,null,["number","number","number","number"])}function $8a87e65c1e7b4e8b$var$max(e){const{backend:t,inputs:a,attrs:n}=e,{reductionIndices:r,keepDims:o}=n,{x:s}=a;let c=t.dataIdMap.get(s.dataId).id,i=s;const{transposed:d,axes:f,originalAxes:$,inputWasTransposed:u}=$e8a826f0276978b9$export$822718f51723d8ff(s,r,t);if(u){i=d,c=t.dataIdMap.get(d.dataId).id}const p=i.shape.length;$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("max",f,p);const[l,b]=$c4c4d404109848b6$exports.computeOutAndReduceShapes(i.shape,f),h=$5d5df9ecf1c80076$exports.sizeFromShape(b),x=t.makeOutput(l,s.dtype);if(0!==$5d5df9ecf1c80076$exports.sizeFromShape(i.shape)){const e=t.dataIdMap.get(x.dataId).id;$8a87e65c1e7b4e8b$var$wasmMax(c,$5546163d7eac2223$export$7b843996b6cf8ee0[s.dtype],h,e)}if(u&&t.disposeData(d.dataId),o){const e=$c4c4d404109848b6$exports.expandShapeToKeepDim(x.shape,$);x.shape=e}return x}const $8a87e65c1e7b4e8b$export$7d79147246e312bb={kernelName:$0eb90ddf241a18bf$export$d36c09e5d02927e7,backendName:"wasm",setupFunc:$8a87e65c1e7b4e8b$var$setup,kernelFunc:$8a87e65c1e7b4e8b$var$max},$efb3a3053e5927a7$var$supportsFullBroadcast=!1,$efb3a3053e5927a7$export$45b97bdc342e72a2=$dffddab03cfc8242$export$643f3601638ef87a($0eb90ddf241a18bf$export$d8d02ac92d161004,$efb3a3053e5927a7$var$supportsFullBroadcast);let $2726cd06c3de351e$var$wasmMaxPool;function $2726cd06c3de351e$var$setup(e){$2726cd06c3de351e$var$wasmMaxPool=e.wasm.cwrap($0eb90ddf241a18bf$export$39ea33024ddd5cf,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function $2726cd06c3de351e$var$maxPool(e){const{inputs:t,attrs:a,backend:n}=e,r=t.x,o=n.dataIdMap.get(r.dataId).id;$5d5df9ecf1c80076$exports.assert("float32"===r.dtype,(()=>`Error in MaxPool: only float32 input is supported. Got ${r.dtype}.`));const{filterSize:s,strides:c,pad:i,dimRoundingMode:d}=a,f=$c4c4d404109848b6$exports.computePool2DInfo(r.shape,s,c,1,i,d),$=f.filterHeight,u=f.filterWidth,p=f.padInfo.top,l=f.padInfo.right,b=f.padInfo.bottom,h=f.padInfo.left,x=f.dilationHeight,m=f.dilationWidth,g=f.strideHeight,v=f.strideWidth,y=f.inChannels,w=f.outChannels;if("channelsLast"!==f.dataFormat)throw new Error(`wasm backend does not support dataFormat:'${f.dataFormat}'. Please use 'channelsLast'.`);const _=n.makeOutput(f.outShape,"float32"),I=n.dataIdMap.get(_.dataId).id;return $2726cd06c3de351e$var$wasmMaxPool(o,r.shape[0],r.shape[1],r.shape[2],$,u,p,l,b,h,x,m,g,v,y,w,I),_}const $2726cd06c3de351e$export$45c8263b38f19e33={kernelName:$0eb90ddf241a18bf$export$39ea33024ddd5cf,backendName:"wasm",setupFunc:$2726cd06c3de351e$var$setup,kernelFunc:$2726cd06c3de351e$var$maxPool};let $18bff285aadb9388$var$wasmMean;function $18bff285aadb9388$var$setup(e){$18bff285aadb9388$var$wasmMean=e.wasm.cwrap($0eb90ddf241a18bf$export$1c2d59c4b681fbd8,null,["number, number, number"])}function $18bff285aadb9388$export$1ce691f85baaa52(e){const{backend:t,inputs:a,attrs:n}=e,{axis:r,keepDims:o}=n,{x:s}=a,c=t.dataIdMap.get(s.dataId).id;let i=c,d=s;const{transposed:f,axes:$,originalAxes:u,inputWasTransposed:p}=$e8a826f0276978b9$export$822718f51723d8ff(s,r,t);let l=$;if(p){const e=t.dataIdMap.get(f.dataId).id;e!==c&&(d=f,i=e,l=$c4c4d404109848b6$exports.getInnerMostAxes(l.length,d.shape.length))}$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("mean",l,d.shape.length);const[b,h]=$c4c4d404109848b6$exports.computeOutAndReduceShapes(d.shape,l),x=$5d5df9ecf1c80076$exports.sizeFromShape(h);let m=d;"float32"!==d.dtype&&(m=$e79f8b770c04b01a$export$f2db7d5238e1d23f({backend:t,inputs:{x:d},attrs:{dtype:"float32"}}),i=t.dataIdMap.get(m.dataId).id);const g=t.makeOutput(b,"float32");if(0!==$5d5df9ecf1c80076$exports.sizeFromShape(d.shape)){const e=t.dataIdMap.get(g.dataId).id;$18bff285aadb9388$var$wasmMean(i,x,e)}if(p&&t.disposeData(f.dataId),o){const e=$c4c4d404109848b6$exports.expandShapeToKeepDim(g.shape,u);g.shape=e}return"float32"!==d.dtype&&t.disposeData(m.dataId),g}const $18bff285aadb9388$export$b934af0ccd0cdbe1={kernelName:$0eb90ddf241a18bf$export$1c2d59c4b681fbd8,backendName:"wasm",setupFunc:$18bff285aadb9388$var$setup,kernelFunc:$18bff285aadb9388$export$1ce691f85baaa52};let $997bcedd9ac5656e$var$wasmMin;function $997bcedd9ac5656e$var$setup(e){$997bcedd9ac5656e$var$wasmMin=e.wasm.cwrap($0eb90ddf241a18bf$export$dfed19fabc75a31d,null,["number","number","number","number"])}function $997bcedd9ac5656e$var$min(e){const{backend:t,inputs:a,attrs:n}=e,{axis:r,keepDims:o}=n,{x:s}=a,c=t.dataIdMap.get(s.dataId).id;let i=c,d=s;const{transposed:f,axes:$,originalAxes:u,inputWasTransposed:p}=$e8a826f0276978b9$export$822718f51723d8ff(s,r,t);if(p){const e=t.dataIdMap.get(f.dataId).id;e!==c&&(d=f,i=e)}const l=d.shape.length;$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("min",$,l);const[b,h]=$c4c4d404109848b6$exports.computeOutAndReduceShapes(d.shape,$),x=$5d5df9ecf1c80076$exports.sizeFromShape(h),m=t.makeOutput(b,d.dtype);if(0!==$5d5df9ecf1c80076$exports.sizeFromShape(d.shape)){const e=t.dataIdMap.get(m.dataId).id;$997bcedd9ac5656e$var$wasmMin(i,$5546163d7eac2223$export$7b843996b6cf8ee0[s.dtype],x,e)}if(p&&t.disposeData(f.dataId),o){const e=$c4c4d404109848b6$exports.expandShapeToKeepDim(m.shape,u);m.shape=e}return m}const $997bcedd9ac5656e$export$3cd9f9a31b38cf18={kernelName:$0eb90ddf241a18bf$export$dfed19fabc75a31d,backendName:"wasm",setupFunc:$997bcedd9ac5656e$var$setup,kernelFunc:$997bcedd9ac5656e$var$min},$60fcce010dea594d$var$supportsFullBroadcast=!1,$60fcce010dea594d$export$ea24ffbbbce8d546=$dffddab03cfc8242$export$643f3601638ef87a($0eb90ddf241a18bf$export$23cb308301e89d6b,$60fcce010dea594d$var$supportsFullBroadcast);var $bd85fa2c5bbe432a$var$MirrorPaddingMode,MirrorPaddingMode;let $bd85fa2c5bbe432a$var$wasmMirrorPad;function $bd85fa2c5bbe432a$var$setup(e){$bd85fa2c5bbe432a$var$wasmMirrorPad=e.wasm.cwrap($0eb90ddf241a18bf$export$f4c0e95fd7fd31e5,null,["number","array","number","number","array","array","number","number"])}function $bd85fa2c5bbe432a$var$mirrorPad(e){const{inputs:{x:t},backend:a,attrs:{paddings:n,mode:r}}=e,o=n.map(((e,a)=>e[0]+t.shape[a]+e[1])),s=a.dataIdMap.get(t.dataId).id,c=a.makeOutput(o,t.dtype),i=a.dataIdMap.get(c.dataId).id,d=new Uint8Array(new Int32Array(t.shape).buffer),f=n.map((e=>e[0])),$=n.map((e=>e[1])),u=new Uint8Array(new Int32Array(f).buffer),p=new Uint8Array(new Int32Array($).buffer);return $bd85fa2c5bbe432a$var$wasmMirrorPad(s,d,t.shape.length,$5546163d7eac2223$export$7b843996b6cf8ee0[t.dtype],u,p,$bd85fa2c5bbe432a$var$MirrorPaddingMode[r],i),c}MirrorPaddingMode=$bd85fa2c5bbe432a$var$MirrorPaddingMode||($bd85fa2c5bbe432a$var$MirrorPaddingMode={}),MirrorPaddingMode[MirrorPaddingMode.reflect=0]="reflect",MirrorPaddingMode[MirrorPaddingMode.symmetric=1]="symmetric";const $bd85fa2c5bbe432a$export$2cfd6c6c7daeb5fc={kernelName:$0eb90ddf241a18bf$export$f4c0e95fd7fd31e5,backendName:"wasm",kernelFunc:$bd85fa2c5bbe432a$var$mirrorPad,setupFunc:$bd85fa2c5bbe432a$var$setup},$ec9ab1fd116007f6$var$supportsFullBroadcast=!0,$ec9ab1fd116007f6$export$745576778aafee88=$dffddab03cfc8242$export$643f3601638ef87a($0eb90ddf241a18bf$export$f14f83b3b531d498,$ec9ab1fd116007f6$var$supportsFullBroadcast),$19641636bd70b91c$export$cc7b18b8229c3db=$f634810283efcf2e$export$1064a4367d46e10e($0eb90ddf241a18bf$export$c07c549000872073);function $6bdd9d9a1837a96c$export$304727529d27ba95(e,t){const a=new Int32Array(e.wasm.HEAPU8.buffer,t,4),n=a[0],r=a[1],o=a[2],s=a[3];return e.wasm._free(t),{pSelectedIndices:n,selectedSize:r,pSelectedScores:o,pValidOutputs:s}}let $27e2e8f66aa68c6a$var$wasmFunc;function $27e2e8f66aa68c6a$var$setup(e){$27e2e8f66aa68c6a$var$wasmFunc=e.wasm.cwrap($0eb90ddf241a18bf$export$5e11788439c2f04,"number",["number","number","number","number","number"])}function $27e2e8f66aa68c6a$var$kernelFunc(e){const{backend:t,inputs:a,attrs:n}=e,{iouThreshold:r,maxOutputSize:o,scoreThreshold:s}=n,{boxes:c,scores:i}=a,d=t.dataIdMap.get(c.dataId).id,f=t.dataIdMap.get(i.dataId).id,$=$27e2e8f66aa68c6a$var$wasmFunc(d,f,o,r,s),{pSelectedIndices:u,selectedSize:p,pSelectedScores:l,pValidOutputs:b}=$6bdd9d9a1837a96c$export$304727529d27ba95(t,$);t.wasm._free(l),t.wasm._free(b);return t.makeOutput([p],"int32",u)}const $27e2e8f66aa68c6a$export$549561cd158f260a={kernelName:$0eb90ddf241a18bf$export$5e11788439c2f04,backendName:"wasm",setupFunc:$27e2e8f66aa68c6a$var$setup,kernelFunc:$27e2e8f66aa68c6a$var$kernelFunc};let $626a63aa2c8fee65$var$wasmFunc;function $626a63aa2c8fee65$var$setup(e){$626a63aa2c8fee65$var$wasmFunc=e.wasm.cwrap($0eb90ddf241a18bf$export$7df908154366fe7f,"number",["number","number","number","number","number","bool"])}function $626a63aa2c8fee65$var$nonMaxSuppressionV4(e){const{backend:t,inputs:a,attrs:n}=e,{iouThreshold:r,maxOutputSize:o,scoreThreshold:s,padToMaxOutputSize:c}=n,{boxes:i,scores:d}=a,f=t.dataIdMap.get(i.dataId).id,$=t.dataIdMap.get(d.dataId).id,u=$626a63aa2c8fee65$var$wasmFunc(f,$,o,r,s,c),{pSelectedIndices:p,selectedSize:l,pSelectedScores:b,pValidOutputs:h}=$6bdd9d9a1837a96c$export$304727529d27ba95(t,u);t.wasm._free(b);return[t.makeOutput([l],"int32",p),t.makeOutput([],"int32",h)]}const $626a63aa2c8fee65$export$906b8fb32c570e9d={kernelName:$0eb90ddf241a18bf$export$7df908154366fe7f,backendName:"wasm",setupFunc:$626a63aa2c8fee65$var$setup,kernelFunc:$626a63aa2c8fee65$var$nonMaxSuppressionV4};let $aaab934266518b8d$var$wasmFunc;function $aaab934266518b8d$var$setup(e){$aaab934266518b8d$var$wasmFunc=e.wasm.cwrap($0eb90ddf241a18bf$export$cb45d3fcefce2ef0,"number",["number","number","number","number","number","number"])}function $aaab934266518b8d$var$kernelFunc(e){const{backend:t,inputs:a,attrs:n}=e,{iouThreshold:r,maxOutputSize:o,scoreThreshold:s,softNmsSigma:c}=n,{boxes:i,scores:d}=a,f=t.dataIdMap.get(i.dataId).id,$=t.dataIdMap.get(d.dataId).id,u=$aaab934266518b8d$var$wasmFunc(f,$,o,r,s,c),{pSelectedIndices:p,selectedSize:l,pSelectedScores:b,pValidOutputs:h}=$6bdd9d9a1837a96c$export$304727529d27ba95(t,u);t.wasm._free(h);return[t.makeOutput([l],"int32",p),t.makeOutput([l],"float32",b)]}const $aaab934266518b8d$export$4c00b682f309701d={kernelName:$0eb90ddf241a18bf$export$cb45d3fcefce2ef0,backendName:"wasm",setupFunc:$aaab934266518b8d$var$setup,kernelFunc:$aaab934266518b8d$var$kernelFunc},$79bddc5ac5472814$var$supportsFullBroadcast=!1,$79bddc5ac5472814$export$d003d4d7e1500775=$dffddab03cfc8242$export$643f3601638ef87a($0eb90ddf241a18bf$export$385ebe9945cae0c5,$79bddc5ac5472814$var$supportsFullBroadcast,"bool");let $edb1a7f5e06a9cc6$var$wasmOneHot;function $edb1a7f5e06a9cc6$var$setup(e){$edb1a7f5e06a9cc6$var$wasmOneHot=e.wasm.cwrap($0eb90ddf241a18bf$export$18982b43ba8c02e9,null,["number","number","number","number","number"])}function $edb1a7f5e06a9cc6$var$oneHot(e){const{inputs:t,backend:a,attrs:n}=e,{indices:r}=t,{depth:o,onValue:s,offValue:c}=n,i=a.makeOutput([...r.shape,o],"int32"),d=a.dataIdMap.get(i.dataId).id,f=a.dataIdMap.get(r.dataId).id;return $edb1a7f5e06a9cc6$var$wasmOneHot(f,o,s,c,d),i}const $edb1a7f5e06a9cc6$export$dde5645b472b80b2={kernelName:$0eb90ddf241a18bf$export$18982b43ba8c02e9,backendName:"wasm",setupFunc:$edb1a7f5e06a9cc6$var$setup,kernelFunc:$edb1a7f5e06a9cc6$var$oneHot};function $1e37c5d8c6776de8$var$onesLike(e){const{inputs:{x:t},backend:a}=e,n=a.makeOutput(t.shape,t.dtype);return a.typedArrayFromHeap(n).fill(1),n}const $1e37c5d8c6776de8$export$d8d7015eb6ab37d0={kernelName:$0eb90ddf241a18bf$export$a2962e735c809d91,backendName:"wasm",kernelFunc:$1e37c5d8c6776de8$var$onesLike};function $c9ee29c88dc568da$export$2a703dbb0cb35339(e){const{inputs:t,backend:a,attrs:n}=e,{axis:r}=n;if(1===t.length)return $550ec1af16c69d24$export$d660d8ed21f46635({inputs:{input:t[0]},backend:a,attrs:{dim:r}});const o=t[0].shape,s=t[0].dtype;t.forEach((e=>{$5d5df9ecf1c80076$exports.assertShapesMatch(o,e.shape,"All tensors passed to stack must have matching shapes"),$5d5df9ecf1c80076$exports.assert(s===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const c=[],i=$e90205e4e5661f23$export$ee1b3e54f0441b22({inputs:t.map((e=>{const t=$550ec1af16c69d24$export$d660d8ed21f46635({inputs:{input:e},backend:a,attrs:{dim:r}});return c.push(t),t})),backend:a,attrs:{axis:r}});return c.forEach((e=>a.disposeData(e.dataId))),i}const $c9ee29c88dc568da$export$1645fa8803aa1f86={kernelName:$0eb90ddf241a18bf$export$c26f40b29201e5b7,backendName:"wasm",kernelFunc:$c9ee29c88dc568da$export$2a703dbb0cb35339};let $f0d4ef1264974d5f$var$wasmPadV2;function $f0d4ef1264974d5f$var$setup(e){$f0d4ef1264974d5f$var$wasmPadV2=e.wasm.cwrap($0eb90ddf241a18bf$export$5d47ba206577f0f2,null,["number","array","number","number","array","array","number","number"])}function $f0d4ef1264974d5f$var$pad(e){const{inputs:{x:t},backend:a,attrs:{paddings:n,constantValue:r}}=e,o=n.map(((e,a)=>e[0]+t.shape[a]+e[1]));if(0===$5d5df9ecf1c80076$exports.sizeFromShape(t.shape))return $b1ec5d7084729a71$export$9563e054e6f787fb({backend:a,attrs:{shape:o,value:r,dtype:t.dtype}});const s=a.dataIdMap.get(t.dataId).id,c=a.makeOutput(o,t.dtype),i=a.dataIdMap.get(c.dataId).id,d=new Uint8Array(new Int32Array(t.shape).buffer),f=n.map((e=>e[0])),$=n.map((e=>e[1])),u=new Uint8Array(new Int32Array(f).buffer),p=new Uint8Array(new Int32Array($).buffer);return $f0d4ef1264974d5f$var$wasmPadV2(s,d,t.shape.length,$5546163d7eac2223$export$7b843996b6cf8ee0[t.dtype],u,p,r,i),c}const $f0d4ef1264974d5f$export$b0317e720bfd61fc={kernelName:$0eb90ddf241a18bf$export$5d47ba206577f0f2,backendName:"wasm",kernelFunc:$f0d4ef1264974d5f$var$pad,setupFunc:$f0d4ef1264974d5f$var$setup},$6fa9f739ef050be5$var$supportsFullBroadcast=!1,$6fa9f739ef050be5$export$b823d49786719761=$dffddab03cfc8242$export$643f3601638ef87a($0eb90ddf241a18bf$export$ce28d653ec559ee,$6fa9f739ef050be5$var$supportsFullBroadcast);let $e75b33a17e2a4b5a$var$wasmPrelu;function $e75b33a17e2a4b5a$var$setup(e){$e75b33a17e2a4b5a$var$wasmPrelu=e.wasm.cwrap($0eb90ddf241a18bf$export$a42f35f308fc2fa3,null,["number","number","number"])}function $e75b33a17e2a4b5a$var$prelu(e){const{inputs:t,backend:a}=e,{x:n,alpha:r}=t,o=a.dataIdMap.get(n.dataId).id,s=a.dataIdMap.get(r.dataId).id;let c=o;const i=n;let d=i;"float32"!==i.dtype&&(d=$e79f8b770c04b01a$export$f2db7d5238e1d23f({backend:a,inputs:{x:n},attrs:{dtype:"float32"}}),c=a.dataIdMap.get(d.dataId).id);const f=a.makeOutput(n.shape,"float32"),$=a.dataIdMap.get(f.dataId).id;return $e75b33a17e2a4b5a$var$wasmPrelu(c,s,$),"float32"!==i.dtype&&a.disposeData(d.dataId),f}const $e75b33a17e2a4b5a$export$a5c4a9b694579636={kernelName:$0eb90ddf241a18bf$export$a42f35f308fc2fa3,backendName:"wasm",setupFunc:$e75b33a17e2a4b5a$var$setup,kernelFunc:$e75b33a17e2a4b5a$var$prelu};let $72cb73608053ce74$var$wasmProd;function $72cb73608053ce74$var$setup(e){$72cb73608053ce74$var$wasmProd=e.wasm.cwrap($0eb90ddf241a18bf$export$b8a16d526a791fb0,null,["number","number","number","number"])}function $72cb73608053ce74$var$prod(e){const{backend:t,inputs:a,attrs:n}=e,{axis:r,keepDims:o}=n,{x:s}=a,c=t.dataIdMap.get(s.dataId).id;let i=c,d=s;const{transposed:f,axes:$,originalAxes:u,inputWasTransposed:p}=$e8a826f0276978b9$export$822718f51723d8ff(s,r,t);let l=$;if(p){const e=t.dataIdMap.get(f.dataId).id;e!==c&&(d=f,i=e,l=$c4c4d404109848b6$exports.getInnerMostAxes(l.length,d.shape.length))}$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("prod",l,d.shape.length);const[b,h]=$c4c4d404109848b6$exports.computeOutAndReduceShapes(d.shape,l),x=$5d5df9ecf1c80076$exports.sizeFromShape(h),m=t.makeOutput(b,d.dtype);if(0!==$5d5df9ecf1c80076$exports.sizeFromShape(d.shape)){const e=t.dataIdMap.get(m.dataId).id;$72cb73608053ce74$var$wasmProd(i,x,$5546163d7eac2223$export$7b843996b6cf8ee0[m.dtype],e)}if(p&&t.disposeData(f.dataId),o){const e=$c4c4d404109848b6$exports.expandShapeToKeepDim(m.shape,u);m.shape=e}return m}const $72cb73608053ce74$export$d556aa935cef5c0c={kernelName:$0eb90ddf241a18bf$export$b8a16d526a791fb0,backendName:"wasm",setupFunc:$72cb73608053ce74$var$setup,kernelFunc:$72cb73608053ce74$var$prod},$8190d9eb9bed4d8d$export$d02631cccf789723=e=>{const{backend:t,attrs:a}=e,{start:n,stop:r,step:o,dtype:s}=a,c=$9595a21d3739f473$export$3561205b7dff20bf(n,r,o,s),i=t.makeOutput([c.length],s);return t.typedArrayFromHeap(i).set(c),i},$8190d9eb9bed4d8d$export$361c4075706e31c2={kernelName:$0eb90ddf241a18bf$export$9a58ef0d7ad3278c,backendName:"wasm",kernelFunc:$8190d9eb9bed4d8d$export$d02631cccf789723},$376227d1d1bebdaf$var$supportsFullBroadcast=!0,$376227d1d1bebdaf$export$15c5d6176b30b9a6=$dffddab03cfc8242$export$643f3601638ef87a($0eb90ddf241a18bf$export$b9880b86e1014bb8,$376227d1d1bebdaf$var$supportsFullBroadcast),$c7ca40581598e027$export$731f9199bde068eb=$f634810283efcf2e$export$1064a4367d46e10e($0eb90ddf241a18bf$export$9a6ff968bf961432),$61f65ac42fedebf5$export$92c30890ad649d53=$f634810283efcf2e$export$1064a4367d46e10e($0eb90ddf241a18bf$export$3be9e924f629054e);let $bc48f714a237b3cb$var$wasmResizeBilinear;function $bc48f714a237b3cb$var$setup(e){$bc48f714a237b3cb$var$wasmResizeBilinear=e.wasm.cwrap($0eb90ddf241a18bf$export$24f2f15d869e0fd,null,["number","number","number","number","number","number","number","number","number","number"])}function $bc48f714a237b3cb$var$resizeBilinear(e){const{backend:t,inputs:a,attrs:n}=e,{images:r}=a,{alignCorners:o,halfPixelCenters:s,size:c}=n,[i,d]=c,[f,$,u,p]=r.shape,l=[f,i,d,p];let b,h=t.dataIdMap.get(r.dataId);"float32"!==h.dtype&&(b=$e79f8b770c04b01a$export$f2db7d5238e1d23f({backend:t,inputs:{x:r},attrs:{dtype:"float32"}}),h=t.dataIdMap.get(b.dataId));const x=h.id,m=t.makeOutput(l,"float32");if(0===$5d5df9ecf1c80076$exports.sizeFromShape(r.shape))return m;const g=t.dataIdMap.get(m.dataId).id;return $bc48f714a237b3cb$var$wasmResizeBilinear(x,f,$,u,p,i,d,o?1:0,s?1:0,g),null!=b&&t.disposeData(b.dataId),m}const $bc48f714a237b3cb$export$a37a56137abc1357={kernelName:$0eb90ddf241a18bf$export$24f2f15d869e0fd,backendName:"wasm",setupFunc:$bc48f714a237b3cb$var$setup,kernelFunc:$bc48f714a237b3cb$var$resizeBilinear};let $0051300abfeced20$var$wasmReverse;function $0051300abfeced20$var$setup(e){$0051300abfeced20$var$wasmReverse=e.wasm.cwrap($0eb90ddf241a18bf$export$53c81f36b32e1bba,null,["number","array","number","array","number","number"])}function $0051300abfeced20$export$66c1ae025e96b4bc(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{dims:o}=n,s=$5d5df9ecf1c80076$exports.parseAxisParam(o,r.shape);if(0===r.shape.length)return $2ff6ddcdc9f04436$export$f0954fd7d5368655({inputs:{x:r},backend:a});const c=a.makeOutput(r.shape,r.dtype),i=a.dataIdMap.get(r.dataId).id,d=a.dataIdMap.get(c.dataId).id,f=new Uint8Array(new Int32Array(s).buffer),$=new Uint8Array(new Int32Array(r.shape).buffer);$0051300abfeced20$var$wasmReverse(i,f,s.length,$,r.shape.length,d);const u=$c509dc069b10c20a$export$9eaad88cf88cee2b({inputs:{x:c},attrs:{shape:r.shape},backend:a});return a.disposeData(c.dataId),u}const $0051300abfeced20$export$cab6a4e8d2ed8e8d={kernelName:$0eb90ddf241a18bf$export$53c81f36b32e1bba,backendName:"wasm",kernelFunc:$0051300abfeced20$export$66c1ae025e96b4bc,setupFunc:$0051300abfeced20$var$setup};let $17b6b92386aa8932$var$wasmRotate;function $17b6b92386aa8932$var$setup(e){$17b6b92386aa8932$var$wasmRotate=e.wasm.cwrap($0eb90ddf241a18bf$export$c5a44649815d1c3,null,["number","number","number","number","number","number","number","number","array","number","number"])}function $17b6b92386aa8932$export$66462c489f5f29d2(e){const{inputs:t,backend:a,attrs:n}=e,{image:r}=t,{radians:o,fillValue:s,center:c}=n,i=a.makeOutput(r.shape,r.dtype),d=a.dataIdMap.get(r.dataId).id,f=a.dataIdMap.get(i.dataId).id,[$,u,p,l]=r.shape,[b,h]=$c4c4d404109848b6$exports.getImageCenter(c,u,p),x="number"==typeof s?[s,s,s,0===s?0:255]:[...s,255],m=new Uint8Array(new Int32Array(x).buffer);return $17b6b92386aa8932$var$wasmRotate(d,$,u,p,l,o,b,h,m,x.length,f),i}const $17b6b92386aa8932$export$44ba8c83417ab668={kernelName:$0eb90ddf241a18bf$export$c5a44649815d1c3,backendName:"wasm",kernelFunc:$17b6b92386aa8932$export$66462c489f5f29d2,setupFunc:$17b6b92386aa8932$var$setup},$b0b73702a3f0af48$export$6c09e3291f636503=$f634810283efcf2e$export$1064a4367d46e10e($0eb90ddf241a18bf$export$c5ed3eef16c0612f),$dbc391b18e1f36a0$export$941104b789956ef6=$f634810283efcf2e$export$1064a4367d46e10e($0eb90ddf241a18bf$export$7cc53aa09f5f3a2d);let $e3972ff2499f86d1$var$wasmScatterNd;function $e3972ff2499f86d1$var$setup(e){$e3972ff2499f86d1$var$wasmScatterNd=e.wasm.cwrap($0eb90ddf241a18bf$export$28eef6f0168af686,null,["number","number","number","number","number","number","array","number","number"])}function $e3972ff2499f86d1$var$scatterNd(e){const{backend:t,inputs:a,attrs:n}=e,{indices:r,updates:o}=a,{shape:s}=n,c=t.makeOutput(s,o.dtype);if(0===$5d5df9ecf1c80076$exports.sizeFromShape(s))return c;const{sliceRank:i,numUpdates:d,sliceSize:f,strides:$,outputSize:u}=$88504a10632c069e$exports.calculateShapes(o,r,s),p=t.dataIdMap.get(r.dataId).id,l=t.dataIdMap.get(o.dataId).id,b=new Uint8Array(new Int32Array($).buffer),h=t.dataIdMap.get(c.dataId).id;return $e3972ff2499f86d1$var$wasmScatterNd(p,l,$5546163d7eac2223$export$7b843996b6cf8ee0[o.dtype],i,d,f,b,u,h),c}const $e3972ff2499f86d1$export$573371744f044f5={kernelName:$0eb90ddf241a18bf$export$28eef6f0168af686,backendName:"wasm",setupFunc:$e3972ff2499f86d1$var$setup,kernelFunc:$e3972ff2499f86d1$var$scatterNd};let $3b1418406513b19b$var$wasmSelect;function $3b1418406513b19b$var$setup(e){$3b1418406513b19b$var$wasmSelect=e.wasm.cwrap("SelectV2",null,["number","number","number","number","number"])}function $3b1418406513b19b$var$select(e){const{inputs:t,backend:a}=e,{condition:n,t:r,e:o}=t,s=a.dataIdMap.get(n.dataId).id,c=a.dataIdMap.get(r.dataId).id,i=a.dataIdMap.get(o.dataId).id,d=a.makeOutput(r.shape,r.dtype),f=a.dataIdMap.get(d.dataId).id,$=n.shape.length,u=r.shape.length,p=0===$||$>1||1===u?1:$5d5df9ecf1c80076$exports.sizeFromShape(r.shape.slice(1));return $3b1418406513b19b$var$wasmSelect(s,c,i,p,f),d}const $3b1418406513b19b$export$7ff911e710ee72fc={kernelName:$0eb90ddf241a18bf$export$ef9b1a59e592288f,backendName:"wasm",kernelFunc:$3b1418406513b19b$var$select,setupFunc:$3b1418406513b19b$var$setup};let $cb41bcfdf727e18b$var$wasmFunc;function $cb41bcfdf727e18b$var$setup(e){$cb41bcfdf727e18b$var$wasmFunc=e.wasm.cwrap($0eb90ddf241a18bf$export$fde18c826dda6b1b,null,["number","number"])}function $cb41bcfdf727e18b$var$sigmoid(e){const{backend:t,inputs:{x:a}}=e,n=t.dataIdMap.get(a.dataId).id,r=t.makeOutput(a.shape,a.dtype),o=t.dataIdMap.get(r.dataId).id;return 0===$5d5df9ecf1c80076$exports.sizeFromShape(r.shape)||$cb41bcfdf727e18b$var$wasmFunc(n,o),r}const $cb41bcfdf727e18b$export$195d1cf7c59f3ef={kernelName:"Sigmoid",backendName:"wasm",setupFunc:$cb41bcfdf727e18b$var$setup,kernelFunc:$cb41bcfdf727e18b$var$sigmoid},$7e6dd5bd8bea7499$export$d993ec4e5c253b66=$f634810283efcf2e$export$1064a4367d46e10e($0eb90ddf241a18bf$export$75be1b631f7687);let $9f5e92ab5f908131$var$wasmFunc;function $9f5e92ab5f908131$var$setup(e){$9f5e92ab5f908131$var$wasmFunc=e.wasm.cwrap($0eb90ddf241a18bf$export$350a526055d3ca6e,null,["number","number","number","number"])}function $9f5e92ab5f908131$var$softmax(e){const{backend:t,inputs:{logits:a},attrs:{dim:n}}=e,r=t.dataIdMap.get(a.dataId).id,o=t.makeOutput(a.shape,a.dtype),s=t.dataIdMap.get(o.dataId).id,c=a.shape[n],i=$5d5df9ecf1c80076$exports.sizeFromShape(a.shape)/c;return 0===$5d5df9ecf1c80076$exports.sizeFromShape(o.shape)||$9f5e92ab5f908131$var$wasmFunc(r,s,c,i),o}const $9f5e92ab5f908131$export$c022691f23e2ee69={kernelName:$0eb90ddf241a18bf$export$350a526055d3ca6e,backendName:"wasm",setupFunc:$9f5e92ab5f908131$var$setup,kernelFunc:$9f5e92ab5f908131$var$softmax};function $6829648c6f38b595$var$spaceToBatchND(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{blockShape:o,paddings:s}=n,c=$5d5df9ecf1c80076$exports.sizeFromShape(o),i=[[0,0]];i.push(...s);for(let e=1+o.length;e<r.shape.length;++e)i.push([0,0]);const d=$f0d4ef1264974d5f$export$b0317e720bfd61fc.kernelFunc({inputs:{x:r},backend:a,attrs:{paddings:i,constantValue:0}}),f=$c4c4d404109848b6$exports.getReshaped(d.shape,o,c,!1),$=$c4c4d404109848b6$exports.getPermuted(f.length,o.length,!1),u=$c4c4d404109848b6$exports.getReshapedPermuted(d.shape,o,c,!1),p=$c509dc069b10c20a$export$9eaad88cf88cee2b({inputs:{x:d},backend:a,attrs:{shape:f}}),l=$6d56e0ab03b8e542$export$9cb09a71b7d66923({inputs:{x:p},backend:a,attrs:{perm:$}}),b=$c509dc069b10c20a$export$9eaad88cf88cee2b({inputs:{x:l},backend:a,attrs:{shape:u}});return a.disposeData(d.dataId),a.disposeData(p.dataId),a.disposeData(l.dataId),b}const $6829648c6f38b595$export$2f85417863d2050b={kernelName:$0eb90ddf241a18bf$export$f63ac5409312707c,backendName:"wasm",kernelFunc:$6829648c6f38b595$var$spaceToBatchND};let $719a4e7dcf7b68d5$var$wasmSparseFillEmptyRows;function $719a4e7dcf7b68d5$export$de27182ff8187d6c(e){$719a4e7dcf7b68d5$var$wasmSparseFillEmptyRows=e.wasm.cwrap("SparseFillEmptyRows","number",["number","number","number","number","number","number","number","number","number","number","number","number"])}function $719a4e7dcf7b68d5$export$c82a1904a15b5028(e){const{backend:t,inputs:a}=e,{indices:n,values:r,denseShape:o,defaultValue:s}=a,c=n.shape[0],i=n.shape[1],d=t.readSync(o.dataId)[0],f=[c+d,i],$=t.dataIdMap.get(n.dataId).id,u=t.dataIdMap.get(r.dataId).id,p=t.dataIdMap.get(s.dataId).id,l=t.makeOutput(f,n.dtype),b=t.dataIdMap.get(l.dataId).id,h=t.makeOutput(f.slice(0,1),r.dtype),x=t.dataIdMap.get(h.dataId).id,m=t.makeOutput([d],"bool"),g=t.dataIdMap.get(m.dataId).id,v=t.makeOutput([c],n.dtype),y=t.dataIdMap.get(v.dataId).id,w=t.makeOutput([4],"int32"),_=t.dataIdMap.get(w.dataId).id,I=$719a4e7dcf7b68d5$var$wasmSparseFillEmptyRows($,u,$5546163d7eac2223$export$7b843996b6cf8ee0[r.dtype],c,d,i,p,b,x,g,y,_),S=t.readSync(w.dataId);let T;switch(S[0]){case 1:T=$c4c4d404109848b6$exports.getSparseFillEmptyRowsIndicesDenseShapeMismatch(S[1]);break;case 2:T=$c4c4d404109848b6$exports.getSparseFillEmptyRowsNegativeIndexErrorMessage(S[1],S[2]);break;case 3:T=$c4c4d404109848b6$exports.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(S[1],S[2],S[3]);break;default:T=""}if(t.disposeData(w.dataId),T)throw t.disposeData(l.dataId),t.disposeData(h.dataId),t.disposeData(m.dataId),t.disposeData(v.dataId),new Error(T);let k=l,E=h;return I!==f[0]&&(k=$3c47468fa731343d$export$58adb3bec8346d0f({inputs:{x:l},attrs:{begin:0,size:[I,i]},backend:t}),E=$3c47468fa731343d$export$58adb3bec8346d0f({inputs:{x:h},attrs:{begin:0,size:I},backend:t}),t.disposeData(l.dataId),t.disposeData(h.dataId)),[k,E,m,v]}const $719a4e7dcf7b68d5$export$818286c593224d1a={kernelName:$0eb90ddf241a18bf$export$8f1933853a5c8cca,backendName:"wasm",setupFunc:$719a4e7dcf7b68d5$export$de27182ff8187d6c,kernelFunc:$719a4e7dcf7b68d5$export$c82a1904a15b5028};let $abce8b7baf195c22$var$wasmSparseReshape;function $abce8b7baf195c22$var$setup(e){$abce8b7baf195c22$var$wasmSparseReshape=e.wasm.cwrap($0eb90ddf241a18bf$export$f08f0dca44fa542,null,["number","number","number","number","number","number","number"])}function $abce8b7baf195c22$var$sparseReshape(e){const{backend:t,inputs:a}=e,{inputIndices:n,inputShape:r,newShape:o}=a;if(2!==n.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${n.shape}`);if(1!==r.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${r.shape}`);if(1!==o.shape.length)throw new Error(`Target shape should be a vector but received shape ${o.shape}`);const s=t.dataIdMap.get(n.dataId).id,c=t.dataIdMap.get(r.dataId).id,i=t.dataIdMap.get(o.dataId).id,d=n.shape[0],f=$5d5df9ecf1c80076$exports.sizeFromShape(o.shape),$=t.makeOutput([d,f],n.dtype),u=t.dataIdMap.get($.dataId).id,p=t.makeOutput([f],o.dtype),l=t.dataIdMap.get(p.dataId).id,b=t.makeOutput([3],"int32"),h=t.dataIdMap.get(b.dataId).id;$abce8b7baf195c22$var$wasmSparseReshape(s,c,i,d,u,l,h);const x=t.readSync(b.dataId);let m;switch(x[0]){case 0:m=$c4c4d404109848b6$exports.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(x[1],x[2]);break;case 1:m=$c4c4d404109848b6$exports.getSparseReshapeNegativeOutputDimErrorMessage(x[1],x[2]);break;case 2:m=$c4c4d404109848b6$exports.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage();break;case 3:{const e=Array.from(t.readSync(r.dataId)),a=Array.from(t.readSync(p.dataId));m=$c4c4d404109848b6$exports.getSparseReshapeInputOutputMultipleErrorMessage(e,a);break}case 4:{const e=Array.from(t.readSync(r.dataId)),a=Array.from(t.readSync(p.dataId));m=$c4c4d404109848b6$exports.getSparseReshapeInputOutputMismatchErrorMessage(e,a);break}default:m=""}if(t.disposeData(b.dataId),m)throw t.disposeData($.dataId),t.disposeData(p.dataId),new Error(m);return[$,p]}const $abce8b7baf195c22$export$eb106efc10374803={kernelName:$0eb90ddf241a18bf$export$f08f0dca44fa542,backendName:"wasm",setupFunc:$abce8b7baf195c22$var$setup,kernelFunc:$abce8b7baf195c22$var$sparseReshape};let $fcb28edf63dc6c59$var$wasmSparseSegmentReduction;function $fcb28edf63dc6c59$export$de27182ff8187d6c(e){$fcb28edf63dc6c59$var$wasmSparseSegmentReduction=e.wasm.cwrap("SparseSegmentReduction",null,["number","number","number","number","number","number","number","number","number"])}function $fcb28edf63dc6c59$export$ecb2b561be9c3ae3(e,t){const{backend:a,inputs:n}=e,{data:r,indices:o,segmentIds:s}=n,c=o.shape[0],i=a.readSync(s.dataId,c-1,c)[0],d=c>0?i+1:0;if(d<0)throw new Error($c4c4d404109848b6$exports.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());const f=r.shape.slice();f[0]=d;const $=a.dataIdMap.get(r.dataId).id,u=a.dataIdMap.get(o.dataId).id,p=a.dataIdMap.get(s.dataId).id,l=a.makeOutput(f,r.dtype),b=a.dataIdMap.get(l.dataId).id,h=a.makeOutput([4],"int32"),x=a.dataIdMap.get(h.dataId).id;$fcb28edf63dc6c59$var$wasmSparseSegmentReduction($,$5546163d7eac2223$export$7b843996b6cf8ee0[r.dtype],r.shape[0],u,p,b,x,t,0);const m=a.readSync(h.dataId);let g;switch(m[0]){case 0:g=$c4c4d404109848b6$exports.getSparseSegmentReductionNegativeSegmentIdsErrorMessage();break;case 1:g=$c4c4d404109848b6$exports.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage();break;case 2:g=$c4c4d404109848b6$exports.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(m[1],m[2]);break;case 3:g=$c4c4d404109848b6$exports.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(m[1],m[2],m[3]);break;default:g=""}if(a.disposeData(h.dataId),g)throw a.disposeData(l.dataId),new Error(g);return l}function $8d353508c83d8138$var$sparseSegmentMean(e){return $fcb28edf63dc6c59$export$ecb2b561be9c3ae3(e,!0)}const $8d353508c83d8138$export$51e7224ae14d7f78={kernelName:$0eb90ddf241a18bf$export$610b077aecc2447b,backendName:"wasm",setupFunc:$fcb28edf63dc6c59$export$de27182ff8187d6c,kernelFunc:$8d353508c83d8138$var$sparseSegmentMean};function $4bef5d6957d409de$var$sparseSegmentSum(e){return $fcb28edf63dc6c59$export$ecb2b561be9c3ae3(e,!1)}const $4bef5d6957d409de$export$73fa0270f28b9555={kernelName:$0eb90ddf241a18bf$export$68351c28d7116b56,backendName:"wasm",setupFunc:$fcb28edf63dc6c59$export$de27182ff8187d6c,kernelFunc:$4bef5d6957d409de$var$sparseSegmentSum};function $46913a1c11b32a25$export$c0085d48b0a75d8f(e){const{inputs:t,attrs:a,backend:n}=e,{x:r}=t,{numOrSizeSplits:o,axis:s}=a,c=$5d5df9ecf1c80076$exports.parseAxisParam(s,r.shape)[0],i=$c4c4d404109848b6$exports.prepareSplitSize(r,o,c),d=new Array(r.shape.length).fill(0),f=r.shape.slice();return i.map((e=>{const t=[...f];t[c]=e;const a=$3c47468fa731343d$export$58adb3bec8346d0f({inputs:{x:r},attrs:{begin:d,size:t},backend:n});return d[c]+=e,a}))}const $46913a1c11b32a25$export$317be24be3af9ea0={kernelName:$0eb90ddf241a18bf$export$8dffabb4071f05aa,backendName:"wasm",kernelFunc:$46913a1c11b32a25$export$c0085d48b0a75d8f},$aabc9d98745e8ef5$export$a592ba9268f10eeb=$f634810283efcf2e$export$1064a4367d46e10e($0eb90ddf241a18bf$export$21ab404ab9d512a6),$caf8a1c37492605e$export$7c77bece4d51efc4=$f634810283efcf2e$export$1064a4367d46e10e($0eb90ddf241a18bf$export$b09fb900337259de),$9d5a962b241626cf$var$supportsFullBroadcast=!0,$9d5a962b241626cf$export$9ed4691d69db8a43=$dffddab03cfc8242$export$643f3601638ef87a($0eb90ddf241a18bf$export$2f922d20d66089c6,$9d5a962b241626cf$var$supportsFullBroadcast);let $7c95759b65c6ee78$var$wasmStep;function $7c95759b65c6ee78$var$setup(e){$7c95759b65c6ee78$var$wasmStep=e.wasm.cwrap($0eb90ddf241a18bf$export$fd55ce593607084a,null,["number","number","number","number"])}function $7c95759b65c6ee78$var$step(e){const{backend:t,inputs:a,attrs:n}=e,{alpha:r}=n,{x:o}=a,s=t.dataIdMap.get(o.dataId).id,c=t.makeOutput(o.shape,o.dtype),i=t.dataIdMap.get(c.dataId).id;return $7c95759b65c6ee78$var$wasmStep(s,r,$5546163d7eac2223$export$7b843996b6cf8ee0[o.dtype],i),c}const $7c95759b65c6ee78$export$c42ffaf52eb2647={kernelName:$0eb90ddf241a18bf$export$fd55ce593607084a,backendName:"wasm",setupFunc:$7c95759b65c6ee78$var$setup,kernelFunc:$7c95759b65c6ee78$var$step};let $20da2d05fe89a625$var$wasmStridedSlice;function $20da2d05fe89a625$var$setup(e){$20da2d05fe89a625$var$wasmStridedSlice=e.wasm.cwrap($0eb90ddf241a18bf$export$60c7f9ac271417a9,null,["number","array","number","array","array","array","array","array","number","number"])}function $20da2d05fe89a625$export$4ae57224f3b0605c(e){const{backend:t,inputs:a,attrs:n}=e,{x:r}=a,{begin:o,end:s,strides:c,beginMask:i,endMask:d,ellipsisMask:f,newAxisMask:$,shrinkAxisMask:u}=n,{finalShapeSparse:p,finalShape:l,isIdentity:b,sliceDim0:h,isSimpleSlice:x,begin:m,end:g,strides:v}=$6f2324169bf0e939$exports.sliceInfo(r.shape,o,s,c,i,d,f,$,u);let y;if(b)y=$c509dc069b10c20a$export$9eaad88cf88cee2b({inputs:{x:r},backend:t,attrs:{shape:l}});else if(h||x){$5d5df9ecf1c80076$exports.assert(r.shape.length>=1,(()=>`Input must have rank at least 1, got: ${r.shape.length}`));const e=$6f2324169bf0e939$exports.computeOutShape(m,g,v),a=$3c47468fa731343d$export$58adb3bec8346d0f({inputs:{x:r},backend:t,attrs:{begin:m,size:e}});y=$c509dc069b10c20a$export$9eaad88cf88cee2b({inputs:{x:a},backend:t,attrs:{shape:l}}),t.disposeData(a.dataId)}else{const e=t.makeOutput(p,"float32"),a=t.dataIdMap.get(r.dataId).id,n=new Uint8Array(new Int32Array($5d5df9ecf1c80076$exports.computeStrides(r.shape)).buffer),o=new Uint8Array(new Int32Array(m).buffer),s=new Uint8Array(new Int32Array(g).buffer),c=new Uint8Array(new Int32Array(v).buffer),i=new Uint8Array(new Int32Array(p).buffer),d=new Uint8Array(new Int32Array($5d5df9ecf1c80076$exports.computeStrides(p)).buffer),f=t.dataIdMap.get(e.dataId).id;$20da2d05fe89a625$var$wasmStridedSlice(a,n,r.shape.length,o,s,c,i,d,p.length,f),y=$c509dc069b10c20a$export$9eaad88cf88cee2b({inputs:{x:e},backend:t,attrs:{shape:l}}),t.disposeData(e.dataId)}return y}const $20da2d05fe89a625$export$81773633114187bd={kernelName:$0eb90ddf241a18bf$export$60c7f9ac271417a9,backendName:"wasm",setupFunc:$20da2d05fe89a625$var$setup,kernelFunc:$20da2d05fe89a625$export$4ae57224f3b0605c},$266d7fe2bedc1551$var$supportsFullBroadcast=!0,$266d7fe2bedc1551$export$5d068476dad60c4d=$dffddab03cfc8242$export$643f3601638ef87a($0eb90ddf241a18bf$export$d7a01e11500dfb6f,$266d7fe2bedc1551$var$supportsFullBroadcast);let $a06aff2eb847fa75$var$wasmSum;function $a06aff2eb847fa75$var$setup(e){$a06aff2eb847fa75$var$wasmSum=e.wasm.cwrap($0eb90ddf241a18bf$export$534760f50726d5,null,["number","number","number","number"])}function $a06aff2eb847fa75$var$sum(e){const{backend:t,inputs:a,attrs:n}=e,{axis:r,keepDims:o}=n,{x:s}=a,c=t.dataIdMap.get(s.dataId).id;let i=c,d=s;const{transposed:f,axes:$,originalAxes:u,inputWasTransposed:p}=$e8a826f0276978b9$export$822718f51723d8ff(s,r,t);let l=$;if(p){const e=t.dataIdMap.get(f.dataId).id;e!==c&&(d=f,i=e,l=$c4c4d404109848b6$exports.getInnerMostAxes(l.length,d.shape.length))}$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("sum",l,d.shape.length);const[b,h]=$c4c4d404109848b6$exports.computeOutAndReduceShapes(d.shape,l),x=$5d5df9ecf1c80076$exports.sizeFromShape(h),m=t.makeOutput(b,d.dtype);if(0!==$5d5df9ecf1c80076$exports.sizeFromShape(d.shape)){const e=t.dataIdMap.get(m.dataId).id;$a06aff2eb847fa75$var$wasmSum(i,x,$5546163d7eac2223$export$7b843996b6cf8ee0[m.dtype],e)}if(p&&t.disposeData(f.dataId),o){const e=$c4c4d404109848b6$exports.expandShapeToKeepDim(m.shape,u);m.shape=e}return m}const $a06aff2eb847fa75$export$47edea402251c258={kernelName:$0eb90ddf241a18bf$export$534760f50726d5,backendName:"wasm",setupFunc:$a06aff2eb847fa75$var$setup,kernelFunc:$a06aff2eb847fa75$var$sum},$09281504da592e23$export$97648844df7611f3=$f634810283efcf2e$export$1064a4367d46e10e($0eb90ddf241a18bf$export$115b2d5263ba5985),$789deca7bdd1f263$export$a2fc7de1a1e4eee0=$f634810283efcf2e$export$1064a4367d46e10e($0eb90ddf241a18bf$export$893b6e865e352c83);let $ff43def95a156032$var$wasmTile;function $ff43def95a156032$var$setup(e){$ff43def95a156032$var$wasmTile=e.wasm.cwrap($0eb90ddf241a18bf$export$235cb65c20ad2b7,null,["number","array","number","array","number","number"])}function $ff43def95a156032$var$tile(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,o=a.dataIdMap.get(r.dataId).id,{reps:s}=n,c=new Array(r.shape.length);for(let e=0;e<c.length;e++)c[e]=r.shape[e]*s[e];const i=new Uint8Array(new Int32Array(r.shape).buffer),d=new Uint8Array(new Int32Array(c).buffer),f=a.makeOutput(c,r.dtype),$=a.dataIdMap.get(f.dataId).id;return $ff43def95a156032$var$wasmTile(o,i,r.shape.length,d,c.length,$5546163d7eac2223$export$7b843996b6cf8ee0[f.dtype],$),f}const $ff43def95a156032$export$a5a9f8050ba7f41e={kernelName:$0eb90ddf241a18bf$export$235cb65c20ad2b7,backendName:"wasm",setupFunc:$ff43def95a156032$var$setup,kernelFunc:$ff43def95a156032$var$tile};let $99f85e8c0d7c4ff7$var$wasmTopK;function $99f85e8c0d7c4ff7$var$setup(e){$99f85e8c0d7c4ff7$var$wasmTopK=e.wasm.cwrap($0eb90ddf241a18bf$export$c593cd1ea0d02ebd,null,["number","array","number","number","number","bool","number","number"])}const $99f85e8c0d7c4ff7$export$4e6b28a600f8b4df=({inputs:e,backend:t,attrs:a})=>{const{x:n}=e,{k:r,sorted:o}=a,s=t.dataIdMap.get(n.dataId).id,c=new Uint8Array(new Int32Array(n.shape).buffer),i=n.shape.slice();i[i.length-1]=r;const d=t.makeOutput(i,n.dtype),f=t.dataIdMap.get(d.dataId).id,$=t.makeOutput(i,"int32"),u=t.dataIdMap.get($.dataId).id;return $99f85e8c0d7c4ff7$var$wasmTopK(s,c,n.shape.length,$5546163d7eac2223$export$7b843996b6cf8ee0[n.dtype],r,o,f,u),[d,$]},$99f85e8c0d7c4ff7$export$cffaee31213314ce={kernelName:$0eb90ddf241a18bf$export$c593cd1ea0d02ebd,backendName:"wasm",setupFunc:$99f85e8c0d7c4ff7$var$setup,kernelFunc:$99f85e8c0d7c4ff7$export$4e6b28a600f8b4df};let $30e3271951ce7cab$var$wasmTransform;function $30e3271951ce7cab$var$setup(e){$30e3271951ce7cab$var$wasmTransform=e.wasm.cwrap($0eb90ddf241a18bf$export$563a914cafbdc389,null,["number","number","bool","number","number","number","number","number","number","array","number","number","number","number","number"])}function $30e3271951ce7cab$var$transform(e){const{backend:t,inputs:a,attrs:n}=e,{image:r,transforms:o}=a,{interpolation:s,fillMode:c,fillValue:i,outputShape:d}=n,[f,$,u,p]=r.shape,[l,b]=null!=d?d:[$,u],h=[f,l,b,p],x=new Uint8Array(new Int32Array($5d5df9ecf1c80076$exports.computeStrides(r.shape)).buffer),m=t.makeOutput(h,r.dtype),g=t.dataIdMap.get(m.dataId).id,v=t.dataIdMap.get(r.dataId).id,y=t.dataIdMap.get(o.dataId).id,w="nearest"===s?1:2;let _;switch(c){case"constant":default:_=1;break;case"reflect":_=2;break;case"wrap":_=3;break;case"nearest":_=4}return $30e3271951ce7cab$var$wasmTransform(v,y,o.shape[0]>1,f,l,b,p,u,$,x,r.shape.length-1,w,_,i,g),m}const $30e3271951ce7cab$export$1c7a3de6335954ed={kernelName:$0eb90ddf241a18bf$export$563a914cafbdc389,backendName:"wasm",setupFunc:$30e3271951ce7cab$var$setup,kernelFunc:$30e3271951ce7cab$var$transform};function $1b619398d6e92dc9$var$unpack(e){const{inputs:t,backend:a,attrs:n}=e,{value:r}=t;let{axis:o}=n;o<0&&(o+=r.shape.length);const s=r.shape[o],c=r.shape.length,i=new Array(c-1);let d=0;for(let e=0;e<c;e++)e!==o&&(i[d++]=r.shape[e]);const f=new Array(s),$=new Array(c).fill(0),u=r.shape.slice();u[o]=1;for(let e=0;e<f.length;e++)$[o]=e,f[e]=$3c47468fa731343d$export$58adb3bec8346d0f({inputs:{x:r},attrs:{begin:$,size:u},backend:a});return f.map((({dataId:e,dtype:t})=>({dataId:e,dtype:t,shape:i})))}const $1b619398d6e92dc9$export$d06292128cae50d6={kernelName:$0eb90ddf241a18bf$export$441ad6bfc5db8ab4,backendName:"wasm",kernelFunc:$1b619398d6e92dc9$var$unpack};function $463d1f7e3e664d90$var$zerosLike(e){const{inputs:{x:t},backend:a}=e,n=a.makeOutput(t.shape,t.dtype);return a.typedArrayFromHeap(n).fill(0),n}const $463d1f7e3e664d90$export$15368df05c479e41={kernelName:$0eb90ddf241a18bf$export$430969a37eda1e88,backendName:"wasm",kernelFunc:$463d1f7e3e664d90$var$zerosLike},$ece89b7a46d8d4d8$var$kernelConfigs=[$79ec4af05bd7f4d5$export$f70d36da1c218f84,$a0bd7b36004929d1$export$d66f48648b9d5ec7,$25e6516a9e772796$export$b1f3a580afb68e4c,$d4a1b8794d01056a$export$ff8000bc6f0313e1,$f8d216498329c068$export$4e3f081eb1a330fa,$620e6c61b9b85f5b$export$1a8ff634f2df3da6,$81e7f81e2f2885bc$export$ec7419fc9ad0069e,$c51f44e24d16b338$export$6c901824a23e6150,$3b7e64023609dafd$export$d0dd993198185538,$d312d372059d01d7$export$44e08e19f97e5513,$e79f8b770c04b01a$export$ac4d0f0f3927a8f3,$69a4a0bc164253fb$export$df387212b1898306,$d2e17041afe2f67a$export$f7ee8f07ce0ff4e1,$e90205e4e5661f23$export$c8cf96dae25282e5,$8625010d0bc4d86d$export$4a39bf13b4378042,$edaf146a088c8fd9$export$19bbc19fff1ed26f,$d7bab7de076d1e98$export$ff099a1da5235a7e,$fef93d8e6d082e31$export$c5824052b09ba0ed,$b27eff1cb7d0d0dd$export$f7086edcf0050c7f,$0d92a3a513ba3697$export$db50d81ed60c5a35,$1bc0de1da6aa87ce$export$2f6196f3316e7ed2,$fc477654ffab0226$export$9c5b88dcb1d2008b,$2688d0e0a2c3d4fc$export$240667804b7c390e,$5d49cb8af77679c9$export$b990686634ee3cce,$b20367e83ac33684$export$3c8bc3d8ee318217,$853a5280f8de6d44$export$2fd7ea0fcf021f34,$550ec1af16c69d24$export$86341ba0ce5d8e60,$b1ec5d7084729a71$export$c953bf474b2bde62,$9fc4699204bec558$export$c9ec83cb23304466,$14dc8dd7d9583f17$export$7e9a0f96fa6bd01c,$fbcc0127eede2ba9$export$7eac933a0c7fd37f,$88f2c92d4bce504d$export$bfc6b905951b4903,$7ee6b5cae82859b0$export$5b64efa829ddf94e,$34c69375ffae1e51$export$58481cc3409b412c,$75e07ad056b8260f$export$d9700eb1c7f5c969,$fc7fd5918e99e6c1$export$b1bd3139c91d8765,$fdb9795806fcbdde$export$8c4f7e92d92310f8,$4923d46b3ad9d13a$export$7a6926f9fcac24ca,$2ff6ddcdc9f04436$export$c426d3942537ad84,$a4b48a124187482b$export$aa04ab963fdf437f,$7ac01b4b6c7782cc$export$8d4530ce8b6ffc3c,$16da0eed4f4694f8$export$9f26bd257393dd8,$f24cc1e6cf28c9ec$export$a4ae1f00643ddd14,$3caada2c4ee24074$export$257f1e82e69113fb,$8a87e65c1e7b4e8b$export$7d79147246e312bb,$efb3a3053e5927a7$export$45b97bdc342e72a2,$2726cd06c3de351e$export$45c8263b38f19e33,$18bff285aadb9388$export$b934af0ccd0cdbe1,$997bcedd9ac5656e$export$3cd9f9a31b38cf18,$60fcce010dea594d$export$ea24ffbbbce8d546,$bd85fa2c5bbe432a$export$2cfd6c6c7daeb5fc,$ec9ab1fd116007f6$export$745576778aafee88,$19641636bd70b91c$export$cc7b18b8229c3db,$27e2e8f66aa68c6a$export$549561cd158f260a,$626a63aa2c8fee65$export$906b8fb32c570e9d,$aaab934266518b8d$export$4c00b682f309701d,$79bddc5ac5472814$export$d003d4d7e1500775,$edb1a7f5e06a9cc6$export$dde5645b472b80b2,$1e37c5d8c6776de8$export$d8d7015eb6ab37d0,$c9ee29c88dc568da$export$1645fa8803aa1f86,$f0d4ef1264974d5f$export$b0317e720bfd61fc,$6fa9f739ef050be5$export$b823d49786719761,$e75b33a17e2a4b5a$export$a5c4a9b694579636,$72cb73608053ce74$export$d556aa935cef5c0c,$8190d9eb9bed4d8d$export$361c4075706e31c2,$376227d1d1bebdaf$export$15c5d6176b30b9a6,$c7ca40581598e027$export$731f9199bde068eb,$61f65ac42fedebf5$export$92c30890ad649d53,$c509dc069b10c20a$export$cfa02e698602aca2,$bc48f714a237b3cb$export$a37a56137abc1357,$0051300abfeced20$export$cab6a4e8d2ed8e8d,$17b6b92386aa8932$export$44ba8c83417ab668,$b0b73702a3f0af48$export$6c09e3291f636503,$dbc391b18e1f36a0$export$941104b789956ef6,$e3972ff2499f86d1$export$573371744f044f5,$3b1418406513b19b$export$7ff911e710ee72fc,$cb41bcfdf727e18b$export$195d1cf7c59f3ef,$7e6dd5bd8bea7499$export$d993ec4e5c253b66,$3c47468fa731343d$export$8d8a1e11dd2cc6c4,$9f5e92ab5f908131$export$c022691f23e2ee69,$6829648c6f38b595$export$2f85417863d2050b,$719a4e7dcf7b68d5$export$818286c593224d1a,$abce8b7baf195c22$export$eb106efc10374803,$8d353508c83d8138$export$51e7224ae14d7f78,$4bef5d6957d409de$export$73fa0270f28b9555,$46913a1c11b32a25$export$317be24be3af9ea0,$aabc9d98745e8ef5$export$a592ba9268f10eeb,$caf8a1c37492605e$export$7c77bece4d51efc4,$9d5a962b241626cf$export$9ed4691d69db8a43,$7c95759b65c6ee78$export$c42ffaf52eb2647,$20da2d05fe89a625$export$81773633114187bd,$266d7fe2bedc1551$export$5d068476dad60c4d,$a06aff2eb847fa75$export$47edea402251c258,$09281504da592e23$export$97648844df7611f3,$789deca7bdd1f263$export$a2fc7de1a1e4eee0,$ff43def95a156032$export$a5a9f8050ba7f41e,$99f85e8c0d7c4ff7$export$cffaee31213314ce,$30e3271951ce7cab$export$1c7a3de6335954ed,$6d56e0ab03b8e542$export$895a002a39b774be,$1b619398d6e92dc9$export$d06292128cae50d6,$463d1f7e3e664d90$export$15368df05c479e41];for(const e of $ece89b7a46d8d4d8$var$kernelConfigs)$dd56e1b20444f968$export$f3f7c443f3a606e6(e);const $51414f16458a9bf5$var$ENV=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3();$51414f16458a9bf5$var$ENV.registerFlag("WASM_HAS_SIMD_SUPPORT",(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11])))),$51414f16458a9bf5$var$ENV.registerFlag("WASM_HAS_MULTITHREAD_SUPPORT",(async()=>{if($51414f16458a9bf5$var$ENV.get("IS_NODE"))return!1;try{return(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch(e){return!1}}));var $64e7f535efb89d02$exports={},$eKCdi=parcelRequire("eKCdi"),$64e7f535efb89d02$var$__filename="node_modules/@tensorflow/tfjs-backend-wasm/wasm-out/tfjs-backend-wasm-threaded-simd.js",$64e7f535efb89d02$var$__dirname="node_modules/@tensorflow/tfjs-backend-wasm/wasm-out",$64e7f535efb89d02$var$WasmBackendModuleThreadedSimd=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,void 0!==$64e7f535efb89d02$var$__filename&&(_scriptDir=_scriptDir||$64e7f535efb89d02$var$__filename),function(e){function t(){return C.buffer!=L&&q(C.buffer),B}function a(){return C.buffer!=L&&q(C.buffer),U}function n(){return C.buffer!=L&&q(C.buffer),V}function r(){return C.buffer!=L&&q(C.buffer),W}var o,s,c,i=void 0!==(e=e||{})?e:{};i.ready=new Promise((function(e,t){o=e,s=t})),void 0!==$eKCdi&&$eKCdi.listeners&&(c={uncaughtException:$eKCdi.listeners("uncaughtException"),unhandledRejection:$eKCdi.listeners("unhandledRejection")});var d,f,$,u,p,l,b=Object.assign({},i),h=[],x=(e,t)=>{throw t},m="object"==typeof window,g="function"==typeof importScripts,v="object"==typeof $eKCdi&&"object"==typeof $eKCdi.versions&&"string"==typeof $eKCdi.versions.node,y=i.ENVIRONMENT_IS_PTHREAD||!1,w="";function _(e){return i.locateFile?i.locateFile(e,w):w+e}if(v){let e;w=g?parcelRequire("ijMvi").dirname(w)+"/":$64e7f535efb89d02$var$__dirname+"/",l=()=>{p||(u=parcelRequire("ijMvi"),p=parcelRequire("ijMvi"))},d=function(e,t){return l(),e=p.normalize(e),u.readFileSync(e,t?void 0:"utf8")},$=e=>{var t=d(e,!0);return t.buffer||(t=new Uint8Array(t)),t},f=(e,t,a)=>{l(),e=p.normalize(e),u.readFile(e,(function(e,n){e?a(e):t(n.buffer)}))},$eKCdi.argv.length>1&&$eKCdi.argv[1].replace(/\\/g,"/"),h=$eKCdi.argv.slice(2),$eKCdi.on("uncaughtException",(function(e){if(!(e instanceof st))throw e})),$eKCdi.on("unhandledRejection",(function(e){throw e})),x=(e,t)=>{if(ee())throw $eKCdi.exitCode=e,t;var a;(a=t)instanceof st||E("exiting due to exception: "+a),$eKCdi.exit(e)},i.inspect=function(){return"[Emscripten Module object]"};try{e=parcelRequire("ijMvi")}catch(e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),e}$parcel$global.Worker=e.Worker}else(m||g)&&(g?w=self.location.href:"undefined"!=typeof document&&document.currentScript&&(w=document.currentScript.src),void 0!==_scriptDir&&_scriptDir&&(w=_scriptDir),w=0!==w.indexOf("blob:")?w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):"",v||(d=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},g&&($=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,a)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):a()},n.onerror=a,n.send(null)}));v&&"undefined"==typeof performance&&($parcel$global.performance=parcelRequire("ijMvi").performance);var I=console.log.bind(console),S=console.warn.bind(console);v&&(l(),I=e=>u.writeSync(1,e+"\n"),S=e=>u.writeSync(2,e+"\n"));var T,k=i.print||I,E=i.printErr||S;function A(e){A.shown||(A.shown={}),A.shown[e]||(A.shown[e]=1,E(e))}Object.assign(i,b),b=null,i.arguments&&(h=i.arguments),i.thisProgram&&i.thisProgram,i.quit&&(x=i.quit),Atomics.load,Atomics.store,Atomics.compareExchange,i.wasmBinary&&(T=i.wasmBinary);var C,O,N=i.noExitRuntime||!0;"object"!=typeof WebAssembly&&se("no native wasm support detected");var R,F=!1;function D(e){return i["_"+e]}function P(e,a,n,r,o){var s={string:function(e){var t=0;if(null!=e&&0!==e){var a=1+(e.length<<2);H(e,t=rt(a),a)}return t},array:function(e){var a,n,r=rt(e.length);return a=e,n=r,t().set(a,n),r}},c=D(e),i=[],d=0;if(r)for(var f=0;f<r.length;f++){var $=s[n[f]];$?(0===d&&(d=at()),i[f]=$(r[f])):i[f]=r[f]}var u,p=c.apply(null,i);return u=p,0!==d&&nt(d),p=function(e){return"string"===a?j(e):"boolean"===a?Boolean(e):e}(u),p}function M(e){var t=new TextDecoder(e);this.decode=e=>(e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode.call(t,e))}var L,B,U,V,W,z="undefined"!=typeof TextDecoder?new M("utf8"):void 0;function G(e,t,a){for(var n=t+a,r=t;e[r]&&!(r>=n);)++r;if(r-t>16&&e.subarray&&z)return z.decode(e.subarray(t,r));for(var o="";t<r;){var s=e[t++];if(128&s){var c=63&e[t++];if(192!=(224&s)){var i=63&e[t++];if((s=224==(240&s)?(15&s)<<12|c<<6|i:(7&s)<<18|c<<12|i<<6|63&e[t++])<65536)o+=String.fromCharCode(s);else{var d=s-65536;o+=String.fromCharCode(55296|d>>10,56320|1023&d)}}else o+=String.fromCharCode((31&s)<<6|c)}else o+=String.fromCharCode(s)}return o}function j(e,t){return e?G(a(),e,t):""}function H(e,t,n){return function(e,t,a,n){if(!(n>0))return 0;for(var r=a,o=a+n-1,s=0;s<e.length;++s){var c=e.charCodeAt(s);if(c>=55296&&c<=57343&&(c=65536+((1023&c)<<10)|1023&e.charCodeAt(++s)),c<=127){if(a>=o)break;t[a++]=c}else if(c<=2047){if(a+1>=o)break;t[a++]=192|c>>6,t[a++]=128|63&c}else if(c<=65535){if(a+2>=o)break;t[a++]=224|c>>12,t[a++]=128|c>>6&63,t[a++]=128|63&c}else{if(a+3>=o)break;t[a++]=240|c>>18,t[a++]=128|c>>12&63,t[a++]=128|c>>6&63,t[a++]=128|63&c}}return t[a]=0,a-r}(e,a(),t,n)}function q(e){L=e,i.HEAP8=B=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAP32=V=new Int32Array(e),i.HEAPU8=U=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=W=new Float64Array(e)}"undefined"!=typeof TextDecoder&&new M("utf-16le"),y&&(L=i.buffer);var K,X=i.INITIAL_MEMORY||16777216;if(y)C=i.wasmMemory,L=i.buffer;else if(i.wasmMemory)C=i.wasmMemory;else if(!((C=new WebAssembly.Memory({initial:X/65536,maximum:32768,shared:!0})).buffer instanceof SharedArrayBuffer))throw E("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),v&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");C&&(L=C.buffer),X=L.byteLength,q(L);var Y=[],Z=[],J=[],Q=[];function ee(){return N||!1}function te(){y||$e(Z)}var ae,ne=0,re=null,oe=null;function se(e){y?postMessage({cmd:"onAbort",arg:e}):i.onAbort&&i.onAbort(e),E(e="Aborted("+e+")"),F=!0,R=1,e+=". Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw s(t),t}function ce(e){return e.startsWith("data:application/octet-stream;base64,")}function ie(e){return e.startsWith("file://")}function de(e){try{if(e==ae&&T)return new Uint8Array(T);if($)return $(e);throw"both async and sync fetching of the wasm failed"}catch(e){se(e)}}i.preloadedImages={},i.preloadedAudios={},ce(ae="tfjs-backend-wasm-threaded-simd.wasm")||(ae=_(ae));var fe={};function $e(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var a=t.func;"number"==typeof a?void 0===t.arg?ge(a)():ge(a)(t.arg):a(void 0===t.arg?null:t.arg)}else t(i)}}function ue(e){var t=at(),a=e();return nt(t),a}function pe(e){var t=be.pthreads[e];if(t){n()[e>>2]=0;var a=t.worker;be.returnWorkerToPool(a)}}function le(e){!function(e,t){if(R=e,!t&&y)throw he(e),"unwind";var a;ee()||y||be.terminateAllThreads(),R=a=e,ee()||(be.terminateAllThreads(),i.onExit&&i.onExit(a),F=!0),x(a,new st(a))}(e)}var be={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],init:function(){y?be.initWorker():be.initMainThread()},initMainThread:function(){for(var e=0;e<8;++e)be.allocateUnusedWorker()},initWorker:function(){N=!1},pthreads:{},setExitStatus:function(e){R=e},terminateAllThreads:function(){for(var e in be.pthreads){var t=be.pthreads[e];t&&t.worker&&be.returnWorkerToPool(t.worker)}for(var a=0;a<be.unusedWorkers.length;++a)be.unusedWorkers[a].terminate();be.unusedWorkers=[]},returnWorkerToPool:function(e){be.runWithoutMainThreadQueuedCalls((function(){delete be.pthreads[e.pthread.threadInfoStruct],be.unusedWorkers.push(e),be.runningWorkers.splice(be.runningWorkers.indexOf(e),1),et(e.pthread.threadInfoStruct),e.pthread=void 0}))},runWithoutMainThreadQueuedCalls:function(e){n()[ot>>2]=0;try{e()}finally{n()[ot>>2]=1}},receiveObjectTransfer:function(e){},threadInit:function(){for(var e in be.tlsInitFunctions)be.tlsInitFunctions[e]()},loadWasmModuleToWorker:function(e,t){e.onmessage=a=>{var r,o=a.data,s=o.cmd;if(e.pthread&&(be.currentProxiedOperationCallerThread=e.pthread.threadInfoStruct),o.targetThread&&o.targetThread!=Ke()){var c=be.pthreads[o.targetThread];return c?c.worker.postMessage(o,o.transferList):E('Internal error! Worker sent a message "'+s+'" to target pthread '+o.targetThread+", but that thread no longer exists!"),void(be.currentProxiedOperationCallerThread=void 0)}"processQueuedMainThreadWork"===s?Xe():"spawnThread"===s?ye(o):"cleanupThread"===s?pe(o.thread):"killThread"===s?function(e){n()[e>>2]=0;var t=be.pthreads[e];delete be.pthreads[e],t.worker.terminate(),et(e),be.runningWorkers.splice(be.runningWorkers.indexOf(t.worker),1),t.worker.pthread=void 0}(o.thread):"cancelThread"===s?(r=o.thread,be.pthreads[r].worker.postMessage({cmd:"cancel"})):"loaded"===s?(e.loaded=!0,t&&t(e),e.runPthread&&(e.runPthread(),delete e.runPthread)):"print"===s?k("Thread "+o.threadId+": "+o.text):"printErr"===s?E("Thread "+o.threadId+": "+o.text):"alert"===s?alert("Thread "+o.threadId+": "+o.text):"setimmediate"===o.target?e.postMessage(o):"onAbort"===s?i.onAbort&&i.onAbort(o.arg):E("worker sent an unknown command "+s),be.currentProxiedOperationCallerThread=void 0},e.onerror=e=>{throw E("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},v&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:i.mainScriptUrlOrBlob||_scriptDir,wasmMemory:C,wasmModule:O})},allocateUnusedWorker:function(){var e=_("tfjs-backend-wasm-threaded-simd.worker.js");be.unusedWorkers.push(new Worker(e))},getNewWorker:function(){return 0==be.unusedWorkers.length&&(be.allocateUnusedWorker(),be.loadWasmModuleToWorker(be.unusedWorkers[0])),be.unusedWorkers.pop()}};function he(e){if(y)return _e(1,0,e);try{le(e)}catch(e){!function(e){if(e instanceof st||"unwind"==e)return R;x(1,e)}(e)}}i.establishStackSpace=function(){var e=Ke(),t=n()[e+44>>2],a=n()[e+48>>2];tt(t,t-a),nt(t)};var xe,me=[];function ge(e){var t=me[e];return t||(e>=me.length&&(me.length=e+1),me[e]=t=K.get(e)),t}function ve(e,t){var a,r;if(0===e)a=Date.now();else{if(1!==e&&4!==e)return r=28,n()[qe()>>2]=r,-1;a=xe()}return n()[t>>2]=a/1e3|0,n()[t+4>>2]=a%1e3*1e6|0,0}function ye(e){var t=be.getNewWorker();if(!t)return 6;be.runningWorkers.push(t);var a=be.pthreads[e.pthread_ptr]={worker:t,threadInfoStruct:e.pthread_ptr};t.pthread=a;var n={cmd:"run",start_routine:e.startRoutine,arg:e.arg,threadInfoStruct:e.pthread_ptr};return t.runPthread=()=>{n.time=performance.now(),t.postMessage(n,e.transferList)},t.loaded&&(t.runPthread(),delete t.runPthread),0}function we(){return 2147483648}function _e(e,t){var a=arguments.length-2,n=arguments;return ue((function(){for(var o=a,s=rt(8*o),c=s>>3,i=0;i<a;i++){var d=n[2+i];r()[c+i]=d}return Je(e,o,s,t)}))}i.invokeEntryPoint=function(e,t){return ge(e)(t)},xe=v?()=>{var e=$eKCdi.hrtime();return 1e3*e[0]+e[1]/1e6}:y?()=>performance.now()-i.__performance_now_clock_drift:()=>performance.now();var Ie=[];function Se(e){try{return C.grow(e-L.byteLength+65535>>>16),q(C.buffer),1}catch(e){}}var Te={inEventHandler:0,removeAllEventListeners:function(){for(var e=Te.eventHandlers.length-1;e>=0;--e)Te._removeHandler(e);Te.eventHandlers=[],Te.deferredCalls=[]},registerRemoveEventListeners:function(){Te.removeEventListenersRegistered||(J.push(Te.removeAllEventListeners),Te.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,t,a){function n(e,t){if(e.length!=t.length)return!1;for(var a in e)if(e[a]!=t[a])return!1;return!0}for(var r in Te.deferredCalls){var o=Te.deferredCalls[r];if(o.targetFunction==e&&n(o.argsList,a))return}Te.deferredCalls.push({targetFunction:e,precedence:t,argsList:a}),Te.deferredCalls.sort((function(e,t){return e.precedence<t.precedence}))},removeDeferredCalls:function(e){for(var t=0;t<Te.deferredCalls.length;++t)Te.deferredCalls[t].targetFunction==e&&(Te.deferredCalls.splice(t,1),--t)},canPerformEventHandlerRequests:function(){return Te.inEventHandler&&Te.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(Te.canPerformEventHandlerRequests())for(var e=0;e<Te.deferredCalls.length;++e){var t=Te.deferredCalls[e];Te.deferredCalls.splice(e,1),--e,t.targetFunction.apply(null,t.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(e,t){for(var a=0;a<Te.eventHandlers.length;++a)Te.eventHandlers[a].target!=e||t&&t!=Te.eventHandlers[a].eventTypeString||Te._removeHandler(a--)},_removeHandler:function(e){var t=Te.eventHandlers[e];t.target.removeEventListener(t.eventTypeString,t.eventListenerFunc,t.useCapture),Te.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(e){var t=function(t){++Te.inEventHandler,Te.currentEventHandler=e,Te.runDeferredCalls(),e.handlerFunc(t),Te.runDeferredCalls(),--Te.inEventHandler};if(e.callbackfunc)e.eventListenerFunc=t,e.target.addEventListener(e.eventTypeString,t,e.useCapture),Te.eventHandlers.push(e),Te.registerRemoveEventListeners();else for(var a=0;a<Te.eventHandlers.length;++a)Te.eventHandlers[a].target==e.target&&Te.eventHandlers[a].eventTypeString==e.eventTypeString&&Te._removeHandler(a--)},queueEventHandlerOnThread_iiii:function(e,t,a,r,o){ue((function(){var s=rt(12);n()[s>>2]=a,n()[s+4>>2]=r,n()[s+8>>2]=o,Qe(e,637534208,t,r,s)}))},getTargetThreadForEventCallback:function(e){switch(e){case 1:return 0;case 2:return be.currentProxiedOperationCallerThread;default:return e}},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};function ke(e,t,a,r){ue((function(){var o,s,c,i=rt(12),d=0;t&&(s=function(e){for(var t=0,a=0;a<e.length;++a){var n=e.charCodeAt(a);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++a)),n<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}(o=t)+1,c=je(s),H(o,c,s),d=c),n()[i>>2]=d,n()[i+4>>2]=a,n()[i+8>>2]=r,Qe(e,657457152,0,d,i)}))}var Ee=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function Ae(e){var t;return e=(t=e)>2?j(t):t,Ee[e]||("undefined"!=typeof document?document.querySelector(e):void 0)}function Ce(e){return Ae(e)}function Oe(e,t,a){var r=Ce(e);if(!r)return-4;if(r.canvasSharedPtr&&(n()[r.canvasSharedPtr>>2]=t,n()[r.canvasSharedPtr+4>>2]=a),!r.offscreenCanvas&&r.controlTransferredOffscreen)return r.canvasSharedPtr?(function(e,t,a,n){ke(e,t=t?j(t):"",a,n)}(n()[r.canvasSharedPtr+8>>2],e,t,a),1):-4;r.offscreenCanvas&&(r=r.offscreenCanvas);var o=!1;if(r.GLctxObject&&r.GLctxObject.GLctx){var s=r.GLctxObject.GLctx.getParameter(2978);o=0===s[0]&&0===s[1]&&s[2]===r.width&&s[3]===r.height}return r.width=t,r.height=a,o&&r.GLctxObject.GLctx.viewport(0,0,t,a),0}function Ne(e,t,a){return y?_e(2,1,e,t,a):Oe(e,t,a)}var Re,Fe={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(e){Fe.lastError||(Fe.lastError=e)},getNewId:function(e){for(var t=Fe.counter++,a=e.length;a<t;a++)e[a]=null;return t},getSource:function(e,t,a,r){for(var o="",s=0;s<t;++s){var c=r?n()[r+4*s>>2]:-1;o+=j(n()[a+4*s>>2],c<0?void 0:c)}return o},createContext:function(e,t){e.getContextSafariWebGL2Fixed||(e.getContextSafariWebGL2Fixed=e.getContext,e.getContext=function(t,a){var n=e.getContextSafariWebGL2Fixed(t,a);return"webgl"==t==n instanceof WebGLRenderingContext?n:null});var a=e.getContext("webgl",t);return a?Fe.registerContext(a,t):0},registerContext:function(e,t){var a=je(8);n()[a+4>>2]=Ke();var r={handle:a,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=r),Fe.contexts[a]=r,(void 0===t.enableExtensionsByDefault||t.enableExtensionsByDefault)&&Fe.initExtensions(r),a},makeContextCurrent:function(e){return Fe.currentContext=Fe.contexts[e],i.ctx=Re=Fe.currentContext&&Fe.currentContext.GLctx,!(e&&!Re)},getContext:function(e){return Fe.contexts[e]},deleteContext:function(e){Fe.currentContext===Fe.contexts[e]&&(Fe.currentContext=null),"object"==typeof Te&&Te.removeAllHandlersOnTarget(Fe.contexts[e].GLctx.canvas),Fe.contexts[e]&&Fe.contexts[e].GLctx.canvas&&(Fe.contexts[e].GLctx.canvas.GLctxObject=void 0),He(Fe.contexts[e].handle),Fe.contexts[e]=null},initExtensions:function(e){if(e||(e=Fe.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var t,a=e.GLctx;!function(e){var t=e.getExtension("ANGLE_instanced_arrays");t&&(e.vertexAttribDivisor=function(e,a){t.vertexAttribDivisorANGLE(e,a)},e.drawArraysInstanced=function(e,a,n,r){t.drawArraysInstancedANGLE(e,a,n,r)},e.drawElementsInstanced=function(e,a,n,r,o){t.drawElementsInstancedANGLE(e,a,n,r,o)})}(a),function(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)})}(a),function(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(e,a){t.drawBuffersWEBGL(e,a)})}(a),a.disjointTimerQueryExt=a.getExtension("EXT_disjoint_timer_query"),(t=a).multiDrawWebgl=t.getExtension("WEBGL_multi_draw"),(a.getSupportedExtensions()||[]).forEach((function(e){e.includes("lose_context")||e.includes("debug")||a.getExtension(e)}))}}},De=["default","low-power","high-performance"],Pe={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var a=Pe.buffers[e];0===t||10===t?((1===e?k:E)(G(a,0)),a.length=0):a.push(t)},varargs:void 0,get:function(){return Pe.varargs+=4,n()[Pe.varargs-4>>2]},getStr:function(e){return j(e)},get64:function(e,t){return e}};function Me(e){return y?_e(3,1,e):0}function Le(e,t,a,n,r){if(y)return _e(4,1,e,t,a,n,r)}function Be(e,t,r,o){if(y)return _e(5,1,e,t,r,o);for(var s=0,c=0;c<r;c++){var i=n()[t>>2],d=n()[t+4>>2];t+=8;for(var f=0;f<d;f++)Pe.printChar(e,a()[i+f]);s+=d}return n()[o>>2]=s,0}be.init();var Ue,Ve,We,ze=[null,he,Ne,Me,Le,Be],Ge={__clock_gettime:function(e,t){return ve(e,t)},__emscripten_init_main_thread_js:function(e){Ye(e,!g,1,!m),be.threadInit()},__emscripten_thread_cleanup:function(e){y?postMessage({cmd:"cleanupThread",thread:e}):pe(e)},__pthread_create_js:function(e,t,a,n){if("undefined"==typeof SharedArrayBuffer)return E("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var r=[];if(y&&0===r.length)return Ze(687865856,e,t,a,n);var o={startRoutine:a,pthread_ptr:e,arg:n,transferList:r};return y?(o.cmd="spawnThread",postMessage(o,r),0):ye(o)},_emscripten_default_pthread_stack_size:function(){return 2097152},_emscripten_notify_thread_queue:function(e,t){if(e==t)postMessage({cmd:"processQueuedMainThreadWork"});else if(y)postMessage({targetThread:e,cmd:"processThreadQueue"});else{var a=be.pthreads[e],n=a&&a.worker;if(!n)return;n.postMessage({cmd:"processThreadQueue"})}return 1},abort:function(){se("")},emscripten_check_blocking_allowed:function(){v||g||A("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")},emscripten_get_heap_max:we,emscripten_get_now:xe,emscripten_memcpy_big:function(e,t,n){a().copyWithin(e,t,t+n)},emscripten_num_logical_cores:function(){return v?parcelRequire("ijMvi").cpus().length:navigator.hardwareConcurrency},emscripten_receive_on_main_thread_js:function(e,t,a){Ie.length=t;for(var n=a>>3,o=0;o<t;o++)Ie[o]=r()[n+o];return(e<0?fe[-e-1]:ze[e]).apply(null,Ie)},emscripten_resize_heap:function(e){var t=a().length;if((e>>>=0)<=t)return!1;var n,r,o=2147483648;if(e>o)return!1;for(var s=1;s<=4;s*=2){var c=t*(1+.2/s);if(c=Math.min(c,e+100663296),Se(Math.min(o,((n=Math.max(e,c))%(r=65536)>0&&(n+=r-n%r),n))))return!0}return!1},emscripten_set_canvas_element_size:function(e,t,a){return Ce(e)?Oe(e,t,a):Ne(e,t,a)},emscripten_unwind_to_js_event_loop:function(){throw"unwind"},emscripten_webgl_create_context:function(e,t){return a=e,r=t>>2,o=n()[r+6],s={alpha:!!n()[r+0],depth:!!n()[r+1],stencil:!!n()[r+2],antialias:!!n()[r+3],premultipliedAlpha:!!n()[r+4],preserveDrawingBuffer:!!n()[r+5],powerPreference:De[o],failIfMajorPerformanceCaveat:!!n()[r+7],majorVersion:n()[r+8],minorVersion:n()[r+9],enableExtensionsByDefault:n()[r+10],explicitSwapControl:n()[r+11],proxyContextToMainThread:n()[r+12],renderViaOffscreenBackBuffer:n()[r+13]},(c=Ce(a))?s.explicitSwapControl?0:Fe.createContext(c,s):0;var a,r,o,s,c},exit:le,fd_close:Me,fd_seek:Le,fd_write:Be,memory:C||i.wasmMemory,setTempRet0:function(e){}},je=(function(){var e={env:Ge,wasi_snapshot_preview1:Ge};function t(e,t){var a,n,r=e.exports;if(i.asm=r,a=i.asm.emscripten_tls_init,be.tlsInitFunctions.push(a),K=i.asm.__indirect_function_table,n=i.asm.__wasm_call_ctors,Z.unshift(n),O=t,!y){var o=be.unusedWorkers.length;be.unusedWorkers.forEach((function(e){be.loadWasmModuleToWorker(e,(function(){--o||function(e){if(ne--,i.monitorRunDependencies&&i.monitorRunDependencies(ne),0==ne&&(null!==re&&(clearInterval(re),re=null),oe)){var t=oe;oe=null,t()}}()}))}))}}function a(e){t(e.instance,e.module)}function n(t){return function(){if(!T&&(m||g)){if("function"==typeof fetch&&!ie(ae))return fetch(ae,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ae+"'";return e.arrayBuffer()})).catch((function(){return de(ae)}));if(f)return new Promise((function(e,t){f(ae,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return de(ae)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){E("failed to asynchronously prepare wasm: "+e),se(e)}))}if(y||(ne++,i.monitorRunDependencies&&i.monitorRunDependencies(ne)),i.instantiateWasm)try{return i.instantiateWasm(e,t)}catch(e){return E("Module.instantiateWasm callback failed with error: "+e),!1}(T||"function"!=typeof WebAssembly.instantiateStreaming||ce(ae)||ie(ae)||"function"!=typeof fetch?n(a):fetch(ae,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(a,(function(e){return E("wasm streaming compile failed: "+e),E("falling back to ArrayBuffer instantiation"),n(a)}))}))).catch(s)}(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.__wasm_call_ctors).apply(null,arguments)},i._init=function(){return(i._init=i.asm.init).apply(null,arguments)},i._init_with_threads_count=function(){return(i._init_with_threads_count=i.asm.init_with_threads_count).apply(null,arguments)},i._get_threads_count=function(){return(i._get_threads_count=i.asm.get_threads_count).apply(null,arguments)},i._register_tensor=function(){return(i._register_tensor=i.asm.register_tensor).apply(null,arguments)},i._dispose_data=function(){return(i._dispose_data=i.asm.dispose_data).apply(null,arguments)},i._dispose=function(){return(i._dispose=i.asm.dispose).apply(null,arguments)},i._Abs=function(){return(i._Abs=i.asm.Abs).apply(null,arguments)},i._Add=function(){return(i._Add=i.asm.Add).apply(null,arguments)},i._AddN=function(){return(i._AddN=i.asm.AddN).apply(null,arguments)},i._All=function(){return(i._All=i.asm.All).apply(null,arguments)},i._Any=function(){return(i._Any=i.asm.Any).apply(null,arguments)},i._ArgMax=function(){return(i._ArgMax=i.asm.ArgMax).apply(null,arguments)},i._AvgPool=function(){return(i._AvgPool=i.asm.AvgPool).apply(null,arguments)},i._BatchMatMul=function(){return(i._BatchMatMul=i.asm.BatchMatMul).apply(null,arguments)},i._Ceil=function(){return(i._Ceil=i.asm.Ceil).apply(null,arguments)},i._ClipByValue=function(){return(i._ClipByValue=i.asm.ClipByValue).apply(null,arguments)},i._Conv2D=function(){return(i._Conv2D=i.asm.Conv2D).apply(null,arguments)},i._Conv2DBackpropInput=function(){return(i._Conv2DBackpropInput=i.asm.Conv2DBackpropInput).apply(null,arguments)},i._Cos=function(){return(i._Cos=i.asm.Cos).apply(null,arguments)},i._Cosh=function(){return(i._Cosh=i.asm.Cosh).apply(null,arguments)},i._CropAndResize=function(){return(i._CropAndResize=i.asm.CropAndResize).apply(null,arguments)},i._Cumprod=function(){return(i._Cumprod=i.asm.Cumprod).apply(null,arguments)},i._Cumsum=function(){return(i._Cumsum=i.asm.Cumsum).apply(null,arguments)},i._DepthToSpace=function(){return(i._DepthToSpace=i.asm.DepthToSpace).apply(null,arguments)},i._DepthwiseConv2dNative=function(){return(i._DepthwiseConv2dNative=i.asm.DepthwiseConv2dNative).apply(null,arguments)},i._Elu=function(){return(i._Elu=i.asm.Elu).apply(null,arguments)},i._Equal=function(){return(i._Equal=i.asm.Equal).apply(null,arguments)},i._Exp=function(){return(i._Exp=i.asm.Exp).apply(null,arguments)},i._FlipLeftRight=function(){return(i._FlipLeftRight=i.asm.FlipLeftRight).apply(null,arguments)},i._Floor=function(){return(i._Floor=i.asm.Floor).apply(null,arguments)},i._FloorDiv=function(){return(i._FloorDiv=i.asm.FloorDiv).apply(null,arguments)},i._FusedBatchNorm=function(){return(i._FusedBatchNorm=i.asm.FusedBatchNorm).apply(null,arguments)},i._FusedConv2D=function(){return(i._FusedConv2D=i.asm.FusedConv2D).apply(null,arguments)},i._FusedDepthwiseConv2D=function(){return(i._FusedDepthwiseConv2D=i.asm.FusedDepthwiseConv2D).apply(null,arguments)},i._Gather=function(){return(i._Gather=i.asm.Gather).apply(null,arguments)},i._GatherNd=function(){return(i._GatherNd=i.asm.GatherNd).apply(null,arguments)},i._Greater=function(){return(i._Greater=i.asm.Greater).apply(null,arguments)},i._GreaterEqual=function(){return(i._GreaterEqual=i.asm.GreaterEqual).apply(null,arguments)},i._LeakyRelu=function(){return(i._LeakyRelu=i.asm.LeakyRelu).apply(null,arguments)},i._Less=function(){return(i._Less=i.asm.Less).apply(null,arguments)},i._LessEqual=function(){return(i._LessEqual=i.asm.LessEqual).apply(null,arguments)},i._Log=function(){return(i._Log=i.asm.Log).apply(null,arguments)},i._LogicalAnd=function(){return(i._LogicalAnd=i.asm.LogicalAnd).apply(null,arguments)},i._Max=function(){return(i._Max=i.asm.Max).apply(null,arguments)},i._MaxPool=function(){return(i._MaxPool=i.asm.MaxPool).apply(null,arguments)},i._Maximum=function(){return(i._Maximum=i.asm.Maximum).apply(null,arguments)},i._Mean=function(){return(i._Mean=i.asm.Mean).apply(null,arguments)},i._Min=function(){return(i._Min=i.asm.Min).apply(null,arguments)},i._Minimum=function(){return(i._Minimum=i.asm.Minimum).apply(null,arguments)},i._MirrorPad=function(){return(i._MirrorPad=i.asm.MirrorPad).apply(null,arguments)},i._Multiply=function(){return(i._Multiply=i.asm.Multiply).apply(null,arguments)},i._Neg=function(){return(i._Neg=i.asm.Neg).apply(null,arguments)},i._NonMaxSuppressionV3=function(){return(i._NonMaxSuppressionV3=i.asm.NonMaxSuppressionV3).apply(null,arguments)},i._NonMaxSuppressionV4=function(){return(i._NonMaxSuppressionV4=i.asm.NonMaxSuppressionV4).apply(null,arguments)},i._NonMaxSuppressionV5=function(){return(i._NonMaxSuppressionV5=i.asm.NonMaxSuppressionV5).apply(null,arguments)},i._NotEqual=function(){return(i._NotEqual=i.asm.NotEqual).apply(null,arguments)},i._OneHot=function(){return(i._OneHot=i.asm.OneHot).apply(null,arguments)},i._PadV2=function(){return(i._PadV2=i.asm.PadV2).apply(null,arguments)},i._Pow=function(){return(i._Pow=i.asm.Pow).apply(null,arguments)},i._Prelu=function(){return(i._Prelu=i.asm.Prelu).apply(null,arguments)},i._Prod=function(){return(i._Prod=i.asm.Prod).apply(null,arguments)},i._RealDiv=function(){return(i._RealDiv=i.asm.RealDiv).apply(null,arguments)},i._Relu=function(){return(i._Relu=i.asm.Relu).apply(null,arguments)},i._Relu6=function(){return(i._Relu6=i.asm.Relu6).apply(null,arguments)},i._ResizeBilinear=function(){return(i._ResizeBilinear=i.asm.ResizeBilinear).apply(null,arguments)},i._Reverse=function(){return(i._Reverse=i.asm.Reverse).apply(null,arguments)},i._RotateWithOffset=function(){return(i._RotateWithOffset=i.asm.RotateWithOffset).apply(null,arguments)},i._Round=function(){return(i._Round=i.asm.Round).apply(null,arguments)},i._Rsqrt=function(){return(i._Rsqrt=i.asm.Rsqrt).apply(null,arguments)},i._ScatterNd=function(){return(i._ScatterNd=i.asm.ScatterNd).apply(null,arguments)},i._SelectV2=function(){return(i._SelectV2=i.asm.SelectV2).apply(null,arguments)},i._Sigmoid=function(){return(i._Sigmoid=i.asm.Sigmoid).apply(null,arguments)},i._Sin=function(){return(i._Sin=i.asm.Sin).apply(null,arguments)},i._Softmax=function(){return(i._Softmax=i.asm.Softmax).apply(null,arguments)},i._SparseFillEmptyRows=function(){return(i._SparseFillEmptyRows=i.asm.SparseFillEmptyRows).apply(null,arguments)},i._SparseReshape=function(){return(i._SparseReshape=i.asm.SparseReshape).apply(null,arguments)},i._SparseSegmentReduction=function(){return(i._SparseSegmentReduction=i.asm.SparseSegmentReduction).apply(null,arguments)},i._Sqrt=function(){return(i._Sqrt=i.asm.Sqrt).apply(null,arguments)},i._Square=function(){return(i._Square=i.asm.Square).apply(null,arguments)},i._SquaredDifference=function(){return(i._SquaredDifference=i.asm.SquaredDifference).apply(null,arguments)},i._Step=function(){return(i._Step=i.asm.Step).apply(null,arguments)},i._StridedSlice=function(){return(i._StridedSlice=i.asm.StridedSlice).apply(null,arguments)},i._Sub=function(){return(i._Sub=i.asm.Sub).apply(null,arguments)},i._Sum=function(){return(i._Sum=i.asm.Sum).apply(null,arguments)},i._Tan=function(){return(i._Tan=i.asm.Tan).apply(null,arguments)},i._Tanh=function(){return(i._Tanh=i.asm.Tanh).apply(null,arguments)},i._Tile=function(){return(i._Tile=i.asm.Tile).apply(null,arguments)},i._TopK=function(){return(i._TopK=i.asm.TopK).apply(null,arguments)},i._Transform=function(){return(i._Transform=i.asm.Transform).apply(null,arguments)},i._Transpose=function(){return(i._Transpose=i.asm.Transpose).apply(null,arguments)},i.__FusedMatMul=function(){return(i.__FusedMatMul=i.asm._FusedMatMul).apply(null,arguments)},i._malloc=function(){return(je=i._malloc=i.asm.malloc).apply(null,arguments)}),He=i._free=function(){return(He=i._free=i.asm.free).apply(null,arguments)},qe=(i._emscripten_tls_init=function(){return(i._emscripten_tls_init=i.asm.emscripten_tls_init).apply(null,arguments)},i.___errno_location=function(){return(qe=i.___errno_location=i.asm.__errno_location).apply(null,arguments)}),Ke=i._pthread_self=function(){return(Ke=i._pthread_self=i.asm.pthread_self).apply(null,arguments)},Xe=i._emscripten_main_thread_process_queued_calls=function(){return(Xe=i._emscripten_main_thread_process_queued_calls=i.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},Ye=(i.__emscripten_thread_crashed=function(){return(i.__emscripten_thread_crashed=i.asm._emscripten_thread_crashed).apply(null,arguments)},i.__emscripten_thread_init=function(){return(Ye=i.__emscripten_thread_init=i.asm._emscripten_thread_init).apply(null,arguments)}),Ze=(i._emscripten_current_thread_process_queued_calls=function(){return(i._emscripten_current_thread_process_queued_calls=i.asm.emscripten_current_thread_process_queued_calls).apply(null,arguments)},i._emscripten_main_browser_thread_id=function(){return(i._emscripten_main_browser_thread_id=i.asm.emscripten_main_browser_thread_id).apply(null,arguments)},i._emscripten_sync_run_in_main_thread_2=function(){return(i._emscripten_sync_run_in_main_thread_2=i.asm.emscripten_sync_run_in_main_thread_2).apply(null,arguments)},i._emscripten_sync_run_in_main_thread_4=function(){return(Ze=i._emscripten_sync_run_in_main_thread_4=i.asm.emscripten_sync_run_in_main_thread_4).apply(null,arguments)}),Je=i._emscripten_run_in_main_runtime_thread_js=function(){return(Je=i._emscripten_run_in_main_runtime_thread_js=i.asm.emscripten_run_in_main_runtime_thread_js).apply(null,arguments)},Qe=i._emscripten_dispatch_to_thread_=function(){return(Qe=i._emscripten_dispatch_to_thread_=i.asm.emscripten_dispatch_to_thread_).apply(null,arguments)},et=i.__emscripten_thread_free_data=function(){return(et=i.__emscripten_thread_free_data=i.asm._emscripten_thread_free_data).apply(null,arguments)},tt=(i.__emscripten_thread_exit=function(){return(i.__emscripten_thread_exit=i.asm._emscripten_thread_exit).apply(null,arguments)},i._memalign=function(){return(i._memalign=i.asm.memalign).apply(null,arguments)},i._emscripten_stack_set_limits=function(){return(tt=i._emscripten_stack_set_limits=i.asm.emscripten_stack_set_limits).apply(null,arguments)}),at=i.stackSave=function(){return(at=i.stackSave=i.asm.stackSave).apply(null,arguments)},nt=i.stackRestore=function(){return(nt=i.stackRestore=i.asm.stackRestore).apply(null,arguments)},rt=i.stackAlloc=function(){return(rt=i.stackAlloc=i.asm.stackAlloc).apply(null,arguments)},ot=(i.dynCall_iijjiiii=function(){return(i.dynCall_iijjiiii=i.asm.dynCall_iijjiiii).apply(null,arguments)},i.dynCall_jiji=function(){return(i.dynCall_jiji=i.asm.dynCall_jiji).apply(null,arguments)},i.__emscripten_allow_main_runtime_queued_calls=21464);function st(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ct(e){if(e=e||h,!(ne>0)){if(y)return o(i),te(),void postMessage({cmd:"loaded"});!function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)e=i.preRun.shift(),Y.unshift(e);var e;$e(Y)}(),ne>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),t()}),1)):t())}function t(){Ue||(Ue=!0,i.calledRun=!0,F||(te(),o(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),function(){if(!y){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)e=i.postRun.shift(),Q.unshift(e);var e;$e(Q)}}()))}}if(i.cwrap=function(e,t,a,n){var r=(a=a||[]).every((function(e){return"number"===e}));return"string"!==t&&r&&!n?D(e):function(){return P(e,t,a,arguments)}},i.keepRuntimeAlive=ee,i.PThread=be,i.PThread=be,i.wasmMemory=C,i.ExitStatus=st,oe=function e(){Ue||ct(),Ue||(oe=e)},i.run=ct,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();if(ct(),c&&(Ve={uncaughtException:$eKCdi.listeners("uncaughtException").filter((function(e){return!c.uncaughtException.indexOf(e)>-1})),unhandledRejection:$eKCdi.listeners("unhandledRejection").filter((function(e){return!c.unhandledRejection.indexOf(e)>-1}))}),"undefined"!=typeof WasmBackendModule)We=WasmBackendModule;else{if(void 0===e)throw new Error("Could not find wasm module in post.js");We=e}if(Ve){var it=We._dispose;We._dispose=function(){it(),Ve.uncaughtException.forEach((function(e){$eKCdi.removeListener("uncaughtException",e)})),Ve.unhandledRejection.forEach((function(e){$eKCdi.removeListener("unhandledRejection",e)}))}}return e.ready}),_scriptDir;$64e7f535efb89d02$exports=$64e7f535efb89d02$var$WasmBackendModuleThreadedSimd;const $0a543f9141c50f92$export$8db778f4bac1cd46='"use strict";var Module={};var ENVIRONMENT_IS_NODE=typeof process==="object"&&typeof process.versions==="object"&&typeof process.versions.node==="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads");var parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",function(data){onmessage({data:data})});var fs=require("fs");Object.assign(global,{self:global,require:require,Module:Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:function(f){(0,eval)(fs.readFileSync(f,"utf8"))},postMessage:function(msg){parentPort.postMessage(msg)},performance:global.performance||{now:function(){return Date.now()}}})}function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,text+"\n");return}console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=((info,receiveInstance)=>{var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports});self.onmessage=(e=>{try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob==="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}WasmBackendModuleThreadedSimd(Module).then(function(instance){Module=instance})}else if(e.data.cmd==="run"){Module["__performance_now_clock_drift"]=performance.now()-e.data.time;Module["__emscripten_thread_init"](e.data.threadInfoStruct,0,0,1);Module["establishStackSpace"]();Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInit();try{var result=Module["invokeEntryPoint"](e.data.start_routine,e.data.arg);if(Module["keepRuntimeAlive"]()){Module["PThread"].setExitStatus(result)}else{Module["__emscripten_thread_exit"](result)}}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processThreadQueue"){if(Module["_pthread_self"]()){Module["_emscripten_current_thread_process_queued_calls"]()}}else if(e.data.cmd==="processProxyingQueue"){if(Module["_pthread_self"]()){Module["_emscripten_proxy_execute_queue"](e.data.queue)}}else{err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){err("worker.js onmessage() captured an uncaught exception: "+ex);if(ex&&ex.stack)err(ex.stack);if(Module["__emscripten_thread_crashed"]){Module["__emscripten_thread_crashed"]()}throw ex}});';var $edbcca5ee1d8caca$exports={},$edbcca5ee1d8caca$var$__dirname="node_modules/@tensorflow/tfjs-backend-wasm/wasm-out",$edbcca5ee1d8caca$var$__filename="node_modules/@tensorflow/tfjs-backend-wasm/wasm-out/tfjs-backend-wasm.js",$eKCdi=parcelRequire("eKCdi"),$edbcca5ee1d8caca$var$WasmBackendModule=(()=>{var e="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return void 0!==$edbcca5ee1d8caca$var$__filename&&(e=e||$edbcca5ee1d8caca$var$__filename),function(t){var a,n,r,o=void 0!==(t=t||{})?t:{};o.ready=new Promise((function(e,t){a=e,n=t})),void 0!==$eKCdi&&$eKCdi.listeners&&(r={uncaughtException:$eKCdi.listeners("uncaughtException"),unhandledRejection:$eKCdi.listeners("unhandledRejection")});var s,c,i,d,f,$,u=Object.assign({},o),p=[],l="object"==typeof window,b="function"==typeof importScripts,h="object"==typeof $eKCdi&&"object"==typeof $eKCdi.versions&&"string"==typeof $eKCdi.versions.node,x="";h?(x=b?parcelRequire("ijMvi").dirname(x)+"/":$edbcca5ee1d8caca$var$__dirname+"/",$=()=>{f||(d=parcelRequire("ijMvi"),f=parcelRequire("ijMvi"))},s=function(e,t){return $(),e=f.normalize(e),d.readFileSync(e,t?void 0:"utf8")},i=e=>{var t=s(e,!0);return t.buffer||(t=new Uint8Array(t)),t},c=(e,t,a)=>{$(),e=f.normalize(e),d.readFile(e,(function(e,n){e?a(e):t(n.buffer)}))},$eKCdi.argv.length>1&&$eKCdi.argv[1].replace(/\\/g,"/"),p=$eKCdi.argv.slice(2),$eKCdi.on("uncaughtException",(function(e){if(!(e instanceof ce))throw e})),$eKCdi.on("unhandledRejection",(function(e){throw e})),(e,t)=>{if(L())throw $eKCdi.exitCode=e,t;!function(e){if(e instanceof ce)return;g("exiting due to exception: "+e)}(t),$eKCdi.exit(e)},o.inspect=function(){return"[Emscripten Module object]"}):(l||b)&&(b?x=self.location.href:"undefined"!=typeof document&&document.currentScript&&(x=document.currentScript.src),e&&(x=e),x=0!==x.indexOf("blob:")?x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):"",s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},b&&(i=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),c=(e,t,a)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):a()},n.onerror=a,n.send(null)});var m=o.print||console.log.bind(console),g=o.printErr||console.warn.bind(console);Object.assign(o,u),u=null,o.arguments&&(p=o.arguments),o.thisProgram&&o.thisProgram,o.quit&&o.quit;var v;o.wasmBinary&&(v=o.wasmBinary);var y,w=o.noExitRuntime||!0;"object"!=typeof WebAssembly&&W("no native wasm support detected");var _=!1;function I(e){return o["_"+e]}function S(e,t,a,n,r){var o={string:function(e){var t=0;if(null!=e&&0!==e){var a=1+(e.length<<2);(function(e,t,a){(function(e,t,a,n){if(!(n>0))return 0;for(var r=a,o=a+n-1,s=0;s<e.length;++s){var c=e.charCodeAt(s);if(c>=55296&&c<=57343)c=65536+((1023&c)<<10)|1023&e.charCodeAt(++s);if(c<=127){if(a>=o)break;t[a++]=c}else if(c<=2047){if(a+1>=o)break;t[a++]=192|c>>6,t[a++]=128|63&c}else if(c<=65535){if(a+2>=o)break;t[a++]=224|c>>12,t[a++]=128|c>>6&63,t[a++]=128|63&c}else{if(a+3>=o)break;t[a++]=240|c>>18,t[a++]=128|c>>12&63,t[a++]=128|c>>6&63,t[a++]=128|63&c}}t[a]=0})(e,O,t,a)})(e,t=se(a),a)}return t},array:function(e){var t,a,n=se(e.length);return t=e,a=n,C.set(t,a),n}};var s=I(e),c=[],i=0;if(n)for(var d=0;d<n.length;d++){var f=o[a[d]];f?(0===i&&(i=re()),c[d]=f(n[d])):c[d]=n[d]}var $,u=s.apply(null,c);return $=u,0!==i&&oe(i),u=function(e){return"string"===t?E(e):"boolean"===t?Boolean(e):e}($),u}var T="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function k(e,t,a){for(var n=t+a,r=t;e[r]&&!(r>=n);)++r;if(r-t>16&&e.subarray&&T)return T.decode(e.subarray(t,r));for(var o="";t<r;){var s=e[t++];if(128&s){var c=63&e[t++];if(192!=(224&s)){var i=63&e[t++];if((s=224==(240&s)?(15&s)<<12|c<<6|i:(7&s)<<18|c<<12|i<<6|63&e[t++])<65536)o+=String.fromCharCode(s);else{var d=s-65536;o+=String.fromCharCode(55296|d>>10,56320|1023&d)}}else o+=String.fromCharCode((31&s)<<6|c)}else o+=String.fromCharCode(s)}return o}function E(e,t){return e?k(O,e,t):""}var A,C,O,N;"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");function R(e){A=e,o.HEAP8=C=new Int8Array(e),o.HEAP16=new Int16Array(e),o.HEAP32=N=new Int32Array(e),o.HEAPU8=O=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=new Float64Array(e)}o.INITIAL_MEMORY;var F,D=[],P=[],M=[];function L(){return w||!1}var B=0,U=null,V=null;function W(e){o.onAbort&&o.onAbort(e),g(e="Aborted("+e+")"),_=!0,1,e+=". Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw n(t),t}o.preloadedImages={},o.preloadedAudios={};var z,G;function j(e){return e.startsWith("data:application/octet-stream;base64,")}function H(e){return e.startsWith("file://")}function q(e){try{if(e==z&&v)return new Uint8Array(v);if(i)return i(e);throw"both async and sync fetching of the wasm failed"}catch(e){W(e)}}function K(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var a=t.func;"number"==typeof a?void 0===t.arg?Y(a)():Y(a)(t.arg):a(void 0===t.arg?null:t.arg)}else t(o)}}j(z="tfjs-backend-wasm.wasm")||(G=z,z=o.locateFile?o.locateFile(G,x):x+G);var X=[];function Y(e){var t=X[e];return t||(e>=X.length&&(X.length=e+1),X[e]=t=F.get(e)),t}function Z(){return 2147483648}function J(e){try{return y.grow(e-A.byteLength+65535>>>16),R(y.buffer),1}catch(e){}}var Q={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var a=Q.buffers[e];0===t||10===t?((1===e?m:g)(k(a,0)),a.length=0):a.push(t)},varargs:void 0,get:function(){return Q.varargs+=4,N[Q.varargs-4>>2]},getStr:function(e){return E(e)},get64:function(e,t){return e}};var ee,te,ae,ne={abort:function(){W("")},emscripten_get_heap_max:Z,emscripten_memcpy_big:function(e,t,a){O.copyWithin(e,t,t+a)},emscripten_resize_heap:function(e){var t,a,n=O.length,r=2147483648;if((e>>>=0)>r)return!1;for(var o=1;o<=4;o*=2){var s=n*(1+.2/o);if(s=Math.min(s,e+100663296),J(Math.min(r,((t=Math.max(e,s))%(a=65536)>0&&(t+=a-t%a),t))))return!0}return!1},fd_close:function(e){return 0},fd_seek:function(e,t,a,n,r){},fd_write:function(e,t,a,n){for(var r=0,o=0;o<a;o++){var s=N[t>>2],c=N[t+4>>2];t+=8;for(var i=0;i<c;i++)Q.printChar(e,O[s+i]);r+=c}return N[n>>2]=r,0},setTempRet0:function(e){e}},re=(function(){var e={env:ne,wasi_snapshot_preview1:ne};function t(e,t){var a,n=e.exports;o.asm=n,R((y=o.asm.memory).buffer),F=o.asm.__indirect_function_table,a=o.asm.__wasm_call_ctors,P.unshift(a),function(e){if(B--,o.monitorRunDependencies&&o.monitorRunDependencies(B),0==B&&(null!==U&&(clearInterval(U),U=null),V)){var t=V;V=null,t()}}()}function a(e){t(e.instance)}function r(t){return function(){if(!v&&(l||b)){if("function"==typeof fetch&&!H(z))return fetch(z,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+z+"'";return e.arrayBuffer()})).catch((function(){return q(z)}));if(c)return new Promise((function(e,t){c(z,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return q(z)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){g("failed to asynchronously prepare wasm: "+e),W(e)}))}if(B++,o.monitorRunDependencies&&o.monitorRunDependencies(B),o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(e){return g("Module.instantiateWasm callback failed with error: "+e),!1}(v||"function"!=typeof WebAssembly.instantiateStreaming||j(z)||H(z)||"function"!=typeof fetch?r(a):fetch(z,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(a,(function(e){return g("wasm streaming compile failed: "+e),g("falling back to ArrayBuffer instantiation"),r(a)}))}))).catch(n)}(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.__wasm_call_ctors).apply(null,arguments)},o._init=function(){return(o._init=o.asm.init).apply(null,arguments)},o._init_with_threads_count=function(){return(o._init_with_threads_count=o.asm.init_with_threads_count).apply(null,arguments)},o._get_threads_count=function(){return(o._get_threads_count=o.asm.get_threads_count).apply(null,arguments)},o._register_tensor=function(){return(o._register_tensor=o.asm.register_tensor).apply(null,arguments)},o._dispose_data=function(){return(o._dispose_data=o.asm.dispose_data).apply(null,arguments)},o._dispose=function(){return(o._dispose=o.asm.dispose).apply(null,arguments)},o._Abs=function(){return(o._Abs=o.asm.Abs).apply(null,arguments)},o._Add=function(){return(o._Add=o.asm.Add).apply(null,arguments)},o._AddN=function(){return(o._AddN=o.asm.AddN).apply(null,arguments)},o._All=function(){return(o._All=o.asm.All).apply(null,arguments)},o._Any=function(){return(o._Any=o.asm.Any).apply(null,arguments)},o._ArgMax=function(){return(o._ArgMax=o.asm.ArgMax).apply(null,arguments)},o._AvgPool=function(){return(o._AvgPool=o.asm.AvgPool).apply(null,arguments)},o._BatchMatMul=function(){return(o._BatchMatMul=o.asm.BatchMatMul).apply(null,arguments)},o._Ceil=function(){return(o._Ceil=o.asm.Ceil).apply(null,arguments)},o._ClipByValue=function(){return(o._ClipByValue=o.asm.ClipByValue).apply(null,arguments)},o._Conv2D=function(){return(o._Conv2D=o.asm.Conv2D).apply(null,arguments)},o._Conv2DBackpropInput=function(){return(o._Conv2DBackpropInput=o.asm.Conv2DBackpropInput).apply(null,arguments)},o._Cos=function(){return(o._Cos=o.asm.Cos).apply(null,arguments)},o._Cosh=function(){return(o._Cosh=o.asm.Cosh).apply(null,arguments)},o._CropAndResize=function(){return(o._CropAndResize=o.asm.CropAndResize).apply(null,arguments)},o._Cumprod=function(){return(o._Cumprod=o.asm.Cumprod).apply(null,arguments)},o._Cumsum=function(){return(o._Cumsum=o.asm.Cumsum).apply(null,arguments)},o._DepthToSpace=function(){return(o._DepthToSpace=o.asm.DepthToSpace).apply(null,arguments)},o._DepthwiseConv2dNative=function(){return(o._DepthwiseConv2dNative=o.asm.DepthwiseConv2dNative).apply(null,arguments)},o._Elu=function(){return(o._Elu=o.asm.Elu).apply(null,arguments)},o._Equal=function(){return(o._Equal=o.asm.Equal).apply(null,arguments)},o._Exp=function(){return(o._Exp=o.asm.Exp).apply(null,arguments)},o._FlipLeftRight=function(){return(o._FlipLeftRight=o.asm.FlipLeftRight).apply(null,arguments)},o._Floor=function(){return(o._Floor=o.asm.Floor).apply(null,arguments)},o._FloorDiv=function(){return(o._FloorDiv=o.asm.FloorDiv).apply(null,arguments)},o._FusedBatchNorm=function(){return(o._FusedBatchNorm=o.asm.FusedBatchNorm).apply(null,arguments)},o._FusedConv2D=function(){return(o._FusedConv2D=o.asm.FusedConv2D).apply(null,arguments)},o._FusedDepthwiseConv2D=function(){return(o._FusedDepthwiseConv2D=o.asm.FusedDepthwiseConv2D).apply(null,arguments)},o._Gather=function(){return(o._Gather=o.asm.Gather).apply(null,arguments)},o._GatherNd=function(){return(o._GatherNd=o.asm.GatherNd).apply(null,arguments)},o._Greater=function(){return(o._Greater=o.asm.Greater).apply(null,arguments)},o._GreaterEqual=function(){return(o._GreaterEqual=o.asm.GreaterEqual).apply(null,arguments)},o._LeakyRelu=function(){return(o._LeakyRelu=o.asm.LeakyRelu).apply(null,arguments)},o._Less=function(){return(o._Less=o.asm.Less).apply(null,arguments)},o._LessEqual=function(){return(o._LessEqual=o.asm.LessEqual).apply(null,arguments)},o._Log=function(){return(o._Log=o.asm.Log).apply(null,arguments)},o._LogicalAnd=function(){return(o._LogicalAnd=o.asm.LogicalAnd).apply(null,arguments)},o._Max=function(){return(o._Max=o.asm.Max).apply(null,arguments)},o._MaxPool=function(){return(o._MaxPool=o.asm.MaxPool).apply(null,arguments)},o._Maximum=function(){return(o._Maximum=o.asm.Maximum).apply(null,arguments)},o._Mean=function(){return(o._Mean=o.asm.Mean).apply(null,arguments)},o._Min=function(){return(o._Min=o.asm.Min).apply(null,arguments)},o._Minimum=function(){return(o._Minimum=o.asm.Minimum).apply(null,arguments)},o._MirrorPad=function(){return(o._MirrorPad=o.asm.MirrorPad).apply(null,arguments)},o._Multiply=function(){return(o._Multiply=o.asm.Multiply).apply(null,arguments)},o._Neg=function(){return(o._Neg=o.asm.Neg).apply(null,arguments)},o._NonMaxSuppressionV3=function(){return(o._NonMaxSuppressionV3=o.asm.NonMaxSuppressionV3).apply(null,arguments)},o._NonMaxSuppressionV4=function(){return(o._NonMaxSuppressionV4=o.asm.NonMaxSuppressionV4).apply(null,arguments)},o._NonMaxSuppressionV5=function(){return(o._NonMaxSuppressionV5=o.asm.NonMaxSuppressionV5).apply(null,arguments)},o._NotEqual=function(){return(o._NotEqual=o.asm.NotEqual).apply(null,arguments)},o._OneHot=function(){return(o._OneHot=o.asm.OneHot).apply(null,arguments)},o._PadV2=function(){return(o._PadV2=o.asm.PadV2).apply(null,arguments)},o._Pow=function(){return(o._Pow=o.asm.Pow).apply(null,arguments)},o._Prelu=function(){return(o._Prelu=o.asm.Prelu).apply(null,arguments)},o._Prod=function(){return(o._Prod=o.asm.Prod).apply(null,arguments)},o._RealDiv=function(){return(o._RealDiv=o.asm.RealDiv).apply(null,arguments)},o._Relu=function(){return(o._Relu=o.asm.Relu).apply(null,arguments)},o._Relu6=function(){return(o._Relu6=o.asm.Relu6).apply(null,arguments)},o._ResizeBilinear=function(){return(o._ResizeBilinear=o.asm.ResizeBilinear).apply(null,arguments)},o._Reverse=function(){return(o._Reverse=o.asm.Reverse).apply(null,arguments)},o._RotateWithOffset=function(){return(o._RotateWithOffset=o.asm.RotateWithOffset).apply(null,arguments)},o._Round=function(){return(o._Round=o.asm.Round).apply(null,arguments)},o._Rsqrt=function(){return(o._Rsqrt=o.asm.Rsqrt).apply(null,arguments)},o._ScatterNd=function(){return(o._ScatterNd=o.asm.ScatterNd).apply(null,arguments)},o._SelectV2=function(){return(o._SelectV2=o.asm.SelectV2).apply(null,arguments)},o._Sigmoid=function(){return(o._Sigmoid=o.asm.Sigmoid).apply(null,arguments)},o._Sin=function(){return(o._Sin=o.asm.Sin).apply(null,arguments)},o._Softmax=function(){return(o._Softmax=o.asm.Softmax).apply(null,arguments)},o._SparseFillEmptyRows=function(){return(o._SparseFillEmptyRows=o.asm.SparseFillEmptyRows).apply(null,arguments)},o._SparseReshape=function(){return(o._SparseReshape=o.asm.SparseReshape).apply(null,arguments)},o._SparseSegmentReduction=function(){return(o._SparseSegmentReduction=o.asm.SparseSegmentReduction).apply(null,arguments)},o._Sqrt=function(){return(o._Sqrt=o.asm.Sqrt).apply(null,arguments)},o._Square=function(){return(o._Square=o.asm.Square).apply(null,arguments)},o._SquaredDifference=function(){return(o._SquaredDifference=o.asm.SquaredDifference).apply(null,arguments)},o._Step=function(){return(o._Step=o.asm.Step).apply(null,arguments)},o._StridedSlice=function(){return(o._StridedSlice=o.asm.StridedSlice).apply(null,arguments)},o._Sub=function(){return(o._Sub=o.asm.Sub).apply(null,arguments)},o._Sum=function(){return(o._Sum=o.asm.Sum).apply(null,arguments)},o._Tan=function(){return(o._Tan=o.asm.Tan).apply(null,arguments)},o._Tanh=function(){return(o._Tanh=o.asm.Tanh).apply(null,arguments)},o._Tile=function(){return(o._Tile=o.asm.Tile).apply(null,arguments)},o._TopK=function(){return(o._TopK=o.asm.TopK).apply(null,arguments)},o._Transform=function(){return(o._Transform=o.asm.Transform).apply(null,arguments)},o._Transpose=function(){return(o._Transpose=o.asm.Transpose).apply(null,arguments)},o.__FusedMatMul=function(){return(o.__FusedMatMul=o.asm._FusedMatMul).apply(null,arguments)},o._malloc=function(){return(o._malloc=o.asm.malloc).apply(null,arguments)},o._free=function(){return(o._free=o.asm.free).apply(null,arguments)},o.___errno_location=function(){return(o.___errno_location=o.asm.__errno_location).apply(null,arguments)},o._emscripten_main_thread_process_queued_calls=function(){return(o._emscripten_main_thread_process_queued_calls=o.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},o.stackSave=function(){return(re=o.stackSave=o.asm.stackSave).apply(null,arguments)}),oe=o.stackRestore=function(){return(oe=o.stackRestore=o.asm.stackRestore).apply(null,arguments)},se=o.stackAlloc=function(){return(se=o.stackAlloc=o.asm.stackAlloc).apply(null,arguments)};o.dynCall_iijjiiii=function(){return(o.dynCall_iijjiiii=o.asm.dynCall_iijjiiii).apply(null,arguments)},o.dynCall_jiji=function(){return(o.dynCall_jiji=o.asm.dynCall_jiji).apply(null,arguments)};function ce(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ie(e){function t(){ee||(ee=!0,o.calledRun=!0,_||(!0,K(P),a(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),M.unshift(e);var e;K(M)}()))}e=e||p,B>0||(!function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),D.unshift(e);var e;K(D)}(),B>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),t()}),1)):t()))}if(o.cwrap=function(e,t,a,n){var r=(a=a||[]).every((function(e){return"number"===e}));return"string"!==t&&r&&!n?I(e):function(){return S(e,t,a,arguments)}},V=function e(){ee||ie(),ee||(V=e)},o.run=ie,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();if(ie(),r&&(te={uncaughtException:$eKCdi.listeners("uncaughtException").filter((function(e){return!r.uncaughtException.indexOf(e)>-1})),unhandledRejection:$eKCdi.listeners("unhandledRejection").filter((function(e){return!r.unhandledRejection.indexOf(e)>-1}))}),void 0!==t)ae=t;else{if("undefined"==typeof WasmBackendModuleThreadedSimd)throw new Error("Could not find wasm module in post.js");ae=WasmBackendModuleThreadedSimd}if(te){var de=ae._dispose;ae._dispose=function(){de(),te.uncaughtException.forEach((function(e){$eKCdi.removeListener("uncaughtException",e)})),te.unhandledRejection.forEach((function(e){$eKCdi.removeListener("unhandledRejection",e)}))}}return t.ready}})();$edbcca5ee1d8caca$exports=$edbcca5ee1d8caca$var$WasmBackendModule;class $2b6045978b44b795$export$35f983a360e03cd8 extends $ac24014badd54b1e$export$543916c62202b50a{constructor(e){super(),this.wasm=e,this.dataIdNextNumber=1,this.wasm.tfjs.initWithThreadsCount($2b6045978b44b795$var$threadsCount),$2b6045978b44b795$var$actualThreadsCount=this.wasm.tfjs.getThreadsCount(),this.dataIdMap=new $ac24014badd54b1e$export$e95767ffe2e60cec(this,$2f175fd57ae81f5b$export$d3c662a6136faebb())}write(e,t,a){const n={id:this.dataIdNextNumber++};return this.move(n,e,t,a,1),n}numDataIds(){return this.dataIdMap.numDataIds()}async time(e){const t=$5d5df9ecf1c80076$exports.now();e();return{kernelMs:$5d5df9ecf1c80076$exports.now()-t}}move(e,t,a,n,r){const o=this.dataIdNextNumber++;if("string"===n){const s=t;return void this.dataIdMap.set(e,{id:o,stringBytes:s,shape:a,dtype:n,memoryOffset:null,refCount:r})}const s=$5d5df9ecf1c80076$exports.sizeFromShape(a),c=s*$5d5df9ecf1c80076$exports.bytesPerElement(n),i=this.wasm._malloc(c);this.dataIdMap.set(e,{id:o,memoryOffset:i,shape:a,dtype:n,refCount:r}),this.wasm.tfjs.registerTensor(o,s,i),null!=t&&this.wasm.HEAPU8.set(new Uint8Array(t.buffer,t.byteOffset,c),i)}async read(e){return this.readSync(e)}readSync(e,t,a){const{memoryOffset:n,dtype:r,shape:o,stringBytes:s}=this.dataIdMap.get(e);if("string"===r)return null!=t&&0!==t||!(null==a||a>=s.length)?s.slice(t,a):s;t=t||0,a=a||$5d5df9ecf1c80076$exports.sizeFromShape(o);const c=$5d5df9ecf1c80076$exports.bytesPerElement(r);return $2b6045978b44b795$var$typedArrayFromBuffer(this.wasm.HEAPU8.slice(n+t*c,n+a*c).buffer,r)}disposeData(e,t=!1){if(this.dataIdMap.has(e)){const a=this.dataIdMap.get(e);if(a.refCount--,!t&&a.refCount>0)return!1;this.wasm._free(a.memoryOffset),this.wasm.tfjs.disposeData(a.id),this.dataIdMap.delete(e)}return!0}refCount(e){if(this.dataIdMap.has(e)){return this.dataIdMap.get(e).refCount}return 0}incRef(e){const t=this.dataIdMap.get(e);null!=t&&t.refCount++}floatPrecision(){return 32}getMemoryOffset(e){return this.dataIdMap.get(e).memoryOffset}dispose(){this.wasm.tfjs.dispose(),"PThread"in this.wasm&&this.wasm.PThread.terminateAllThreads(),this.wasm=null}memory(){return{unreliable:!1}}makeOutput(e,t,a){let n;if(null==a)n=this.write(null,e,t);else{const r=this.dataIdNextNumber++;n={id:r},this.dataIdMap.set(n,{id:r,memoryOffset:a,shape:e,dtype:t,refCount:1});const o=$5d5df9ecf1c80076$exports.sizeFromShape(e);this.wasm.tfjs.registerTensor(r,o,a)}return{dataId:n,shape:e,dtype:t}}typedArrayFromHeap({shape:e,dtype:t,dataId:a}){const n=this.wasm.HEAPU8.buffer,{memoryOffset:r}=this.dataIdMap.get(a),o=$5d5df9ecf1c80076$exports.sizeFromShape(e);switch(t){case"float32":return new Float32Array(n,r,o);case"int32":return new Int32Array(n,r,o);case"bool":return new Uint8Array(n,r,o);default:throw new Error(`Unknown dtype ${t}`)}}}function $2b6045978b44b795$var$createInstantiateWasmFunc(e){return(t,a)=>($5d5df9ecf1c80076$exports.fetch(e,{credentials:"same-origin"}).then((n=>{n.ok||t.env.a(`failed to load wasm binary file at '${e}'`),n.arrayBuffer().then((e=>{WebAssembly.instantiate(e,t).then((e=>{a(e.instance,e.module)}))}))})),{})}function $2b6045978b44b795$var$getPathToWasmBinary(e,t,a){if(null!=$2b6045978b44b795$var$wasmPath)return $2b6045978b44b795$var$wasmPath;let n="tfjs-backend-wasm.wasm";return e&&t?n="tfjs-backend-wasm-threaded-simd.wasm":e&&(n="tfjs-backend-wasm-simd.wasm"),null!=$2b6045978b44b795$var$wasmFileMap&&null!=$2b6045978b44b795$var$wasmFileMap[n]?$2b6045978b44b795$var$wasmFileMap[n]:a+n}async function $2b6045978b44b795$export$2cd8252107eb640b(){const[e,t]=await Promise.all([$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getAsync("WASM_HAS_SIMD_SUPPORT"),$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getAsync("WASM_HAS_MULTITHREAD_SUPPORT")]);return new Promise(((a,n)=>{const r={locateFile:(a,n)=>{if(a.endsWith(".worker.js")){const e=$0a543f9141c50f92$export$8db778f4bac1cd46.replace(/\n/g,"\\n"),t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}return a.endsWith(".wasm")?$2b6045978b44b795$var$getPathToWasmBinary(e,t,null!=$2b6045978b44b795$var$wasmPathPrefix?$2b6045978b44b795$var$wasmPathPrefix:n):n+a}};$2b6045978b44b795$var$customFetch&&(r.instantiateWasm=$2b6045978b44b795$var$createInstantiateWasmFunc($2b6045978b44b795$var$getPathToWasmBinary(e,t,null!=$2b6045978b44b795$var$wasmPathPrefix?$2b6045978b44b795$var$wasmPathPrefix:"")));let o,s=!1;r.onAbort=()=>{if(s)return;if($2b6045978b44b795$var$initAborted)return;$2b6045978b44b795$var$initAborted=!0;n({message:"Make sure the server can serve the `.wasm` file relative to the bundled js file. For more details see https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/README.md#using-bundlers"})},t&&e&&null==$2b6045978b44b795$var$wasmPath?(r.mainScriptUrlOrBlob=new Blob(["var WasmBackendModuleThreadedSimd = "+$parcel$interopDefault($64e7f535efb89d02$exports).toString()],{type:"text/javascript"}),o=$parcel$interopDefault($64e7f535efb89d02$exports)(r)):o=$parcel$interopDefault($edbcca5ee1d8caca$exports)(r),o.then((e=>{s=!0,$2b6045978b44b795$var$initAborted=!1;e.tfjs={init:e.cwrap("init",null,[]),initWithThreadsCount:e.cwrap("init_with_threads_count",null,["number"]),getThreadsCount:e.cwrap("get_threads_count","number",[]),registerTensor:e.cwrap("register_tensor",null,["number","number","number"]),disposeData:e.cwrap("dispose_data",null,["number"]),dispose:e.cwrap("dispose",null,[])},a({wasm:e})}))}))}function $2b6045978b44b795$var$typedArrayFromBuffer(e,t){switch(t){case"float32":return new Float32Array(e);case"int32":return new Int32Array(e);case"bool":return new Uint8Array(e);default:throw new Error(`Unknown dtype ${t}`)}}const $2b6045978b44b795$var$wasmBinaryNames=["tfjs-backend-wasm.wasm","tfjs-backend-wasm-simd.wasm","tfjs-backend-wasm-threaded-simd.wasm"];let $2b6045978b44b795$var$wasmPath=null,$2b6045978b44b795$var$wasmPathPrefix=null,$2b6045978b44b795$var$wasmFileMap={},$2b6045978b44b795$var$initAborted=!1,$2b6045978b44b795$var$customFetch=!1;function $2b6045978b44b795$export$3371aa6d4a43b6cf(e,t=!1){if($2f175fd57ae81f5b$export$e46eea6a629d2da5("setWasmPath has been deprecated in favor of setWasmPaths and will be removed in a future release."),$2b6045978b44b795$var$initAborted)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPath()` before you call `tf.setBackend()` or `tf.ready()`");$2b6045978b44b795$var$wasmPath=e,$2b6045978b44b795$var$customFetch=t}function $2b6045978b44b795$export$96f76c6576699053(e,t=!1){if($2b6045978b44b795$var$initAborted)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPaths()` before you call `tf.setBackend()` or `tf.ready()`");if("string"==typeof e)$2b6045978b44b795$var$wasmPathPrefix=e;else{$2b6045978b44b795$var$wasmFileMap=e;const t=$2b6045978b44b795$var$wasmBinaryNames.filter((e=>null==$2b6045978b44b795$var$wasmFileMap[e]));if(t.length>0)throw new Error(`There were no entries found for the following binaries: ${t.join(",")}. Please either call setWasmPaths with a map providing a path for each binary, or with a string indicating the directory where all the binaries can be found.`)}$2b6045978b44b795$var$customFetch=t}function $2b6045978b44b795$export$ed26752bf42aea79(){$2b6045978b44b795$var$wasmPath=null,$2b6045978b44b795$var$wasmPathPrefix=null,$2b6045978b44b795$var$wasmFileMap={},$2b6045978b44b795$var$customFetch=!1,$2b6045978b44b795$var$initAborted=!1}let $2b6045978b44b795$var$threadsCount=-1,$2b6045978b44b795$var$actualThreadsCount=-1;function $2b6045978b44b795$export$b13f278778f0c389(e){$2b6045978b44b795$var$threadsCount=e}function $2b6045978b44b795$export$2878a7293fa21941(){if(-1===$2b6045978b44b795$var$actualThreadsCount)throw new Error("WASM backend not initialized.");return $2b6045978b44b795$var$actualThreadsCount}const $3c0228c9f0c7a1ae$var$WASM_PRIORITY=2;function $39a3a51852fd890d$export$2a73984e4f41e1c1(e){const t=new Float32Array(e);for(let a=0;a<e;a++)t[a]=Math.random();return t}$2f175fd57ae81f5b$export$1ac8c3a90eff05d("wasm",(async()=>{const{wasm:e}=await $2b6045978b44b795$export$2cd8252107eb640b();return new $2b6045978b44b795$export$35f983a360e03cd8(e)}),$3c0228c9f0c7a1ae$var$WASM_PRIORITY);const $a7e78fcc5eaa3d1b$export$796b583dd79d8524=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$64636e173424d83d,(e=>e>=0?e:Math.exp(e)-1)),$a7e78fcc5eaa3d1b$export$b990686634ee3cce={kernelName:$0eb90ddf241a18bf$export$64636e173424d83d,backendName:"cpu",kernelFunc:$a7e78fcc5eaa3d1b$export$796b583dd79d8524};function $4f039dce0db3c23b$export$23a860e40a2c6b61(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{alpha:o}=n;$a610dd74d979c6f8$export$1412c17b2531581a([r],"leakyRelu");const s=$5d5df9ecf1c80076$exports.sizeFromShape(r.shape),c=a.data.get(r.dataId).values,i=$5d5df9ecf1c80076$exports.getTypedArrayFromDType("float32",s);for(let e=0;e<c.length;e++)i[e]=c[e]<0?o*c[e]:c[e];return a.makeTensorInfo(r.shape,"float32",i)}const $4f039dce0db3c23b$export$aa04ab963fdf437f={kernelName:$0eb90ddf241a18bf$export$f0c7162bb7af1a2d,backendName:"cpu",kernelFunc:$4f039dce0db3c23b$export$23a860e40a2c6b61},$a59c1148f1e1f038$var$preluImpl=$dd3145371544799a$export$28de919591fae5d9(((e,t)=>e<0?t*e:e));function $a59c1148f1e1f038$export$5882f235222e6729(e){const{inputs:t,backend:a}=e,{x:n,alpha:r}=t;$a610dd74d979c6f8$export$1412c17b2531581a([n,r],"prelu");const o=a.data.get(n.dataId).values,s=a.data.get(r.dataId).values,[c,i]=$a59c1148f1e1f038$var$preluImpl(n.shape,r.shape,o,s,"float32");return a.makeTensorInfo(i,"float32",c)}const $a59c1148f1e1f038$export$a5c4a9b694579636={kernelName:$0eb90ddf241a18bf$export$a42f35f308fc2fa3,backendName:"cpu",kernelFunc:$a59c1148f1e1f038$export$5882f235222e6729},$7758852ec68c437b$export$16d1e4612cc0139f=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$9a6ff968bf961432,(e=>Math.max(0,e))),$7758852ec68c437b$export$731f9199bde068eb={kernelName:$0eb90ddf241a18bf$export$9a6ff968bf961432,backendName:"cpu",kernelFunc:$7758852ec68c437b$export$16d1e4612cc0139f},$0f4ffc571638d4cf$export$4a62bcb95e9c44c4=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$3be9e924f629054e,(e=>Math.min(Math.max(0,e),6))),$0f4ffc571638d4cf$export$92c30890ad649d53={kernelName:$0eb90ddf241a18bf$export$3be9e924f629054e,backendName:"cpu",kernelFunc:$0f4ffc571638d4cf$export$4a62bcb95e9c44c4};function $a7e76889ad4b52c1$export$a0f250a2ba84196(e,t,a,n,r){if("linear"===a)return $ce3553c9094c2ca5$export$f0954fd7d5368655({inputs:{x:t},backend:e});if("relu"===a)return $7758852ec68c437b$export$16d1e4612cc0139f({inputs:{x:t},backend:e});if("elu"===a)return $a7e78fcc5eaa3d1b$export$796b583dd79d8524({inputs:{x:t},backend:e});if("relu6"===a)return $0f4ffc571638d4cf$export$4a62bcb95e9c44c4({inputs:{x:t},backend:e});if("prelu"===a)return $a59c1148f1e1f038$export$5882f235222e6729({inputs:{x:t,alpha:n},backend:e});if("leakyrelu"===a)return $4f039dce0db3c23b$export$23a860e40a2c6b61({inputs:{x:t},backend:e,attrs:{alpha:r}});if("sigmoid"===a)return $76a5e0b6ff81836e$export$3b295495ca3cad7c({inputs:{x:t},backend:e});throw new Error(`Activation ${a} has not been implemented for the CPU backend.`)}function $c2bd3511618413a6$export$9eaad88cf88cee2b(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{shape:o}=n,s=$5d5df9ecf1c80076$exports.sizeFromShape(r.shape),c=$5d5df9ecf1c80076$exports.inferFromImplicitShape(o,s),i=$5d5df9ecf1c80076$exports.sizeFromShape(c);$5d5df9ecf1c80076$exports.assert(s===i,(()=>`The new shape (${c}) has ${i} elements and the old shape (${r.shape}) has ${s} elements. The new shape and old shape must have the same number of elements.`)),a.incRef(r.dataId);const d=a.data.get(r.dataId);if(null!=d.complexTensorInfos){const e=d.complexTensorInfos.real,t=d.complexTensorInfos.imag;e.shape=c,t.shape=c}return{dataId:r.dataId,shape:c,dtype:r.dtype}}const $c2bd3511618413a6$export$cfa02e698602aca2={kernelName:$0eb90ddf241a18bf$export$755ddd847e5abe03,backendName:"cpu",kernelFunc:$c2bd3511618413a6$export$9eaad88cf88cee2b};function $c01bc4665e25bb30$export$8f97894b482227f0(e){const{inputs:t,backend:a,attrs:n}=e,{a:r,b:o}=t,{transposeA:s,transposeB:c}=n;$a610dd74d979c6f8$export$1412c17b2531581a([r,o],"matMul");const i=r.shape.length,d=o.shape.length,f=s?r.shape[i-2]:r.shape[i-1],$=c?o.shape[d-1]:o.shape[d-2],u=s?r.shape[i-1]:r.shape[i-2],p=c?o.shape[d-2]:o.shape[d-1],l=r.shape.slice(0,-2),b=o.shape.slice(0,-2),h=$5d5df9ecf1c80076$exports.sizeFromShape(l),x=$5d5df9ecf1c80076$exports.sizeFromShape(b),m=$cbf310cf53e91f85$exports.assertAndGetBroadcastShape(r.shape.slice(0,-2),o.shape.slice(0,-2)).concat([u,p]);$5d5df9ecf1c80076$exports.assert(f===$,(()=>`Error in matMul: inner shapes (${f}) and (${$}) of Tensors with shapes ${r.shape} and ${o.shape} and transposeA=${s} and transposeB=${c} must match.`));const g=c?[x,p,$]:[x,$,p],v=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:r},backend:a,attrs:{shape:s?[h,f,u]:[h,u,f]}}),y=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:o},backend:a,attrs:{shape:g}}),w=s?v.shape[1]:v.shape[2],_=s?v.shape[2]:v.shape[1],I=c?y.shape[1]:y.shape[2],S=Math.max(h,x),T=a.data.get(v.dataId).values,k=a.data.get(y.dataId).values,E=$5d5df9ecf1c80076$exports.computeStrides(v.shape),A=$5d5df9ecf1c80076$exports.computeStrides(y.shape),[C,O,N]=s?[E[0],1,E[1]]:[E[0],E[1],1],[R,F,D]=c?[1,A[1],A[0]]:[A[1],1,A[0]],P=_*I,M=$05a66951e325e00b$export$ab1029bcae9ddb4a([S,_,I],v.dtype),L=M.values,B=a.blockSize;for(let e=0;e<S;e++)for(let t=0;t<_;t+=B)for(let a=0;a<I;a+=B)for(let n=0;n<w;n+=B){const r=Math.min(t+B,_),o=Math.min(a+B,I),s=Math.min(n+B,w);for(let c=t;c<r;c++)for(let t=a;t<o;t++){let a=0;for(let r=n;r<s;r++){const n=Math.min(e,h-1)*C,o=Math.min(e,x-1)*D;a+=T[n+c*O+r*N]*k[r*R+t*F+o]}L[e*P+(c*I+t)]+=a}}return a.disposeIntermediateTensorInfo(v),a.disposeIntermediateTensorInfo(y),a.makeTensorInfo(m,M.dtype,M.values)}const $c01bc4665e25bb30$export$d0dd993198185538={kernelName:$0eb90ddf241a18bf$export$9a3bf60b23f63c8,backendName:"cpu",kernelFunc:$c01bc4665e25bb30$export$8f97894b482227f0};function $181a182824f43760$export$d86ca0bbe0236889(e){const{inputs:t,backend:a,attrs:n}=e,{a:r,b:o,bias:s,preluActivationWeights:c}=t,{transposeA:i,transposeB:d,activation:f,leakyreluAlpha:$}=n;let u,p,l;const b=[];u=$c01bc4665e25bb30$export$8f97894b482227f0({inputs:{a:r,b:o},attrs:{transposeA:i,transposeB:d},backend:a}),s&&(p=$5a19aa681576e63e$export$e16d8520af44a096({inputs:{a:u,b:s},backend:a}),b.push(u),u=p),f&&(l=$a7e76889ad4b52c1$export$a0f250a2ba84196(a,u,f,c,$),b.push(u),u=l);for(const e of b)a.disposeIntermediateTensorInfo(e);return u}const $181a182824f43760$export$f70d36da1c218f84={kernelName:$0eb90ddf241a18bf$export$8d1af0f7c2a4da9e,backendName:"cpu",kernelFunc:$181a182824f43760$export$d86ca0bbe0236889},$577e7e770141a66e$export$fd6306be3fde5b04=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$3b952c9980dac550,(e=>Math.acos(e))),$577e7e770141a66e$export$255826ca70737275={kernelName:$0eb90ddf241a18bf$export$3b952c9980dac550,backendName:"cpu",kernelFunc:$577e7e770141a66e$export$fd6306be3fde5b04},$a05038fbbf083a18$export$b26caf0f29211d08=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$987da490b7c2e7dd,(e=>Math.acosh(e))),$a05038fbbf083a18$export$3f520b71a56c9e70={kernelName:$0eb90ddf241a18bf$export$987da490b7c2e7dd,backendName:"cpu",kernelFunc:$a05038fbbf083a18$export$b26caf0f29211d08};function $b283ca08a9ad8fd5$export$37b75d0026f96b8d(e){const{inputs:t,backend:a}=e,n=t;$a610dd74d979c6f8$export$1412c17b2531581a(t,"addN");const r=n.map((e=>a.data.get(e.dataId).values)),o=$05a66951e325e00b$export$ab1029bcae9ddb4a(n[0].shape,n[0].dtype),s=o.values;for(let e=0;e<n.length;e++){const t=r[e];for(let e=0;e<s.length;e++)s[e]+=t[e]}return a.makeTensorInfo(o.shape,o.dtype,o.values)}const $b283ca08a9ad8fd5$export$ff8000bc6f0313e1={kernelName:$0eb90ddf241a18bf$export$eef235ad06d3226a,backendName:"cpu",kernelFunc:$b283ca08a9ad8fd5$export$37b75d0026f96b8d};function $166e5142a792d9df$export$84bf76cd7afc7469(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{axis:o,keepDims:s}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"all");const c=$5d5df9ecf1c80076$exports.parseAxisParam(o,r.shape);let i=c;const d=$c4c4d404109848b6$exports.getAxesPermutation(i,r.shape.length);let f=r;null!=d&&(f=$61f81ad1f2b16ca7$export$9cb09a71b7d66923({inputs:{x:r},backend:a,attrs:{perm:d}}),i=$c4c4d404109848b6$exports.getInnerMostAxes(i.length,r.shape.length)),$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("all",i,f.shape.length);const[$,u]=$c4c4d404109848b6$exports.computeOutAndReduceShapes(f.shape,i),p=$5d5df9ecf1c80076$exports.sizeFromShape(u),l=$5d5df9ecf1c80076$exports.makeZerosTypedArray($5d5df9ecf1c80076$exports.sizeFromShape($),f.dtype),b=a.data.get(f.dataId).values;for(let e=0;e<l.length;++e){const t=e*p;let a=b[t];for(let e=0;e<p;++e){const n=b[t+e];a=a&&n}l[e]=a}null!=d&&a.disposeIntermediateTensorInfo(f);const h=a.makeTensorInfo($,f.dtype,l);if(s){const e=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:h},backend:a,attrs:{shape:$c4c4d404109848b6$exports.expandShapeToKeepDim($,c)}});return a.disposeIntermediateTensorInfo(h),e}return h}const $166e5142a792d9df$export$4e3f081eb1a330fa={kernelName:$0eb90ddf241a18bf$export$5dceb1ab650a1776,backendName:"cpu",kernelFunc:$166e5142a792d9df$export$84bf76cd7afc7469};function $a9fe270e5011c623$export$4154a199d7d90455(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{axis:o,keepDims:s}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"any");const c=$5d5df9ecf1c80076$exports.parseAxisParam(o,r.shape);let i=c;const d=$c4c4d404109848b6$exports.getAxesPermutation(i,r.shape.length);let f=r;null!=d&&(f=$61f81ad1f2b16ca7$export$9cb09a71b7d66923({inputs:{x:r},backend:a,attrs:{perm:d}}),i=$c4c4d404109848b6$exports.getInnerMostAxes(i.length,r.shape.length)),$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("any",i,f.shape.length);const[$,u]=$c4c4d404109848b6$exports.computeOutAndReduceShapes(f.shape,i),p=$5d5df9ecf1c80076$exports.sizeFromShape(u),l=$5d5df9ecf1c80076$exports.makeZerosTypedArray($5d5df9ecf1c80076$exports.sizeFromShape($),f.dtype),b=a.data.get(f.dataId).values;for(let e=0;e<l.length;++e){const t=e*p;let a=b[t];for(let e=0;e<p;++e){const n=b[t+e];a=a||n}l[e]=a}null!=d&&a.disposeIntermediateTensorInfo(f);const h=a.makeTensorInfo($,f.dtype,l);if(s){const e=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:h},backend:a,attrs:{shape:$c4c4d404109848b6$exports.expandShapeToKeepDim($,c)}});return a.disposeIntermediateTensorInfo(h),e}return h}const $a9fe270e5011c623$export$1a8ff634f2df3da6={kernelName:$0eb90ddf241a18bf$export$b24b633b1364b94b,backendName:"cpu",kernelFunc:$a9fe270e5011c623$export$4154a199d7d90455};function $4880367d416940bf$export$7980a683c1b852b4(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{axis:o}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"argMax");let s=$5d5df9ecf1c80076$exports.parseAxisParam(o,r.shape);const c=$c4c4d404109848b6$exports.getAxesPermutation(s,r.shape.length);let i=r;const d=[];null!=c&&(i=$61f81ad1f2b16ca7$export$9cb09a71b7d66923({inputs:{x:r},backend:a,attrs:{perm:c}}),d.push(i),s=$c4c4d404109848b6$exports.getInnerMostAxes(s.length,i.shape.length)),s=[s[0]],$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("argMax",s,i.shape.length);const[f,$]=$c4c4d404109848b6$exports.computeOutAndReduceShapes(i.shape,s),u=$5d5df9ecf1c80076$exports.sizeFromShape(f),p=$5d5df9ecf1c80076$exports.makeZerosTypedArray(u,"int32"),l=$5d5df9ecf1c80076$exports.sizeFromShape($),b=a.data.get(i.dataId).values;for(let e=0;e<p.length;++e){const t=e*l;let a=b[t],n=0;for(let e=0;e<l;++e){const r=b[t+e];r>a&&(a=r,n=e)}p[e]=n}return d.forEach((e=>a.disposeIntermediateTensorInfo(e))),a.makeTensorInfo(f,"int32",p)}const $4880367d416940bf$export$ec7419fc9ad0069e={kernelName:$0eb90ddf241a18bf$export$17612294a1503e1c,backendName:"cpu",kernelFunc:$4880367d416940bf$export$7980a683c1b852b4};function $809ec346531822f5$export$ec99a91cddfb29a2(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{axis:o}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"argMin");let s=$5d5df9ecf1c80076$exports.parseAxisParam(o,r.shape);const c=$c4c4d404109848b6$exports.getAxesPermutation(s,r.shape.length);let i=r;const d=[];null!=c&&(i=$61f81ad1f2b16ca7$export$9cb09a71b7d66923({inputs:{x:r},backend:a,attrs:{perm:c}}),d.push(i),s=$c4c4d404109848b6$exports.getInnerMostAxes(s.length,i.shape.length)),s=[s[0]],$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("argMin",s,i.shape.length);const[f,$]=$c4c4d404109848b6$exports.computeOutAndReduceShapes(i.shape,s),u=$5d5df9ecf1c80076$exports.sizeFromShape(f),p=$5d5df9ecf1c80076$exports.makeZerosTypedArray(u,"int32"),l=$5d5df9ecf1c80076$exports.sizeFromShape($),b=a.data.get(i.dataId).values;for(let e=0;e<p.length;++e){const t=e*l;let a=b[t],n=0;for(let e=0;e<l;++e){const r=b[t+e];r<a&&(a=r,n=e)}p[e]=n}return d.forEach((e=>a.disposeIntermediateTensorInfo(e))),a.makeTensorInfo(f,"int32",p)}const $809ec346531822f5$export$21836a5e5fa09eb4={kernelName:$0eb90ddf241a18bf$export$baabd09270cbbd94,backendName:"cpu",kernelFunc:$809ec346531822f5$export$ec99a91cddfb29a2},$ace98ddfa6a5378b$export$41726bdb1fc63f=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$664c8ca7e7e5c126,(e=>Math.asin(e))),$ace98ddfa6a5378b$export$de5cb0ef95dd6700={kernelName:$0eb90ddf241a18bf$export$664c8ca7e7e5c126,backendName:"cpu",kernelFunc:$ace98ddfa6a5378b$export$41726bdb1fc63f},$6980d9162d1843db$export$839d8a01b6af4fc0=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$847c88940cb7dcb5,(e=>Math.asinh(e))),$6980d9162d1843db$export$20d424616c76166={kernelName:$0eb90ddf241a18bf$export$847c88940cb7dcb5,backendName:"cpu",kernelFunc:$6980d9162d1843db$export$839d8a01b6af4fc0},$f7139c44c561e815$export$628dc4eed22b0fbd=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$bac667d46ac043ae,(e=>Math.atan(e))),$f7139c44c561e815$export$159d632e3ff13624={kernelName:$0eb90ddf241a18bf$export$bac667d46ac043ae,backendName:"cpu",kernelFunc:$f7139c44c561e815$export$628dc4eed22b0fbd},$dc14c23751addd45$export$2420f4f902e099a2=$dd3145371544799a$export$28de919591fae5d9(((e,t)=>Math.atan2(e,t))),$dc14c23751addd45$export$b8b770ee6a0d9760=$fd60d8c5c1532db1$export$29353c66e70e3e16($0eb90ddf241a18bf$export$3bf4c619ce589f4b,$dc14c23751addd45$export$2420f4f902e099a2),$dc14c23751addd45$export$c53c7ab019edb8a0={kernelName:$0eb90ddf241a18bf$export$3bf4c619ce589f4b,backendName:"cpu",kernelFunc:$dc14c23751addd45$export$b8b770ee6a0d9760},$2b04f145d8e44675$export$21ea955025ceb08b=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$98981a86fa2b1366,(e=>Math.atanh(e))),$2b04f145d8e44675$export$e9ce1ba75fc9b746={kernelName:$0eb90ddf241a18bf$export$98981a86fa2b1366,backendName:"cpu",kernelFunc:$2b04f145d8e44675$export$21ea955025ceb08b};function $e64b45bd3fd7879e$export$7a0e2789ec54f0db(e,t,a,n,r,o){const s=r.strideHeight,c=r.strideWidth,i=r.dilationHeight,d=r.dilationWidth,f=r.effectiveFilterHeight,$=r.effectiveFilterWidth,u=r.padInfo.top,p=r.padInfo.left,l="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=$05a66951e325e00b$export$ab1029bcae9ddb4a(r.outShape,a),h=b.values,x=r.outShape[1]*r.outShape[2]*r.outShape[3],m=r.outShape[2]*r.outShape[3],g=r.outShape[3];for(let t=0;t<r.batchSize;++t){const a=t*x,b=t*n[0];for(let t=0;t<r.inChannels;++t)for(let x=0;x<r.outHeight;++x){const v=x*s-u,y=Math.max(0,v),w=Math.min(r.inHeight,f+v),_=a+x*m;for(let a=0;a<r.outWidth;++a){const s=a*c-p,f=Math.max(0,s),u=Math.min(r.inWidth,$+s);let x=l,m=0,v=0;for(let a=y;a<w;a+=i){const r=b+a*n[1];for(let a=f;a<u;a+=d){const s=e[r+a*n[2]+t];"max"===o&&s>x?x=s:"avg"===o&&(m+=s,v++)}if(isNaN(x))break}h[_+a*g+t]="avg"===o?m/v:x}}}return b}function $e64b45bd3fd7879e$export$60b78444d0fe518d(e,t,a,n,r=!1,o=!1){const s=$05a66951e325e00b$export$ab1029bcae9ddb4a(n.outShape,"int32"),c=n.strideHeight,i=n.strideWidth,d=n.dilationHeight,f=n.dilationWidth,$=n.effectiveFilterHeight,u=n.effectiveFilterWidth,p=n.padInfo.top,l=n.padInfo.left,b=$05a66951e325e00b$export$ab1029bcae9ddb4a(t,a,e);for(let e=0;e<n.batchSize;++e)for(let t=0;t<n.inChannels;++t)for(let a=0;a<n.outHeight;++a){const h=a*c-p;let x=h;for(;x<0;)x+=d;const m=Math.min(n.inHeight,$+h);for(let c=0;c<n.outWidth;++c){const $=c*i-l;let p=$;for(;p<0;)p+=f;const g=Math.min(n.inWidth,u+$);let v=Number.NEGATIVE_INFINITY,y=-1;for(let a=x;a<m;a+=d){const s=a-h;for(let c=p;c<g;c+=f){const i=c-$,d=b.get(e,a,c,t);d>v&&(v=d,y=r?o?((e*n.inHeight+a)*n.inWidth+c)*n.inChannels+t:(a*n.inWidth+c)*n.inChannels+t:s*u+i)}}s.set(y,e,a,c,t)}}return s}function $e64b45bd3fd7879e$export$3712ebf21d29ff82(e,t,a,n,r,o){const s=r.strideDepth,c=r.strideHeight,i=r.strideWidth,d=r.dilationDepth,f=r.dilationHeight,$=r.dilationWidth,u=r.effectiveFilterDepth,p=r.effectiveFilterHeight,l=r.effectiveFilterWidth,b=r.padInfo.front,h=r.padInfo.top,x=r.padInfo.left,m="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,g=$05a66951e325e00b$export$ab1029bcae9ddb4a(r.outShape,a),v=g.values,y=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],w=r.outShape[2]*r.outShape[3]*r.outShape[4],_=r.outShape[3]*r.outShape[4],I=r.outShape[4];for(let t=0;t<r.batchSize;++t){const a=t*y,g=t*n[0];for(let t=0;t<r.inChannels;++t)for(let y=0;y<r.outDepth;++y){const S=y*s-b;let T=S;for(;T<0;)T+=d;const k=Math.min(r.inDepth,u+S),E=a+y*w;for(let a=0;a<r.outHeight;++a){const s=a*c-h;let u=s;for(;u<0;)u+=f;const b=Math.min(r.inHeight,p+s),y=E+a*_;for(let a=0;a<r.outWidth;++a){const s=a*i-x;let c=s;for(;c<0;)c+=$;const p=Math.min(r.inWidth,l+s),h=y+a*I;let w=m,_=0,S=0;for(let a=T;a<k;a+=d){const r=g+a*n[1];for(let a=u;a<b;a+=f){const s=r+a*n[2];for(let a=c;a<p;a+=$){const r=e[s+a*n[3]+t];if("max"===o&&r>w?w=r:"avg"===o&&(_+=r,S++),isNaN(w))break}if(isNaN(w))break}if(isNaN(w))break}v[h+t]="avg"===o?_/S:w}}}}return g}function $e64b45bd3fd7879e$export$e389a84eda2bb69e(e,t){const a=$05a66951e325e00b$export$ab1029bcae9ddb4a(t.outShape,"int32"),n=t.strideDepth,r=t.strideHeight,o=t.strideWidth,s=t.dilationDepth,c=t.dilationHeight,i=t.dilationWidth,d=t.effectiveFilterDepth,f=t.effectiveFilterHeight,$=t.effectiveFilterWidth,u=t.padInfo.front,p=t.padInfo.top,l=t.padInfo.left;for(let b=0;b<t.batchSize;++b)for(let h=0;h<t.inChannels;++h)for(let x=0;x<t.outDepth;++x){const m=x*n-u;let g=m;for(;g<0;)g+=s;const v=Math.min(t.inDepth,d+m);for(let n=0;n<t.outHeight;++n){const d=n*r-p;let u=d;for(;u<0;)u+=c;const y=Math.min(t.inHeight,f+d);for(let r=0;r<t.outWidth;++r){const p=r*o-l;let w=p;for(;w<0;)w+=i;const _=Math.min(t.inWidth,$+p);let I=Number.NEGATIVE_INFINITY,S=-1;for(let t=g;t<v;t+=s){const a=t-m;for(let n=u;n<y;n+=c){const r=n-d;for(let o=w;o<_;o+=i){const s=o-p,c=e.get(b,t,n,o,h);c>=I&&(I=c,S=a*f*$+r*f+s)}}}a.set(S,b,x,n,r,h)}}}return a}function $184b7afec31d2552$export$d5c65a2abd3d97dc(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t;$a610dd74d979c6f8$export$1412c17b2531581a(r,"avgPool");const{filterSize:o,strides:s,pad:c,dimRoundingMode:i}=n;$5d5df9ecf1c80076$exports.assert($c4c4d404109848b6$exports.eitherStridesOrDilationsAreOne(s,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`));const d=$c4c4d404109848b6$exports.computePool2DInfo(r.shape,o,s,1,c,i);let f;if(1===d.filterWidth&&1===d.filterHeight&&$5d5df9ecf1c80076$exports.arraysEqual(d.inShape,d.outShape))f=$ce3553c9094c2ca5$export$f0954fd7d5368655({inputs:{x:r},backend:a});else{const e=a.data.get(r.dataId).values,t=$5d5df9ecf1c80076$exports.computeStrides(r.shape),n=$e64b45bd3fd7879e$export$7a0e2789ec54f0db(e,r.shape,r.dtype,t,d,"avg");f=a.makeTensorInfo(d.outShape,r.dtype,n.values)}return f}const $184b7afec31d2552$export$6c901824a23e6150={kernelName:$0eb90ddf241a18bf$export$37f2cc7be1add88c,backendName:"cpu",kernelFunc:$184b7afec31d2552$export$d5c65a2abd3d97dc};function $06e29aa04f138866$export$8e92f7d23b27f144(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{filterSize:o,strides:s,pad:c,dimRoundingMode:i,dataFormat:d}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"avgPool3d");const f=$c4c4d404109848b6$exports.computePool3DInfo(r.shape,o,s,1,c,i,d),$=$e64b45bd3fd7879e$export$3712ebf21d29ff82(a.data.get(r.dataId).values,r.shape,r.dtype,$5d5df9ecf1c80076$exports.computeStrides(r.shape),f,"avg");return a.makeTensorInfo($.shape,"float32",$.values)}const $06e29aa04f138866$export$5a9c81d240244392={kernelName:$0eb90ddf241a18bf$export$390ecb697af103f6,backendName:"cpu",kernelFunc:$06e29aa04f138866$export$8e92f7d23b27f144};function $a70665b6fb7fcdc3$export$798cb4034e996ff4(e){const{inputs:t,backend:a,attrs:n}=e,{dy:r,input:o}=t,{filterSize:s,strides:c,pad:i,dimRoundingMode:d}=n;$a610dd74d979c6f8$export$1412c17b2531581a([r,o],"avgPool3DGrad");const f=$c4c4d404109848b6$exports.computePool3DInfo(o.shape,s,c,1,i,d),$=f.strideDepth,u=f.strideHeight,p=f.strideWidth,l=f.filterDepth,b=f.filterHeight,h=f.filterWidth,x=f.dilationDepth,m=f.dilationHeight,g=f.dilationWidth,v=f.effectiveFilterDepth,y=f.effectiveFilterHeight,w=f.effectiveFilterWidth,_=v-1-f.padInfo.front,I=w-1-f.padInfo.left,S=y-1-f.padInfo.top,T=$05a66951e325e00b$export$ab1029bcae9ddb4a(o.shape,"float32"),k=1/(l*b*h),E=a.bufferSync(r);for(let e=0;e<f.batchSize;++e)for(let t=0;t<f.inChannels;++t)for(let a=0;a<f.inDepth;++a)for(let n=0;n<f.inHeight;++n)for(let r=0;r<f.inWidth;++r){const o=a-_,s=n-S,c=r-I;let i=0;for(let a=0;a<v;a+=x){const n=(o+a)/$;if(!(n<0||n>=f.outDepth||Math.floor(n)!==n))for(let a=0;a<y;a+=m){const r=(s+a)/u;if(!(r<0||r>=f.outHeight||Math.floor(r)!==r))for(let a=0;a<w;a+=g){const o=(c+a)/p;if(o<0||o>=f.outWidth||Math.floor(o)!==o)continue;i+=E.get(e,n,r,o,t)}}}T.set(i*k,e,a,n,r,t)}return a.makeTensorInfo(T.shape,T.dtype,T.values)}const $a70665b6fb7fcdc3$export$1eeb8780807d0508={kernelName:$0eb90ddf241a18bf$export$7163112adf28c062,backendName:"cpu",kernelFunc:$a70665b6fb7fcdc3$export$798cb4034e996ff4};function $8741716c530ad6c0$export$2f098171d1c79aea(e){const{inputs:t,backend:a,attrs:n}=e,{dy:r,input:o}=t,s=o;$a610dd74d979c6f8$export$1412c17b2531581a([r,o],"avgPoolGrad");const{filterSize:c,strides:i,pad:d}=n,f=$c4c4d404109848b6$exports.computePool2DInfo(s.shape,c,i,1,d),$=f.strideHeight,u=f.strideWidth,p=f.filterHeight,l=f.filterWidth,b=f.dilationHeight,h=f.dilationWidth,x=f.effectiveFilterHeight,m=f.effectiveFilterWidth,g=m-1-f.padInfo.left,v=x-1-f.padInfo.top,y=$05a66951e325e00b$export$ab1029bcae9ddb4a(s.shape,"float32"),w=1/(p*l),_=a.data.get(r.dataId).values,I=$05a66951e325e00b$export$ab1029bcae9ddb4a(r.shape,"float32",_);for(let e=0;e<f.batchSize;++e)for(let t=0;t<f.inChannels;++t)for(let a=0;a<f.inHeight;++a)for(let n=0;n<f.inWidth;++n){const r=a-v,o=n-g;let s=0;for(let a=0;a<x;a+=b){const n=(r+a)/$;if(!(n<0||n>=f.outHeight||Math.floor(n)!==n))for(let a=0;a<m;a+=h){const r=(o+a)/u;if(r<0||r>=f.outWidth||Math.floor(r)!==r)continue;s+=I.get(e,n,r,t)}}y.set(s*w,e,a,n,t)}return a.makeTensorInfo(y.shape,y.dtype,y.values)}const $8741716c530ad6c0$export$ac3f8709351ab225={kernelName:$0eb90ddf241a18bf$export$9873fd6046cd6951,backendName:"cpu",kernelFunc:$8741716c530ad6c0$export$2f098171d1c79aea};function $ecab65cae2bf29aa$export$8ea8088e6d0cdd02(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,scale:o,offset:s,mean:c,variance:i}=t;$5d5df9ecf1c80076$exports.assert(c.shape.length===i.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),$5d5df9ecf1c80076$exports.assert(null==s||c.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),$5d5df9ecf1c80076$exports.assert(null==o||c.shape.length===o.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks.")),$a610dd74d979c6f8$export$1412c17b2531581a([r,c,i,o,s],"batchNorm");let{varianceEpsilon:d}=n;null==d&&(d=.001);const f=a.data.get(r.dataId).values,$=a.data.get(c.dataId).values,u=a.data.get(i.dataId).values,p=o?a.data.get(o.dataId).values:new Float32Array([1]),l=s?a.data.get(s.dataId).values:new Float32Array([0]),b=new Float32Array(f.length),h=l.length,x=p.length,m=u.length,g=$.length;let v=0,y=0,w=0,_=0;for(let e=0;e<f.length;++e)b[e]=l[v++]+(f[e]-$[y++])*p[w++]/Math.sqrt(u[_++]+d),v>=h&&(v=0),y>=g&&(y=0),w>=x&&(w=0),_>=m&&(_=0);return a.makeTensorInfo(r.shape,r.dtype,b)}const $ecab65cae2bf29aa$export$df2dc5c7a755e418={kernelName:$0eb90ddf241a18bf$export$3821a0416660aaa2,backendName:"cpu",kernelFunc:$ecab65cae2bf29aa$export$8ea8088e6d0cdd02};function $040e8046e6cd1987$export$ea37d960c1808536(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{blockShape:o,crops:s}=n;$a610dd74d979c6f8$export$1412c17b2531581a([r],"batchToSpaceND");const c=o.reduce(((e,t)=>e*t)),i=$c4c4d404109848b6$exports.getReshaped(r.shape,o,c),d=$c4c4d404109848b6$exports.getPermuted(i.length,o.length),f=$c4c4d404109848b6$exports.getReshapedPermuted(r.shape,o,c),$=$c4c4d404109848b6$exports.getSliceBeginCoords(s,o.length),u=$c4c4d404109848b6$exports.getSliceSize(f,s,o.length),p=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:r},backend:a,attrs:{shape:i}}),l=$61f81ad1f2b16ca7$export$9cb09a71b7d66923({inputs:{x:p},backend:a,attrs:{perm:d}}),b=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:l},backend:a,attrs:{shape:f}}),h=$b3c67133f4f177b8$export$58adb3bec8346d0f({inputs:{x:b},backend:a,attrs:{begin:$,size:u}});return a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(l),a.disposeIntermediateTensorInfo(b),h}const $040e8046e6cd1987$export$44e08e19f97e5513={kernelName:$0eb90ddf241a18bf$export$e2743f47f61cca1f,backendName:"cpu",kernelFunc:$040e8046e6cd1987$export$ea37d960c1808536};function $0af382d2e2e5acf8$export$7e474bab088ed182(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,weights:o}=t,{size:s}=n,c=$9f76ddbf9ddceeac$export$8e4da6ec633bf0a6(a.data.get(r.dataId).values,a.data.get(o.dataId).values,o.dtype,o.shape,s);return a.makeTensorInfo([s],o.dtype,c)}const $0af382d2e2e5acf8$export$af9f0093738840fb={kernelName:$0eb90ddf241a18bf$export$45dfbbff595c32aa,backendName:"cpu",kernelFunc:$0af382d2e2e5acf8$export$7e474bab088ed182};function $cc65f436833a77a0$export$d226d344aedce941(e){const{inputs:t,backend:a}=e,{s0:n,s1:r}=t,o=a.data.get(n.dataId).values,s=a.data.get(r.dataId).values,c=$c4c4d404109848b6$exports.assertAndGetBroadcastShape(Array.from(o),Array.from(s));return a.makeTensorInfo([c.length],"int32",Int32Array.from(c))}const $cc65f436833a77a0$export$8f7b2ec0c6f08fb2={kernelName:$0eb90ddf241a18bf$export$32877b1d6d497805,backendName:"cpu",kernelFunc:$cc65f436833a77a0$export$d226d344aedce941},$8e03d4b04a2bdbb3$export$fa97baf70ad024c0=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$611c0e357ac37f7d,((e,t)=>{const a=t;return e>a.clipValueMax?a.clipValueMax:e<a.clipValueMin?a.clipValueMin:e})),$8e03d4b04a2bdbb3$export$f7ee8f07ce0ff4e1={kernelName:$0eb90ddf241a18bf$export$611c0e357ac37f7d,backendName:"cpu",kernelFunc:$8e03d4b04a2bdbb3$export$fa97baf70ad024c0},$baef940d47edcb2f$export$2837bc62566f8808=e=>{const{x:t}=e.inputs,a=e.backend,n=new Float32Array($5d5df9ecf1c80076$exports.sizeFromShape(t.shape)),r=a.data.get(t.dataId),o=r.complexTensorInfos.real,s=r.complexTensorInfos.imag,c=a.data.get(o.dataId).values,i=a.data.get(s.dataId).values;for(let e=0;e<c.length;e++){const t=c[e],a=i[e];n[e]=Math.hypot(t,a)}return a.makeOutput(n,t.shape,"float32")},$baef940d47edcb2f$export$a4817d2978acc054={kernelName:$0eb90ddf241a18bf$export$32902e58f1b48f4b,backendName:"cpu",kernelFunc:$baef940d47edcb2f$export$2837bc62566f8808};function $41fd66abad0c6d52$export$d78fab5778ab392b(e){const{inputs:t,backend:a}=e,{input:n}=t,r=a.data.get(n.dataId).complexTensorInfos.imag,o=a.data.get(r.dataId).values;return a.makeTensorInfo(r.shape,r.dtype,o)}const $41fd66abad0c6d52$export$ddfc128c2801add7={kernelName:$0eb90ddf241a18bf$export$303b4473993a24f,backendName:"cpu",kernelFunc:$41fd66abad0c6d52$export$d78fab5778ab392b};function $800bf73cb2b897c2$export$ee1b3e54f0441b22(e){const{inputs:t,backend:a,attrs:n}=e,{axis:r}=n,o=$5d5df9ecf1c80076$exports.parseAxisParam(r,t[0].shape)[0];let s=$c4c4d404109848b6$exports.computeOutShape(t.map((e=>e.shape)),o);if(0===$5d5df9ecf1c80076$exports.sizeFromShape(s))return a.makeTensorInfo(s,t[0].dtype,[]);const c=t.filter((e=>$5d5df9ecf1c80076$exports.sizeFromShape(e.shape)>0));if(1===c.length)return $ce3553c9094c2ca5$export$f0954fd7d5368655({inputs:{x:c[0]},backend:a});const i=c.map((e=>e.shape));if($c4c4d404109848b6$exports.assertParamsConsistent(i,o),"complex64"===c[0].dtype){const e=c.map((e=>$e450c9206864f81f$export$9fc57fb453bdbd67({inputs:{input:e},backend:a}))),t=c.map((e=>$41fd66abad0c6d52$export$d78fab5778ab392b({inputs:{input:e},backend:a}))),n=$800bf73cb2b897c2$export$ee1b3e54f0441b22({inputs:e,backend:a,attrs:{axis:o}}),r=$800bf73cb2b897c2$export$ee1b3e54f0441b22({inputs:t,backend:a,attrs:{axis:o}}),s=$5a06c686963b389a$export$83a0e34f1302825b({inputs:{real:n,imag:r},backend:a});return e.forEach((e=>a.disposeIntermediateTensorInfo(e))),t.forEach((e=>a.disposeIntermediateTensorInfo(e))),a.disposeIntermediateTensorInfo(n),a.disposeIntermediateTensorInfo(r),s}const d=c.map((e=>{const t=$5d5df9ecf1c80076$exports.sizeFromShape(e.shape.slice(o));return $c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:e},backend:a,attrs:{shape:[-1,t]}})})),f=d.map((e=>({vals:a.data.get(e.dataId).values,shape:e.shape})));s=$c4c4d404109848b6$exports.computeOutShape(d.map((e=>e.shape)),1);const $=1===d[0].shape[0],u=$15c8f1254ef4b6c0$export$777da59f594f497d(f,s,t[0].dtype,$),p=$c4c4d404109848b6$exports.computeOutShape(c.map((e=>e.shape)),o),l=a.makeTensorInfo(p,t[0].dtype,u);return d.forEach((e=>a.disposeIntermediateTensorInfo(e))),l}const $800bf73cb2b897c2$export$c8cf96dae25282e5={kernelName:$0eb90ddf241a18bf$export$936bbfc007425eea,backendName:"cpu",kernelFunc:$800bf73cb2b897c2$export$ee1b3e54f0441b22};function $6238e038626ee118$export$5a2ce5b05041d9e4(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,filter:o}=t,{strides:s,pad:c,dataFormat:i,dilations:d,dimRoundingMode:f}=n;$a610dd74d979c6f8$export$1412c17b2531581a([r,o],"conv2d");const $=$c4c4d404109848b6$exports.convertConv2DDataFormat(i),u=$c4c4d404109848b6$exports.computeConv2DInfo(r.shape,o.shape,s,d,c,f,!1,$),p=u.filterHeight,l=u.filterWidth,b=u.dilationHeight,h=u.dilationWidth,x=u.padInfo.left,m=u.padInfo.top,g="channelsLast"===u.dataFormat,v=new $eaf1009c48c149de$export$350df26cd52e08e1(u.outShape,r.dtype),y=$5d5df9ecf1c80076$exports.computeStrides(r.shape),w=$5d5df9ecf1c80076$exports.computeStrides(o.shape),_=y[0],I=g?y[1]:y[2],S=g?y[2]:1,T=g?1:y[1],k=v.strides[0],E=g?v.strides[1]:v.strides[2],A=g?v.strides[2]:1,C=g?1:v.strides[1],O=a.data.get(r.dataId).values,N=a.data.get(o.dataId).values,R=v.values;for(let e=0;e<u.batchSize;++e){const t=e*_,a=e*k;for(let e=0;e<u.outHeight;++e){const n=a+e*E,r=e*u.strideHeight-m;for(let e=0;e<p;++e){const a=r+e*b;if(a<0||a>=u.inHeight)continue;const o=e*w[0],s=t+a*I;for(let e=0;e<u.outWidth;++e){const t=n+e*A,a=e*u.strideWidth-x;for(let e=0;e<l;++e){const n=a+e*h;if(n<0||n>=u.inWidth)continue;const r=s+n*S;let c=o+e*w[1];for(let e=0;e<u.inChannels;++e){const a=O[r+e*T];for(let e=0;e<u.outChannels;++e)R[t+e*C]+=a*N[c+e];c+=u.outChannels}}}}}}return a.makeTensorInfo(v.shape,v.dtype,R)}const $6238e038626ee118$export$4a39bf13b4378042={kernelName:$0eb90ddf241a18bf$export$57742e605d475795,backendName:"cpu",kernelFunc:$6238e038626ee118$export$5a2ce5b05041d9e4};function $163089dd20f52836$export$652a30c9379f3de7(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,dy:o}=t,{strides:s,pad:c,dataFormat:i,dimRoundingMode:d,filterShape:f}=n;$a610dd74d979c6f8$export$1412c17b2531581a([r,o],"conv2dBackpropFilter");const $=$c4c4d404109848b6$exports.convertConv2DDataFormat(i),u=$c4c4d404109848b6$exports.computeConv2DInfo(r.shape,f,s,1,c,d,!1,$),{strideHeight:p,strideWidth:l,filterHeight:b,filterWidth:h}=u,x="channelsLast"===u.dataFormat,m=new $eaf1009c48c149de$export$350df26cd52e08e1(u.filterShape,"float32"),g=u.padInfo.left,v=u.padInfo.top,y=a.data.get(r.dataId).values,w=a.data.get(o.dataId).values,_=new $eaf1009c48c149de$export$350df26cd52e08e1(r.shape,r.dtype,y),I=new $eaf1009c48c149de$export$350df26cd52e08e1(o.shape,o.dtype,w);for(let e=0;e<b;++e){const t=Math.max(0,Math.ceil((v-e)/p)),a=Math.min(u.outHeight,(u.inHeight+v-e)/p);for(let n=0;n<h;++n){const r=Math.max(0,Math.ceil((g-n)/l)),o=Math.min(u.outWidth,(u.inWidth+g-n)/l);for(let s=0;s<u.inChannels;++s)for(let c=0;c<u.outChannels;++c){let i=0;for(let d=0;d<u.batchSize;++d)for(let f=t;f<a;++f){const t=e+f*p-v;for(let e=r;e<o;++e){const a=n+e*l-g;i+=x?_.get(d,t,a,s)*I.get(d,f,e,c):_.get(d,s,t,a)*I.get(d,c,f,e)}}m.set(i,e,n,s,c)}}}return a.makeTensorInfo(m.shape,m.dtype,m.values)}const $163089dd20f52836$export$7a95f55d2d2e7d24={kernelName:$0eb90ddf241a18bf$export$32a8943c0f1ca5a7,backendName:"cpu",kernelFunc:$163089dd20f52836$export$652a30c9379f3de7};function $33b1acdb15087c69$export$633310eed0c26e72(e){const{inputs:t,backend:a,attrs:n}=e,{dy:r,filter:o}=t,{inputShape:s,strides:c,pad:i,dataFormat:d,dimRoundingMode:f}=n;$a610dd74d979c6f8$export$1412c17b2531581a([r,o],"conv2dBackpropInput");const $=$5d5df9ecf1c80076$exports.computeStrides(o.shape),u=$5d5df9ecf1c80076$exports.computeStrides(r.shape);let p=$c4c4d404109848b6$exports.convertConv2DDataFormat(d);const l=$c4c4d404109848b6$exports.computeConv2DInfo(s,o.shape,c,1,i,f,!1,p),b=new $eaf1009c48c149de$export$350df26cd52e08e1(l.inShape,"float32"),h=b.values,x=a.data.get(r.dataId).values,m=a.data.get(o.dataId).values,[g,v,y]=$,{batchSize:w,filterHeight:_,filterWidth:I,inChannels:S,inHeight:T,inWidth:k,outChannels:E,outHeight:A,outWidth:C,strideHeight:O,strideWidth:N}=l;p=l.dataFormat;const R=_-1-l.padInfo.top,F=I-1-l.padInfo.left,D="channelsLast"===p,P=b.strides[0],M=D?b.strides[1]:b.strides[2],L=D?b.strides[2]:1,B=D?1:b.strides[1],U=u[0],V=D?u[1]:u[2],W=D?u[2]:1,z=D?1:u[1];for(let e=0;e<w;++e)for(let t=0;t<S;++t)for(let a=0;a<T;++a){const n=a-R,r=Math.max(0,Math.ceil(n/O)),o=Math.min(A,(_+n)/O);for(let s=0;s<k;++s){const c=s-F,i=Math.max(0,Math.ceil(c/N)),d=Math.min(C,(I+c)/N);let f=0;for(let a=r;a<o;++a){const r=a*O-n;for(let n=i;n<d;++n){const o=U*e+V*a+W*n,s=g*(_-1-r)+v*(I-1-(n*N-c))+y*t;for(let e=0;e<E;++e){f+=x[o+z*e]*m[s+e]}}}h[P*e+M*a+L*s+B*t]=f}}return a.makeTensorInfo(b.shape,b.dtype,b.values)}const $33b1acdb15087c69$export$19bbc19fff1ed26f={kernelName:$0eb90ddf241a18bf$export$e26961e8ed0eb404,backendName:"cpu",kernelFunc:$33b1acdb15087c69$export$633310eed0c26e72};function $5a208fd51414553b$export$1929932f31d07956(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,filter:o}=t,{strides:s,pad:c,dilations:i}=n;$a610dd74d979c6f8$export$1412c17b2531581a([r,o],"conv3d");const d=$c4c4d404109848b6$exports.computeConv3DInfo(r.shape,o.shape,s,i,c),{filterDepth:f,filterHeight:$,filterWidth:u,dilationDepth:p,dilationHeight:l,dilationWidth:b,padInfo:h}=d,x=h.front,m=h.left,g=h.top,v=new $eaf1009c48c149de$export$350df26cd52e08e1(d.outShape,r.dtype),y=a.data.get(r.dataId).values,w=a.data.get(o.dataId).values,_=v.values,I=$5d5df9ecf1c80076$exports.computeStrides(r.shape),S=$5d5df9ecf1c80076$exports.computeStrides(o.shape);for(let e=0;e<d.batchSize;++e){const t=e*I[0],a=e*v.strides[0];for(let e=0;e<d.outDepth;++e){const n=a+e*v.strides[1],r=e*d.strideDepth-x;for(let e=0;e<f;++e){const a=r+e*p;if(a<0||a>=d.inDepth)continue;const o=e*S[0],s=t+a*I[1];for(let e=0;e<d.outHeight;++e){const t=n+e*v.strides[2],a=e*d.strideHeight-g;for(let e=0;e<$;++e){const n=a+e*l;if(n<0||n>=d.inHeight)continue;const r=o+e*S[1],c=s+n*I[2];for(let e=0;e<d.outWidth;++e){const a=t+e*d.outChannels,n=e*d.strideWidth-m;for(let e=0;e<u;++e){const t=n+e*b;if(t<0||t>=d.inWidth)continue;const o=r+e*S[2],s=c+t*d.inChannels;let i=o;for(let e=0;e<d.inChannels;++e){const t=y[s+e];for(let e=0;e<d.outChannels;++e)_[a+e]+=t*w[i+e];i+=d.outChannels}}}}}}}}return a.makeTensorInfo(v.shape,v.dtype,v.values)}const $5a208fd51414553b$export$1fe590fda0829040={kernelName:$0eb90ddf241a18bf$export$9d3874201dd21933,backendName:"cpu",kernelFunc:$5a208fd51414553b$export$1929932f31d07956};function $b6155579763040f4$export$b57760dc3101cea7(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,dy:o}=t,{strides:s,pad:c,filterShape:i}=n;$a610dd74d979c6f8$export$1412c17b2531581a([r,o],"conv3dBackpropFilterV2");const d=$5d5df9ecf1c80076$exports.computeStrides(r.shape),f=$5d5df9ecf1c80076$exports.computeStrides(o.shape),$=$c4c4d404109848b6$exports.computeConv3DInfo(r.shape,i,s,1,c),u=$.strideDepth,p=$.strideHeight,l=$.strideWidth,b=$.filterDepth,h=$.filterHeight,x=$.filterWidth,m=new $eaf1009c48c149de$export$350df26cd52e08e1($.filterShape,"float32"),g=m.values,[v,y,w,_]=m.strides,I=a.data.get(o.dataId).values,[S,T,k,E]=f,A=a.data.get(r.dataId).values,[C,O,N,R]=d,F=$.padInfo.front,D=$.padInfo.left,P=$.padInfo.top;for(let e=0;e<b;++e){const t=Math.max(0,Math.ceil((F-e)/u)),a=Math.min($.outDepth,($.inDepth+F-e)/u),n=e*v;for(let r=0;r<h;++r){const o=Math.max(0,Math.ceil((P-r)/p)),s=Math.min($.outHeight,($.inHeight+P-r)/p),c=r*y+n;for(let n=0;n<x;++n){const i=Math.max(0,Math.ceil((D-n)/l)),d=Math.min($.outWidth,($.inWidth+D-n)/l),f=n*w+c;for(let c=0;c<$.inChannels;++c){const b=c*_+f;for(let f=0;f<$.outChannels;++f){let h=0;for(let b=0;b<$.batchSize;++b){const $=b*C,x=b*S;for(let b=t;b<a;++b){const t=(e+b*u-F)*O+$,a=b*T+x;for(let e=o;e<s;++e){const o=(r+e*p-P)*N+t,s=e*k+a;for(let e=i;e<d;++e){const t=e*E+s;h+=A[(n+e*l-D)*R+o+c]*I[t+f]}}}}g[b+f]=h}}}}}return a.makeTensorInfo(m.shape,m.dtype,m.values)}const $b6155579763040f4$export$6dce9169640850fa={kernelName:$0eb90ddf241a18bf$export$dd2885efe6043eee,backendName:"cpu",kernelFunc:$b6155579763040f4$export$b57760dc3101cea7};function $5f39cecd81fcac5f$export$ab31b884dc9f0971(e){const{inputs:t,backend:a,attrs:n}=e,{dy:r,filter:o}=t,{pad:s,strides:c,inputShape:i}=n;$a610dd74d979c6f8$export$1412c17b2531581a([r],"conv3dBackpropInputV2");const d=$5d5df9ecf1c80076$exports.computeStrides(r.shape),f=$5d5df9ecf1c80076$exports.computeStrides(o.shape),$=$c4c4d404109848b6$exports.computeConv3DInfo(i,o.shape,c,1,s),u=new $eaf1009c48c149de$export$350df26cd52e08e1($.inShape,"float32"),p=u.values,[l,b,h,x]=u.strides,m=a.data.get(r.dataId).values,[g,v,y,w]=d,_=a.data.get(o.dataId).values,[I,S,T,k]=f,{batchSize:E,filterDepth:A,filterHeight:C,filterWidth:O,inChannels:N,inDepth:R,inHeight:F,inWidth:D,outChannels:P,outDepth:M,outHeight:L,outWidth:B,strideDepth:U,strideHeight:V,strideWidth:W}=$,z=A-1-$.padInfo.front,G=C-1-$.padInfo.top,j=O-1-$.padInfo.left;for(let e=0;e<E;++e)for(let t=0;t<N;++t)for(let a=0;a<R;++a){const n=a-z,r=Math.max(0,Math.ceil(n/U)),o=Math.min(M,(A+n)/U);for(let s=0;s<F;++s){const c=s-G,i=Math.max(0,Math.ceil(c/V)),d=Math.min(L,(C+c)/V);for(let f=0;f<D;++f){const $=f-j,u=Math.max(0,Math.ceil($/W)),E=Math.min(B,(O+$)/W);let N=0;for(let a=r;a<o;++a){const r=a*U-n;for(let n=i;n<d;++n){const o=n*V-c;for(let s=u;s<E;++s){const c=g*e+v*a+y*n+w*s,i=I*(A-1-r)+S*(C-1-o)+T*(O-1-(s*W-$))+k*t;for(let e=0;e<P;++e){N+=m[c+e]*_[i+e]}}}}p[l*e+b*a+h*s+x*f+t]=N}}}return a.makeTensorInfo(u.shape,u.dtype,u.values)}const $5f39cecd81fcac5f$export$40ece1caaaf084b2={kernelName:$0eb90ddf241a18bf$export$a54f552d6d7d521f,backendName:"cpu",kernelFunc:$5f39cecd81fcac5f$export$ab31b884dc9f0971},$a92cfab765a5f0cb$export$50d414a77b60d802=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$ddfd0a983d257666,(e=>Math.cos(e))),$a92cfab765a5f0cb$export$ff099a1da5235a7e={kernelName:$0eb90ddf241a18bf$export$ddfd0a983d257666,backendName:"cpu",kernelFunc:$a92cfab765a5f0cb$export$50d414a77b60d802},$ce642bad17d62207$export$2e2fd1ad24e4d350=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$5e311a1c57b0d27c,(e=>Math.cosh(e))),$ce642bad17d62207$export$c5824052b09ba0ed={kernelName:$0eb90ddf241a18bf$export$5e311a1c57b0d27c,backendName:"cpu",kernelFunc:$ce642bad17d62207$export$2e2fd1ad24e4d350};function $3b5c9022ade8b8f4$export$6f0f0090e1f6cd3c(e){const{inputs:t,backend:a,attrs:n}=e,{image:r,boxes:o,boxInd:s}=t,{cropSize:c,method:i,extrapolationValue:d}=n,[f,$,u,p]=r.shape,l=o.shape[0],[b,h]=c,x=$05a66951e325e00b$export$ab1029bcae9ddb4a([l,b,h,p],"float32"),m=a.data.get(o.dataId).values,g=a.data.get(s.dataId).values,v=a.data.get(r.dataId).values,y=$5d5df9ecf1c80076$exports.computeStrides(r.shape),w=$5d5df9ecf1c80076$exports.computeStrides(x.shape);for(let e=0;e<l;e++){const t=4*e,a=m[t],n=m[t+1],r=m[t+2],o=m[t+3],s=g[e];if(s>=f)continue;const c=b>1?(r-a)*($-1)/(b-1):0,l=h>1?(o-n)*(u-1)/(h-1):0;for(let t=0;t<b;t++){const f=b>1?a*($-1)+t*c:.5*(a+r)*($-1);if(f<0||f>$-1)for(let a=0;a<h;a++)for(let n=0;n<p;n++){const r=n+a*w[2]+t*w[1]+e*w[0];x.values[r]=d}else if("bilinear"===i){const a=Math.floor(f),r=Math.ceil(f),c=f-a;for(let i=0;i<h;i++){const f=h>1?n*(u-1)+i*l:.5*(n+o)*(u-1);if(f<0||f>u-1){for(let a=0;a<p;a++){const n=a+i*w[2]+t*w[1]+e*w[0];x.values[n]=d}continue}const $=Math.floor(f),b=Math.ceil(f),m=f-$;for(let n=0;n<p;n++){let o=n+$*y[2]+a*y[1]+s*y[0];const d=v[o];o=n+b*y[2]+a*y[1]+s*y[0];const f=v[o];o=n+$*y[2]+r*y[1]+s*y[0];const u=v[o];o=n+b*y[2]+r*y[1]+s*y[0];const p=d+(f-d)*m,l=u+(v[o]-u)*m;o=n+i*w[2]+t*w[1]+e*w[0],x.values[o]=p+(l-p)*c}}}else for(let a=0;a<h;++a){const r=h>1?n*(u-1)+a*l:.5*(n+o)*(u-1);if(r<0||r>u-1){for(let n=0;n<p;n++){const r=n+a*w[2]+t*w[1]+e*w[0];x.values[r]=d}continue}const c=Math.round(r),i=Math.round(f);for(let n=0;n<p;n++){const r=n+c*y[2]+i*y[1]+s*y[0],o=n+a*w[2]+t*w[1]+e*w[0];x.values[o]=v[r]}}}}return a.makeTensorInfo(x.shape,x.dtype,x.values)}const $3b5c9022ade8b8f4$export$f7086edcf0050c7f={kernelName:$0eb90ddf241a18bf$export$50bc9557793c2e04,backendName:"cpu",kernelFunc:$3b5c9022ade8b8f4$export$6f0f0090e1f6cd3c};function $52efa7d55383cb7c$export$dc7513e907e94b8d(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{axis:o,exclusive:s,reverse:c}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"cumprod");const i=$c4c4d404109848b6$exports.getAxesPermutation([o],r.shape.length);let d=r;null!=i&&(d=$61f81ad1f2b16ca7$export$9cb09a71b7d66923({inputs:{x:r},backend:a,attrs:{perm:i}}));const f=$c4c4d404109848b6$exports.getInnerMostAxes(1,r.shape.length)[0];if(f!==d.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${d.shape.length-1} but got axis=${f}`);const $=$063ffdf621a4b072$export$7bcca02d1a156bdf(d.dtype,"int32"),u=$5d5df9ecf1c80076$exports.makeOnesTypedArray($5d5df9ecf1c80076$exports.sizeFromShape(d.shape),$),p=a.data.get(d.dataId).values,l=d.shape[d.shape.length-1],b=c?(e,t)=>e+l-t-1:(e,t)=>e+t;for(let e=0;e<p.length;e+=l)for(let t=0;t<l;t++){const a=b(e,t);if(0===t)u[a]=s?1:p[a];else{const n=b(e,t-1);u[a]=s?p[n]*u[n]:p[a]*u[n]}}const h=a.makeTensorInfo(d.shape,$,u);if(null!=i){const e=$61f81ad1f2b16ca7$export$9cb09a71b7d66923({inputs:{x:h},backend:a,attrs:{perm:$c4c4d404109848b6$exports.getUndoAxesPermutation(i)}});return a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(d),e}return h}const $52efa7d55383cb7c$export$db50d81ed60c5a35={kernelName:$0eb90ddf241a18bf$export$e581acc6014c47a,backendName:"cpu",kernelFunc:$52efa7d55383cb7c$export$dc7513e907e94b8d};function $e6620566b17f4665$export$71990b1e1c4912fe(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{axis:o,exclusive:s,reverse:c}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"cumsum");const i=$c4c4d404109848b6$exports.getAxesPermutation([o],r.shape.length);let d=r;null!=i&&(d=$61f81ad1f2b16ca7$export$9cb09a71b7d66923({inputs:{x:r},backend:a,attrs:{perm:i}}));const f=$c4c4d404109848b6$exports.getInnerMostAxes(1,r.shape.length)[0];if(f!==d.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${d.shape.length-1} but got axis=${f}`);const $=$063ffdf621a4b072$export$7bcca02d1a156bdf(d.dtype,"int32"),u=$5d5df9ecf1c80076$exports.makeZerosTypedArray($5d5df9ecf1c80076$exports.sizeFromShape(d.shape),$),p=a.data.get(d.dataId).values,l=d.shape[d.shape.length-1],b=c?(e,t)=>e+l-t-1:(e,t)=>e+t;for(let e=0;e<p.length;e+=l)for(let t=0;t<l;t++){const a=b(e,t);if(0===t)u[a]=s?0:p[a];else{const n=b(e,t-1);u[a]=s?p[n]+u[n]:p[a]+u[n]}}const h=a.makeTensorInfo(d.shape,$,u);if(null!=i){const e=$61f81ad1f2b16ca7$export$9cb09a71b7d66923({inputs:{x:h},backend:a,attrs:{perm:$c4c4d404109848b6$exports.getUndoAxesPermutation(i)}});return a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(d),e}return h}const $e6620566b17f4665$export$2f6196f3316e7ed2={kernelName:$0eb90ddf241a18bf$export$706617d894ad63da,backendName:"cpu",kernelFunc:$e6620566b17f4665$export$71990b1e1c4912fe};function $2ee8189492401756$export$436934e6cf1946f1(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,weights:o}=t,{size:s,binaryOutput:c}=n;if(1===r.shape.length){const e=$9f76ddbf9ddceeac$export$8e4da6ec633bf0a6(a.data.get(r.dataId).values,a.data.get(o.dataId).values,o.dtype,o.shape,s);return a.makeTensorInfo([s],o.dtype,e)}if(2===r.shape.length){const e=$9f76ddbf9ddceeac$export$486b8d48edd28ba5(a.bufferSync(r),a.bufferSync(o),s,c);return a.makeTensorInfo(e.shape,o.dtype,e.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${r.shape.length}.`)}const $2ee8189492401756$export$88ba267b84334692={kernelName:$0eb90ddf241a18bf$export$5bab6834954299c5,backendName:"cpu",kernelFunc:$2ee8189492401756$export$436934e6cf1946f1};function $79bc007eb5423a54$export$3b50daec0f185f12(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{blockSize:o,dataFormat:s}=n;$5d5df9ecf1c80076$exports.assert("NHWC"===s,(()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${s}`));const c=r.shape[0],i=r.shape[1],d=r.shape[2],f=r.shape[3],$=i*o,u=d*o,p=f/(o*o),l=a.data.get(r.dataId).values,b=new Float32Array(c*$*u*p);let h=0;for(let e=0;e<c;++e)for(let t=0;t<$;++t){const a=Math.floor(t/o),n=t%o;for(let t=0;t<u;++t){const r=Math.floor(t/o),s=(n*o+t%o)*p;for(let t=0;t<p;++t){const n=t+s+f*(r+d*(a+i*e));b[h++]=l[n]}}}return a.makeTensorInfo([c,$,u,p],r.dtype,b)}const $79bc007eb5423a54$export$9c5b88dcb1d2008b={kernelName:$0eb90ddf241a18bf$export$fb0ee52d0cd6f233,backendName:"cpu",kernelFunc:$79bc007eb5423a54$export$3b50daec0f185f12};function $cadf995d0d95e46f$export$14e793fe8822afd1(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,filter:o}=t,{strides:s,pad:c,dilations:i,dimRoundingMode:d}=n;$a610dd74d979c6f8$export$1412c17b2531581a([r,o],"depthwiseConv2DNative");const f=$5d5df9ecf1c80076$exports.computeStrides(r.shape),$=$5d5df9ecf1c80076$exports.computeStrides(o.shape);let u=i;null==u&&(u=[1,1]),$5d5df9ecf1c80076$exports.assert($c4c4d404109848b6$exports.eitherStridesOrDilationsAreOne(s,u),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${s} and dilations '${u}'`));const p=$c4c4d404109848b6$exports.computeConv2DInfo(r.shape,o.shape,s,u,c,d,!0),{filterHeight:l,filterWidth:b,dilationHeight:h,dilationWidth:x,padInfo:m}=p,g=m.left,v=m.top,y=p.outChannels/p.inChannels,w=new $eaf1009c48c149de$export$350df26cd52e08e1(p.outShape,r.dtype),_=a.data.get(r.dataId).values,I=a.data.get(o.dataId).values,S=w.values;for(let e=0;e<p.batchSize;++e){const t=e*f[0],a=e*w.strides[0];for(let e=0;e<p.outHeight;++e){const n=a+e*w.strides[1],r=e*p.strideHeight-v;for(let e=0;e<l;++e){const a=r+e*h;if(a<0||a>=p.inHeight)continue;const o=e*$[0],s=t+a*f[1];for(let e=0;e<p.outWidth;++e){const t=n+e*w.strides[2],a=e*p.strideWidth-g;for(let e=0;e<b;++e){const n=a+e*x;if(n<0||n>=p.inWidth)continue;const r=o+e*$[1],c=s+n*p.inChannels;let i=t,d=r;for(let e=0;e<p.inChannels;++e){const t=_[c+e];for(let e=0;e<y;++e)S[i+e]+=t*I[d+e];i+=y,d+=y}}}}}}return a.makeTensorInfo(w.shape,w.dtype,w.values)}const $cadf995d0d95e46f$export$240667804b7c390e={kernelName:$0eb90ddf241a18bf$export$7c0fc590ff9e156f,backendName:"cpu",kernelFunc:$cadf995d0d95e46f$export$14e793fe8822afd1};function $48d461cb65927e6b$export$cc0ae65e9edc7e1a(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,dy:o}=t,{strides:s,dilations:c,pad:i,dimRoundingMode:d,filterShape:f}=n;$a610dd74d979c6f8$export$1412c17b2531581a([r,o],"depthwiseConv2dNativeBackpropFilter");const $=$c4c4d404109848b6$exports.computeConv2DInfo(r.shape,f,s,c,i,d,!0),{strideHeight:u,strideWidth:p,filterHeight:l,filterWidth:b}=$,h=new $eaf1009c48c149de$export$350df26cd52e08e1($.filterShape,"float32"),x=$.padInfo.left,m=$.padInfo.top,g=$.outChannels/$.inChannels,v=a.data.get(r.dataId).values,y=new $eaf1009c48c149de$export$350df26cd52e08e1(r.shape,r.dtype,v),w=a.data.get(o.dataId).values,_=new $eaf1009c48c149de$export$350df26cd52e08e1(o.shape,o.dtype,w);for(let e=0;e<l;++e){const t=Math.max(0,Math.ceil((m-e)/u)),a=Math.min($.outHeight,($.inHeight+m-e)/u);for(let n=0;n<b;++n){const r=Math.max(0,Math.ceil((x-n)/p)),o=Math.min($.outWidth,($.inWidth+x-n)/p);for(let s=0;s<$.outChannels;++s){const c=Math.trunc(s/g),i=s%g;let d=0;for(let i=0;i<$.batchSize;++i)for(let f=t;f<a;++f){const t=e+f*u-m;for(let e=r;e<o;++e){const a=n+e*p-x;d+=y.get(i,t,a,c)*_.get(i,f,e,s)}}h.set(d,e,n,c,i)}}}return a.makeTensorInfo(h.shape,h.dtype,h.values)}const $48d461cb65927e6b$export$30bc0ac3775583fc={kernelName:$0eb90ddf241a18bf$export$c99f139e0d4d1833,backendName:"cpu",kernelFunc:$48d461cb65927e6b$export$cc0ae65e9edc7e1a};function $87655af54829ec46$export$37e2ab95a4a4c24b(e){const{inputs:t,backend:a,attrs:n}=e,{dy:r,filter:o}=t,{strides:s,dilations:c,pad:i,dimRoundingMode:d,inputShape:f}=n;$a610dd74d979c6f8$export$1412c17b2531581a([r,o],"depthwiseConv2DNativeBackpropInput");const $=$5d5df9ecf1c80076$exports.computeStrides(r.shape),u=$5d5df9ecf1c80076$exports.computeStrides(o.shape),p=$c4c4d404109848b6$exports.computeConv2DInfo(f,o.shape,s,c,i,d,!0),l=new $eaf1009c48c149de$export$350df26cd52e08e1(p.inShape,"float32"),b=l.values,[h,x,m]=l.strides,g=a.data.get(r.dataId).values,[v,y,w]=$,_=a.data.get(o.dataId).values,[I,S,T]=u,{batchSize:k,filterHeight:E,filterWidth:A,inChannels:C,inHeight:O,inWidth:N,outChannels:R,outHeight:F,outWidth:D,strideHeight:P,strideWidth:M}=p,L=E-1-p.padInfo.top,B=A-1-p.padInfo.left,U=R/C;for(let e=0;e<k;++e)for(let t=0;t<C;++t)for(let a=0;a<O;++a){const n=a-L,r=Math.max(0,Math.ceil(n/P)),o=Math.min(F,(E+n)/P);for(let s=0;s<N;++s){const c=s-B,i=Math.max(0,Math.ceil(c/M)),d=Math.min(D,(A+c)/M);let f=0;for(let a=r;a<o;++a){const r=a*P-n;for(let n=i;n<d;++n){const o=v*e+y*a+w*n,s=I*(E-1-r)+S*(A-1-(n*M-c))+T*t;for(let e=0;e<U;++e){f+=g[o+(t*U+e)]*_[s+e]}}}b[h*e+x*a+m*s+t]=f}}return a.makeTensorInfo(l.shape,l.dtype,l.values)}const $87655af54829ec46$export$55d12409e744bebe={kernelName:$0eb90ddf241a18bf$export$8649ca3b17033a24,backendName:"cpu",kernelFunc:$87655af54829ec46$export$37e2ab95a4a4c24b};function $d473b9708fa4e384$export$c042e7c2f59bc046(e){const{inputs:t,backend:a}=e,{x:n}=t,r=$5d5df9ecf1c80076$exports.sizeFromShape(n.shape),o=a.data.get(n.dataId).values,s=$05a66951e325e00b$export$ab1029bcae9ddb4a([r,r],n.dtype),c=s.values;for(let e=0;e<o.length;e++)c[e*r+e]=o[e];const i=[...n.shape,...n.shape];return a.makeTensorInfo(i,s.dtype,s.values)}const $d473b9708fa4e384$export$56dc5d812a22748f={kernelName:$0eb90ddf241a18bf$export$ca73a25315ddeb7f,backendName:"cpu",kernelFunc:$d473b9708fa4e384$export$c042e7c2f59bc046},$232f40aefc2ad11f$export$36d3c11f61a8891a={kernelName:$0eb90ddf241a18bf$export$dbbb7830c6497701,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:a})=>{const{x:n,filter:r}=e,{strides:o,pad:s,dilations:c}=a,i=t,d=i.data.get(n.dataId).values,f=n.shape.length,$=i.data.get(r.dataId).values,u=r.shape.length,{batchSize:p,inHeight:l,inWidth:b,inChannels:h,outHeight:x,outWidth:m,padInfo:g,strideHeight:v,strideWidth:y,filterHeight:w,filterWidth:_,dilationHeight:I,dilationWidth:S,outShape:T}=$c4c4d404109848b6$exports.computeDilation2DInfo(n.shape,r.shape,o,s,"NHWC",c),k=$5d5df9ecf1c80076$exports.sizeFromShape(T),E=T.length,A=$5d5df9ecf1c80076$exports.getArrayFromDType(n.dtype,k);for(let e=0;e<p;++e)for(let t=0;t<x;++t){const a=t*v-g.top;for(let o=0;o<m;++o){const s=o*y-g.left;for(let c=0;c<h;++c){let i=Number.MIN_SAFE_INTEGER;for(let t=0;t<w;++t){const o=a+t*I;if(o>=0&&o<l)for(let a=0;a<_;++a){const p=s+a*S;if(p>=0&&p<b){const s=$5d5df9ecf1c80076$exports.locToIndex([e,o,p,c],f,$5d5df9ecf1c80076$exports.computeStrides(n.shape)),l=$5d5df9ecf1c80076$exports.locToIndex([t,a,c],u,$5d5df9ecf1c80076$exports.computeStrides(r.shape)),b=d[s]+$[l];b>i&&(i=b)}}}A[$5d5df9ecf1c80076$exports.locToIndex([e,t,o,c],E,$5d5df9ecf1c80076$exports.computeStrides(T))]=i}}}return{dataId:i.write($5d5df9ecf1c80076$exports.toTypedArray(A,n.dtype),T,n.dtype),shape:T,dtype:n.dtype}}},$8586eb678844a406$export$cf83abe0e8c87ce8={kernelName:$0eb90ddf241a18bf$export$91add972be69d592,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:a})=>{const{x:n,filter:r,dy:o}=e,{strides:s,pad:c,dilations:i}=a,d=t,f=$5d5df9ecf1c80076$exports.toNestedArray(n.shape,d.data.get(n.dataId).values),$=$5d5df9ecf1c80076$exports.toNestedArray(r.shape,d.data.get(r.dataId).values),{batchSize:u,inHeight:p,inWidth:l,inChannels:b,outHeight:h,outWidth:x,padInfo:m,strideHeight:g,strideWidth:v,filterHeight:y,filterWidth:w,dilationHeight:_,dilationWidth:I,outShape:S}=$c4c4d404109848b6$exports.computeDilation2DInfo(n.shape,r.shape,s,c,"NHWC",i);$5d5df9ecf1c80076$exports.assert(o.rank===S.length,(()=>`Error in ${$0eb90ddf241a18bf$export$91add972be69d592}, dy must have the same rank as output ${S.length}, but got ${o.rank}`));const T=$5d5df9ecf1c80076$exports.toNestedArray(S,d.data.get(o.dataId).values),k=$5d5df9ecf1c80076$exports.makeZerosNestedTypedArray(r.shape,r.dtype);for(let e=0;e<u;++e)for(let t=0;t<h;++t){const a=t*g-m.top;for(let n=0;n<x;++n){const r=n*v-m.left;for(let o=0;o<b;++o){let s=Number.MIN_SAFE_INTEGER,c=0,i=0;for(let t=0;t<y;++t){const n=a+t*_;if(n>=0&&n<p)for(let a=0;a<w;++a){const d=r+a*I;if(d>=0&&d<l){const r=f[e][n][d][o]+$[t][a][o];r>s&&(s=r,c=t,i=a)}}}k[c][i][o]+=T[e][t][n][o]}}}return{dataId:d.write($5d5df9ecf1c80076$exports.toTypedArray(k,n.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},$57906da904124e12$export$42e4451417dc5ea0={kernelName:$0eb90ddf241a18bf$export$5dd675a6b0f37e17,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:a})=>{const{x:n,filter:r,dy:o}=e,{strides:s,pad:c,dilations:i}=a,d=t,f=$5d5df9ecf1c80076$exports.toNestedArray(n.shape,d.data.get(n.dataId).values),$=$5d5df9ecf1c80076$exports.toNestedArray(r.shape,d.data.get(r.dataId).values),{batchSize:u,inHeight:p,inWidth:l,inChannels:b,outHeight:h,outWidth:x,padInfo:m,strideHeight:g,strideWidth:v,filterHeight:y,filterWidth:w,dilationHeight:_,dilationWidth:I,outShape:S}=$c4c4d404109848b6$exports.computeDilation2DInfo(n.shape,r.shape,s,c,"NHWC",i);$5d5df9ecf1c80076$exports.assert(o.rank===S.length,(()=>`Error in ${$0eb90ddf241a18bf$export$5dd675a6b0f37e17}, dy must have the same rank as output ${S.length}, but got ${o.rank}`));const T=$5d5df9ecf1c80076$exports.toNestedArray(S,d.data.get(o.dataId).values),k=$5d5df9ecf1c80076$exports.makeZerosNestedTypedArray(n.shape,n.dtype);for(let e=0;e<u;++e)for(let t=0;t<h;++t){const a=t*g-m.top;for(let n=0;n<x;++n){const r=n*v-m.left;for(let o=0;o<b;++o){let s=Number.MIN_SAFE_INTEGER,c=a<0?0:a,i=r<0?0:r;for(let t=0;t<y;++t){const n=a+t*_;if(n>=0&&n<p)for(let a=0;a<w;++a){const d=r+a*I;if(d>=0&&d<l){const r=f[e][n][d][o]+$[t][a][o];r>s&&(s=r,c=n,i=d)}}}k[e][c][i][o]+=T[e][t][n][o]}}}return{dataId:d.write($5d5df9ecf1c80076$exports.toTypedArray(k,n.dtype),n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};function $f68724a26ebcea86$export$8a63f25cc62965f1(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{axis:o,keepDims:s}=n;let c;$a610dd74d979c6f8$export$1412c17b2531581a(r,"sum"),c="bool"===r.dtype?$b24dde8cf719cd9e$export$f2db7d5238e1d23f({inputs:{x:r},backend:a,attrs:{dtype:"int32"}}):$ce3553c9094c2ca5$export$f0954fd7d5368655({inputs:{x:r},backend:a});const i=c.shape.length,d=$5d5df9ecf1c80076$exports.parseAxisParam(o,c.shape),f=$c4c4d404109848b6$exports.getAxesPermutation(d,i);let $=d,u=c;null!=f&&(u=$61f81ad1f2b16ca7$export$9cb09a71b7d66923({inputs:{x:c},backend:a,attrs:{perm:f}}),$=$c4c4d404109848b6$exports.getInnerMostAxes($.length,i)),$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("sum",$,u.shape.length);const[p,l]=$c4c4d404109848b6$exports.computeOutAndReduceShapes(u.shape,$);let b=$f4826b2dec0fef84$export$4445a00dafa2633b(a,p,$c4c4d404109848b6$exports.upcastType(u.dtype,"int32"));const h=$5d5df9ecf1c80076$exports.sizeFromShape(l),x=a.data.get(b.dataId).values,m=a.data.get(u.dataId).values;for(let e=0;e<x.length;++e){const t=e*h;let a=0;for(let e=0;e<h;++e)a+=m[t+e];x[e]=a}if(s){const e=b;b=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:b},backend:a,attrs:{shape:$c4c4d404109848b6$exports.expandShapeToKeepDim(b.shape,d)}}),a.disposeIntermediateTensorInfo(e)}return a.disposeIntermediateTensorInfo(c),null!=f&&a.disposeIntermediateTensorInfo(u),b}const $f68724a26ebcea86$export$47edea402251c258={kernelName:$0eb90ddf241a18bf$export$534760f50726d5,backendName:"cpu",kernelFunc:$f68724a26ebcea86$export$8a63f25cc62965f1};function $7a79209e1f46a38c$export$27265e7daac5c403(e){const{inputs:t,backend:a,attrs:n}=e,{equation:r}=n,o=t,{allDims:s,summedDims:c,idDims:i}=$c4c4d404109848b6$exports.decodeEinsumEquation(r,o.length);$c4c4d404109848b6$exports.checkEinsumDimSizes(s.length,i,o);const{path:d,steps:f}=$c4c4d404109848b6$exports.getEinsumComputePath(c,i),$=f.length;let u=null,p=s.length;const l=[];for(let e=0;e<$;++e){for(const t of f[e]){const{permutationIndices:e,expandDims:n}=$c4c4d404109848b6$exports.getEinsumPermutation(p,i[t]);let r;$c4c4d404109848b6$exports.isIdentityPermutation(e)?r=o[t]:(r=$61f81ad1f2b16ca7$export$9cb09a71b7d66923({inputs:{x:o[t]},backend:a,attrs:{perm:e}}),l.push(r));const s=r.shape.slice();for(let e=0;e<n.length;++e)s.splice(n[e],0,1);$5d5df9ecf1c80076$exports.arraysEqual(r.shape,s)||(r=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:r},backend:a,attrs:{shape:s}}),l.push(r)),null===u?u=r:(u=$1ae3d2d9e69b2480$export$2060d2db72cce88f({inputs:{a:r,b:u},backend:a}),l.push(u))}e<$-1&&(d[e]>=0&&(u=$f68724a26ebcea86$export$8a63f25cc62965f1({inputs:{x:u},backend:a,attrs:{axis:d[e]-(s.length-p),keepDims:!1}}),l.push(u)),p--)}for(const e of l)e!==u&&a.disposeIntermediateTensorInfo(e);return u}const $7a79209e1f46a38c$export$40bbf341885a23b7={kernelName:$0eb90ddf241a18bf$export$2541d8be32f3c641,backendName:"cpu",kernelFunc:$7a79209e1f46a38c$export$27265e7daac5c403};function $c024812b6b0be9b2$export$a346244024505ff9(e){const{inputs:t,backend:a}=e,{dy:n,y:r}=t;$a610dd74d979c6f8$export$1412c17b2531581a([n,r],"eluGrad");const o=new Float32Array($5d5df9ecf1c80076$exports.sizeFromShape(r.shape)),s=a.data.get(r.dataId).values,c=a.data.get(n.dataId).values;for(let e=0;e<s.length;++e){const t=s[e];o[e]=t>=1?c[e]:c[e]*(t+1)}return a.makeTensorInfo(r.shape,"float32",o)}const $c024812b6b0be9b2$export$59bb07dd04647a1d={kernelName:$0eb90ddf241a18bf$export$9906be4699a73c53,backendName:"cpu",kernelFunc:$c024812b6b0be9b2$export$a346244024505ff9},$706a18620e404767$var$p=$c4c4d404109848b6$exports.ERF_P,$706a18620e404767$var$a1=$c4c4d404109848b6$exports.ERF_A1,$706a18620e404767$var$a2=$c4c4d404109848b6$exports.ERF_A2,$706a18620e404767$var$a3=$c4c4d404109848b6$exports.ERF_A3,$706a18620e404767$var$a4=$c4c4d404109848b6$exports.ERF_A4,$706a18620e404767$var$a5=$c4c4d404109848b6$exports.ERF_A5,$706a18620e404767$export$d3896f355fc09423=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$c2ee2551ce71f1d0,(e=>{const t=Math.sign(e),a=Math.abs(e),n=1/(1+$706a18620e404767$var$p*a);return t*(1-(((($706a18620e404767$var$a5*n+$706a18620e404767$var$a4)*n+$706a18620e404767$var$a3)*n+$706a18620e404767$var$a2)*n+$706a18620e404767$var$a1)*n*Math.exp(-a*a))})),$706a18620e404767$export$d044ffef16079bd={kernelName:$0eb90ddf241a18bf$export$c2ee2551ce71f1d0,backendName:"cpu",kernelFunc:$706a18620e404767$export$d3896f355fc09423};function $7daf5ba289406ddb$export$d660d8ed21f46635(e){const{inputs:t,backend:a,attrs:n}=e,{input:r}=t,{dim:o}=n,s=r.shape.length,c=r.shape.slice();let i=o;return o<0&&($5d5df9ecf1c80076$exports.assert(-(s+1)<=o,(()=>`Axis must be in the interval [${-(s+1)}, ${s}]`)),i=s+o+1),c.splice(i,0,1),$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:r},backend:a,attrs:{shape:c}})}const $7daf5ba289406ddb$export$86341ba0ce5d8e60={kernelName:$0eb90ddf241a18bf$export$2391750b1d901146,backendName:"cpu",kernelFunc:$7daf5ba289406ddb$export$d660d8ed21f46635},$a309c50147cae936$export$967709f6160bacde=$dd3145371544799a$export$28de919591fae5d9(((e,t)=>e/t)),$a309c50147cae936$export$159d9494db57879b=$fd60d8c5c1532db1$export$29353c66e70e3e16($0eb90ddf241a18bf$export$b9880b86e1014bb8,$a309c50147cae936$export$967709f6160bacde),$a309c50147cae936$export$15c5d6176b30b9a6={kernelName:$0eb90ddf241a18bf$export$b9880b86e1014bb8,backendName:"cpu",kernelFunc:$a309c50147cae936$export$159d9494db57879b};function $6841b7e4cd502964$export$3f1645f616cf26f8(e,t,a){const n=e.shape,r=n[0],o=n[1],s=a.data.get(e.dataId),c=s.complexTensorInfos.real,i=s.complexTensorInfos.imag,d=[r,o],f=$5d5df9ecf1c80076$exports.sizeFromShape(d),$=$5d5df9ecf1c80076$exports.getTypedArrayFromDType("float32",f),u=$5d5df9ecf1c80076$exports.getTypedArrayFromDType("float32",f);for(let e=0;e<r;e++){const n=$b3c67133f4f177b8$export$58adb3bec8346d0f({inputs:{x:c},backend:a,attrs:{begin:[e,0],size:[1,o]}}),r=$b3c67133f4f177b8$export$58adb3bec8346d0f({inputs:{x:i},backend:a,attrs:{begin:[e,0],size:[1,o]}}),s=$5a06c686963b389a$export$83a0e34f1302825b({inputs:{real:n,imag:r},backend:a}),{real:d,imag:f}=$6841b7e4cd502964$export$75d3742a7578721e(s,t,a),p=$c4c4d404109848b6$exports.mergeRealAndImagArrays(d,f);for(let t=0;t<o;t++){const a=$c4c4d404109848b6$exports.getComplexWithIndex(p,t);$[e*o+t]=a.real,u[e*o+t]=a.imag}a.disposeIntermediateTensorInfo(n),a.disposeIntermediateTensorInfo(r),a.disposeIntermediateTensorInfo(s)}const p=a.makeTensorInfo(d,"float32",$),l=a.makeTensorInfo(d,"float32",u),b=$5a06c686963b389a$export$83a0e34f1302825b({inputs:{real:p,imag:l},backend:a});return a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(l),b}function $6841b7e4cd502964$export$75d3742a7578721e(e,t,a){const n=$5d5df9ecf1c80076$exports.sizeFromShape(e.shape),r=a.data.get(e.dataId),o=a.data.get(r.complexTensorInfos.real.dataId).values,s=a.data.get(r.complexTensorInfos.imag.dataId).values;if($6841b7e4cd502964$var$isExponentOf2(n)){const r=$6841b7e4cd502964$var$fftRadix2(o,s,n,t,a),c=[e.shape[0],e.shape[1]];if(t){const e=a.makeTensorInfo(c,"float32",r.real),t=a.makeTensorInfo(c,"float32",r.imag),o=a.makeTensorInfo([],"float32",$5d5df9ecf1c80076$exports.createScalarValue(n,"float32")),s=$ce3553c9094c2ca5$export$f0954fd7d5368655({inputs:{x:o},backend:a}),i=$a309c50147cae936$export$15c5d6176b30b9a6.kernelFunc({inputs:{a:e,b:o},backend:a}),d=$a309c50147cae936$export$15c5d6176b30b9a6.kernelFunc({inputs:{a:t,b:s},backend:a}),f=a.data.get(i.dataId).values,$=a.data.get(d.dataId).values;return a.disposeIntermediateTensorInfo(e),a.disposeIntermediateTensorInfo(t),a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(s),a.disposeIntermediateTensorInfo(i),a.disposeIntermediateTensorInfo(d),{real:f,imag:$}}return r}{const e=$6841b7e4cd502964$var$fourierTransformByMatmul($c4c4d404109848b6$exports.mergeRealAndImagArrays(o,s),n,t);return $c4c4d404109848b6$exports.splitRealAndImagArrays(e)}}function $6841b7e4cd502964$var$isExponentOf2(e){return 0==(e&e-1)}function $6841b7e4cd502964$var$fftRadix2(e,t,a,n,r){if(1===a)return{real:e,imag:t};const o=$c4c4d404109848b6$exports.mergeRealAndImagArrays(e,t),s=a/2,c=$c4c4d404109848b6$exports.complexWithEvenIndex(o),i=c.real,d=c.imag,f=[i.length],$=r.makeTensorInfo(f,"float32",i),u=r.makeTensorInfo(f,"float32",d),p=$5a06c686963b389a$export$83a0e34f1302825b({inputs:{real:$,imag:u},backend:r}),l=$c4c4d404109848b6$exports.complexWithOddIndex(o),b=l.real,h=l.imag,x=[b.length],m=r.makeTensorInfo(x,"float32",b),g=r.makeTensorInfo(x,"float32",h),v=$5a06c686963b389a$export$83a0e34f1302825b({inputs:{real:m,imag:g},backend:r}),y=$6841b7e4cd502964$var$fftRadix2(i,d,s,n,r),w=y.real,_=y.imag,I=[w.length],S=r.makeTensorInfo(I,"float32",w),T=r.makeTensorInfo(I,"float32",_),k=$5a06c686963b389a$export$83a0e34f1302825b({inputs:{real:S,imag:T},backend:r}),E=$6841b7e4cd502964$var$fftRadix2(b,h,s,n,r),A=E.real,C=E.imag,O=[A.length],N=r.makeTensorInfo(O,"float32",A),R=r.makeTensorInfo(O,"float32",C),F=$5a06c686963b389a$export$83a0e34f1302825b({inputs:{real:N,imag:R},backend:r}),D=$c4c4d404109848b6$exports.exponents(a,n),P=[D.real.length],M=r.makeTensorInfo(P,"float32",D.real),L=r.makeTensorInfo(P,"float32",D.imag),B=$5a06c686963b389a$export$83a0e34f1302825b({inputs:{real:M,imag:L},backend:r}),U=$1ae3d2d9e69b2480$export$2060d2db72cce88f({inputs:{a:B,b:F},backend:r}),V=$5a19aa681576e63e$export$e16d8520af44a096({inputs:{a:k,b:U},backend:r}),W=$9f61baa0f7f211bf$export$f93b5905241a7cca({inputs:{a:k,b:U},backend:r}),z=$e450c9206864f81f$export$9fc57fb453bdbd67({inputs:{input:V},backend:r}),G=$e450c9206864f81f$export$9fc57fb453bdbd67({inputs:{input:W},backend:r}),j=$41fd66abad0c6d52$export$d78fab5778ab392b({inputs:{input:V},backend:r}),H=$41fd66abad0c6d52$export$d78fab5778ab392b({inputs:{input:W},backend:r}),q=$800bf73cb2b897c2$export$ee1b3e54f0441b22({inputs:[z,G],backend:r,attrs:{axis:0}}),K=$800bf73cb2b897c2$export$ee1b3e54f0441b22({inputs:[j,H],backend:r,attrs:{axis:0}}),X=r.data.get(q.dataId).values,Y=r.data.get(K.dataId).values;return r.disposeIntermediateTensorInfo($),r.disposeIntermediateTensorInfo(u),r.disposeIntermediateTensorInfo(p),r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(g),r.disposeIntermediateTensorInfo(v),r.disposeIntermediateTensorInfo(S),r.disposeIntermediateTensorInfo(T),r.disposeIntermediateTensorInfo(k),r.disposeIntermediateTensorInfo(N),r.disposeIntermediateTensorInfo(R),r.disposeIntermediateTensorInfo(F),r.disposeIntermediateTensorInfo(M),r.disposeIntermediateTensorInfo(L),r.disposeIntermediateTensorInfo(B),r.disposeIntermediateTensorInfo(U),r.disposeIntermediateTensorInfo(V),r.disposeIntermediateTensorInfo(W),r.disposeIntermediateTensorInfo(z),r.disposeIntermediateTensorInfo(j),r.disposeIntermediateTensorInfo(G),r.disposeIntermediateTensorInfo(H),r.disposeIntermediateTensorInfo(q),r.disposeIntermediateTensorInfo(K),{real:X,imag:Y}}function $6841b7e4cd502964$var$fourierTransformByMatmul(e,t,a){const n=new Float32Array(2*t);for(let r=0;r<t;r++){let o=0,s=0;for(let n=0;n<t;n++){const c=$c4c4d404109848b6$exports.exponent(r*n,t,a),i=$c4c4d404109848b6$exports.getComplexWithIndex(e,n);o+=i.real*c.real-i.imag*c.imag,s+=i.real*c.imag+i.imag*c.real}a&&(o/=t,s/=t),$c4c4d404109848b6$exports.assignToTypedArray(n,o,s,r)}return n}function $66d4ce96a3e147f8$export$a535ef183b6128fa(e){const{inputs:t,backend:a}=e,{input:n}=t,r=$5d5df9ecf1c80076$exports.sizeFromShape(n.shape),o=n.shape[n.shape.length-1],s=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:n},backend:a,attrs:{shape:[r/o,o]}}),c=$6841b7e4cd502964$export$3f1645f616cf26f8(s,!1,a),i=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:c},backend:a,attrs:{shape:n.shape}});return a.disposeIntermediateTensorInfo(s),a.disposeIntermediateTensorInfo(c),i}const $66d4ce96a3e147f8$export$a4d564e380763c78={kernelName:$0eb90ddf241a18bf$export$677347237c014ba,backendName:"cpu",kernelFunc:$66d4ce96a3e147f8$export$a535ef183b6128fa};function $687b332f39d2afc3$export$9563e054e6f787fb(e){const{backend:t,attrs:a}=e,{shape:n,value:r,dtype:o}=a,s=o||$5d5df9ecf1c80076$exports.inferDtype(r),c=$5d5df9ecf1c80076$exports.getArrayFromDType(s,$5d5df9ecf1c80076$exports.sizeFromShape(n));return $687b332f39d2afc3$var$fillValues(c,r,s),t.makeTensorInfo(n,s,c)}const $687b332f39d2afc3$export$c953bf474b2bde62={kernelName:$0eb90ddf241a18bf$export$ffffe40bfa0649a3,backendName:"cpu",kernelFunc:$687b332f39d2afc3$export$9563e054e6f787fb};function $687b332f39d2afc3$var$fillValues(e,t,a){e.fill(t)}const $6092da2cd5c2bc2e$export$c9ec83cb23304466={kernelName:$0eb90ddf241a18bf$export$34e7296fc8558df5,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:a})=>{const{image:n}=e,r=a,o=$5d5df9ecf1c80076$exports.getTypedArrayFromDType(n.dtype,$5d5df9ecf1c80076$exports.sizeFromShape(n.shape)),[s,c,i,d]=n.shape,f=r.data.get(n.dataId).values;for(let e=0;e<s;e++){const t=e*i*c*d;for(let e=0;e<c;e++){const a=e*(i*d);for(let e=0;e<i;e++){const n=e*d;for(let r=0;r<d;r++){const s=Math.round(i-e-1),c=t+a+n+r;let $=f[c];if(s>=0&&s<i){$=f[t+a+s*d+r]}o[c]=$}}}}return{dataId:r.write(o,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}},$3269501488ee9c00$export$9b7f64e28e98c78e=$dd3145371544799a$export$28de919591fae5d9(((e,t)=>Math.floor(e/t))),$3269501488ee9c00$export$112397bc52715a8=$fd60d8c5c1532db1$export$29353c66e70e3e16($0eb90ddf241a18bf$export$d79b5692ede26c2f,$3269501488ee9c00$export$9b7f64e28e98c78e,null,"int32"),$3269501488ee9c00$export$7eac933a0c7fd37f={kernelName:$0eb90ddf241a18bf$export$d79b5692ede26c2f,backendName:"cpu",kernelFunc:$3269501488ee9c00$export$112397bc52715a8};function $caff518a4f4854f0$export$8db45c19fd28b6b8(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,filter:o,bias:s,preluActivationWeights:c}=t,{strides:i,pad:d,dataFormat:f,dilations:$,dimRoundingMode:u,activation:p,leakyreluAlpha:l}=n;let b=$6238e038626ee118$export$5a2ce5b05041d9e4({inputs:{x:r,filter:o},backend:a,attrs:{strides:i,pad:d,dataFormat:f,dilations:$,dimRoundingMode:u}});if(s){const e=b;b=$5a19aa681576e63e$export$e16d8520af44a096({inputs:{a:b,b:s},backend:a}),a.disposeIntermediateTensorInfo(e)}if(p){const e=b;b=$a7e76889ad4b52c1$export$a0f250a2ba84196(a,b,p,c,l),a.disposeIntermediateTensorInfo(e)}return b}const $caff518a4f4854f0$export$5b64efa829ddf94e={kernelName:$0eb90ddf241a18bf$export$86f8a8e3a8f2a8f2,backendName:"cpu",kernelFunc:$caff518a4f4854f0$export$8db45c19fd28b6b8};function $88aec685547f8488$export$d61de7729228094b(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,filter:o,bias:s,preluActivationWeights:c}=t,{strides:i,pad:d,dataFormat:f,dilations:$,dimRoundingMode:u,activation:p,leakyreluAlpha:l}=n;let b=$cadf995d0d95e46f$export$14e793fe8822afd1({inputs:{x:r,filter:o},backend:a,attrs:{strides:i,pad:d,dataFormat:f,dilations:$,dimRoundingMode:u}});if(s){const e=b;b=$5a19aa681576e63e$export$e16d8520af44a096({inputs:{a:b,b:s},backend:a}),a.disposeIntermediateTensorInfo(e)}if(p){const e=b;b=$a7e76889ad4b52c1$export$a0f250a2ba84196(a,b,p,c,l),a.disposeIntermediateTensorInfo(e)}return b}const $88aec685547f8488$export$58481cc3409b412c={kernelName:$0eb90ddf241a18bf$export$5a249e8f498c02c1,backendName:"cpu",kernelFunc:$88aec685547f8488$export$d61de7729228094b};function $28ccde7ef76abcae$export$3c586830e482d2b9(e){const{inputs:t,backend:a}=e,{params:n,indices:r}=t,o=$5d5df9ecf1c80076$exports.sizeFromShape(n.shape),s=r.shape,c=s[s.length-1],[i,d,f,$]=$c4c4d404109848b6$exports.prepareAndValidate(n,r);if(0===d)return a.makeTensorInfo(i,n.dtype,[]);const u=$019b27ceef9d27c2$export$eed1912b07a3c4d5(a.data.get(r.dataId).values,a.bufferSync(n),n.dtype,d,c,f,$,n.shape,o);return a.makeTensorInfo(i,n.dtype,u.values)}const $28ccde7ef76abcae$export$d9700eb1c7f5c969={kernelName:$0eb90ddf241a18bf$export$4ef6e37a23721703,backendName:"cpu",kernelFunc:$28ccde7ef76abcae$export$3c586830e482d2b9};function $7883632b77b48474$export$3d75b4295ded9925(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,indices:o}=t,{axis:s,batchDims:c}=n;$a610dd74d979c6f8$export$1412c17b2531581a([r,o],"gatherV2");const i=$5d5df9ecf1c80076$exports.parseAxisParam(s,r.shape)[0],d=a.data.get(o.dataId).values,f=r.shape[i];for(let e=0;e<d.length;++e){const t=d[e];$5d5df9ecf1c80076$exports.assert(t<=f-1&&t>=0,(()=>`GatherV2: the index value ${t} is not in [0, ${f-1}]`))}let $=c;null==c&&($=0);const u=$5d5df9ecf1c80076$exports.sizeFromShape(o.shape),p=$c4c4d404109848b6$exports.segment_util.collectGatherOpShapeInfo(r,o,i,$),l=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:r},backend:a,attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]}}),b=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:o},backend:a,attrs:{shape:[p.batchSize,u/p.batchSize]}}),h=[p.batchSize,p.outerSize,u/p.batchSize,p.sliceSize],x=a.bufferSync(b),m=$a55d086092516d60$export$d7b732f2e62ccc09(a.bufferSync(l),x,h);return a.disposeIntermediateTensorInfo(l),a.disposeIntermediateTensorInfo(b),a.makeTensorInfo(p.outputShape,m.dtype,m.values)}const $7883632b77b48474$export$b1bd3139c91d8765={kernelName:$0eb90ddf241a18bf$export$ccd988942e5c0181,backendName:"cpu",kernelFunc:$7883632b77b48474$export$3d75b4295ded9925};function $3f57323fdb3611c4$export$776649b0bf8ce1fd(e){const{inputs:t,backend:a}=e,{input:n}=t,r=$5d5df9ecf1c80076$exports.sizeFromShape(n.shape),o=n.shape[n.shape.length-1],s=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:n},backend:a,attrs:{shape:[r/o,o]}}),c=$6841b7e4cd502964$export$3f1645f616cf26f8(s,!0,a),i=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:c},backend:a,attrs:{shape:n.shape}});return a.disposeIntermediateTensorInfo(s),a.disposeIntermediateTensorInfo(c),i}const $3f57323fdb3611c4$export$dc267425bf21b465={kernelName:$0eb90ddf241a18bf$export$21c6f576ae8100e8,backendName:"cpu",kernelFunc:$3f57323fdb3611c4$export$776649b0bf8ce1fd},$5e9cb4476bad0272$export$65f0b13f2f82375a=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$b9fcc0946d7d485e,(e=>Number.isFinite(e)?1:0),"bool"),$5e9cb4476bad0272$export$4d45c8f7b9ffdaf1={kernelName:$0eb90ddf241a18bf$export$b9fcc0946d7d485e,backendName:"cpu",kernelFunc:$5e9cb4476bad0272$export$65f0b13f2f82375a},$9ed9cd8023892f15$export$e5d3415c656f7096=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$74b5a3bc735b152,(e=>Math.abs(e)===1/0?1:0),"bool"),$9ed9cd8023892f15$export$bc383b82282e9b5a={kernelName:$0eb90ddf241a18bf$export$74b5a3bc735b152,backendName:"cpu",kernelFunc:$9ed9cd8023892f15$export$e5d3415c656f7096},$ae468ed620b1c068$export$c9f5652083b8129d=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$9912dc4fc649dbec,(e=>Number.isNaN(e)?1:0),"bool"),$ae468ed620b1c068$export$d58ff790c765c1f0={kernelName:$0eb90ddf241a18bf$export$9912dc4fc649dbec,backendName:"cpu",kernelFunc:$ae468ed620b1c068$export$c9f5652083b8129d};function $ac5bdb7a15e222ec$export$865a19adce4d7a46(e){const{backend:t,attrs:a}=e,{start:n,stop:r,num:o}=a,s=$457a08d46fe2d764$export$31412d657cd1cc08(n,r,o);return t.makeTensorInfo([s.length],"float32",s)}const $ac5bdb7a15e222ec$export$46b96f742c70959b={kernelName:$0eb90ddf241a18bf$export$34f0ab8eba543ee6,backendName:"cpu",kernelFunc:$ac5bdb7a15e222ec$export$865a19adce4d7a46},$acb8dc82681256be$export$144dcf16adfb9698=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$70f05bf9ddcfca68,(e=>Math.log1p(e))),$acb8dc82681256be$export$c458b9e5ba980198={kernelName:$0eb90ddf241a18bf$export$70f05bf9ddcfca68,backendName:"cpu",kernelFunc:$acb8dc82681256be$export$144dcf16adfb9698},$178b2407ecbee4f1$export$e75adbe8a6aa8c40=$dd3145371544799a$export$28de919591fae5d9(((e,t)=>e&&t)),$178b2407ecbee4f1$export$db5dd0ef9d505f=$fd60d8c5c1532db1$export$29353c66e70e3e16($0eb90ddf241a18bf$export$8a27ff10dff4d6e5,$178b2407ecbee4f1$export$e75adbe8a6aa8c40,null,"bool"),$178b2407ecbee4f1$export$257f1e82e69113fb={kernelName:$0eb90ddf241a18bf$export$8a27ff10dff4d6e5,backendName:"cpu",kernelFunc:$178b2407ecbee4f1$export$db5dd0ef9d505f},$0273d9d0153c0cf6$export$c836ff7b605b1617=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$4393bee5596c68c2,(e=>e?0:1),"bool"),$0273d9d0153c0cf6$export$68e2dd0840056271={kernelName:$0eb90ddf241a18bf$export$4393bee5596c68c2,backendName:"cpu",kernelFunc:$0273d9d0153c0cf6$export$c836ff7b605b1617},$a0135cd2338d1dba$export$9b10f32fda33cd6f=$dd3145371544799a$export$28de919591fae5d9(((e,t)=>e||t)),$a0135cd2338d1dba$export$e2a73975983cadd8=$fd60d8c5c1532db1$export$29353c66e70e3e16($0eb90ddf241a18bf$export$c49f9f5ffc6f678c,$a0135cd2338d1dba$export$9b10f32fda33cd6f,null,"bool"),$a0135cd2338d1dba$export$ce04b6546987ef43={kernelName:$0eb90ddf241a18bf$export$c49f9f5ffc6f678c,backendName:"cpu",kernelFunc:$a0135cd2338d1dba$export$e2a73975983cadd8};function $da49051a8a3cd8a1$export$ac78e832c121c629(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{depthRadius:o,bias:s,alpha:c,beta:i}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"LRN");const d=r.shape[3],f=d-1,$=a.data.get(r.dataId).values,u=$5d5df9ecf1c80076$exports.sizeFromShape(r.shape),p=new Float32Array(u);function l(e){const t=e%d;let a=e-t+Math.max(0,t-o);const n=e-t+Math.min(t+o,f);let r=0;for(;a<=n;a++){const e=$[a];r+=e*e}return r}for(let e=0;e<u;e++){const t=l(e),a=$[e]*Math.pow(s+c*t,-i);p[e]=a}return a.makeTensorInfo(r.shape,r.dtype,p)}const $da49051a8a3cd8a1$export$6fb124d5a6994734={kernelName:$0eb90ddf241a18bf$export$eb2f713fc3e1ca9a,backendName:"cpu",kernelFunc:$da49051a8a3cd8a1$export$ac78e832c121c629};function $702abb11091c1e9a$export$c4c981cfebdcf90(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,y:o,dy:s}=t,{depthRadius:c,bias:i,alpha:d,beta:f}=n;$a610dd74d979c6f8$export$1412c17b2531581a(s,"LRNGrad");const $=$5d5df9ecf1c80076$exports.sizeFromShape(s.shape),u=s.shape[3],p=a.data.get(s.dataId).values,l=a.data.get(r.dataId).values,b=a.data.get(o.dataId).values,h=new Float32Array($),x=$;for(let e=0;e<x;e++){const t=e%u,a=e-t+Math.max(0,t-c),n=e-t+Math.min(u,t+c+1);let r=0;for(let e=a;e<n;e++)r+=Math.pow(l[e],2);r=d*r+i;for(let t=a;t<n;t++){let a=-2*d*f*l[t]*b[e]/r;e===t&&(a+=Math.pow(r,-f)),a*=p[e],h[t]+=a}}return a.makeTensorInfo(s.shape,r.dtype,h)}const $702abb11091c1e9a$export$99a62fc039d7aca0={kernelName:$0eb90ddf241a18bf$export$73ba43cd0ce95b10,backendName:"cpu",kernelFunc:$702abb11091c1e9a$export$c4c981cfebdcf90};function $27257ba3ee9e47d8$export$8960430cfd85939f(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{reductionIndices:o,keepDims:s}=n,c=a;let i=r.shape;const d=i.length,f=$5d5df9ecf1c80076$exports.parseAxisParam(o,i);let $=f;const u=$c4c4d404109848b6$exports.getAxesPermutation($,d);let p=c.data.get(r.dataId).values;if(null!=u){const e=new Array(d);for(let t=0;t<e.length;t++)e[t]=i[u[t]];p=$0351532618eecdf1$export$986b9e65182e08d(p,i,r.dtype,u,e),$=$c4c4d404109848b6$exports.getInnerMostAxes($.length,d),i=e}$a610dd74d979c6f8$export$1412c17b2531581a(r,"max"),$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("max",$,d);const[l,b]=$c4c4d404109848b6$exports.computeOutAndReduceShapes(i,$),h=$71fc9e36d85670a1$export$23c9b99bdac85be0(p,$5d5df9ecf1c80076$exports.sizeFromShape(b),l,r.dtype),x=c.write(h,l,r.dtype);let m=l;if(s){m=$c4c4d404109848b6$exports.expandShapeToKeepDim(l,f)}return{dataId:x,shape:m,dtype:r.dtype}}const $27257ba3ee9e47d8$export$7d79147246e312bb={kernelName:$0eb90ddf241a18bf$export$d36c09e5d02927e7,backendName:"cpu",kernelFunc:$27257ba3ee9e47d8$export$8960430cfd85939f};function $04400afad5498339$export$e4aadcf115842782(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t;$a610dd74d979c6f8$export$1412c17b2531581a(r,"maxPool");const{filterSize:o,strides:s,pad:c,dimRoundingMode:i}=n;$5d5df9ecf1c80076$exports.assert($c4c4d404109848b6$exports.eitherStridesOrDilationsAreOne(s,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`));const d=$c4c4d404109848b6$exports.computePool2DInfo(r.shape,o,s,1,c,i);let f;if(1===d.filterWidth&&1===d.filterHeight&&$5d5df9ecf1c80076$exports.arraysEqual(d.inShape,d.outShape))f=$ce3553c9094c2ca5$export$f0954fd7d5368655({inputs:{x:r},backend:a});else{const e=a.data.get(r.dataId).values,t=$5d5df9ecf1c80076$exports.computeStrides(r.shape),n=$e64b45bd3fd7879e$export$7a0e2789ec54f0db(e,r.shape,r.dtype,t,d,"max");f=a.makeTensorInfo(d.outShape,r.dtype,n.values)}return f}const $04400afad5498339$export$45c8263b38f19e33={kernelName:$0eb90ddf241a18bf$export$39ea33024ddd5cf,backendName:"cpu",kernelFunc:$04400afad5498339$export$e4aadcf115842782};function $2363fea8d29da83a$export$bf5a4705068838e7(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{filterSize:o,strides:s,pad:c,dimRoundingMode:i,dataFormat:d}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"maxPool3d");const f=$c4c4d404109848b6$exports.computePool3DInfo(r.shape,o,s,1,c,i,d),$=$e64b45bd3fd7879e$export$3712ebf21d29ff82(a.data.get(r.dataId).values,r.shape,r.dtype,$5d5df9ecf1c80076$exports.computeStrides(r.shape),f,"max");return a.makeTensorInfo($.shape,"float32",$.values)}const $2363fea8d29da83a$export$91a8fc5da39ec855={kernelName:$0eb90ddf241a18bf$export$88fdc64af890fc53,backendName:"cpu",kernelFunc:$2363fea8d29da83a$export$bf5a4705068838e7};function $d249ba63a7d3a081$export$e68b9bef571dd4ea(e){const{inputs:t,backend:a,attrs:n}=e,{dy:r,input:o}=t,{filterSize:s,strides:c,pad:i,dimRoundingMode:d}=n;$a610dd74d979c6f8$export$1412c17b2531581a([r,o],"maxPool3DGrad");const f=$c4c4d404109848b6$exports.computePool3DInfo(o.shape,s,c,1,i,d),$=$e64b45bd3fd7879e$export$e389a84eda2bb69e(a.bufferSync(o),f),u=f.strideDepth,p=f.strideHeight,l=f.strideWidth,b=f.dilationDepth,h=f.dilationHeight,x=f.dilationWidth,m=f.effectiveFilterDepth,g=f.effectiveFilterHeight,v=f.effectiveFilterWidth,y=m-1-f.padInfo.front,w=v-1-f.padInfo.left,_=g-1-f.padInfo.top,I=$05a66951e325e00b$export$ab1029bcae9ddb4a(o.shape,"float32"),S=a.bufferSync(r);for(let e=0;e<f.batchSize;++e)for(let t=0;t<f.inChannels;++t)for(let a=0;a<f.inDepth;++a)for(let n=0;n<f.inHeight;++n)for(let r=0;r<f.inWidth;++r){const o=a-y,s=n-_,c=r-w;let i=0;for(let a=0;a<m;a+=b){const n=(o+a)/u;if(!(n<0||n>=f.outDepth||Math.floor(n)!==n))for(let r=0;r<g;r+=h){const o=(s+r)/p;if(!(o<0||o>=f.outHeight||Math.floor(o)!==o))for(let s=0;s<v;s+=x){const d=(c+s)/l;if(d<0||d>=f.outWidth||Math.floor(d)!==d)continue;const u=m*g*v-1-$.get(e,n,o,d,t)===a*g*v+r*v+s?1:0;if(0===u)continue;i+=S.get(e,n,o,d,t)*u}}}I.set(i,e,a,n,r,t)}return a.makeTensorInfo(I.shape,I.dtype,I.values)}const $d249ba63a7d3a081$export$5201426bb10bd5eb={kernelName:$0eb90ddf241a18bf$export$52be2c00371a1350,backendName:"cpu",kernelFunc:$d249ba63a7d3a081$export$e68b9bef571dd4ea};function $328b1c667ab7d26d$export$85dfd1121f049514(e){const{inputs:t,backend:a,attrs:n}=e,{dy:r,input:o,output:s}=t,c=o;$a610dd74d979c6f8$export$1412c17b2531581a([o,s],"maxPoolGrad");const{filterSize:i,strides:d,pad:f,dimRoundingMode:$}=n,u=$c4c4d404109848b6$exports.computePool2DInfo(c.shape,i,d,1,f,$),p=a.data.get(c.dataId).values,l=$05a66951e325e00b$export$ab1029bcae9ddb4a(u.outShape,c.dtype,$e64b45bd3fd7879e$export$60b78444d0fe518d(p,c.shape,c.dtype,u).values),b=u.strideHeight,h=u.strideWidth,x=u.dilationHeight,m=u.dilationWidth,g=u.effectiveFilterHeight,v=u.effectiveFilterWidth,y=v-1-u.padInfo.left,w=g-1-u.padInfo.top,_=$05a66951e325e00b$export$ab1029bcae9ddb4a(c.shape,"float32"),I=a.data.get(r.dataId).values,S=$05a66951e325e00b$export$ab1029bcae9ddb4a(r.shape,"float32",I);for(let e=0;e<u.batchSize;++e)for(let t=0;t<u.inChannels;++t)for(let a=0;a<u.inHeight;++a)for(let n=0;n<u.inWidth;++n){const r=a-w,o=n-y;let s=0;for(let a=0;a<g;a+=x){const n=(r+a)/b;if(!(n<0||n>=u.outHeight||Math.floor(n)!==n))for(let r=0;r<v;r+=m){const c=(o+r)/h;if(c<0||c>=u.outWidth||Math.floor(c)!==c)continue;const i=g*v-1-l.get(e,n,c,t)===a*v+r?1:0;if(0===i)continue;s+=S.get(e,n,c,t)*i}}_.set(s,e,a,n,t)}return a.makeTensorInfo(_.shape,_.dtype,_.values)}const $328b1c667ab7d26d$export$e01a7f8dbee29127={kernelName:$0eb90ddf241a18bf$export$f0f010b1d1db8a46,backendName:"cpu",kernelFunc:$328b1c667ab7d26d$export$85dfd1121f049514};function $d178bacfc2c45f48$export$3cc34964a47e7a3f(e,t,a,n,r){const o=$e64b45bd3fd7879e$export$7a0e2789ec54f0db(e,t,a,$5d5df9ecf1c80076$exports.computeStrides(t),r,"max"),s=$e64b45bd3fd7879e$export$60b78444d0fe518d(e,t,a,r,!0,n);return[o.values,s.values]}const $9f34089fa8f9ac99$export$a069ee2247a7d1ce={kernelName:$0eb90ddf241a18bf$export$deac4b7497b4047f,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:a})=>{const{x:n}=e,{filterSize:r,strides:o,pad:s,includeBatchInIndex:c}=t,i=a;$a610dd74d979c6f8$export$1412c17b2531581a(n,"MaxPoolWithArgmax");const d=i.data.get(n.dataId).values,f=$c4c4d404109848b6$exports.computePool2DInfo(n.shape,r,o,[1,1],s),[$,u]=$d178bacfc2c45f48$export$3cc34964a47e7a3f(d,n.shape,n.dtype,c,f),p=i.write($,f.outShape,n.dtype),l=i.write(u,f.outShape,n.dtype);return[{dataId:p,shape:f.outShape,dtype:n.dtype},{dataId:l,shape:f.outShape,dtype:"int32"}]}};function $8fd7afbe0a6a1595$export$1ce691f85baaa52(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{axis:o,keepDims:s}=n,c=$5d5df9ecf1c80076$exports.parseAxisParam(o,r.shape),i=$c4c4d404109848b6$exports.computeOutAndReduceShapes(r.shape,c)[1],d=$5d5df9ecf1c80076$exports.sizeFromShape(i),f=[],$=a.makeTensorInfo([],"float32",new Float32Array([d]));f.push($);const u=$b24dde8cf719cd9e$export$f2db7d5238e1d23f({inputs:{x:r},backend:a,attrs:{dtype:"float32"}});f.push(u);const p=$a309c50147cae936$export$159d9494db57879b({inputs:{a:u,b:$},backend:a});f.push(p);const l=$f68724a26ebcea86$export$8a63f25cc62965f1({inputs:{x:p},backend:a,attrs:{axis:o,keepDims:s}});return f.forEach((e=>a.disposeIntermediateTensorInfo(e))),l}const $8fd7afbe0a6a1595$export$b934af0ccd0cdbe1={kernelName:$0eb90ddf241a18bf$export$1c2d59c4b681fbd8,backendName:"cpu",kernelFunc:$8fd7afbe0a6a1595$export$1ce691f85baaa52};function $b38c6a0c6b61e523$export$96ec731ed4dcb222(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{axis:o,keepDims:s}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"min");const c=$5d5df9ecf1c80076$exports.parseAxisParam(o,r.shape);let i=c;const d=$c4c4d404109848b6$exports.getAxesPermutation(i,r.shape.length);let f=r;null!=d&&(f=$61f81ad1f2b16ca7$export$9cb09a71b7d66923({inputs:{x:r},backend:a,attrs:{perm:d}}),i=$c4c4d404109848b6$exports.getInnerMostAxes(i.length,r.shape.length)),$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("min",i,f.shape.length);const[$,u]=$c4c4d404109848b6$exports.computeOutAndReduceShapes(f.shape,i),p=$5d5df9ecf1c80076$exports.sizeFromShape(u),l=$5d5df9ecf1c80076$exports.makeZerosTypedArray($5d5df9ecf1c80076$exports.sizeFromShape($),f.dtype),b=a.data.get(f.dataId).values;for(let e=0;e<l.length;++e){const t=e*p;let a=b[t];for(let e=0;e<p;++e){const n=b[t+e];(Number.isNaN(n)||n<a)&&(a=n)}l[e]=a}null!=d&&a.disposeIntermediateTensorInfo(f);const h=a.makeTensorInfo($,f.dtype,l);if(s){const e=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:h},backend:a,attrs:{shape:$c4c4d404109848b6$exports.expandShapeToKeepDim($,c)}});return a.disposeIntermediateTensorInfo(h),e}return h}const $b38c6a0c6b61e523$export$3cd9f9a31b38cf18={kernelName:$0eb90ddf241a18bf$export$dfed19fabc75a31d,backendName:"cpu",kernelFunc:$b38c6a0c6b61e523$export$96ec731ed4dcb222};function $d8c2e5a50715e829$export$c0b11600e90b86ae(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{paddings:o,mode:s}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"mirrorPad");const c=o.map(((e,t)=>e[0]+r.shape[t]+e[1])),i=o.map((e=>e[0])),d=o.map(((e,t)=>e[0]+r.shape[t])),f="reflect"===s?0:1,$=a.data.get(r.dataId).values,u=r.shape.length,p=$5d5df9ecf1c80076$exports.computeStrides(r.shape),l=$5d5df9ecf1c80076$exports.sizeFromShape(c),b=c.length,h=$5d5df9ecf1c80076$exports.computeStrides(c),x=$5d5df9ecf1c80076$exports.getTypedArrayFromDType(r.dtype,l);for(let e=0;e<l;e++){let t=$5d5df9ecf1c80076$exports.indexToLoc(e,b,h);for(let e=0;e<b;e++)t[e]<i[e]?t[e]=2*i[e]-t[e]-f:t[e]>=d[e]&&(t[e]=2*(d[e]-1)-t[e]+f);t=t.map(((e,t)=>e-i[t]));const a=$5d5df9ecf1c80076$exports.locToIndex(t,u,p);x[e]=$[a]}return{dataId:a.write(x,c,r.dtype),shape:c,dtype:r.dtype}}const $d8c2e5a50715e829$export$2cfd6c6c7daeb5fc={kernelName:$0eb90ddf241a18bf$export$f4c0e95fd7fd31e5,backendName:"cpu",kernelFunc:$d8c2e5a50715e829$export$c0b11600e90b86ae},$bdde61d56117549c$export$fc31b6ef8ca4db11=$dd3145371544799a$export$28de919591fae5d9(((e,t)=>{const a=e%t;return e<0&&t<0||e>=0&&t>=0?a:(a+t)%t})),$bdde61d56117549c$export$842a2cf37af977e1=$fd60d8c5c1532db1$export$29353c66e70e3e16($0eb90ddf241a18bf$export$e4835a5e3f3674d5,$bdde61d56117549c$export$fc31b6ef8ca4db11),$bdde61d56117549c$export$9037685a81180a9c={kernelName:$0eb90ddf241a18bf$export$e4835a5e3f3674d5,backendName:"cpu",kernelFunc:$bdde61d56117549c$export$842a2cf37af977e1};var $946bd74ae4f403a6$exports={},$6kMu8=parcelRequire("6kMu8"),$7PtKt=parcelRequire("7PtKt"),$8JFrq=parcelRequire("8JFrq"),$kYpbT=parcelRequire("kYpbT"),$2ZlHt=parcelRequire("2ZlHt"),$1Vqih=parcelRequire("1Vqih"),$1aa9035d3cee3a07$exports={};function $42dd39dceff04b0f$export$e008137e76238601(e){const{inputs:t,backend:a,attrs:n}=e,{logits:r}=t,{dim:o}=n,s=r.shape.length;let c=o;if(-1===c&&(c=s-1),c!==s-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${s} and dim was ${c}`);const i=$5d5df9ecf1c80076$exports.parseAxisParam([c],r.shape),d=$27257ba3ee9e47d8$export$8960430cfd85939f({inputs:{x:r},backend:a,attrs:{reductionIndices:i,keepDims:!1}}),f=$c4c4d404109848b6$exports.expandShapeToKeepDim(d.shape,i),$=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:d},backend:a,attrs:{shape:f}}),u=$9f61baa0f7f211bf$export$f93b5905241a7cca({inputs:{a:r,b:$},backend:a}),p=$b234c8aeb0eec368$export$b310ec824aaee37f({inputs:{x:u},backend:a}),l=$f68724a26ebcea86$export$8a63f25cc62965f1({inputs:{x:p},backend:a,attrs:{axis:i,keepDims:!1}}),b=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:l},backend:a,attrs:{shape:f}}),h=$a309c50147cae936$export$159d9494db57879b({inputs:{a:p,b:b},backend:a});return a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo($),a.disposeIntermediateTensorInfo(u),a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(l),a.disposeIntermediateTensorInfo(b),h}!function(e,t){var a,n=this,r=256,o=t.pow(r,6),s=t.pow(2,52),c=2*s,i=255;function d(i,d,b){var h=[],x=p(u((d=1==d?{entropy:!0}:d||{}).entropy?[i,l(e)]:null==i?function(){try{var t;return a&&(t=a.randomBytes)?t=t(r):(t=new Uint8Array(r),(n.crypto||n.msCrypto).getRandomValues(t)),l(t)}catch(t){var o=n.navigator,s=o&&o.plugins;return[+new Date,n,s,n.screen,l(e)]}}():i,3),h),m=new f(h),g=function(){for(var e=m.g(6),t=o,a=0;e<s;)e=(e+a)*r,t*=r,a=m.g(1);for(;e>=c;)e/=2,t/=2,a>>>=1;return(e+a)/t};return g.int32=function(){return 0|m.g(4)},g.quick=function(){return m.g(4)/4294967296},g.double=g,p(l(m.S),e),(d.pass||b||function(e,a,n,r){return r&&(r.S&&$(r,m),e.state=function(){return $(m,{})}),n?(t.random=e,a):e})(g,x,"global"in d?d.global:this==t,d.state)}function f(e){var t,a=e.length,n=this,o=0,s=n.i=n.j=0,c=n.S=[];for(a||(e=[a++]);o<r;)c[o]=o++;for(o=0;o<r;o++)c[o]=c[s=i&s+e[o%a]+(t=c[o])],c[s]=t;(n.g=function(e){for(var t,a=0,o=n.i,s=n.j,c=n.S;e--;)t=c[o=i&o+1],a=a*r+c[i&(c[o]=c[s=i&s+t])+(c[s]=t)];return n.i=o,n.j=s,a})(r)}function $(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function u(e,t){var a,n=[],r=typeof e;if(t&&"object"==r)for(a in e)try{n.push(u(e[a],t-1))}catch(e){}return n.length?n:"string"==r?e:e+"\0"}function p(e,t){for(var a,n=e+"",r=0;r<n.length;)t[i&r]=i&(a^=19*t[i&r])+n.charCodeAt(r++);return l(t)}function l(e){return String.fromCharCode.apply(0,e)}if(t.seedrandom=d,p(t.random(),e),$1aa9035d3cee3a07$exports){$1aa9035d3cee3a07$exports=d;try{a=parcelRequire("ijMvi")}catch(e){}}else"function"==typeof define&&define.amd&&define((function(){return d}))}([],Math),$1aa9035d3cee3a07$exports.alea=$6kMu8,$1aa9035d3cee3a07$exports.xor128=$7PtKt,$1aa9035d3cee3a07$exports.xorwow=$8JFrq,$1aa9035d3cee3a07$exports.xorshift7=$kYpbT,$1aa9035d3cee3a07$exports.xor4096=$2ZlHt,$1aa9035d3cee3a07$exports.tychei=$1Vqih,$946bd74ae4f403a6$exports=$1aa9035d3cee3a07$exports;const $42dd39dceff04b0f$export$c022691f23e2ee69={kernelName:$0eb90ddf241a18bf$export$350a526055d3ca6e,backendName:"cpu",kernelFunc:$42dd39dceff04b0f$export$e008137e76238601};function $73745edf7a4c2a76$export$f4d580f3101a1c7e(e){const{inputs:t,backend:a,attrs:n}=e,{logits:r}=t,{numSamples:o,seed:s,normalized:c}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"multinomial");const i=c?r:$42dd39dceff04b0f$export$e008137e76238601({inputs:{logits:r},backend:a,attrs:{dim:-1}}),d=i.shape[0],f=i.shape[1],$=a.data.get(i.dataId).values,u=[d,o],p=$5d5df9ecf1c80076$exports.makeZerosTypedArray($5d5df9ecf1c80076$exports.sizeFromShape(u),"int32");for(let e=0;e<d;++e){const t=e*f,a=new Float32Array(f-1);a[0]=$[t];for(let e=1;e<a.length;++e)a[e]=a[e-1]+$[t+e];const n=$946bd74ae4f403a6$exports.alea(s.toString()),r=e*o;for(let e=0;e<o;++e){const t=n();p[r+e]=a.length;for(let n=0;n<a.length;n++)if(t<a[n]){p[r+e]=n;break}}}return c||a.disposeIntermediateTensorInfo(i),a.makeTensorInfo(u,"int32",p)}const $73745edf7a4c2a76$export$ad960e364767f0e2={kernelName:$0eb90ddf241a18bf$export$ee0a8cfb693e0e3f,backendName:"cpu",kernelFunc:$73745edf7a4c2a76$export$f4d580f3101a1c7e},$105a68045dc3bb03$var$nonMaxSuppressionV3Impl=$97d6759176c7a39f$exports.nonMaxSuppressionV3Impl;function $105a68045dc3bb03$export$8917e4bf7f7f5d42(e){const{inputs:t,backend:a,attrs:n}=e,{boxes:r,scores:o}=t,{maxOutputSize:s,iouThreshold:c,scoreThreshold:i}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"NonMaxSuppression");const d=a.data.get(r.dataId).values,f=a.data.get(o.dataId).values,{selectedIndices:$}=$105a68045dc3bb03$var$nonMaxSuppressionV3Impl(d,f,s,c,i);return a.makeTensorInfo([$.length],"int32",new Int32Array($))}const $105a68045dc3bb03$export$549561cd158f260a={kernelName:$0eb90ddf241a18bf$export$5e11788439c2f04,backendName:"cpu",kernelFunc:$105a68045dc3bb03$export$8917e4bf7f7f5d42},$29869fdc9a5757bc$var$nonMaxSuppressionV4Impl=$97d6759176c7a39f$exports.nonMaxSuppressionV4Impl;function $29869fdc9a5757bc$export$ad519bdebe8f4dcf(e){const{inputs:t,backend:a,attrs:n}=e,{boxes:r,scores:o}=t,{maxOutputSize:s,iouThreshold:c,scoreThreshold:i,padToMaxOutputSize:d}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"NonMaxSuppressionPadded");const f=a.data.get(r.dataId).values,$=a.data.get(o.dataId).values,{selectedIndices:u,validOutputs:p}=$29869fdc9a5757bc$var$nonMaxSuppressionV4Impl(f,$,s,c,i,d);return[a.makeTensorInfo([u.length],"int32",new Int32Array(u)),a.makeTensorInfo([],"int32",new Int32Array([p]))]}const $29869fdc9a5757bc$export$906b8fb32c570e9d={kernelName:$0eb90ddf241a18bf$export$7df908154366fe7f,backendName:"cpu",kernelFunc:$29869fdc9a5757bc$export$ad519bdebe8f4dcf},$9bf919949426f506$var$nonMaxSuppressionV5Impl=$97d6759176c7a39f$exports.nonMaxSuppressionV5Impl;function $9bf919949426f506$export$49e389fdbe01a534(e){const{inputs:t,backend:a,attrs:n}=e,{boxes:r,scores:o}=t,{maxOutputSize:s,iouThreshold:c,scoreThreshold:i,softNmsSigma:d}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"NonMaxSuppressionWithScore");const f=a.data.get(r.dataId).values,$=a.data.get(o.dataId).values,u=s,p=c,l=i,b=d,{selectedIndices:h,selectedScores:x}=$9bf919949426f506$var$nonMaxSuppressionV5Impl(f,$,u,p,l,b);return[a.makeTensorInfo([h.length],"int32",new Int32Array(h)),a.makeTensorInfo([x.length],"float32",new Float32Array(x))]}const $9bf919949426f506$export$4c00b682f309701d={kernelName:$0eb90ddf241a18bf$export$cb45d3fcefce2ef0,backendName:"cpu",kernelFunc:$9bf919949426f506$export$49e389fdbe01a534};function $e5f1b3f746fe2c2f$export$341b5490a776d041(e){const{inputs:t,backend:a,attrs:n}=e,{indices:r}=t,{depth:o,onValue:s,offValue:c}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"oneHot");const i=$5d5df9ecf1c80076$exports.sizeFromShape(r.shape),d=new Float32Array(i*o);d.fill(c);const f=a.data.get(r.dataId).values;for(let e=0;e<i;++e)f[e]>=0&&f[e]<o&&(d[e*o+f[e]]=s);return a.makeTensorInfo([...r.shape,o],"int32",d)}const $e5f1b3f746fe2c2f$export$dde5645b472b80b2={kernelName:$0eb90ddf241a18bf$export$18982b43ba8c02e9,backendName:"cpu",kernelFunc:$e5f1b3f746fe2c2f$export$341b5490a776d041};function $9f65048ae27ce392$export$cb1f824e7733584d(e){const{inputs:t,backend:a}=e,{x:n}=t;if("string"===n.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===n.dtype){const e=$e450c9206864f81f$export$9fc57fb453bdbd67({inputs:{input:n},backend:a}),t=$9f65048ae27ce392$export$cb1f824e7733584d({inputs:{x:e},backend:a}),r=$41fd66abad0c6d52$export$d78fab5778ab392b({inputs:{input:n},backend:a}),o=$9f65048ae27ce392$export$cb1f824e7733584d({inputs:{x:r},backend:a}),s=$5a06c686963b389a$export$83a0e34f1302825b({inputs:{real:t,imag:o},backend:a});return a.disposeIntermediateTensorInfo(e),a.disposeIntermediateTensorInfo(t),a.disposeIntermediateTensorInfo(r),a.disposeIntermediateTensorInfo(o),s}return $687b332f39d2afc3$export$9563e054e6f787fb({backend:a,attrs:{shape:n.shape,value:0,dtype:n.dtype}})}const $9f65048ae27ce392$export$15368df05c479e41={kernelName:$0eb90ddf241a18bf$export$430969a37eda1e88,backendName:"cpu",kernelFunc:$9f65048ae27ce392$export$cb1f824e7733584d};function $670f8b9d0e48e37f$export$fb6afd6214fee9e9(e){const{inputs:t,backend:a}=e,{x:n}=t;if("string"===n.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===n.dtype){const e=$e450c9206864f81f$export$9fc57fb453bdbd67({inputs:{input:n},backend:a}),t=$670f8b9d0e48e37f$export$fb6afd6214fee9e9({inputs:{x:e},backend:a}),r=$41fd66abad0c6d52$export$d78fab5778ab392b({inputs:{input:n},backend:a}),o=$9f65048ae27ce392$export$cb1f824e7733584d({inputs:{x:r},backend:a}),s=$5a06c686963b389a$export$83a0e34f1302825b({inputs:{real:t,imag:o},backend:a});return a.disposeIntermediateTensorInfo(e),a.disposeIntermediateTensorInfo(t),a.disposeIntermediateTensorInfo(r),a.disposeIntermediateTensorInfo(o),s}return $687b332f39d2afc3$export$9563e054e6f787fb({backend:a,attrs:{shape:n.shape,value:1,dtype:n.dtype}})}const $670f8b9d0e48e37f$export$d8d7015eb6ab37d0={kernelName:$0eb90ddf241a18bf$export$a2962e735c809d91,backendName:"cpu",kernelFunc:$670f8b9d0e48e37f$export$fb6afd6214fee9e9};function $8c9d9e551c7c530a$export$2a703dbb0cb35339(e){const{inputs:t,backend:a,attrs:n}=e,{axis:r}=n;if(1===t.length)return $7daf5ba289406ddb$export$d660d8ed21f46635({inputs:{input:t[0]},backend:a,attrs:{dim:r}});const o=t[0].shape,s=t[0].dtype;t.forEach((e=>{$5d5df9ecf1c80076$exports.assertShapesMatch(o,e.shape,"All tensors passed to stack must have matching shapes"),$5d5df9ecf1c80076$exports.assert(s===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const c=[],i=$800bf73cb2b897c2$export$ee1b3e54f0441b22({inputs:t.map((e=>{const t=$7daf5ba289406ddb$export$d660d8ed21f46635({inputs:{input:e},backend:a,attrs:{dim:r}});return c.push(t),t})),backend:a,attrs:{axis:r}});return c.forEach((e=>a.disposeIntermediateTensorInfo(e))),i}const $8c9d9e551c7c530a$export$1645fa8803aa1f86={kernelName:$0eb90ddf241a18bf$export$c26f40b29201e5b7,backendName:"cpu",kernelFunc:$8c9d9e551c7c530a$export$2a703dbb0cb35339};function $3ad0ff74cf7e20eb$export$f676d6ad4f38bb89(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{paddings:o,constantValue:s}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"pad");const c=o.map(((e,t)=>e[0]+r.shape[t]+e[1])),i=o.map((e=>e[0])),d=a.data.get(r.dataId).values,f=$5d5df9ecf1c80076$exports.sizeFromShape(r.shape),$=r.shape.length,u=$5d5df9ecf1c80076$exports.computeStrides(r.shape),p=$5d5df9ecf1c80076$exports.sizeFromShape(c),l=c.length,b=$5d5df9ecf1c80076$exports.computeStrides(c),h=$5d5df9ecf1c80076$exports.getTypedArrayFromDType(r.dtype,p);0!==s&&h.fill(s);for(let e=0;e<f;e++){const t=$5d5df9ecf1c80076$exports.indexToLoc(e,$,u).map(((e,t)=>e+i[t]));h[$5d5df9ecf1c80076$exports.locToIndex(t,l,b)]=d[e]}return{dataId:a.write(h,c,r.dtype),shape:c,dtype:r.dtype}}const $3ad0ff74cf7e20eb$export$b0317e720bfd61fc={kernelName:$0eb90ddf241a18bf$export$5d47ba206577f0f2,backendName:"cpu",kernelFunc:$3ad0ff74cf7e20eb$export$f676d6ad4f38bb89},$4428e5f37f153100$export$92051c71bb41bd8a=$dd3145371544799a$export$28de919591fae5d9(((e,t)=>Math.pow(e,t))),$4428e5f37f153100$export$9c297f60e22e3389=$fd60d8c5c1532db1$export$29353c66e70e3e16($0eb90ddf241a18bf$export$ce28d653ec559ee,$4428e5f37f153100$export$92051c71bb41bd8a),$4428e5f37f153100$export$b823d49786719761={kernelName:$0eb90ddf241a18bf$export$ce28d653ec559ee,backendName:"cpu",kernelFunc:$4428e5f37f153100$export$9c297f60e22e3389};function $e4405543de6d8d05$export$d02631cccf789723(e){const{backend:t,attrs:a}=e,{start:n,stop:r,dtype:o,step:s}=a,c=$9595a21d3739f473$export$3561205b7dff20bf(n,r,s,o);return t.makeTensorInfo([c.length],o,c)}const $e4405543de6d8d05$export$361c4075706e31c2={kernelName:$0eb90ddf241a18bf$export$9a58ef0d7ad3278c,backendName:"cpu",kernelFunc:$e4405543de6d8d05$export$d02631cccf789723},$8b5f6c39a69fcff4$export$163bc8c839a1ac04=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$c6e4a23ed5e0415b,(e=>1/e)),$8b5f6c39a69fcff4$export$412a6b66203fdf72={kernelName:$0eb90ddf241a18bf$export$c6e4a23ed5e0415b,backendName:"cpu",kernelFunc:$8b5f6c39a69fcff4$export$163bc8c839a1ac04};function $91c110b3caa26efc$export$1f1cbc7da93d06a0(e){const{inputs:t,backend:a,attrs:n}=e,{images:r}=t,{alignCorners:o,halfPixelCenters:s,size:c}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"resizeBilinear");const i=$5d5df9ecf1c80076$exports.computeStrides(r.shape),[d,f]=c,[$,u,p,l]=r.shape,b=a.data.get(r.dataId).values,h=new Float32Array($5d5df9ecf1c80076$exports.sizeFromShape([$,d,f,l])),x=[o&&d>1?u-1:u,o&&f>1?p-1:p],m=[o&&d>1?d-1:d,o&&f>1?f-1:f];let g=0;const v=x[0]/m[0],y=x[1]/m[1];for(let e=0;e<$;e++)for(let t=0;t<d;t++){let a;a=s?v*(t+.5)-.5:v*t;const n=Math.max(0,Math.floor(a)),r=a-n,o=Math.min(u-1,Math.ceil(a)),c=e*i[0]+n*i[1],d=e*i[0]+o*i[1];for(let e=0;e<f;e++){let t;t=s?y*(e+.5)-.5:y*e;const a=Math.max(0,Math.floor(t)),n=t-a,o=Math.min(p-1,Math.ceil(t)),f=c+a*i[2],$=d+a*i[2],u=c+o*i[2],x=d+o*i[2];for(let e=0;e<l;e++){const t=b[f+e],a=b[$+e],o=t+(b[u+e]-t)*n,s=o+(a+(b[x+e]-a)*n-o)*r;h[g++]=s}}}return a.makeTensorInfo([$,d,f,l],"float32",h)}const $91c110b3caa26efc$export$a37a56137abc1357={kernelName:$0eb90ddf241a18bf$export$24f2f15d869e0fd,backendName:"cpu",kernelFunc:$91c110b3caa26efc$export$1f1cbc7da93d06a0};function $f73d380969d97246$export$8899506794ec394(e){const{inputs:t,backend:a,attrs:n}=e,{images:r,dy:o}=t,{alignCorners:s}=n;$a610dd74d979c6f8$export$1412c17b2531581a([o,r],"resizeBilinearGrad");const c=$5d5df9ecf1c80076$exports.computeStrides(r.shape),[i,d,f,$]=r.shape,[,u,p]=o.shape,l=new Float32Array(i*d*f*$),b=[s&&u>1?d-1:d,s&&p>1?f-1:f],h=[s&&u>1?u-1:u,s&&p>1?p-1:p],x=b[0]/h[0],m=b[1]/h[1],g=a.data.get(o.dataId).values;let v=0;for(let e=0;e<i;e++){const t=e*c[0];for(let e=0;e<u;e++){const a=e*x,n=Math.floor(a),r=Math.min(Math.ceil(a),d-1),o=t+n*c[1],s=t+r*c[1],i=a-n,u=1-i;for(let e=0;e<p;e++){const t=e*m,a=Math.floor(t),n=Math.min(Math.ceil(t),f-1),r=t-a,d=1-r,p=o+a*c[2],b=o+n*c[2],h=s+a*c[2],x=s+n*c[2],y=u*d,w=u*r,_=i*d,I=i*r;for(let e=0;e<$;e++){const t=g[v++];l[p+e]+=t*y,l[b+e]+=t*w,l[h+e]+=t*_,l[x+e]+=t*I}}}}return a.makeTensorInfo([i,f,d,$],"float32",l)}const $f73d380969d97246$export$51f84ca614e84763={kernelName:$0eb90ddf241a18bf$export$2d3cf759f1538c13,backendName:"cpu",kernelFunc:$f73d380969d97246$export$8899506794ec394};function $b9f73f10d8493935$export$74a902ae74ac2560(e){const{inputs:t,backend:a,attrs:n}=e,{images:r}=t,{alignCorners:o,halfPixelCenters:s,size:c}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"resizeNearestNeighbor");const i=$5d5df9ecf1c80076$exports.computeStrides(r.shape),[d,f]=c,[$,u,p,l]=r.shape,b=a.data.get(r.dataId).values,h=new Float32Array($*d*f*l),x=[o&&d>1?u-1:u,o&&f>1?p-1:p],m=[o&&d>1?d-1:d,o&&f>1?f-1:f],g=x[0]/m[0],v=x[1]/m[1];let y=0;for(let e=0;e<$;e++){const t=e*i[0];for(let e=0;e<d;e++){const a=s?g*(e+.5):g*e;let n=Math.min(u-1,o?Math.round(a):Math.floor(a));s&&(n=Math.max(0,n));const r=t+n*i[1];for(let e=0;e<f;e++){const t=s?v*(e+.5):v*e;let a=Math.min(p-1,o?Math.round(t):Math.floor(t));s&&(a=Math.max(0,a));const n=r+a*i[2];for(let e=0;e<l;e++){const t=b[n+e];h[y++]=t}}}}return a.makeTensorInfo([$,d,f,l],r.dtype,h)}const $b9f73f10d8493935$export$2b6a92caba113b89={kernelName:$0eb90ddf241a18bf$export$6c8d8ec26192bb18,backendName:"cpu",kernelFunc:$b9f73f10d8493935$export$74a902ae74ac2560};function $a40a4c68b0da8e0f$export$2b75795f158f1b18(e){const{inputs:t,backend:a,attrs:n}=e,{images:r,dy:o}=t,{alignCorners:s}=n;$a610dd74d979c6f8$export$1412c17b2531581a([o,r],"resizeNearestNeighborGrad");const c=$5d5df9ecf1c80076$exports.computeStrides(r.shape),i=$5d5df9ecf1c80076$exports.computeStrides(o.shape),[d,f,$,u]=r.shape,[,p,l]=o.shape,b=new Float32Array(d*f*$*u),h=a.data.get(o.dataId).values,x=[s&&p>1?f-1:f,s&&l>1?$-1:$],m=[s&&p>1?p-1:p,s&&l>1?l-1:l],g=x[0]/m[0],v=x[1]/m[1],y=1/g,w=1/v,_=2*Math.ceil(y)+2,I=2*Math.ceil(w)+2;for(let e=0;e<d;e++){const t=e*c[0];for(let e=0;e<f;e++){const a=t+e*c[1],n=Math.floor(e*y),r=Math.floor(n-_/2);for(let n=0;n<$;n++){const o=a+n*c[2],d=Math.floor(n*w),x=Math.floor(d-I/2);for(let a=0;a<u;a++){let c=0;for(let o=0;o<_;o++){const d=o+r;if(d<0||d>=p)continue;const u=t+d*i[1],b=d*g;if(e===Math.min(f-1,s?Math.round(b):Math.floor(b)))for(let e=0;e<I;e++){const t=e+x;if(t<0||t>=l)continue;const r=u+t*i[2],o=t*v;n===Math.min($-1,s?Math.round(o):Math.floor(o))&&(c+=h[r+a])}}b[o+a]=c}}}}return a.makeTensorInfo(r.shape,r.dtype,b)}const $a40a4c68b0da8e0f$export$2b08d810b5090fe1={kernelName:$0eb90ddf241a18bf$export$b84ac31c55aa023b,backendName:"cpu",kernelFunc:$a40a4c68b0da8e0f$export$2b75795f158f1b18};function $02ad27b5a7ffc94d$export$66c1ae025e96b4bc(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{dims:o}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"reverse");const s=r.shape.length,c=$5d5df9ecf1c80076$exports.parseAxisParam(o,r.shape);if(0===s)return $ce3553c9094c2ca5$export$f0954fd7d5368655({inputs:{x:r},backend:a});const i=new $eaf1009c48c149de$export$350df26cd52e08e1(r.shape,r.dtype),d=a.bufferSync(r);for(let e=0;e<i.size;e++){const t=i.indexToLoc(e),a=t.slice();c.forEach((e=>a[e]=r.shape[e]-1-a[e])),i.set(d.get(...a),...t)}return a.makeTensorInfo(i.shape,i.dtype,i.values)}const $02ad27b5a7ffc94d$export$cab6a4e8d2ed8e8d={kernelName:$0eb90ddf241a18bf$export$53c81f36b32e1bba,backendName:"cpu",kernelFunc:$02ad27b5a7ffc94d$export$66c1ae025e96b4bc},$89ba58ed077f9651$export$44ba8c83417ab668={kernelName:$0eb90ddf241a18bf$export$c5a44649815d1c3,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:a})=>{const{image:n}=e,{radians:r,fillValue:o,center:s}=t,c=a,i=$5d5df9ecf1c80076$exports.getTypedArrayFromDType(n.dtype,$5d5df9ecf1c80076$exports.sizeFromShape(n.shape)),[d,f,$,u]=n.shape,[p,l]=$c4c4d404109848b6$exports.getImageCenter(s,f,$),b=Math.sin(r),h=Math.cos(r),x=c.data.get(n.dataId).values;for(let e=0;e<d;e++){const t=e*$*f*u;for(let e=0;e<f;e++){const a=e*($*u);for(let n=0;n<$;n++){const r=n*u;for(let s=0;s<u;s++){const c=[d,e,n,s],m=c[2],g=c[1];let v=(m-p)*h-(g-l)*b,y=(m-p)*b+(g-l)*h;v=Math.round(v+p),y=Math.round(y+l);let w=o;if("number"!=typeof o&&(w=3===s?255:o[s]),v>=0&&v<$&&y>=0&&y<f){w=x[t+y*($*u)+v*u+s]}i[t+a+r+s]=w}}}}return{dataId:c.write(i,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}},$67c5d7bbe174f54a$export$2077e0241d6afd3c=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$c5ed3eef16c0612f,(e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2==0?t:t+1})),$67c5d7bbe174f54a$export$6c09e3291f636503={kernelName:$0eb90ddf241a18bf$export$c5ed3eef16c0612f,backendName:"cpu",kernelFunc:$67c5d7bbe174f54a$export$2077e0241d6afd3c};function $98b67f20e5c65459$export$5fc9b0358a19bd54(e,t,a,n,r,o,s,c,i,d){const f=[n/r,r],$=e.values,u=t.values;if(0===n)return $05a66951e325e00b$export$ab1029bcae9ddb4a(a,t.dtype);const p=$05a66951e325e00b$export$ab1029bcae9ddb4a(f,t.dtype);p.values.fill(i);for(let e=0;e<o;e++){const o=[];let i=0;for(let t=0;t<s;t++){const a=$[e*s+t];o.push(a),i+=a*c[t]}if(i<0||i>=n/r)throw new Error(`Invalid indices: ${o} does not index into ${a}`);for(let a=0;a<r;a++)d?p.values[i*r+a]+=u[e*r+a]:p.values[i*r+a]=0===t.rank?u[0]:u[e*r+a]}return p}function $1b1e4c44221e5883$export$b6f42038a536d877(e){const{inputs:t,backend:a,attrs:n}=e,{indices:r,updates:o}=t,{shape:s}=n,{sliceRank:c,numUpdates:i,sliceSize:d,strides:f,outputSize:$}=$c4c4d404109848b6$exports.calculateShapes(o,r,s),u=$98b67f20e5c65459$export$5fc9b0358a19bd54(a.bufferSync(r),a.bufferSync(o),s,$,d,i,c,f,0,!0);return a.makeTensorInfo(s,u.dtype,u.values)}const $1b1e4c44221e5883$export$573371744f044f5={kernelName:$0eb90ddf241a18bf$export$28eef6f0168af686,backendName:"cpu",kernelFunc:$1b1e4c44221e5883$export$b6f42038a536d877};function $73d21a5ed4c3aae5$export$2e6c959c16ff56b8(e){const{inputs:t,backend:a}=e,{condition:n,t:r,e:o}=t;$a610dd74d979c6f8$export$1412c17b2531581a([n,r,o],"select");const s=n.shape.length,c=a.data.get(n.dataId).values,i=a.data.get(r.dataId).values,d=a.data.get(o.dataId).values,f=$063ffdf621a4b072$export$7bcca02d1a156bdf(r.dtype,o.dtype),$=$5d5df9ecf1c80076$exports.makeZerosTypedArray($5d5df9ecf1c80076$exports.sizeFromShape(r.shape),f);let u=0;const p=0===s||s>1||1===r.shape.length?1:$5d5df9ecf1c80076$exports.sizeFromShape(r.shape.slice(1));for(let e=0;e<c.length;e++)for(let t=0;t<p;t++)1===c[e]?$[u++]=i[e]:$[u++]=d[e];return a.makeTensorInfo(r.shape,f,$)}const $73d21a5ed4c3aae5$export$7ff911e710ee72fc={kernelName:$0eb90ddf241a18bf$export$ef9b1a59e592288f,backendName:"cpu",kernelFunc:$73d21a5ed4c3aae5$export$2e6c959c16ff56b8},$4679ae2d269c4dc6$var$scaleAlpha=$c4c4d404109848b6$exports.SELU_SCALEALPHA,$4679ae2d269c4dc6$var$scale=$c4c4d404109848b6$exports.SELU_SCALE,$4679ae2d269c4dc6$export$a5f8240d9e99b438=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$6760d858e6f2594a,(e=>e>=0?$4679ae2d269c4dc6$var$scale*e:$4679ae2d269c4dc6$var$scaleAlpha*(Math.exp(e)-1))),$4679ae2d269c4dc6$export$8afc8558705c1a39={kernelName:$0eb90ddf241a18bf$export$6760d858e6f2594a,backendName:"cpu",kernelFunc:$4679ae2d269c4dc6$export$a5f8240d9e99b438},$577d09272639f5bc$export$c5552dfdbc7cec71=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$1db683ad541682f6,(e=>e<0?-1:e>0?1:0)),$577d09272639f5bc$export$9c0fb3eb2124ceb7={kernelName:$0eb90ddf241a18bf$export$1db683ad541682f6,backendName:"cpu",kernelFunc:$577d09272639f5bc$export$c5552dfdbc7cec71},$3ac82d102159a2f6$export$5de3937cb4b592ed=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$75be1b631f7687,(e=>Math.sin(e))),$3ac82d102159a2f6$export$d993ec4e5c253b66={kernelName:$0eb90ddf241a18bf$export$75be1b631f7687,backendName:"cpu",kernelFunc:$3ac82d102159a2f6$export$5de3937cb4b592ed},$c241708ffb3762e0$export$545004b505d7c555=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$b8c187376329d79b,(e=>Math.sinh(e))),$c241708ffb3762e0$export$b92766b47f18ac85={kernelName:$0eb90ddf241a18bf$export$b8c187376329d79b,backendName:"cpu",kernelFunc:$c241708ffb3762e0$export$545004b505d7c555},$ac1b5a7bdd970f9d$var$epsilon=1.1920928955078125e-7,$ac1b5a7bdd970f9d$var$threshold=Math.log($ac1b5a7bdd970f9d$var$epsilon)+2,$ac1b5a7bdd970f9d$export$76aa560a8c2b0055=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$c5af433747f1fd0a,(e=>{const t=e>-$ac1b5a7bdd970f9d$var$threshold,a=e<$ac1b5a7bdd970f9d$var$threshold,n=Math.exp(e);let r;return r=a?n:t?e:Math.log(1+n),r})),$ac1b5a7bdd970f9d$export$d9bcfe553d12d9e3={kernelName:$0eb90ddf241a18bf$export$c5af433747f1fd0a,backendName:"cpu",kernelFunc:$ac1b5a7bdd970f9d$export$76aa560a8c2b0055};function $ba095594910cd800$export$effb9d7cae92012f(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{blockShape:o,paddings:s}=n;$a610dd74d979c6f8$export$1412c17b2531581a([r],"spaceToBatchND");const c=$5d5df9ecf1c80076$exports.sizeFromShape(o),i=[[0,0]];i.push(...s);for(let e=1+o.length;e<r.shape.length;++e)i.push([0,0]);const d=$3ad0ff74cf7e20eb$export$b0317e720bfd61fc.kernelFunc({inputs:{x:r},backend:a,attrs:{paddings:i,constantValue:0}}),f=$c4c4d404109848b6$exports.getReshaped(d.shape,o,c,!1),$=$c4c4d404109848b6$exports.getPermuted(f.length,o.length,!1),u=$c4c4d404109848b6$exports.getReshapedPermuted(d.shape,o,c,!1),p=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:d},backend:a,attrs:{shape:f}}),l=$61f81ad1f2b16ca7$export$9cb09a71b7d66923({inputs:{x:p},backend:a,attrs:{perm:$}}),b=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:l},backend:a,attrs:{shape:u}});return a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(l),b}const $ba095594910cd800$export$2f85417863d2050b={kernelName:$0eb90ddf241a18bf$export$f63ac5409312707c,backendName:"cpu",kernelFunc:$ba095594910cd800$export$effb9d7cae92012f};function $83d52d8945170e5d$export$c82a1904a15b5028(e){const{inputs:t,backend:a}=e,{indices:n,values:r,denseShape:o,defaultValue:s}=t;if(1!==o.shape.length)throw new Error(`Dense shape must be a vector, saw:\n        ${o.shape}`);if(2!==n.shape.length)throw new Error(`Indices must be a matrix, saw:\n        ${n.shape}`);if(1!==r.shape.length)throw new Error(`Values must be a vector, saw:\n        ${r.shape}`);if(0!==s.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${s.shape}`);const c=a.data.get(n.dataId).values,i=a.data.get(r.dataId).values,d=a.data.get(o.dataId).values,f=a.data.get(s.dataId).values[0],[$,u,p,l,b]=$a5427b1ddd7612eb$export$9db01208a1bec190(c,n.shape,n.dtype,i,r.dtype,d,f);return[a.makeTensorInfo(u,n.dtype,$),a.makeTensorInfo([u[0]],r.dtype,p),a.makeTensorInfo([l.length],"bool",new Uint8Array(l.map((e=>Number(e))))),a.makeTensorInfo([b.length],n.dtype,new Int32Array(b))]}const $83d52d8945170e5d$export$818286c593224d1a={kernelName:$0eb90ddf241a18bf$export$8f1933853a5c8cca,backendName:"cpu",kernelFunc:$83d52d8945170e5d$export$c82a1904a15b5028};function $43d7c7f3bb79ea07$export$1408c45865e11fc6(e){const{inputs:t,backend:a}=e,{inputIndices:n,inputShape:r,newShape:o}=t;if(2!==n.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${n.shape}`);if(1!==r.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${r.shape}`);if(1!==o.shape.length)throw new Error(`Target shape should be a vector but received shape ${o.shape}`);const s=Array.from(a.data.get(r.dataId).values),c=a.data.get(n.dataId).values,i=Array.from(a.data.get(o.dataId).values),[d,f,$]=$be64bb2f8f7ebf6f$export$a65a15ebab81f5cd(c,n.shape,n.dtype,s,i);return[a.makeTensorInfo(f,n.dtype,d),a.makeTensorInfo([$.length],o.dtype,new Int32Array($))]}const $43d7c7f3bb79ea07$export$eb106efc10374803={kernelName:$0eb90ddf241a18bf$export$f08f0dca44fa542,backendName:"cpu",kernelFunc:$43d7c7f3bb79ea07$export$1408c45865e11fc6};function $4ff4e35440aa1731$export$dbc0c9096869d04e(e){const{inputs:t,backend:a}=e,{data:n,indices:r,segmentIds:o}=t;if(n.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n          ${r.shape}`);if(1!==o.shape.length)throw new Error(`Segment ids should be a vector but received shape\n          ${o.shape}`);if(r.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const s=a.data.get(n.dataId).values,c=a.data.get(r.dataId).values,i=a.data.get(o.dataId).values,[d,f]=$b080b65bcdb9aafb$export$7d3f7130c4245e65(s,n.shape,n.dtype,c,i,!0);return a.makeTensorInfo(f,n.dtype,d)}const $4ff4e35440aa1731$export$51e7224ae14d7f78={kernelName:$0eb90ddf241a18bf$export$610b077aecc2447b,backendName:"cpu",kernelFunc:$4ff4e35440aa1731$export$dbc0c9096869d04e};function $8d86ba5d866a2dea$export$2255ce53fc777865(e){const{inputs:t,backend:a}=e,{data:n,indices:r,segmentIds:o}=t;if(n.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n         ${r.shape}`);if(1!==o.shape.length)throw new Error(`Segment ids should be a vector but received shape\n         ${o.shape}`);if(r.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const s=a.data.get(n.dataId).values,c=a.data.get(r.dataId).values,i=a.data.get(o.dataId).values,[d,f]=$b080b65bcdb9aafb$export$7d3f7130c4245e65(s,n.shape,n.dtype,c,i);return a.makeTensorInfo(f,n.dtype,d)}const $8d86ba5d866a2dea$export$73fa0270f28b9555={kernelName:$0eb90ddf241a18bf$export$68351c28d7116b56,backendName:"cpu",kernelFunc:$8d86ba5d866a2dea$export$2255ce53fc777865};function $c624ae249b95a541$export$1be4b823dd1a3080(e){const{inputs:t,backend:a,attrs:n}=e,{sparseIndices:r,sparseValues:o,defaultValue:s}=t,{outputShape:c}=n,{sliceRank:i,numUpdates:d,sliceSize:f,strides:$,outputSize:u}=$c4c4d404109848b6$exports.calculateShapes(o,r,c),p=$98b67f20e5c65459$export$5fc9b0358a19bd54(a.bufferSync(r),a.bufferSync(o),c,u,f,d,i,$,a.data.get(s.dataId).values[0],!1);return a.makeTensorInfo(c,p.dtype,p.values)}const $c624ae249b95a541$export$7bc088f8ad44ef99={kernelName:$0eb90ddf241a18bf$export$2c426709a9332421,backendName:"cpu",kernelFunc:$c624ae249b95a541$export$1be4b823dd1a3080};function $583798c122ba6af8$export$c0085d48b0a75d8f(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{numOrSizeSplits:o,axis:s}=n,c=$5d5df9ecf1c80076$exports.parseAxisParam(s,r.shape)[0],i=$c4c4d404109848b6$exports.prepareSplitSize(r,o,c),d=new Array(r.shape.length).fill(0),f=r.shape.slice();return i.map((e=>{const t=[...f];t[c]=e;const n=$b3c67133f4f177b8$export$58adb3bec8346d0f({inputs:{x:r},backend:a,attrs:{begin:d,size:t}});return d[c]+=e,n}))}const $583798c122ba6af8$export$317be24be3af9ea0={kernelName:$0eb90ddf241a18bf$export$8dffabb4071f05aa,backendName:"cpu",kernelFunc:$583798c122ba6af8$export$c0085d48b0a75d8f},$1a4da5d84f5caec5$export$7c77bece4d51efc4={kernelName:$0eb90ddf241a18bf$export$b09fb900337259de,backendName:"cpu",kernelFunc:({inputs:e,backend:t})=>{const{x:a}=e,n=t;$a610dd74d979c6f8$export$1412c17b2531581a(a,"square");const r=n.data.get(a.dataId).values,o=new Float32Array(r.length);for(let e=0;e<r.length;++e){const t=r[e];o[e]=t*t}return{dataId:n.write(o,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},$a8e67caf6de9edee$export$35d34bc0ed591a92=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$fd55ce593607084a,((e,t)=>{const a=t;return isNaN(e)?NaN:e>0?1:a.alpha})),$a8e67caf6de9edee$export$c42ffaf52eb2647={kernelName:$0eb90ddf241a18bf$export$fd55ce593607084a,backendName:"cpu",kernelFunc:$a8e67caf6de9edee$export$35d34bc0ed591a92};function $3716a464acd3ffa8$export$4ae57224f3b0605c(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{begin:o,end:s,strides:c,beginMask:i,endMask:d,ellipsisMask:f,newAxisMask:$,shrinkAxisMask:u}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"stridedSlice");const{finalShapeSparse:p,finalShape:l,isIdentity:b,sliceDim0:h,isSimpleSlice:x,begin:m,end:g,strides:v}=$6f2324169bf0e939$exports.sliceInfo(r.shape,o,s,c,i,d,f,$,u);let y;if(b)y=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:r},backend:a,attrs:{shape:l}});else if(h||x){$5d5df9ecf1c80076$exports.assert(r.shape.length>=1,(()=>`Input must have rank at least 1, got: ${r.shape.length}`));const e=$6f2324169bf0e939$exports.computeOutShape(m,g,v),t=$b3c67133f4f177b8$export$58adb3bec8346d0f({inputs:{x:r},backend:a,attrs:{begin:m,size:e}});y=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:t},backend:a,attrs:{shape:l}}),a.disposeIntermediateTensorInfo(t)}else{const e=$1ad18ebc53d8b619$export$b7c450ffe7e10d88(p,a.bufferSync(r),v,m);y=a.makeTensorInfo(l,e.dtype,e.values)}return y}const $3716a464acd3ffa8$export$81773633114187bd={kernelName:$0eb90ddf241a18bf$export$60c7f9ac271417a9,backendName:"cpu",kernelFunc:$3716a464acd3ffa8$export$4ae57224f3b0605c};function $ba5f659369a6fa33$export$3490514dcc63b044(e){const{inputs:t,backend:a,attrs:n}=e,{separator:r,nGramWidths:o,leftPad:s,rightPad:c,padWidth:i,preserveShortSequences:d}=n,{data:f,dataSplits:$}=t,u=a.data.get(f.dataId).values,p=a.data.get($.dataId).values,[l,b]=$0815bc80fd64de2e$export$67c0958e8184138b(u,p,r,o,s,c,i,d);return[a.makeTensorInfo([l.length],"string",l),a.makeTensorInfo($.shape,"int32",b)]}const $ba5f659369a6fa33$export$35e13284eed34c22={kernelName:$0eb90ddf241a18bf$export$11a7f4af7d96ad41,backendName:"cpu",kernelFunc:$ba5f659369a6fa33$export$3490514dcc63b044};function $755b7c97cb7640f5$export$aa7f8babb17e7672(e){const{inputs:t,backend:a,attrs:n}=e,{skipEmpty:r}=n,{input:o,delimiter:s}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");if(1!==o.shape.length)throw new Error(`Input must be a vector, got shape: ${o.shape}`);if(0!==s.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${s.shape}`);const c=a.data.get(o.dataId).values,i=a.data.get(s.dataId).values[0],[d,f,$]=$a59fa5395e12d6f9$export$c3b08e43aa36d65d(c,i,r),u=f.length;return[a.makeTensorInfo([u,2],"int32",d),a.makeTensorInfo([u],"string",f),a.makeTensorInfo([2],"int32",new Int32Array($))]}const $755b7c97cb7640f5$export$c51cbbd627a96532={kernelName:$0eb90ddf241a18bf$export$7e266f7223b9d396,backendName:"cpu",kernelFunc:$755b7c97cb7640f5$export$aa7f8babb17e7672};function $1daa3c5b1a97169f$export$6195616d6fd0c848(e){const{inputs:t,backend:a,attrs:n}=e,{numBuckets:r}=n,{input:o}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const s=$80c9bedebdbfc94e$export$37cbed4d0b2fe56a(a.data.get(o.dataId).values,r);return a.makeTensorInfo(o.shape,"int32",s)}const $1daa3c5b1a97169f$export$a88a78b2b233f507={kernelName:$0eb90ddf241a18bf$export$a5639899909bc8ae,backendName:"cpu",kernelFunc:$1daa3c5b1a97169f$export$6195616d6fd0c848},$7a3fb3e9053b4f22$export$fcdd3b0b3246a325=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$115b2d5263ba5985,(e=>Math.tan(e))),$7a3fb3e9053b4f22$export$97648844df7611f3={kernelName:$0eb90ddf241a18bf$export$115b2d5263ba5985,backendName:"cpu",kernelFunc:$7a3fb3e9053b4f22$export$fcdd3b0b3246a325},$8ed3a7a62293c5c4$export$7128670e45beef9a=$8a80747e3d72851c$export$ba4daf5748026fba($0eb90ddf241a18bf$export$893b6e865e352c83,(e=>Math.tanh(e))),$8ed3a7a62293c5c4$export$a2fc7de1a1e4eee0={kernelName:$0eb90ddf241a18bf$export$893b6e865e352c83,backendName:"cpu",kernelFunc:$8ed3a7a62293c5c4$export$7128670e45beef9a};function $2e50487977b49c3f$export$3c17558da18e4d75(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{reps:o}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"tile");const s=$98c2ffb2d09d69b6$export$f3e554b937559516(a.bufferSync(r),o);return a.makeTensorInfo(s.shape,s.dtype,s.values)}const $2e50487977b49c3f$export$a5a9f8050ba7f41e={kernelName:$0eb90ddf241a18bf$export$235cb65c20ad2b7,backendName:"cpu",kernelFunc:$2e50487977b49c3f$export$3c17558da18e4d75};function $28d54fb1059d0747$export$7e641efc73a2d81(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{k:o,sorted:s}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"topk");const c=a.data.get(r.dataId).values,[i,d]=$555f8fe85567f612$export$b083239978762299(c,r.shape,r.dtype,o,s);return[a.makeTensorInfo(i.shape,i.dtype,i.values),a.makeTensorInfo(d.shape,d.dtype,d.values)]}const $28d54fb1059d0747$export$cffaee31213314ce={kernelName:$0eb90ddf241a18bf$export$c593cd1ea0d02ebd,backendName:"cpu",kernelFunc:$28d54fb1059d0747$export$7e641efc73a2d81};function $cf3a13fc857230e4$export$51186ad6e864892a(e){const{inputs:t,attrs:a,backend:n}=e,{image:r,transforms:o}=t,{interpolation:s,fillMode:c,fillValue:i,outputShape:d}=a,[f,$,u,p]=r.shape,[l,b]=null!=d?d:[$,u],h=[f,l,b,p],x=$5d5df9ecf1c80076$exports.computeStrides(r.shape),m=x[0],g=x[1],v=x[2],y=$5d5df9ecf1c80076$exports.getTypedArrayFromDType(r.dtype,$5d5df9ecf1c80076$exports.sizeFromShape(h));y.fill(i);const w=n.data.get(r.dataId).values,_=n.data.get(o.dataId).values;for(let e=0;e<f;++e){const t=1===o.shape[0]?_:_.subarray(8*e,8*e+8);for(let a=0;a<l;++a)for(let n=0;n<b;++n)for(let r=0;r<p;++r){let o;const d=t[6]*n+t[7]*a+1;if(0===d)continue;const f=(t[0]*n+t[1]*a+t[2])/d,p=(t[3]*n+t[4]*a+t[5])/d,l=$cf3a13fc857230e4$var$mapCoord(f,u,c),b=$cf3a13fc857230e4$var$mapCoord(p,$,c);switch(s){case"nearest":o=$cf3a13fc857230e4$var$nearestInterpolation(w,$,u,m,g,v,e,b,l,r,i);break;case"bilinear":o=$cf3a13fc857230e4$var$bilinearInterpolation(w,$,u,m,g,v,e,b,l,r,i);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${s}`)}y[e*m+a*g+n*v+r]=o}return n.makeTensorInfo(h,r.dtype,y)}return{dataId:n.write(y,h,r.dtype),shape:r.shape,dtype:r.dtype}}const $cf3a13fc857230e4$export$1c7a3de6335954ed={kernelName:$0eb90ddf241a18bf$export$563a914cafbdc389,backendName:"cpu",kernelFunc:$cf3a13fc857230e4$export$51186ad6e864892a};function $cf3a13fc857230e4$var$mapCoord(e,t,a){switch(a){case"reflect":return $cf3a13fc857230e4$var$mapCoordReflect(e,t);case"wrap":return $cf3a13fc857230e4$var$mapCoordWrap(e,t);case"nearest":return $cf3a13fc857230e4$var$mapCoordNearest(e,t);default:return $cf3a13fc857230e4$var$mapCoordConstant(e,t)}}function $cf3a13fc857230e4$var$mapCoordReflect(e,t){let a=e;if(a<0)if(t<=1)a=0;else{const e=2*t;a<e&&(a=e*Math.trunc(-a/e)+a),a=a<-t?a+e:-a-1}else if(a>t-1)if(t<=1)a=0;else{const e=2*t;a-=e*Math.trunc(a/e),a>=t&&(a=e-a-1)}return $5d5df9ecf1c80076$exports.clamp(0,a,t-1)}function $cf3a13fc857230e4$var$mapCoordWrap(e,t){let a=e;if(a<0)if(t<=1)a=0;else{const e=t-1;a+=t*(Math.trunc(-a/e)+1)}else if(a>t-1)if(t<=1)a=0;else{const e=t-1;a-=t*Math.trunc(a/e)}return $5d5df9ecf1c80076$exports.clamp(0,a,t-1)}function $cf3a13fc857230e4$var$mapCoordConstant(e,t){return e}function $cf3a13fc857230e4$var$mapCoordNearest(e,t){return $5d5df9ecf1c80076$exports.clamp(0,e,t-1)}function $cf3a13fc857230e4$var$readWithFillValue(e,t,a,n,r,o,s,c,i,d,f){return 0<=c&&c<t&&0<=i&&i<a?e[s*n+c*r+i*o+d]:f}function $cf3a13fc857230e4$var$nearestInterpolation(e,t,a,n,r,o,s,c,i,d,f){return $cf3a13fc857230e4$var$readWithFillValue(e,t,a,n,r,o,s,Math.round(c),Math.round(i),d,f)}function $cf3a13fc857230e4$var$bilinearInterpolation(e,t,a,n,r,o,s,c,i,d,f){const $=Math.floor(c),u=Math.floor(i),p=$+1,l=u+1;return(p-c)*((l-i)*$cf3a13fc857230e4$var$readWithFillValue(e,t,a,n,r,o,s,$,u,d,f)+(i-u)*$cf3a13fc857230e4$var$readWithFillValue(e,t,a,n,r,o,s,$,l,d,f))+(c-$)*((l-i)*$cf3a13fc857230e4$var$readWithFillValue(e,t,a,n,r,o,s,p,u,d,f)+(i-u)*$cf3a13fc857230e4$var$readWithFillValue(e,t,a,n,r,o,s,p,l,d,f))}function $eb01d10790f3f8cc$export$7a5d5c156e7dc406(e){const{inputs:t,attrs:a,backend:n}=e,{axis:r}=a,{x:o}=t;$a610dd74d979c6f8$export$1412c17b2531581a(o,"unique");const s=n.data.get(o.dataId).values,{outputValues:c,outputShape:i,indices:d}=$c9f22ffb681b2e6a$export$58be9cc013c994e(s,r,o.shape,o.dtype);return[n.makeTensorInfo(i,o.dtype,c),n.makeTensorInfo([d.length],"int32",d)]}const $eb01d10790f3f8cc$export$78cd70dcd092910e={kernelName:$0eb90ddf241a18bf$export$8e3adf126971a183,backendName:"cpu",kernelFunc:$eb01d10790f3f8cc$export$7a5d5c156e7dc406};function $ba49fd14145e2af5$export$417857010dc9287f(e){const{inputs:t,backend:a,attrs:n}=e,{value:r}=t;let{axis:o}=n;o<0&&(o+=r.shape.length);const s=r.shape.length,c=r.shape[o],i=new Array(s-1);let d=0;for(let e=0;e<s;e++)e!==o&&(i[d++]=r.shape[e]);const f=new Array(s).fill(0),$=r.shape.slice();$[o]=1;const u=new Array(c);for(let e=0;e<u.length;e++){f[o]=e;const t=$b3c67133f4f177b8$export$58adb3bec8346d0f({inputs:{x:r},backend:a,attrs:{begin:f,size:$}});u[e]=$c2bd3511618413a6$export$9eaad88cf88cee2b({inputs:{x:t},backend:a,attrs:{shape:i}}),a.disposeIntermediateTensorInfo(t)}return u}const $ba49fd14145e2af5$export$d06292128cae50d6={kernelName:$0eb90ddf241a18bf$export$441ad6bfc5db8ab4,backendName:"cpu",kernelFunc:$ba49fd14145e2af5$export$417857010dc9287f};function $7ce3abb6167716a6$export$ba7c4d144d85a309(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,segmentIds:o}=t,{numSegments:s}=n;$a610dd74d979c6f8$export$1412c17b2531581a(r,"unsortedSegmentSum");const c=[],i=[],d=r.shape.length-o.shape.length;let f=o;for(let e=0;e<d;++e){const t=$7daf5ba289406ddb$export$d660d8ed21f46635({inputs:{input:f},backend:a,attrs:{dim:e+1}});f=t,i.push(t)}for(let e=0;e<s;++e){const t=$5d5df9ecf1c80076$exports.createScalarValue(e,"int32"),n=a.makeTensorInfo([],"int32",t),o=$b3d3800932b5f0c5$export$411ce8e5a71e3069({inputs:{a:n,b:f},backend:a}),s=$b24dde8cf719cd9e$export$f2db7d5238e1d23f({inputs:{x:o},backend:a,attrs:{dtype:"float32"}}),d=$1ae3d2d9e69b2480$export$2060d2db72cce88f({inputs:{a:s,b:r},backend:a}),$=$f68724a26ebcea86$export$8a63f25cc62965f1({inputs:{x:d},backend:a,attrs:{axis:0,keepDims:!1}});c.push($),i.push(n),i.push(o),i.push(s),i.push(d),i.push($)}const $=$8c9d9e551c7c530a$export$2a703dbb0cb35339({inputs:c,backend:a,attrs:{axis:0}});return i.forEach((e=>a.disposeIntermediateTensorInfo(e))),$}const $7ce3abb6167716a6$export$71e3626a4ca29968={kernelName:$0eb90ddf241a18bf$export$af810663cded5fe2,backendName:"cpu",kernelFunc:$7ce3abb6167716a6$export$ba7c4d144d85a309},$dc18bd0de45f6051$var$kernelConfigs=[$181a182824f43760$export$f70d36da1c218f84,$5a50297bc2f31277$export$d66f48648b9d5ec7,$577e7e770141a66e$export$255826ca70737275,$a05038fbbf083a18$export$3f520b71a56c9e70,$5a19aa681576e63e$export$b1f3a580afb68e4c,$b283ca08a9ad8fd5$export$ff8000bc6f0313e1,$166e5142a792d9df$export$4e3f081eb1a330fa,$a9fe270e5011c623$export$1a8ff634f2df3da6,$4880367d416940bf$export$ec7419fc9ad0069e,$809ec346531822f5$export$21836a5e5fa09eb4,$ace98ddfa6a5378b$export$de5cb0ef95dd6700,$6980d9162d1843db$export$20d424616c76166,$f7139c44c561e815$export$159d632e3ff13624,$dc14c23751addd45$export$c53c7ab019edb8a0,$2b04f145d8e44675$export$e9ce1ba75fc9b746,$184b7afec31d2552$export$6c901824a23e6150,$06e29aa04f138866$export$5a9c81d240244392,$a70665b6fb7fcdc3$export$1eeb8780807d0508,$8741716c530ad6c0$export$ac3f8709351ab225,$c01bc4665e25bb30$export$d0dd993198185538,$ecab65cae2bf29aa$export$df2dc5c7a755e418,$040e8046e6cd1987$export$44e08e19f97e5513,$0af382d2e2e5acf8$export$af9f0093738840fb,$cc65f436833a77a0$export$8f7b2ec0c6f08fb2,$b24dde8cf719cd9e$export$ac4d0f0f3927a8f3,$39cb1eaa891bf103$export$df387212b1898306,$8e03d4b04a2bdbb3$export$f7ee8f07ce0ff4e1,$5a06c686963b389a$export$67917f7910d27fd8,$baef940d47edcb2f$export$a4817d2978acc054,$800bf73cb2b897c2$export$c8cf96dae25282e5,$6238e038626ee118$export$4a39bf13b4378042,$163089dd20f52836$export$7a95f55d2d2e7d24,$33b1acdb15087c69$export$19bbc19fff1ed26f,$5a208fd51414553b$export$1fe590fda0829040,$b6155579763040f4$export$6dce9169640850fa,$5f39cecd81fcac5f$export$40ece1caaaf084b2,$a92cfab765a5f0cb$export$ff099a1da5235a7e,$ce642bad17d62207$export$c5824052b09ba0ed,$3b5c9022ade8b8f4$export$f7086edcf0050c7f,$52efa7d55383cb7c$export$db50d81ed60c5a35,$e6620566b17f4665$export$2f6196f3316e7ed2,$2ee8189492401756$export$88ba267b84334692,$79bc007eb5423a54$export$9c5b88dcb1d2008b,$cadf995d0d95e46f$export$240667804b7c390e,$48d461cb65927e6b$export$30bc0ac3775583fc,$87655af54829ec46$export$55d12409e744bebe,$d473b9708fa4e384$export$56dc5d812a22748f,$232f40aefc2ad11f$export$36d3c11f61a8891a,$8586eb678844a406$export$cf83abe0e8c87ce8,$57906da904124e12$export$42e4451417dc5ea0,$7a79209e1f46a38c$export$40bbf341885a23b7,$a7e78fcc5eaa3d1b$export$b990686634ee3cce,$c024812b6b0be9b2$export$59bb07dd04647a1d,$b3d3800932b5f0c5$export$3c8bc3d8ee318217,$706a18620e404767$export$d044ffef16079bd,$b234c8aeb0eec368$export$2fd7ea0fcf021f34,$7daf5ba289406ddb$export$86341ba0ce5d8e60,$76e4fd9298f1ce19$export$16db8a08b36f938,$66d4ce96a3e147f8$export$a4d564e380763c78,$687b332f39d2afc3$export$c953bf474b2bde62,$6092da2cd5c2bc2e$export$c9ec83cb23304466,$3066c937cbf45358$export$7e9a0f96fa6bd01c,$3269501488ee9c00$export$7eac933a0c7fd37f,$caff518a4f4854f0$export$5b64efa829ddf94e,$88aec685547f8488$export$58481cc3409b412c,$28ccde7ef76abcae$export$d9700eb1c7f5c969,$7883632b77b48474$export$b1bd3139c91d8765,$6643b7b93ad9747d$export$8c4f7e92d92310f8,$cb54182d74378067$export$7a6926f9fcac24ca,$ce3553c9094c2ca5$export$c426d3942537ad84,$3f57323fdb3611c4$export$dc267425bf21b465,$41fd66abad0c6d52$export$ddfc128c2801add7,$5e9cb4476bad0272$export$4d45c8f7b9ffdaf1,$9ed9cd8023892f15$export$bc383b82282e9b5a,$ae468ed620b1c068$export$d58ff790c765c1f0,$4f039dce0db3c23b$export$aa04ab963fdf437f,$91b2cf2367a0f089$export$8d4530ce8b6ffc3c,$08d6e89d0e7f87c8$export$9f26bd257393dd8,$ac5bdb7a15e222ec$export$46b96f742c70959b,$0238b81cd7289b3d$export$a4ae1f00643ddd14,$acb8dc82681256be$export$c458b9e5ba980198,$178b2407ecbee4f1$export$257f1e82e69113fb,$0273d9d0153c0cf6$export$68e2dd0840056271,$a0135cd2338d1dba$export$ce04b6546987ef43,$da49051a8a3cd8a1$export$6fb124d5a6994734,$702abb11091c1e9a$export$99a62fc039d7aca0,$27257ba3ee9e47d8$export$7d79147246e312bb,$ab744febf0b5aceb$export$45b97bdc342e72a2,$04400afad5498339$export$45c8263b38f19e33,$2363fea8d29da83a$export$91a8fc5da39ec855,$d249ba63a7d3a081$export$5201426bb10bd5eb,$328b1c667ab7d26d$export$e01a7f8dbee29127,$9f34089fa8f9ac99$export$a069ee2247a7d1ce,$8fd7afbe0a6a1595$export$b934af0ccd0cdbe1,$b38c6a0c6b61e523$export$3cd9f9a31b38cf18,$4b9a7d869dbc67b4$export$ea24ffbbbce8d546,$d8c2e5a50715e829$export$2cfd6c6c7daeb5fc,$bdde61d56117549c$export$9037685a81180a9c,$73745edf7a4c2a76$export$ad960e364767f0e2,$1ae3d2d9e69b2480$export$745576778aafee88,$b160db426e2c9d4a$export$cc7b18b8229c3db,$105a68045dc3bb03$export$549561cd158f260a,$29869fdc9a5757bc$export$906b8fb32c570e9d,$9bf919949426f506$export$4c00b682f309701d,$78a2668b708ad7fb$export$d003d4d7e1500775,$e5f1b3f746fe2c2f$export$dde5645b472b80b2,$670f8b9d0e48e37f$export$d8d7015eb6ab37d0,$8c9d9e551c7c530a$export$1645fa8803aa1f86,$3ad0ff74cf7e20eb$export$b0317e720bfd61fc,$4428e5f37f153100$export$b823d49786719761,$a59c1148f1e1f038$export$a5c4a9b694579636,$11f9d31ae559ad70$export$d556aa935cef5c0c,$e4405543de6d8d05$export$361c4075706e31c2,$e450c9206864f81f$export$4b7bce57557ae68b,$a309c50147cae936$export$15c5d6176b30b9a6,$8b5f6c39a69fcff4$export$412a6b66203fdf72,$7758852ec68c437b$export$731f9199bde068eb,$0f4ffc571638d4cf$export$92c30890ad649d53,$c2bd3511618413a6$export$cfa02e698602aca2,$91c110b3caa26efc$export$a37a56137abc1357,$f73d380969d97246$export$51f84ca614e84763,$b9f73f10d8493935$export$2b6a92caba113b89,$a40a4c68b0da8e0f$export$2b08d810b5090fe1,$02ad27b5a7ffc94d$export$cab6a4e8d2ed8e8d,$89ba58ed077f9651$export$44ba8c83417ab668,$67c5d7bbe174f54a$export$6c09e3291f636503,$aae6ccad10f239ab$export$941104b789956ef6,$1b1e4c44221e5883$export$573371744f044f5,$73d21a5ed4c3aae5$export$7ff911e710ee72fc,$4679ae2d269c4dc6$export$8afc8558705c1a39,$76a5e0b6ff81836e$export$195d1cf7c59f3ef,$577d09272639f5bc$export$9c0fb3eb2124ceb7,$3ac82d102159a2f6$export$d993ec4e5c253b66,$c241708ffb3762e0$export$b92766b47f18ac85,$b3c67133f4f177b8$export$8d8a1e11dd2cc6c4,$42dd39dceff04b0f$export$c022691f23e2ee69,$ac1b5a7bdd970f9d$export$d9bcfe553d12d9e3,$ba095594910cd800$export$2f85417863d2050b,$83d52d8945170e5d$export$818286c593224d1a,$43d7c7f3bb79ea07$export$eb106efc10374803,$4ff4e35440aa1731$export$51e7224ae14d7f78,$8d86ba5d866a2dea$export$73fa0270f28b9555,$c624ae249b95a541$export$7bc088f8ad44ef99,$583798c122ba6af8$export$317be24be3af9ea0,$7811b50048ad2db7$export$a592ba9268f10eeb,$1a4da5d84f5caec5$export$7c77bece4d51efc4,$73349831fff5756e$export$9ed4691d69db8a43,$a8e67caf6de9edee$export$c42ffaf52eb2647,$3716a464acd3ffa8$export$81773633114187bd,$ba5f659369a6fa33$export$35e13284eed34c22,$755b7c97cb7640f5$export$c51cbbd627a96532,$1daa3c5b1a97169f$export$a88a78b2b233f507,$9f61baa0f7f211bf$export$5d068476dad60c4d,$f68724a26ebcea86$export$47edea402251c258,$7a3fb3e9053b4f22$export$97648844df7611f3,$8ed3a7a62293c5c4$export$a2fc7de1a1e4eee0,$2e50487977b49c3f$export$a5a9f8050ba7f41e,$28d54fb1059d0747$export$cffaee31213314ce,$cf3a13fc857230e4$export$1c7a3de6335954ed,$61f81ad1f2b16ca7$export$895a002a39b774be,$eb01d10790f3f8cc$export$78cd70dcd092910e,$ba49fd14145e2af5$export$d06292128cae50d6,$7ce3abb6167716a6$export$71e3626a4ca29968,$9f65048ae27ce392$export$15368df05c479e41];for(const e of $dc18bd0de45f6051$var$kernelConfigs)$dd56e1b20444f968$export$f3f7c443f3a606e6(e);const $f7f517f3d9eba9fa$var$whereImpl=$97d6759176c7a39f$exports.whereImpl;class $f7f517f3d9eba9fa$export$65286aecbd5a8de9 extends $ac24014badd54b1e$export$543916c62202b50a{constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new $ac24014badd54b1e$export$e95767ffe2e60cec(this,$2f175fd57ae81f5b$export$d3c662a6136faebb())}nextDataId(){return $f7f517f3d9eba9fa$export$65286aecbd5a8de9.nextDataId++}write(e,t,a){this.firstUse&&(this.firstUse=!1,$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().get("IS_NODE")&&$c4c4d404109848b6$exports.warn("\n============================\nHi there 👋. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));const n={id:this.nextDataId()};return this.data.set(n,{values:e,dtype:a,refCount:1}),n}makeTensorInfo(e,t,a){let n;if("string"===t&&null!=a&&a.length>0&&$5d5df9ecf1c80076$exports.isString(a[0])){const r=a.map((e=>$5d5df9ecf1c80076$exports.encodeString(e)));n=this.write(r,e,t)}else n=this.write(a,e,t);return{dataId:n,shape:e,dtype:t}}refCount(e){if(this.data.has(e)){return this.data.get(e).refCount}return 0}incRef(e){this.data.get(e).refCount++}decRef(e){if(this.data.has(e)){this.data.get(e).refCount--}}move(e,t,a,n,r){this.data.set(e,{values:t,dtype:n,refCount:r})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensorInfos:a}=this.data.get(e);if("complex64"===t){const e=this.readSync(a.real.dataId),t=this.readSync(a.imag.dataId);return $c4c4d404109848b6$exports.mergeRealAndImagArrays(e,t)}return this.data.get(e).values}bufferSync(e){const t=this.readSync(e.dataId);let a=t;if("string"===e.dtype)try{a=t.map((e=>$5d5df9ecf1c80076$exports.decodeString(e)))}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return $05a66951e325e00b$export$ab1029bcae9ddb4a(e.shape,e.dtype,a)}makeOutput(e,t,a){const n=this.write(e,t,a);return $2f175fd57ae81f5b$export$d3c662a6136faebb().makeTensorFromDataId(n,t,a,this)}disposeData(e,t=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:a}=this.data.get(e);null!=a&&(this.disposeData(a.real.dataId,!0),this.disposeData(a.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const t=$5d5df9ecf1c80076$exports.now();e();return{kernelMs:$5d5df9ecf1c80076$exports.now()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){$a610dd74d979c6f8$export$1412c17b2531581a([e],"where");const t=this.readSync(e.dataId);return $f7f517f3d9eba9fa$var$whereImpl(e.shape,t)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}function $fa9d8600b244c481$export$3ebf4a18d6319f7a(){let e,t,a,n,r,o,s,c,i,d;return 2===$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",a="out",n="in",r="texture",o="outputColor",s="out vec4 outputColor;",c="\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",i="",d="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",a="varying",n="varying",r="texture2D",o="gl_FragColor",s="",c="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",i="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",d="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:a,varyingFs:n,texture2D:r,output:o,defineOutput:s,defineSpecialNaN:c,defineSpecialInf:i,defineRound:d}}function $f03ddf6569260af4$export$53c37f67510642ce(e,t,a="index"){const n=$5d5df9ecf1c80076$exports.computeStrides(t);return n.map(((t,r)=>`${`int ${e[r]} = ${a} / ${t}`}; ${r===n.length-1?`int ${e[r+1]} = ${a} - ${e[r]} * ${t}`:`index -= ${e[r]} * ${t}`};`)).join("")}function $f03ddf6569260af4$export$ae684ebb20c3e80c(e,t,a="index"){const n=$5d5df9ecf1c80076$exports.computeStrides(t);return n.map(((t,r)=>`${`int ${e[r]} = ${a} / outShapeStrides[${r}]`}; ${r===n.length-1?`int ${e[r+1]} = ${a} - ${e[r]} * outShapeStrides[${r}]`:`index -= ${e[r]} * outShapeStrides[${r}]`};`)).join("")}function $f03ddf6569260af4$var$symbolicallyComputeStrides(e,t){const a=e.length,n=e.map((e=>`${t}[${e}]`)),r=new Array(a-1);r[a-2]=n[a-1];for(let e=a-3;e>=0;--e)r[e]=`(${r[e+1]} * ${n[e+1]})`;return r}function $f03ddf6569260af4$export$a1b266196cc2d8ea(e,t,a="index"){const n=$f03ddf6569260af4$var$symbolicallyComputeStrides(e.map(((e,t)=>t)),t);return n.map(((t,r)=>`${`int ${e[r]} = ${a} / ${n[r]}`}; ${r===n.length-1?`int ${e[r+1]} = ${a} - ${e[r]} * ${n[r]}`:`index -= ${e[r]} * ${n[r]}`};`)).join("")}function $f03ddf6569260af4$var$buildVec(e){return 1===e.length?`${e[0]}`:`vec${e.length}(${e.join(",")})`}function $f03ddf6569260af4$export$fe4cd89a7b9cb48b(e,t){if(e.length!==t.length)throw new Error(`Vectors to be dotted must be of the same length -got ${e.length} and ${t.length}`);const a=[],n=Math.floor(e.length/4),r=e.length%4;for(let r=0;r<n;r++){const n=e.slice(4*r,4*r+4),o=t.slice(4*r,4*r+4);a.push(`${$f03ddf6569260af4$var$buildVec(n)}, ${$f03ddf6569260af4$var$buildVec(o)}`)}if(0!==r){let r=e.slice(4*n),o=t.slice(4*n);1===r.length&&(r=r.map((e=>`float(${e})`)),o=o.map((e=>`float(${e})`))),a.push(`${$f03ddf6569260af4$var$buildVec(r)}, ${$f03ddf6569260af4$var$buildVec(o)}`)}return a.map(((e,t)=>`dot(${e})`)).join("+")}function $f03ddf6569260af4$export$4c68558c71205a01(e){const t=$5d5df9ecf1c80076$exports.computeStrides(e).map((e=>e.toString()));return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;\n  }\n`}function $f03ddf6569260af4$export$4ec1e3f6361de451(){return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n"}$f7f517f3d9eba9fa$export$65286aecbd5a8de9.nextDataId=0,$2f175fd57ae81f5b$export$1ac8c3a90eff05d("cpu",(()=>new $f7f517f3d9eba9fa$export$65286aecbd5a8de9),1);const $f03ddf6569260af4$export$2ac12a308a563905="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:$80499140d90ba595$var$getBroadcastDims}=$c4c4d404109848b6$exports;function $80499140d90ba595$export$37f33ba844563dd2(e,t,a){const n=[];if(e.forEach((e=>{const t=$5d5df9ecf1c80076$exports.sizeFromShape(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?n.push(`uniform float ${e.name}${t>1?`[${t}]`:""};`):(n.push(`uniform sampler2D ${e.name};`),n.push(`uniform int offset${e.name};`)),a.enableShapeUniforms){const{uniformShape:t}=$80499140d90ba595$export$19e35a0844e29cf9(a.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape);switch(t.length){case 1:n.push(`uniform int ${e.name}Shape;`);break;case 2:n.push(`uniform ivec2 ${e.name}Shape;`);break;case 3:n.push(`uniform ivec3 ${e.name}Shape;`);break;case 4:n.push(`uniform ivec4 ${e.name}Shape;`)}n.push(`uniform ivec2 ${e.name}TexShape;`)}})),a.enableShapeUniforms){switch(t.logicalShape.length){case 1:n.push("uniform int outShape;");break;case 2:n.push("uniform ivec2 outShape;"),n.push("uniform int outShapeStrides;");break;case 3:n.push("uniform ivec3 outShape;"),n.push("uniform ivec2 outShapeStrides;");break;case 4:n.push("uniform ivec4 outShape;"),n.push("uniform ivec3 outShapeStrides;")}n.push("uniform ivec2 outTexShape;")}a.customUniforms&&a.customUniforms.forEach((e=>{n.push(`uniform ${e.type} ${e.name}${e.arrayIndex?`[${e.arrayIndex}]`:""};`)}));const r=n.join("\n"),o=e.map((e=>$80499140d90ba595$var$getInputSamplingSnippet(e,t,a.packedInputs,a.enableShapeUniforms))).join("\n"),s=t.texShape,c=$fa9d8600b244c481$export$3ebf4a18d6319f7a(),i=$80499140d90ba595$var$getFloatTextureSampleSnippet(c);let d,f,$=$80499140d90ba595$var$getShaderPrefix(c);t.isPacked?(d=$80499140d90ba595$var$getPackedOutputSamplingSnippet(t.logicalShape,s,a.enableShapeUniforms),f=$80499140d90ba595$var$getFloatTextureSetRGBASnippet(c)):(d=$80499140d90ba595$var$getOutputSamplingSnippet(t.logicalShape,s,a.enableShapeUniforms),f=$80499140d90ba595$var$getFloatTextureSetRSnippet(c)),a.packedInputs&&($+=$80499140d90ba595$var$SHADER_PACKED_PREFIX);return[$,i,f,r,d,o,a.userCode].join("\n")}function $80499140d90ba595$var$getSamplerFromInInfo(e,t=!1){const a=e.shapeInfo.logicalShape;switch(a.length){case 0:return $80499140d90ba595$var$getSamplerScalar(e,t);case 1:return $80499140d90ba595$var$getSampler1D(e,t);case 2:return $80499140d90ba595$var$getSampler2D(e,t);case 3:return $80499140d90ba595$var$getSampler3D(e,t);case 4:return $80499140d90ba595$var$getSampler4D(e,t);case 5:return $80499140d90ba595$var$getSampler5D(e);case 6:return $80499140d90ba595$var$getSampler6D(e);default:throw new Error(`${a.length}-D input sampling is not yet supported`)}}function $80499140d90ba595$var$getPackedSamplerFromInInfo(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return $80499140d90ba595$var$getPackedSamplerScalar(e);case 1:return $80499140d90ba595$var$getPackedSampler1D(e,t);case 2:return $80499140d90ba595$var$getPackedSampler2D(e,t);case 3:return $80499140d90ba595$var$getPackedSampler3D(e,t);default:return $80499140d90ba595$var$getPackedSamplerND(e,t)}}function $80499140d90ba595$var$getInputSamplingSnippet(e,t,a=!1,n){let r="";r+=a?$80499140d90ba595$var$getPackedSamplerFromInInfo(e,n):$80499140d90ba595$var$getSamplerFromInInfo(e,n);const o=e.shapeInfo.logicalShape,s=t.logicalShape;return o.length<=s.length&&(r+=a?$80499140d90ba595$var$getPackedSamplerAtOutputCoords(e,t):$80499140d90ba595$var$getSamplerAtOutputCoords(e,t)),r}function $80499140d90ba595$var$getPackedOutputSamplingSnippet(e,t,a){switch(e.length){case 0:return $80499140d90ba595$var$getOutputScalarCoords();case 1:return $80499140d90ba595$var$getOutputPacked1DCoords(e,t,a);case 2:return $80499140d90ba595$var$getOutputPacked2DCoords(e,t,a);case 3:return $80499140d90ba595$var$getOutputPacked3DCoords(e,t,a);default:return $80499140d90ba595$var$getOutputPackedNDCoords(e,t,a)}}function $80499140d90ba595$var$getOutputSamplingSnippet(e,t,a){switch(e.length){case 0:return $80499140d90ba595$var$getOutputScalarCoords();case 1:return $80499140d90ba595$var$getOutput1DCoords(e,t,a);case 2:return $80499140d90ba595$var$getOutput2DCoords(e,t,a);case 3:return $80499140d90ba595$var$getOutput3DCoords(e,t,a);case 4:return $80499140d90ba595$var$getOutput4DCoords(e,t,a);case 5:return $80499140d90ba595$var$getOutput5DCoords(e,t);case 6:return $80499140d90ba595$var$getOutput6DCoords(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}function $80499140d90ba595$var$getFloatTextureSampleSnippet(e){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${e.texture2D}(textureSampler, uv).r;\n    }\n  `}function $80499140d90ba595$var$getFloatTextureSetRSnippet(e){return`\n    void setOutput(float val) {\n      ${e.output} = vec4(val, 0, 0, 0);\n    }\n  `}function $80499140d90ba595$var$getFloatTextureSetRGBASnippet(e){return`\n    void setOutput(vec4 val) {\n      ${e.output} = val;\n    }\n  `}function $80499140d90ba595$var$getShaderPrefix(e){return`${e.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${e.varyingFs} vec2 resultUV;\n    ${e.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${e.defineSpecialNaN}\n    ${e.defineSpecialInf}\n    ${e.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${$80499140d90ba595$var$SAMPLE_1D_SNIPPET}\n    ${$80499140d90ba595$var$SAMPLE_2D_SNIPPET}\n    ${$80499140d90ba595$var$SAMPLE_3D_SNIPPET}\n  `}const $80499140d90ba595$var$SAMPLE_1D_SNIPPET="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",$80499140d90ba595$var$SAMPLE_2D_SNIPPET="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",$80499140d90ba595$var$SAMPLE_3D_SNIPPET="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",$80499140d90ba595$var$SHADER_PACKED_PREFIX="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function $80499140d90ba595$var$getOutputScalarCoords(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function $80499140d90ba595$var$getOutputPacked1DCoords(e,t,a){const n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===n[0]?a?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${n[1]}.0);\n      }\n    `:1===n[1]?a?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${n[0]}.0);\n      }\n    `:a?"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ":`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${n[0]}, ${n[1]}));\n      return 2 * (resTexRC.x * ${n[1]} + resTexRC.y);\n    }\n  `}function $80499140d90ba595$var$getOutput1DCoords(e,t,a){return 1===t[0]?a?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.x * ${t[1]}.0);\n      }\n    `:1===t[1]?a?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.y * ${t[0]}.0);\n      }\n    `:a?"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ":`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      return resTexRC.x * ${t[1]} + resTexRC.y;\n    }\n  `}function $80499140d90ba595$var$getOutputPacked3DCoords(e,t,a){if(a)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[2]/2),o=r*Math.ceil(e[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${n[0]}, ${n[1]}));\n      int index = resTexRC.x * ${n[1]} + resTexRC.y;\n\n      int b = index / ${o};\n      index -= b * ${o};\n\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}function $80499140d90ba595$var$getOutput3DCoords(e,t,a){if(a){return`\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ${$f03ddf6569260af4$export$ae684ebb20c3e80c(["r","c","d"],e)}\n    return ivec3(r, c, d);\n  }\n`}const n=$f03ddf6569260af4$export$53c37f67510642ce(["r","c","d"],e);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${n}\n      return ivec3(r, c, d);\n    }\n  `}function $80499140d90ba595$var$getOutputPackedNDCoords(e,t,a){if(a)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[e.length-1]/2),o=r*Math.ceil(e[e.length-2]/2);let s=o,c="",i="b, r, c";for(let t=2;t<e.length-1;t++)s*=e[e.length-t-1],c=`\n      int b${t} = index / ${s};\n      index -= b${t} * ${s};\n    `+c,i=`b${t}, `+i;return`\n    ivec${e.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${n[0]}, ${n[1]}));\n      int index = resTexRC.x * ${n[1]} + resTexRC.y;\n\n      ${c}\n\n      int b = index / ${o};\n      index -= b * ${o};\n\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec${e.length}(${i});\n    }\n  `}function $80499140d90ba595$var$getOutput4DCoords(e,t,a){if(a){return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ${$f03ddf6569260af4$export$ae684ebb20c3e80c(["r","c","d","d2"],e)}\n      return ivec4(r, c, d, d2);\n    }\n  `}const n=$f03ddf6569260af4$export$53c37f67510642ce(["r","c","d","d2"],e);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${n}\n      return ivec4(r, c, d, d2);\n    }\n  `}function $80499140d90ba595$var$getOutput5DCoords(e,t){const a=$f03ddf6569260af4$export$53c37f67510642ce(["r","c","d","d2","d3"],e);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},\n                             ${t[1]}));\n\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${a}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}function $80499140d90ba595$var$getOutput6DCoords(e,t){const a=$f03ddf6569260af4$export$53c37f67510642ce(["r","c","d","d2","d3","d4"],e);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${a}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}function $80499140d90ba595$var$getOutputPacked2DCoords(e,t,a){const n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if($5d5df9ecf1c80076$exports.arraysEqual(e,t))return a?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${n[0]}, ${n[1]}));\n      }\n    `;const r=Math.ceil(e[1]/2);return a?"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ":`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${n[0]}, ${n[1]}));\n\n      int index = resTexRC.x * ${n[1]} + resTexRC.y;\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}function $80499140d90ba595$var$getOutput2DCoords(e,t,a){return $5d5df9ecf1c80076$exports.arraysEqual(e,t)?a?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));\n      }\n    `:1===e[1]?a?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `:1===e[0]?a?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `:a?"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ":`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      int r = index / ${e[1]};\n      int c = index - r * ${e[1]};\n      return ivec2(r, c);\n    }\n  `}function $80499140d90ba595$var$getFlatOffsetUniformName(e){return`offset${e}`}function $80499140d90ba595$var$getPackedSamplerScalar(e){const t=e.name;return`\n    vec4 ${"get"+t.charAt(0).toUpperCase()+t.slice(1)}() {\n      return ${$fa9d8600b244c481$export$3ebf4a18d6319f7a().texture2D}(${t}, halfCR);\n    }\n  `}function $80499140d90ba595$var$getSamplerScalar(e,t){const a=e.name,n="get"+a.charAt(0).toUpperCase()+a.slice(1);if(e.shapeInfo.isUniform)return`float ${n}() {return ${a};}`;const[r,o]=e.shapeInfo.texShape;if(1===r&&1===o)return`\n      float ${n}() {\n        return sampleTexture(${a}, halfCR);\n      }\n    `;const s=$80499140d90ba595$var$getFlatOffsetUniformName(a);if(t)return`\n    float ${n}() {\n      vec2 uv = uvFromFlat(${a}TexShape[0], ${a}TexShape[1], ${s});\n      return sampleTexture(${a}, uv);\n    }\n  `;const[c,i]=e.shapeInfo.texShape;return`\n    float ${n}() {\n      vec2 uv = uvFromFlat(${c}, ${i}, ${s});\n      return sampleTexture(${a}, uv);\n    }\n  `}function $80499140d90ba595$var$getPackedSampler1D(e,t){const a=e.name,n="get"+a.charAt(0).toUpperCase()+a.slice(1),r=e.shapeInfo.texShape,o=$fa9d8600b244c481$export$3ebf4a18d6319f7a();if(t)return`\n    vec4 ${n}(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(${a}TexShape[0]) / 2.0), ceil(float(${a}TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ${o.texture2D}(${a}, uv);\n    }\n  `;const s=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];return`\n    vec4 ${n}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${s[0]}, ${s[1]}, index);\n      return ${o.texture2D}(${a}, uv);\n    }\n  `}function $80499140d90ba595$var$getSampler1D(e,t){const a=e.name,n="get"+a.charAt(0).toUpperCase()+a.slice(1);if(e.shapeInfo.isUniform)return`\n      float ${n}(int index) {\n        ${$80499140d90ba595$var$getUniformSampler(e)}\n      }\n    `;const r=e.shapeInfo.texShape,o=r[0],s=r[1];if(1===s&&1===o)return`\n      float ${n}(int index) {\n        return sampleTexture(${a}, halfCR);\n      }\n    `;const c=$80499140d90ba595$var$getFlatOffsetUniformName(a);return 1===s?t?`\n      float ${n}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${c}) + 0.5) / float(${a}TexShape[0]));\n        return sampleTexture(${a}, uv);\n      }\n    `:`\n      float ${n}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${c}) + 0.5) / ${o}.0);\n        return sampleTexture(${a}, uv);\n      }\n    `:1===o?t?`\n      float ${n}(int index) {\n        vec2 uv = vec2((float(index + ${c}) + 0.5) / float(${a}TexShape[1]), 0.5);\n        return sampleTexture(${a}, uv);\n      }\n    `:`\n      float ${n}(int index) {\n        vec2 uv = vec2((float(index + ${c}) + 0.5) / ${s}.0, 0.5);\n        return sampleTexture(${a}, uv);\n      }\n    `:t?`\n    float ${n}(int index) {\n      vec2 uv = uvFromFlat(${a}TexShape[0], ${a}TexShape[1], index + ${c});\n      return sampleTexture(${a}, uv);\n    }\n  `:`\n    float ${n}(int index) {\n      vec2 uv = uvFromFlat(${o}, ${s}, index + ${c});\n      return sampleTexture(${a}, uv);\n    }\n  `}function $80499140d90ba595$var$getPackedSampler2D(e,t){const a=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,s=o[0],c=o[1],i=$fa9d8600b244c481$export$3ebf4a18d6319f7a();if(null!=o&&$5d5df9ecf1c80076$exports.arraysEqual(a,o))return t?`\n      vec4 ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${n}TexShape[1], ${n}TexShape[0]);\n\n        return ${i.texture2D}(${n}, uv);\n      }\n    `:`\n      vec4 ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${c}.0, ${s}.0);\n\n        return ${i.texture2D}(${n}, uv);\n      }\n    `;if(t)return`\n    vec4 ${r}(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${n}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ${i.texture2D}(${n}, uv);\n    }\n  `;const d=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];return`\n    vec4 ${r}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${Math.ceil(a[1]/2)}, ${d[0]}, ${d[1]}, row, col);\n      return ${i.texture2D}(${n}, uv);\n    }\n  `}function $80499140d90ba595$var$getSampler2D(e,t){const a=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape;if(null!=o&&$5d5df9ecf1c80076$exports.arraysEqual(a,o)){if(t)return`\n      float ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${n}TexShape[1], ${n}TexShape[0]);\n        return sampleTexture(${n}, uv);\n      }\n    `;const e=o[0];return`\n    float ${r}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${o[1]}.0, ${e}.0);\n      return sampleTexture(${n}, uv);\n    }\n  `}const{newShape:s,keptDims:c}=$5d5df9ecf1c80076$exports.squeezeShape(a),i=s;if(i.length<a.length){const a=["row","col"];return`\n      ${$80499140d90ba595$var$getSamplerFromInInfo($80499140d90ba595$export$5d06d3f48295bf13(e,i),t)}\n      float ${r}(int row, int col) {\n        return ${r}(${$80499140d90ba595$var$getSqueezedParams(a,c)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${a[1]}, 1)));\n        ${$80499140d90ba595$var$getUniformSampler(e)}\n      }\n    `;const d=o[0],f=o[1],$=$80499140d90ba595$var$getFlatOffsetUniformName(n);return 1===f?t?`\n      float ${r}(int row, int col) {\n        float index = dot(vec3(row, col, ${$}), vec3(${n}Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(${n}TexShape[0]));\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n    float ${r}(int row, int col) {\n      float index = dot(vec3(row, col, ${$}), vec3(${a[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${d}.0);\n      return sampleTexture(${n}, uv);\n    }\n  `:1===d?t?`\n      float ${r}(int row, int col) {\n        float index = dot(vec3(row, col, ${$}), vec3(${n}Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(${n}TexShape[1]), 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n    float ${r}(int row, int col) {\n      float index = dot(vec3(row, col, ${$}), vec3(${a[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${f}.0, 0.5);\n      return sampleTexture(${n}, uv);\n    }\n  `:t?`\n      float ${r}(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${n}Shape[1] + col + ${$};\n        vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index);\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n  float ${r}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${a[1]} + col + ${$};\n    vec2 uv = uvFromFlat(${d}, ${f}, index);\n    return sampleTexture(${n}, uv);\n  }\n`}function $80499140d90ba595$var$getPackedSampler3D(e,t){const a=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,s=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(1===a[0]){const n=[1,2],o=["b","row","col"];return`\n        ${$80499140d90ba595$var$getPackedSamplerFromInInfo($80499140d90ba595$export$5d06d3f48295bf13(e,a.slice(1)),t)}\n        vec4 ${r}(int b, int row, int col) {\n          return ${r}(${$80499140d90ba595$var$getSqueezedParams(o,n)});\n        }\n      `}const c=$fa9d8600b244c481$export$3ebf4a18d6319f7a();if(t)return`\n    vec4 ${r}(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${n}Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ${c.texture2D}(${n}, uv);\n    }\n  `;const i=s[0],d=s[1],f=Math.ceil(a[2]/2);return`\n    vec4 ${r}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${i}, ${d}, ${f*Math.ceil(a[1]/2)}, ${f}, b, row, col);\n      return ${c.texture2D}(${n}, uv);\n    }\n  `}function $80499140d90ba595$var$getSampler3D(e,t){const a=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=a[1]*a[2],s=a[2],{newShape:c,keptDims:i}=$5d5df9ecf1c80076$exports.squeezeShape(a),d=c;if(d.length<a.length){const a=["row","col","depth"];return`\n        ${$80499140d90ba595$var$getSamplerFromInInfo($80499140d90ba595$export$5d06d3f48295bf13(e,d),t)}\n        float ${r}(int row, int col, int depth) {\n          return ${r}(${$80499140d90ba595$var$getSqueezedParams(a,i)});\n        }\n      `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${o}, ${s}, 1)));\n        ${$80499140d90ba595$var$getUniformSampler(e)}\n      }\n    `;const f=e.shapeInfo.texShape,$=f[0],u=f[1],p=e.shapeInfo.flatOffset;if(u===o&&null==p)return t?`\n      float ${r}(int row, int col, int depth) {\n        int stride1 = ${n}Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${n}TexShape[1], ${n}TexShape[0]);\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n        float ${r}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${s}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${u}.0, ${$}.0);\n          return sampleTexture(${n}, uv);\n        }\n      `;if(u===s&&null==p)return t?`\n      float ${r}(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(${n}Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${n}TexShape[1], ${n}TexShape[0]);\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n    float ${r}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${a[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${u}.0, ${$}.0);\n      return sampleTexture(${n}, uv);\n    }\n  `;const l=$80499140d90ba595$var$getFlatOffsetUniformName(n);return t?`\n    float ${r}(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ${n}Shape[1] * ${n}Shape[2];\n      int stride1 = ${n}Shape[2];\n      int index = row * ${o} + col * ${s} + depth + ${l};\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index);\n      return sampleTexture(${n}, uv);\n    }\n    `:`\n      float ${r}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${o} + col * ${s} + depth + ${l};\n        vec2 uv = uvFromFlat(${$}, ${u}, index);\n        return sampleTexture(${n}, uv);\n      }\n  `}function $80499140d90ba595$var$getPackedSamplerND(e,t){const a=e.name,n="get"+a.charAt(0).toUpperCase()+a.slice(1),r=$fa9d8600b244c481$export$3ebf4a18d6319f7a();if(t)return`\n    vec4 ${n}(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(${a}Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${a}Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ${a}Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(${a}TexShape[0]) / 2.0), ceil(float(${a}TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${r.texture2D}(${a}, uv);\n    }\n  `;const o=e.shapeInfo.logicalShape,s=o.length,c=e.shapeInfo.texShape,i=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)],d=i[0],f=i[1],$=Math.ceil(o[s-1]/2);let u=$*Math.ceil(o[s-2]/2),p="int b, int row, int col",l=`b * ${u} + (row / 2) * ${$} + (col / 2)`;for(let e=2;e<s-1;e++)p=`int b${e}, `+p,u*=o[s-e-1],l=`b${e} * ${u} + `+l;return`\n    vec4 ${n}(${p}) {\n      int index = ${l};\n      int texR = index / ${f};\n      int texC = index - texR * ${f};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${f}, ${d});\n      return ${r.texture2D}(${a}, uv);\n    }\n  `}function $80499140d90ba595$var$getSampler4D(e,t){const a=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=a[3],s=a[2]*o,c=a[1]*s,{newShape:i,keptDims:d}=$5d5df9ecf1c80076$exports.squeezeShape(a);if(i.length<a.length){const a=["row","col","depth","depth2"];return`\n      ${$80499140d90ba595$var$getSamplerFromInInfo($80499140d90ba595$export$5d06d3f48295bf13(e,i),t)}\n      float ${r}(int row, int col, int depth, int depth2) {\n        return ${r}(${$80499140d90ba595$var$getSqueezedParams(a,d)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${c}, ${s}, ${o}, 1)));\n        ${$80499140d90ba595$var$getUniformSampler(e)}\n      }\n    `;const f=e.shapeInfo.flatOffset,$=e.shapeInfo.texShape,u=$[0],p=$[1],l=`int stride2 = ${n}Shape[3];`,b=`int stride1 = ${n}Shape[2] * stride2;`,h=`int stride0 = ${n}Shape[1] * stride1;`;if(p===c&&null==f)return t?`\n      float ${r}(int row, int col, int depth, int depth2) {\n        ${l}\n        ${b}\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${n}TexShape[1], ${n}TexShape[0]);\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${s}, ${o}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${p}.0, ${u}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(p===o&&null==f)return t?`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${n}Shape[1] * ${n}Shape[2], ${n}Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${n}TexShape[1], ${n}TexShape[0]);\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${a[1]*a[2]}, ${a[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${p}.0, ${u}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const x=$80499140d90ba595$var$getFlatOffsetUniformName(n);return t?`\n    float ${r}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ${l}\n      ${b}\n      ${h}\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${x});\n      return sampleTexture(${n}, uv);\n    }\n  `:`\n    float ${r}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${c} + col * ${s} +\n          depth * ${o} + depth2;\n      vec2 uv = uvFromFlat(${u}, ${p}, index + ${x});\n      return sampleTexture(${n}, uv);\n    }\n  `}function $80499140d90ba595$var$getSampler5D(e){const t=e.shapeInfo.logicalShape,a=e.name,n="get"+a.charAt(0).toUpperCase()+a.slice(1),r=t[4],o=t[3]*r,s=t[2]*o,c=t[1]*s,{newShape:i,keptDims:d}=$5d5df9ecf1c80076$exports.squeezeShape(t);if(i.length<t.length){const t=["row","col","depth","depth2","depth3"];return`\n      ${$80499140d90ba595$var$getSamplerFromInInfo($80499140d90ba595$export$5d06d3f48295bf13(e,i))}\n      float ${n}(int row, int col, int depth, int depth2, int depth3) {\n        return ${n}(${$80499140d90ba595$var$getSqueezedParams(t,d)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${n}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${c}, ${s}, ${o}, ${r})) +\n          depth3;\n        ${$80499140d90ba595$var$getUniformSampler(e)}\n      }\n    `;const f=e.shapeInfo.flatOffset,$=e.shapeInfo.texShape,u=$[0],p=$[1];if(p===c&&null==f)return`\n      float ${n}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${s}, ${o}, ${r}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${p}.0, ${u}.0);\n        return sampleTexture(${a}, uv);\n      }\n    `;if(p===r&&null==f)return`\n      float ${n}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]},\n               ${t[2]*t[3]}, ${t[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${p}.0, ${u}.0);\n        return sampleTexture(${a}, uv);\n      }\n    `;return`\n    float ${n}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${c} + col * ${s} + depth * ${o} +\n          depth2 * ${r} + depth3 + ${$80499140d90ba595$var$getFlatOffsetUniformName(a)};\n      vec2 uv = uvFromFlat(${u}, ${p}, index);\n      return sampleTexture(${a}, uv);\n    }\n  `}function $80499140d90ba595$var$getSampler6D(e){const t=e.shapeInfo.logicalShape,a=e.name,n="get"+a.charAt(0).toUpperCase()+a.slice(1),{newShape:r,keptDims:o}=$5d5df9ecf1c80076$exports.squeezeShape(t);if(r.length<t.length){const t=["row","col","depth","depth2","depth3","depth4"];return`\n      ${$80499140d90ba595$var$getSamplerFromInInfo($80499140d90ba595$export$5d06d3f48295bf13(e,r))}\n      float ${n}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${n}(${$80499140d90ba595$var$getSqueezedParams(t,o)});\n      }\n    `}const s=t[5],c=t[4]*s,i=t[3]*c,d=t[2]*i,f=t[1]*d;if(e.shapeInfo.isUniform)return`\n      float ${n}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${f}, ${d}, ${i}, ${c})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${s}, 1)));\n        ${$80499140d90ba595$var$getUniformSampler(e)}\n      }\n    `;const $=e.shapeInfo.flatOffset,u=e.shapeInfo.texShape,p=u[0],l=u[1];if(l===f&&null==$)return`\n      float ${n}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${d}, ${i}, ${c}, ${s})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${l}.0, ${p}.0);\n        return sampleTexture(${a}, uv);\n      }\n    `;if(l===s&&null==$)return`\n      float ${n}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]*t[4]},\n               ${t[2]*t[3]*t[4]},\n               ${t[3]*t[4]},\n               ${t[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${l}.0, ${p}.0);\n        return sampleTexture(${a}, uv);\n      }\n    `;return`\n    float ${n}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${f} + col * ${d} + depth * ${i} +\n          depth2 * ${c} + depth3 * ${s} + depth4 + ${$80499140d90ba595$var$getFlatOffsetUniformName(a)};\n      vec2 uv = uvFromFlat(${p}, ${l}, index);\n      return sampleTexture(${a}, uv);\n    }\n  `}function $80499140d90ba595$var$getUniformSampler(e){const t=e.name,a=$5d5df9ecf1c80076$exports.sizeFromShape(e.shapeInfo.logicalShape);return a<2?`return ${t};`:`\n    for (int i = 0; i < ${a}; i++) {\n      if (i == index) {\n        return ${t}[i];\n      }\n    }\n  `}function $80499140d90ba595$var$getPackedSamplerAtOutputCoords(e,t){const a=e.name,n=a.charAt(0).toUpperCase()+a.slice(1),r="get"+n+"AtOutCoords",o=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,c=$80499140d90ba595$var$getBroadcastDims(e.shapeInfo.logicalShape,t.logicalShape),i=$80499140d90ba595$export$859efd105c10c755(s),d=s-o;let f;const $=["x","y","z","w","u","v"];f=0===o?"":s<2&&c.length>=1?"coords = 0;":c.map((e=>`coords.${$[e+d]} = 0;`)).join("\n");let u="";u=s<2&&o>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${$[t+d]}`)).join(", ");let p="return outputValue;";const l=1===$5d5df9ecf1c80076$exports.sizeFromShape(e.shapeInfo.logicalShape),b=1===$5d5df9ecf1c80076$exports.sizeFromShape(t.logicalShape);if(1!==o||l||b){if(l&&!b)p=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(c.length){const e=o-2,t=o-1;c.indexOf(e)>-1&&c.indexOf(t)>-1?p="return vec4(outputValue.x);":c.indexOf(e)>-1?p="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":c.indexOf(t)>-1&&(p="return vec4(outputValue.xx, outputValue.zz);")}}else p="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${r}() {\n      ${i} coords = getOutputCoords();\n      ${f}\n      vec4 outputValue = get${n}(${u});\n      ${p}\n    }\n  `}function $80499140d90ba595$var$getSamplerAtOutputCoords(e,t){const a=e.name,n=a.charAt(0).toUpperCase()+a.slice(1),r="get"+n+"AtOutCoords",o=t.texShape,s=e.shapeInfo.texShape,c=e.shapeInfo.logicalShape.length,i=t.logicalShape.length;if(!e.shapeInfo.isUniform&&c===i&&null==e.shapeInfo.flatOffset&&$5d5df9ecf1c80076$exports.arraysEqual(s,o))return`\n      float ${r}() {\n        return sampleTexture(${a}, resultUV);\n      }\n    `;const d=$80499140d90ba595$export$859efd105c10c755(i),f=$80499140d90ba595$var$getBroadcastDims(e.shapeInfo.logicalShape,t.logicalShape),$=i-c;let u;const p=["x","y","z","w","u","v"];u=0===c?"":i<2&&f.length>=1?"coords = 0;":f.map((e=>`coords.${p[e+$]} = 0;`)).join("\n");let l="";return l=i<2&&c>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${p[t+$]}`)).join(", "),`\n    float ${r}() {\n      ${d} coords = getOutputCoords();\n      ${u}\n      return get${n}(${l});\n    }\n  `}function $80499140d90ba595$export$859efd105c10c755(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function $80499140d90ba595$export$19e35a0844e29cf9(e,t,a){const{newShape:n,keptDims:r}=$5d5df9ecf1c80076$exports.squeezeShape(t),o=t.length,s=e&&3===o&&1===t[0],c=s?t.slice(1):n,i=!e&&o>1&&!$5d5df9ecf1c80076$exports.arraysEqual(t,a)&&n.length<o||s;return{useSqueezeShape:i,uniformShape:i?c:t,keptDims:r}}function $80499140d90ba595$export$5d06d3f48295bf13(e,t){const a=JSON.parse(JSON.stringify(e));return a.shapeInfo.logicalShape=t,a}function $80499140d90ba595$var$getSqueezedParams(e,t){return t.map((t=>e[t])).join(", ")}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $78b97bd3b14a7841$var$contexts={},$78b97bd3b14a7841$var$WEBGL_ATTRIBUTES={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function $78b97bd3b14a7841$export$c5302deff3a07920(e){delete $78b97bd3b14a7841$var$contexts[e]}function $78b97bd3b14a7841$export$4b8d5e1525955c68(e,t){$78b97bd3b14a7841$var$contexts[e]=t}function $78b97bd3b14a7841$export$c7a808a518b9a146(e,t){if(!(e in $78b97bd3b14a7841$var$contexts)||null!=t){const a=$78b97bd3b14a7841$var$getWebGLRenderingContext(e,t);if(null===a)return console.log("Could not get context for WebGL version",e),null;$78b97bd3b14a7841$var$contexts[e]=a}const a=$78b97bd3b14a7841$var$contexts[e];return null==a||a.isContextLost()?(delete $78b97bd3b14a7841$var$contexts[e],$78b97bd3b14a7841$export$c7a808a518b9a146(e)):(a.disable(a.DEPTH_TEST),a.disable(a.STENCIL_TEST),a.disable(a.BLEND),a.disable(a.DITHER),a.disable(a.POLYGON_OFFSET_FILL),a.disable(a.SAMPLE_COVERAGE),a.enable(a.SCISSOR_TEST),a.enable(a.CULL_FACE),a.cullFace(a.BACK),$78b97bd3b14a7841$var$contexts[e])}function $78b97bd3b14a7841$var$createCanvas(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function $78b97bd3b14a7841$var$getWebGLRenderingContext(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const a=null==t?$78b97bd3b14a7841$var$createCanvas(e):t;return a.addEventListener("webglcontextlost",(t=>{t.preventDefault(),delete $78b97bd3b14a7841$var$contexts[e]}),!1),1===e?a.getContext("webgl",$78b97bd3b14a7841$var$WEBGL_ATTRIBUTES)||a.getContext("experimental-webgl",$78b97bd3b14a7841$var$WEBGL_ATTRIBUTES):a.getContext("webgl2",$78b97bd3b14a7841$var$WEBGL_ATTRIBUTES)}var $7a7191ee47308025$export$81d5c79efa1086f2,$7a7191ee47308025$export$6bf4bd1b6beb0bfd,$7a7191ee47308025$export$bde70ab3692e385c;function $7a7191ee47308025$export$95fb8493b25f77a4(e,t){return[t,e]}function $7a7191ee47308025$export$9427543edb6e188a(e,t){return e*t}function $7a7191ee47308025$export$bb1043669f490840(e,t){return[4*t,e]}function $7a7191ee47308025$export$2cc7cc972aa2533d(e){const t=$5d5df9ecf1c80076$exports.sizeFromShape(e),a=Math.ceil(t/4);return $5d5df9ecf1c80076$exports.sizeToSquarishShape(a)}function $7a7191ee47308025$export$4c2d3be5c837367c(e,t){if(e%t!=0)throw new Error(`unpackedSize (${e}) must be a multiple of ${t}`);return e/t}function $7a7191ee47308025$export$ccf59730cad262bd(e,t,a){const n=e.length*a/4;if(t.length<n)throw new Error(`matrix length (${t.length}) must be >= ${n}`);let r=0;for(let n=0;n<e.length;n+=4)for(let o=0;o<a;o++)t[r++]=e[n+o]}function $7a7191ee47308025$export$2754e02fa98f5582(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function $7a7191ee47308025$export$12d4e412f879b1d4(e,t){const[a,n]=$7a7191ee47308025$export$2754e02fa98f5582(e,t);return a*n*4}function $7a7191ee47308025$export$129d92ae6e74c416(e,t){const a=e;let n,r,o,s,c,i,d,f,$,u;return 2===$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_VERSION")?(n=a.R32F,r=a.R16F,o=a.RGBA16F,s=a.RGBA32F,c=a.RED,d=4,f=1,$=a.HALF_FLOAT,u=a.FLOAT,i=a.RGBA8):(n=e.RGBA,r=e.RGBA,o=e.RGBA,s=a.RGBA,c=e.RGBA,d=4,f=4,$=null!=t?t.HALF_FLOAT_OES:null,u=e.FLOAT,i=e.RGBA),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:s,textureFormatFloat:c,downloadTextureFormat:i,downloadUnpackNumChannels:d,defaultNumChannels:f,textureTypeHalfFloat:$,textureTypeFloat:u}}function $540278e56fef35f8$export$7642ac97981532b8(e,t){const a=t();return $3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("DEBUG")&&$540278e56fef35f8$var$checkWebGLError(e),a}function $540278e56fef35f8$var$checkWebGLError(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+$540278e56fef35f8$export$ee3c7ff80964e13e(e,t))}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}($7a7191ee47308025$export$81d5c79efa1086f2||($7a7191ee47308025$export$81d5c79efa1086f2={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}($7a7191ee47308025$export$6bf4bd1b6beb0bfd||($7a7191ee47308025$export$6bf4bd1b6beb0bfd={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}($7a7191ee47308025$export$bde70ab3692e385c||($7a7191ee47308025$export$bde70ab3692e385c={}));const $540278e56fef35f8$var$MIN_FLOAT16=5.96e-8,$540278e56fef35f8$var$MAX_FLOAT16=65504;function $540278e56fef35f8$export$829768a5b7625879(e){return!!($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||$540278e56fef35f8$var$MIN_FLOAT16<Math.abs(e)&&Math.abs(e)<$540278e56fef35f8$var$MAX_FLOAT16)}function $540278e56fef35f8$export$ee3c7ff80964e13e(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}function $540278e56fef35f8$export$3a5e7a891790a26c(e,t){return $540278e56fef35f8$var$throwIfNull(e,(()=>e.getExtension(t)),'Extension "'+t+'" not supported on this browser.')}function $540278e56fef35f8$export$4ca6704ce1875929(e,t){const a=$540278e56fef35f8$var$throwIfNull(e,(()=>e.createShader(e.VERTEX_SHADER)),"Unable to create vertex WebGLShader.");if($540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.shaderSource(a,t))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.compileShader(a))),!1===e.getShaderParameter(a,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(a)),new Error("Failed to compile vertex shader.");return a}function $540278e56fef35f8$export$a8ab0e04b20572c0(e,t){const a=$540278e56fef35f8$var$throwIfNull(e,(()=>e.createShader(e.FRAGMENT_SHADER)),"Unable to create fragment WebGLShader.");if($540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.shaderSource(a,t))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.compileShader(a))),$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().get("ENGINE_COMPILE_ONLY"))return a;if(!1===e.getShaderParameter(a,e.COMPILE_STATUS))throw $540278e56fef35f8$export$f7b23987b58d218(t,e.getShaderInfoLog(a)),new Error("Failed to compile fragment shader.");return a}const $540278e56fef35f8$var$lineNumberRegex=/ERROR: [0-9]+:([0-9]+):/g;function $540278e56fef35f8$export$f7b23987b58d218(e,t){const a=$540278e56fef35f8$var$lineNumberRegex.exec(t);if(null==a)return console.log(`Couldn't parse line number in error: ${t}`),void console.log(e);const n=+a[1],r=e.split("\n"),o=r.length.toString().length+2,s=r.map(((e,t)=>$5d5df9ecf1c80076$exports.rightPad((t+1).toString(),o)+e));let c=0;for(let e=0;e<s.length;e++)c=Math.max(s[e].length,c);const i=s.slice(0,n-1),d=s.slice(n-1,n),f=s.slice(n);console.log(i.join("\n")),console.log(t.split("\n")[0]),console.log(`%c ${$5d5df9ecf1c80076$exports.rightPad(d[0],c)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(f.join("\n"))}function $540278e56fef35f8$export$327d24a04cd0dc17(e){return $540278e56fef35f8$var$throwIfNull(e,(()=>e.createProgram()),"Unable to create WebGLProgram.")}function $540278e56fef35f8$export$d879afae78b531a5(e,t){if($540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.linkProgram(t))),!$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function $540278e56fef35f8$export$e2dfaf93681cde16(e,t){if($540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.validateProgram(t))),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function $540278e56fef35f8$export$3871e1d1e28ac6cb(e,t){const a=$540278e56fef35f8$var$throwIfNull(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return $540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,a))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW))),a}function $540278e56fef35f8$export$f9b26b97ca2b25e9(e,t){const a=$540278e56fef35f8$var$throwIfNull(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return $540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,a))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW))),a}function $540278e56fef35f8$export$45c2ce5fe87dcf0f(){return 2===$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_VERSION")?1:4}function $540278e56fef35f8$export$37b981a8c575f415(e){return $540278e56fef35f8$var$throwIfNull(e,(()=>e.createTexture()),"Unable to create WebGLTexture.")}function $540278e56fef35f8$export$3543950a45505554(e,t){const a=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){throw new Error("Requested texture size "+`[${e}x${t}]`+" is invalid.")}if(e>a||t>a){throw new Error("Requested texture size "+`[${e}x${t}]`+" greater than WebGL maximum on this browser / GPU "+`[${a}x${a}]`+".")}}function $540278e56fef35f8$export$366d1e3e32f5a700(e){return $540278e56fef35f8$var$throwIfNull(e,(()=>e.createFramebuffer()),"Unable to create WebGLFramebuffer.")}function $540278e56fef35f8$export$4c858b3c953a013f(e,t,a,n,r,o,s){const c=e.getAttribLocation(t,a);return-1!==c&&($540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.vertexAttribPointer(c,r,e.FLOAT,!1,o,s))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.enableVertexAttribArray(c))),!0)}function $540278e56fef35f8$export$520907fe7b2c7a2d(e,t,a){$540278e56fef35f8$var$validateTextureUnit(e,a),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.activeTexture(e.TEXTURE0+a))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bindTexture(e.TEXTURE_2D,t)))}function $540278e56fef35f8$export$9bed01c46f4769b6(e,t){$540278e56fef35f8$var$validateTextureUnit(e,t),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.activeTexture(e.TEXTURE0+t))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}function $540278e56fef35f8$export$748cafa2cdf50d8(e,t,a){return $540278e56fef35f8$var$throwIfNull(e,(()=>e.getUniformLocation(t,a)),'uniform "'+a+'" not present in program.')}function $540278e56fef35f8$export$d27256445dd7e8dd(e,t,a){return e.getUniformLocation(t,a)}function $540278e56fef35f8$export$f9ffd997f3c8b98f(e,t,a,n){$540278e56fef35f8$export$7642ac97981532b8(e,(()=>$540278e56fef35f8$export$520907fe7b2c7a2d(e,t,n))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.uniform1i(a,n)))}function $540278e56fef35f8$export$2e43f6b5d575e241(e){$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.viewport(0,0,e.canvas.width,e.canvas.height))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.scissor(0,0,e.canvas.width,e.canvas.height)))}function $540278e56fef35f8$export$4e154f0d71f19013(e,t,a){$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,a))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)))}function $540278e56fef35f8$export$d3c809959a3c24fa(e,t){$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,t))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)))}function $540278e56fef35f8$export$ca09b577525e6519(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+$540278e56fef35f8$export$851c7fde035f5bf6(e,t))}function $540278e56fef35f8$export$851c7fde035f5bf6(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}function $540278e56fef35f8$var$throwIfNull(e,t,a){const n=$540278e56fef35f8$export$7642ac97981532b8(e,(()=>t()));if(null==n)throw new Error(a);return n}function $540278e56fef35f8$var$validateTextureUnit(e,t){const a=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,n=t+e.TEXTURE0;if(n<e.TEXTURE0||n>a){throw new Error(`textureUnit must be in ${`[gl.TEXTURE0, gl.TEXTURE${a}]`}.`)}}function $540278e56fef35f8$export$4dfd7bc0667970e0(e,t=2){return $5d5df9ecf1c80076$exports.sizeFromShape(e.slice(0,e.length-t))}function $540278e56fef35f8$export$e8f6c350b57b8270(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function $540278e56fef35f8$export$f944c0101b593a79(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[$540278e56fef35f8$export$4dfd7bc0667970e0(e),...$540278e56fef35f8$export$e8f6c350b57b8270(e)]),t}function $540278e56fef35f8$export$80bf57c6927be1d9(e,t=!1){let a=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(a*=2,1===(e=e.map(((t,a)=>a>=e.length-2?$5d5df9ecf1c80076$exports.nearestLargerEven(e[a]):e[a]))).length&&(e=[2,e[0]])),2!==e.length){const t=$5d5df9ecf1c80076$exports.squeezeShape(e);e=t.newShape}let n=$5d5df9ecf1c80076$exports.sizeFromShape(e);if(e.length<=1&&n<=a)return[1,n];if(2===e.length&&e[0]<=a&&e[1]<=a)return e;if(3===e.length&&e[0]*e[1]<=a&&e[2]<=a)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=a&&e[1]*e[2]<=a)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=a&&e[3]<=a)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=a&&e[1]*e[2]*e[3]<=a)return[e[0],e[1]*e[2]*e[3]];if(t){const t=$540278e56fef35f8$export$4dfd7bc0667970e0(e);let a=2,r=2;return e.length&&([a,r]=$540278e56fef35f8$export$e8f6c350b57b8270(e)),n=t*(a/2)*(r/2),$5d5df9ecf1c80076$exports.sizeToSquarishShape(n).map((e=>2*e))}return $5d5df9ecf1c80076$exports.sizeToSquarishShape(n)}function $540278e56fef35f8$var$isEven(e){return e%2==0}function $540278e56fef35f8$export$951b388203a0422d(e,t){if(e=e.slice(-2),t=t.slice(-2),$5d5df9ecf1c80076$exports.arraysEqual(e,t))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const a=e.slice(-1)[0],n=t.slice(-1)[0];if(a===n)return!0;if($540278e56fef35f8$var$isEven(a)&&$540278e56fef35f8$var$isEven(n)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&$540278e56fef35f8$var$isEven(e[0])&&$540278e56fef35f8$var$isEven(t[0])}let $540278e56fef35f8$var$MAX_TEXTURE_SIZE,$540278e56fef35f8$var$MAX_TEXTURES_IN_SHADER;function $540278e56fef35f8$export$9dbf32263e41ec5(e){if(null==$540278e56fef35f8$var$MAX_TEXTURE_SIZE){const t=$78b97bd3b14a7841$export$c7a808a518b9a146(e);$540278e56fef35f8$var$MAX_TEXTURE_SIZE=t.getParameter(t.MAX_TEXTURE_SIZE)}return $540278e56fef35f8$var$MAX_TEXTURE_SIZE}function $540278e56fef35f8$export$3bb3363a1d77ce11(){$540278e56fef35f8$var$MAX_TEXTURE_SIZE=null}function $540278e56fef35f8$export$295b7d11bb89e671(){$540278e56fef35f8$var$MAX_TEXTURES_IN_SHADER=null}function $540278e56fef35f8$export$ce91baf6aebded89(e){if(null==$540278e56fef35f8$var$MAX_TEXTURES_IN_SHADER){const t=$78b97bd3b14a7841$export$c7a808a518b9a146(e);$540278e56fef35f8$var$MAX_TEXTURES_IN_SHADER=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,$540278e56fef35f8$var$MAX_TEXTURES_IN_SHADER)}function $540278e56fef35f8$export$8a49d28f4bb7b8a0(e){if(0===e)return 0;let t;const a=$78b97bd3b14a7841$export$c7a808a518b9a146(e);return t=$540278e56fef35f8$export$4f402f57c05c9ec3(a,"EXT_disjoint_timer_query_webgl2")&&2===e?2:$540278e56fef35f8$export$4f402f57c05c9ec3(a,"EXT_disjoint_timer_query")?1:0,t}function $540278e56fef35f8$export$4f402f57c05c9ec3(e,t){return null!=e.getExtension(t)}function $540278e56fef35f8$export$9232c111e2230c00(e){try{if(null!=$78b97bd3b14a7841$export$c7a808a518b9a146(e))return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function $540278e56fef35f8$export$d571cb60e9b5ec74(e){if(0===e)return!1;const t=$78b97bd3b14a7841$export$c7a808a518b9a146(e);if(1===e){if(!$540278e56fef35f8$export$4f402f57c05c9ec3(t,"OES_texture_float"))return!1}else if(!$540278e56fef35f8$export$4f402f57c05c9ec3(t,"EXT_color_buffer_float"))return!1;return $540278e56fef35f8$var$createFloatTextureAndBindToFramebuffer(t)}function $540278e56fef35f8$export$9cd61c8662dbbc66(e){if(0===e)return!1;const t=$78b97bd3b14a7841$export$c7a808a518b9a146(e);if(1!==e){if($540278e56fef35f8$export$4f402f57c05c9ec3(t,"EXT_color_buffer_float"))return $540278e56fef35f8$var$createFloatTextureAndBindToFramebuffer(t);const e="EXT_color_buffer_half_float";if($540278e56fef35f8$export$4f402f57c05c9ec3(t,e)){const a=t.getExtension(e);return $540278e56fef35f8$var$createHalfFloatTextureAndBindToFramebuffer(t,a)}return!1}if(!$540278e56fef35f8$export$4f402f57c05c9ec3(t,"OES_texture_float"))return!1;if(!$540278e56fef35f8$export$4f402f57c05c9ec3(t,"WEBGL_color_buffer_float"))return!1;return $540278e56fef35f8$var$createFloatTextureAndBindToFramebuffer(t)}function $540278e56fef35f8$var$createFloatTextureAndBindToFramebuffer(e){const t=$7a7191ee47308025$export$129d92ae6e74c416(e),a=e.createTexture();e.bindTexture(e.TEXTURE_2D,a);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0);const r=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(a),e.deleteFramebuffer(n),r}function $540278e56fef35f8$var$createHalfFloatTextureAndBindToFramebuffer(e,t){const a=$7a7191ee47308025$export$129d92ae6e74c416(e,t),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,a.internalFormatHalfFloat,1,1,0,a.textureFormatFloat,a.textureTypeHalfFloat,null);const r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),o}function $540278e56fef35f8$export$77efcdc20b17e5f2(e){if(2!==e)return!1;return null!=$78b97bd3b14a7841$export$c7a808a518b9a146(e).fenceSync}function $540278e56fef35f8$export$1412c17b2531581a(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&$5d5df9ecf1c80076$exports.assert("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the WebGL backend.`))}))}function $188d3dc4367e297d$export$5ca2cb6073dd12df(e,t,a,n){const r=a.map(((e,a)=>{const n={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(n.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[a],shapeInfo:n}})),o=r.map((e=>e.shapeInfo)),s={logicalShape:n.shape,texShape:n.texData.texShape,isUniform:!1,isPacked:n.texData.isPacked,flatOffset:null},c=$80499140d90ba595$export$37f33ba844563dd2(r,s,t),i=$540278e56fef35f8$export$a8ab0e04b20572c0(e.gl,c),d=e.createProgram(i);return $3a44a12dab85f91a$export$a7b6bc01c63cdfc3().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:i,source:c,webGLProgram:d,inShapeInfos:o,outShapeInfo:s,uniformLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,inShapesLocations:null,inTexShapesLocations:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:t,fragmentShader:i,source:c,webGLProgram:d,inShapeInfos:o,outShapeInfo:s},$188d3dc4367e297d$export$d421ceceafba9cc0(e,t,d))}function $188d3dc4367e297d$export$d421ceceafba9cc0(e,t,a){const n={},r={},o={},s=[];let c,i,d,f=null,$=null;$=e.getUniformLocation(a,"NAN",!1),1===$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_VERSION")&&(f=e.getUniformLocation(a,"INFINITY",!1));const u=!1;for(let s=0;s<t.variableNames.length;s++){const c=t.variableNames[s];n[c]=e.getUniformLocation(a,c,u),n[`offset${c}`]=e.getUniformLocation(a,`offset${c}`,u),t.enableShapeUniforms&&(r[`${c}Shape`]=e.getUniformLocation(a,`${c}Shape`,u),o[`${c}TexShape`]=e.getUniformLocation(a,`${c}TexShape`,u))}return t.enableShapeUniforms&&(c=e.getUniformLocation(a,"outShape",u),d=e.getUniformLocation(a,"outShapeStrides",u),i=e.getUniformLocation(a,"outTexShape",u)),t.customUniforms&&t.customUniforms.forEach(((t,n)=>{s[n]=e.getUniformLocation(a,t.name,u)})),{uniformLocations:n,customUniformLocations:s,infLoc:f,nanLoc:$,inShapesLocations:r,inTexShapesLocations:o,outShapeLocation:c,outShapeStridesLocation:d,outTexShapeLocation:i}}function $188d3dc4367e297d$var$validateBinaryAndProgram(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach(((e,a)=>{const n=e.logicalShape,r=t[a],o=r.shape;if(!$5d5df9ecf1c80076$exports.arraysEqual(n,o))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${n} and ${o} must match`);if(e.isUniform&&r.isUniform)return;const s=e.texShape,c=r.isUniform?null:r.texData.texShape;if(!$5d5df9ecf1c80076$exports.arraysEqual(s,c))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${s} and ${c} must match`)}))}function $188d3dc4367e297d$export$4e01d2c5eea12ae3(e,t,a,n,r){t.program.enableShapeUniforms||($188d3dc4367e297d$var$validateBinaryAndProgram(t.inShapeInfos,a),$188d3dc4367e297d$var$validateBinaryAndProgram([t.outShapeInfo],[n]));const o=n.texData.texture,s=n.texData.texShape;n.texData.isPacked?e.setOutputPackedMatrixTexture(o.texture,s[0],s[1]):e.setOutputMatrixTexture(o.texture,s[0],s[1]),e.setProgram(t.webGLProgram),1===$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),a.forEach(((a,n)=>{const r=t.program.variableNames[n],o=t.uniformLocations[r],s=t.uniformLocations[`offset${r}`],c=t.inShapesLocations[`${r}Shape`],i=t.inTexShapesLocations[`${r}TexShape`];if(c){const{uniformShape:n}=$80499140d90ba595$export$19e35a0844e29cf9(t.program.packedInputs,a.shape,a.texData.texShape);switch(n.length){case 1:e.gl.uniform1iv(c,new Int32Array(n));break;case 2:e.gl.uniform2iv(c,new Int32Array(n));break;case 3:e.gl.uniform3iv(c,new Int32Array(n));break;case 4:e.gl.uniform4iv(c,new Int32Array(n))}}if(i&&e.gl.uniform2i(i,a.texData.texShape[0],a.texData.texShape[1]),null!=o)if(a.isUniform)if($5d5df9ecf1c80076$exports.sizeFromShape(a.shape)<2)e.gl.uniform1f(o,a.uniformValues[0]);else{let t=a.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(o,t)}else null!=a.texData.slice&&null!=s&&e.gl.uniform1i(s,a.texData.slice.flatOffset),e.setInputMatrixTexture(a.texData.texture.texture,o,n)}));const c=t.outShapeLocation;if(c)switch(n.shape.length){case 1:e.gl.uniform1iv(c,new Int32Array(n.shape));break;case 2:e.gl.uniform2iv(c,new Int32Array(n.shape));break;case 3:e.gl.uniform3iv(c,new Int32Array(n.shape));break;case 4:e.gl.uniform4iv(c,new Int32Array(n.shape))}if(t.outShapeStridesLocation){const a=$5d5df9ecf1c80076$exports.computeStrides(n.shape);switch(n.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(a));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(a));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(a))}}t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,n.texData.texShape[0],n.texData.texShape[1]),t.program.customUniforms&&r&&t.program.customUniforms.forEach(((a,n)=>{const o=t.customUniformLocations[n],s=r[n];if("float"===a.type)e.gl.uniform1fv(o,s);else if("vec2"===a.type)e.gl.uniform2fv(o,s);else if("vec3"===a.type)e.gl.uniform3fv(o,s);else if("vec4"===a.type)e.gl.uniform4fv(o,s);else if("int"===a.type)e.gl.uniform1iv(o,s);else if("ivec2"===a.type)e.gl.uniform2iv(o,s);else if("ivec3"===a.type)e.gl.uniform3iv(o,s);else{if("ivec4"!==a.type)throw Error(`uniform type ${a.type} is not supported yet.`);e.gl.uniform4iv(o,s)}})),e.executeProgram()}function $188d3dc4367e297d$export$2a17a6d53fe6f5d9(e,t,a){let n="";t.concat(a).forEach((t=>{const r=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){const o=t.texData.texShape,{useSqueezeShape:s,uniformShape:c,keptDims:i}=$80499140d90ba595$export$19e35a0844e29cf9(e.packedInputs,t.shape,o);let d="",f="",$="";if(1===c.length&&e.packedInputs){const e=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];d=`${e[0]>1}_${e[1]>1}`}else if(2!==c.length||e.packedInputs){if(c.length>2&&!e.packedInputs){const e=$5d5df9ecf1c80076$exports.computeStrides(c);$=`${e[0]===o[1]}_${e[e.length-1]===o[1]}`}}else f=`${c[0]>1}_${c[1]>1}`;const u=t.shape.length,p=2===c.length&&$5d5df9ecf1c80076$exports.arraysEqual(t.shape,o),l=1===$5d5df9ecf1c80076$exports.sizeFromShape(t.shape),b=$c4c4d404109848b6$exports.getBroadcastDims(t.shape,a.shape),h=!e.packedInputs&&u===a.shape.length&&$5d5df9ecf1c80076$exports.arraysEqual(o,a.texData.texShape),x=e.packedInputs||c.length>2?"":`${o[0]>1}_${o[1]>1}`;n+=`${u}_${h}_${s?i:""}_${c.length}_${l}_${b}_${p}_${d}_${f}_${$}_${x}_${r}`}else{const e=t.isUniform?"uniform":t.texData.texShape;n+=`${t.shape}_${e}_${r}`}}));const r=e.userCode;let o=e.constructor.name;return o+="_"+n+"_"+r+`${$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_VERSION")}`,o}function $188d3dc4367e297d$export$5acc770fc06a0138(e){return $3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}const $c6931e3cab81bc9a$export$39f0cca2b63399f6="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n",$c6931e3cab81bc9a$export$1e6d79ff8c3b3c83="return (a - b) * (a - b);";class $c6931e3cab81bc9a$export$9045e9161086790b{constructor(e,t,a){this.variableNames=["A","B"],this.outputShape=$c4c4d404109848b6$exports.assertAndGetBroadcastShape(t,a),this.enableShapeUniforms=$188d3dc4367e297d$export$5acc770fc06a0138(this.outputShape.length),this.userCode=`\n      float binaryOperation(float a, float b) {\n        ${e}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `}}function $28418db865ebcd1b$export$a7c2113d79df2971(e,t){return["x","y","z","w","u","v"].slice(0,t).map((t=>`${e}.${t}`))}function $28418db865ebcd1b$export$7a4d1d0d17b69972(e,t){return 1===t?[e]:$28418db865ebcd1b$export$a7c2113d79df2971(e,t)}function $28418db865ebcd1b$export$8f96407d418c6727(e,t){if(1===e)return"rc";let a="";for(let n=0;n<e;n++)a+=t[n],n<e-1&&(a+=",");return a}const $452eea476760f668$export$39f0cca2b63399f6="\n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n",$452eea476760f668$export$54f9164222714c69="\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",$452eea476760f668$export$fd75136f014548e="\n  return vec4(notEqual(a, b));\n";class $452eea476760f668$export$7ef3bdc75c177be0{constructor(e,t,a,n=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=$c4c4d404109848b6$exports.assertAndGetBroadcastShape(t,a);const r=this.outputShape.length;this.enableShapeUniforms=$188d3dc4367e297d$export$5acc770fc06a0138(r);let o="";if(n)if(0===r||1===$5d5df9ecf1c80076$exports.sizeFromShape(this.outputShape))o="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{if(o=`\n          ${$80499140d90ba595$export$859efd105c10c755(r)} coords = getOutputCoords();\n        `,1===r)this.enableShapeUniforms?o+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":o+=`\n            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          `;else{const e=$28418db865ebcd1b$export$7a4d1d0d17b69972("coords",r);this.enableShapeUniforms?o+=`\n            bool nextRowOutOfBounds =\n              (${e[r-2]} + 1) >= outShape[${r} - 2];\n            bool nextColOutOfBounds =\n              (${e[r-1]} + 1) >= outShape[${r} - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `:o+=`\n            bool nextRowOutOfBounds =\n              (${e[r-2]} + 1) >= ${this.outputShape[r-2]};\n            bool nextColOutOfBounds =\n              (${e[r-1]} + 1) >= ${this.outputShape[r-1]};\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `}}this.userCode=`\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ${e}\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ${o}\n\n        setOutput(result);\n      }\n    `}}function $bd8da3cc2e13c171$export$f0954fd7d5368655(e){const{inputs:t,backend:a}=e,{x:n}=t;return a.incRef(n.dataId),{dataId:n.dataId,shape:n.shape,dtype:n.dtype}}const $bd8da3cc2e13c171$export$c426d3942537ad84={kernelName:$0eb90ddf241a18bf$export$544bf02140fa9a77,backendName:"webgl",kernelFunc:$bd8da3cc2e13c171$export$f0954fd7d5368655};function $f2c80ac6e68da386$export$83a0e34f1302825b(e){const{inputs:t,backend:a}=e,{real:n,imag:r}=t,o=a.makeTensorInfo(n.shape,"complex64"),s=a.texData.get(o.dataId),c=$bd8da3cc2e13c171$export$f0954fd7d5368655({inputs:{x:n},backend:a}),i=$bd8da3cc2e13c171$export$f0954fd7d5368655({inputs:{x:r},backend:a});return s.complexTensorInfos={real:c,imag:i},o}const $f2c80ac6e68da386$export$67917f7910d27fd8={kernelName:$0eb90ddf241a18bf$export$50ceb3fb9926e63e,backendName:"webgl",kernelFunc:$f2c80ac6e68da386$export$83a0e34f1302825b},$46cf96e229dbf880$export$92ed4431d8daa517="return (a < 0.) ? b * a : a;",$46cf96e229dbf880$export$e86410c26dcc9bb1="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";function $46cf96e229dbf880$export$23a860e40a2c6b61(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{alpha:o}=n,s=a.makeTensorInfo([],"float32",$5d5df9ecf1c80076$exports.createScalarValue(o,"float32")),c=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new $452eea476760f668$export$7ef3bdc75c177be0($46cf96e229dbf880$export$e86410c26dcc9bb1,r.shape,s.shape):new $c6931e3cab81bc9a$export$9045e9161086790b($46cf96e229dbf880$export$92ed4431d8daa517,r.shape,s.shape),i=a.runWebGLProgram(c,[r,s],"float32");return a.disposeIntermediateTensorInfo(s),i}const $46cf96e229dbf880$export$aa04ab963fdf437f={kernelName:$0eb90ddf241a18bf$export$f0c7162bb7af1a2d,backendName:"webgl",kernelFunc:$46cf96e229dbf880$export$23a860e40a2c6b61},$766650300a041c16$export$97f8593018a4b737="return (a < 0.) ? b * a : a;",$766650300a041c16$export$4cc182bd80c9848a="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";function $766650300a041c16$export$5882f235222e6729(e){const{inputs:t,backend:a}=e,{x:n,alpha:r}=t,o=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new $452eea476760f668$export$7ef3bdc75c177be0($766650300a041c16$export$4cc182bd80c9848a,n.shape,r.shape):new $c6931e3cab81bc9a$export$9045e9161086790b($766650300a041c16$export$97f8593018a4b737,n.shape,r.shape);return a.runWebGLProgram(o,[n,r],"float32")}const $766650300a041c16$export$a5c4a9b694579636={kernelName:$0eb90ddf241a18bf$export$a42f35f308fc2fa3,backendName:"webgl",kernelFunc:$766650300a041c16$export$5882f235222e6729};class $b50143a2030a9a53$export$f93811a5a466fd42{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=$188d3dc4367e297d$export$5acc770fc06a0138(this.outputShape.length),this.userCode=`\n      float unaryOperation(float x) {\n        ${t}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const $b50143a2030a9a53$export$39f0cca2b63399f6="if (isnan(x)) return x;",$b50143a2030a9a53$export$8244104593af74a6="return x;",$b50143a2030a9a53$export$3f020f6dcff67a1b="return abs(x);";function $b50143a2030a9a53$export$8a2ed3f7f077984e(e=0){return $b50143a2030a9a53$export$39f0cca2b63399f6+`\n    return x > 0.0 ? 1.0 : float(${e});\n  `}const $b50143a2030a9a53$export$945a5ccf96adb3b2="return (x >= 0.0) ? x : (exp(x) - 1.0);",$b50143a2030a9a53$export$27041fe53e1ee6da=$b50143a2030a9a53$export$39f0cca2b63399f6+"\n  return (x < 0.0) ? 0.0 : x;\n",$b50143a2030a9a53$export$94bf29e9c85fc840=$b50143a2030a9a53$export$39f0cca2b63399f6+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",$b50143a2030a9a53$export$c07b68c109124fe2="return x;",$b50143a2030a9a53$export$f95dbffd98d0457a="return 1.0 / (1.0 + exp(-1.0 * x));",$76c09cc403ab00e4$export$8244104593af74a6="return x;",$76c09cc403ab00e4$export$945a5ccf96adb3b2="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",$76c09cc403ab00e4$export$27041fe53e1ee6da="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",$76c09cc403ab00e4$export$94bf29e9c85fc840="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",$76c09cc403ab00e4$export$f95dbffd98d0457a="return 1.0 / (1.0 + exp(-1.0 * x));";class $76c09cc403ab00e4$export$4d8daca4f85ed73d{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=$188d3dc4367e297d$export$5acc770fc06a0138(this.outputShape.length),this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${t}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const $52a8e902063fb185$export$bf39b1cb254b6187="if (isnan(x)) return x;",$52a8e902063fb185$export$b6a0646d16261569="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n",$52a8e902063fb185$export$2bc6376b63d1db4="\n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n";function $52a8e902063fb185$export$ba4daf5748026fba({opSnippet:e,packedOpSnippet:t,cpuKernelImpl:a,dtype:n}){return({inputs:r,backend:o})=>{const{x:s}=r,c=o,i=n||s.dtype;if(c.shouldExecuteOnCPU([s])&&null!=a){const e=c.texData.get(s.dataId),t=a(e.values,i);return c.makeTensorInfo(s.shape,i,t)}let d;return d=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=t?new $76c09cc403ab00e4$export$4d8daca4f85ed73d(s.shape,t):new $b50143a2030a9a53$export$f93811a5a466fd42(s.shape,e),c.runWebGLProgram(d,[s],i)}}function $52a8e902063fb185$export$29353c66e70e3e16({opSnippet:e,packedOpSnippet:t,checkOutOfBounds:a=!1,supportsComplex:n=!1,cpuKernelImpl:r,dtype:o}){return({inputs:s,backend:c})=>{const{a:i,b:d}=s,f=c;if(n&&"complex64"===i.dtype){const t=f.texData.get(i.dataId),a=f.texData.get(d.dataId),[n,r]=[[t.complexTensorInfos.real,a.complexTensorInfos.real],[t.complexTensorInfos.imag,a.complexTensorInfos.imag]].map((t=>{const[a,n]=t,r={dataId:a.dataId,dtype:a.dtype,shape:i.shape},o={dataId:n.dataId,dtype:n.dtype,shape:d.shape},s=new $c6931e3cab81bc9a$export$9045e9161086790b(e,i.shape,d.shape);return f.runWebGLProgram(s,[r,o],$063ffdf621a4b072$export$7bcca02d1a156bdf(a.dtype,n.dtype))})),o=$f2c80ac6e68da386$export$83a0e34f1302825b({inputs:{real:n,imag:r},backend:f});return f.disposeIntermediateTensorInfo(n),f.disposeIntermediateTensorInfo(r),o}const $=o||$063ffdf621a4b072$export$7bcca02d1a156bdf(i.dtype,d.dtype);if(("string"===i.dtype||"string"===d.dtype||f.shouldExecuteOnCPU([i,d]))&&null!=r){const e=f.texData.get(i.dataId).values,t=f.texData.get(d.dataId).values,a="string"===i.dtype?$c4c4d404109848b6$exports.fromUint8ToStringArray(e):e,n="string"===i.dtype?$c4c4d404109848b6$exports.fromUint8ToStringArray(t):t,[o,s]=r(i.shape,d.shape,a,n,$),c=f.makeTensorInfo(s,$);return f.texData.get(c.dataId).values=o,c}let u;return u=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=t?new $452eea476760f668$export$7ef3bdc75c177be0(t,i.shape,d.shape,a):new $c6931e3cab81bc9a$export$9045e9161086790b(e,i.shape,d.shape),f.runWebGLProgram(u,[i,d],$)}}function $52a8e902063fb185$export$445d43a4039ec7b7(e,t=!1){if("linear"===e)return t?$76c09cc403ab00e4$export$8244104593af74a6:$b50143a2030a9a53$export$8244104593af74a6;if("relu"===e)return t?$76c09cc403ab00e4$export$27041fe53e1ee6da:$b50143a2030a9a53$export$27041fe53e1ee6da;if("elu"===e)return t?$76c09cc403ab00e4$export$945a5ccf96adb3b2:$b50143a2030a9a53$export$945a5ccf96adb3b2;if("relu6"===e)return t?$76c09cc403ab00e4$export$94bf29e9c85fc840:$b50143a2030a9a53$export$94bf29e9c85fc840;if("prelu"===e)return t?$766650300a041c16$export$4cc182bd80c9848a:$766650300a041c16$export$97f8593018a4b737;if("leakyrelu"===e)return t?$46cf96e229dbf880$export$e86410c26dcc9bb1:$46cf96e229dbf880$export$92ed4431d8daa517;if("sigmoid"===e)return t?$76c09cc403ab00e4$export$f95dbffd98d0457a:$b50143a2030a9a53$export$f95dbffd98d0457a;throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}class $e8f5149e98857d9c$export$21e5f112101779d8{constructor(e,t,a,n=!1,r=!1,o=!1,s=null,c=!1,i=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=a,this.enableShapeUniforms=$188d3dc4367e297d$export$5acc770fc06a0138(this.outputShape.length);const d=n?e[1]:e[2],f=Math.ceil(d/2),$=n?"i * 2, rc.y":"rc.y, i * 2",u=r?"rc.z, i * 2":"i * 2, rc.z",p=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],l=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let b="",h="";s&&(b=c?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${s}\n        }`:i?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${s}\n        }`:`vec4 activation(vec4 x) {\n          ${s}\n        }`,h="result = activation(result);");const x=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),c&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha");let m="rc.x",g="rc.x";e[0]<t[0]?m=`int(min(float(rc.x), ${e[0]-1}.))`:t[0]<e[0]&&(g=`int(min(float(rc.x), ${t[0]-1}.))`),this.userCode=`\n      ${b}\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ${f}.0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ${f}; i++) {\n          int batchA = ${m};\n          int batchB = ${g};\n          vec4 a = getMatrixA(batchA, ${$});\n          vec4 b = getMatrixB(batchB, ${u});\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (${p[0]} * ${l[0]});\n          result += (${p[1]} * ${l[1]});\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ${x}\n\n        ${h}\n\n        setOutput(result);\n      }\n    `}}const $8d2ef28edfd4c34b$export$51b2b2579375d8b0={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class $8d2ef28edfd4c34b$export$d4e4851a08b0c91{constructor(e,t,a){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=$c4c4d404109848b6$exports.assertAndGetBroadcastShape(t,a),this.userCode=`\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${e}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `}}const{addImpl:$df118cc0d91a72de$export$c7f405723b4a93e7,bincountImpl:$df118cc0d91a72de$export$566def819e5d4601,bincountReduceImpl:$df118cc0d91a72de$export$447b89266e53682e,ceilImpl:$df118cc0d91a72de$export$bb3ce81256fe261b,concatImpl:$df118cc0d91a72de$export$95e7342d25849d64,equalImpl:$df118cc0d91a72de$export$13d1298222b29d06,expImpl:$df118cc0d91a72de$export$f72e179c9610cb8c,expm1Impl:$df118cc0d91a72de$export$5903785c29f035f5,floorImpl:$df118cc0d91a72de$export$195a28e6add8ab7e,gatherNdImpl:$df118cc0d91a72de$export$e3196a12dce24214,gatherV2Impl:$df118cc0d91a72de$export$cffe0fde89e98de6,greaterImpl:$df118cc0d91a72de$export$eabb8927944259dd,greaterEqualImpl:$df118cc0d91a72de$export$a3d2e203d979d298,lessImpl:$df118cc0d91a72de$export$74c893b3c5e74e60,lessEqualImpl:$df118cc0d91a72de$export$6d1533a3ea9565f,linSpaceImpl:$df118cc0d91a72de$export$c86a2be8970d7a7d,logImpl:$df118cc0d91a72de$export$e88dde64a338f813,maxImpl:$df118cc0d91a72de$export$a94164c9f637858e,maximumImpl:$df118cc0d91a72de$export$b3afdc53a543e175,minimumImpl:$df118cc0d91a72de$export$1f01be3f637863fa,multiplyImpl:$df118cc0d91a72de$export$598d1d66b05a298f,negImpl:$df118cc0d91a72de$export$1cbcde7624effb15,notEqualImpl:$df118cc0d91a72de$export$b91372753635df24,prodImpl:$df118cc0d91a72de$export$2d654219115cec80,rangeImpl:$df118cc0d91a72de$export$fbee6deed7e76443,rsqrtImpl:$df118cc0d91a72de$export$431ccb02913a1aee,sigmoidImpl:$df118cc0d91a72de$export$9b816377c2ca1f1f,simpleAbsImpl:$df118cc0d91a72de$export$d7efa3585619eabe,sliceImpl:$df118cc0d91a72de$export$45812d0d8578899,sparseFillEmptyRowsImpl:$df118cc0d91a72de$export$6cee5fb970d08428,sparseReshapeImpl:$df118cc0d91a72de$export$d17b3360054ff370,sparseSegmentReductionImpl:$df118cc0d91a72de$export$a503222c03b33888,sqrtImpl:$df118cc0d91a72de$export$548a22b20eeaf85b,stridedSliceImpl:$df118cc0d91a72de$export$efd4e188e5de0188,stringNGramsImpl:$df118cc0d91a72de$export$bb9e83cb65884ef3,stringSplitImpl:$df118cc0d91a72de$export$bb4b4a9a1db97dea,stringToHashBucketFastImpl:$df118cc0d91a72de$export$d7d8a9bba3df6e63,subImpl:$df118cc0d91a72de$export$be7474e96b733333,tileImpl:$df118cc0d91a72de$export$349e02a266ab3131,topKImpl:$df118cc0d91a72de$export$cc4aa6851cf96e2b,transposeImpl:$df118cc0d91a72de$export$a0105d4a7143676c,uniqueImpl:$df118cc0d91a72de$export$c417de669ad2e148}=$068de0e28a5d41bf$exports,$465e7ad7fdd76a1f$var$MUL="return a * b;";function $465e7ad7fdd76a1f$export$2060d2db72cce88f(e){const{inputs:t,backend:a}=e,{a:n,b:r}=t,o=$c4c4d404109848b6$exports.upcastType(n.dtype,r.dtype);if("complex64"===n.dtype){const e=a.texData.get(n.dataId),t=a.texData.get(r.dataId),o=new $8d2ef28edfd4c34b$export$d4e4851a08b0c91($8d2ef28edfd4c34b$export$51b2b2579375d8b0.REAL,n.shape,r.shape),s=new $8d2ef28edfd4c34b$export$d4e4851a08b0c91($8d2ef28edfd4c34b$export$51b2b2579375d8b0.IMAG,n.shape,r.shape),c=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:n.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:n.shape},{dataId:t.complexTensorInfos.real.dataId,dtype:t.complexTensorInfos.real.dtype,shape:r.shape},{dataId:t.complexTensorInfos.imag.dataId,dtype:t.complexTensorInfos.imag.dtype,shape:r.shape}],i=a.runWebGLProgram(o,c,"float32"),d=a.runWebGLProgram(s,c,"float32"),f=$f2c80ac6e68da386$export$83a0e34f1302825b({inputs:{real:i,imag:d},backend:a});return a.disposeIntermediateTensorInfo(i),a.disposeIntermediateTensorInfo(d),f}if(a.shouldExecuteOnCPU([n,r])){const e=a.texData.get(n.dataId),t=a.texData.get(r.dataId),[s,c]=$df118cc0d91a72de$export$598d1d66b05a298f(n.shape,r.shape,e.values,t.values,o),i=a.makeTensorInfo(c,o);return a.texData.get(i.dataId).values=s,i}let s;return s=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new $452eea476760f668$export$7ef3bdc75c177be0($465e7ad7fdd76a1f$var$MUL,n.shape,r.shape):new $c6931e3cab81bc9a$export$9045e9161086790b($465e7ad7fdd76a1f$var$MUL,n.shape,r.shape),a.runWebGLProgram(s,[n,r],o)}const $465e7ad7fdd76a1f$export$745576778aafee88={kernelName:$0eb90ddf241a18bf$export$f14f83b3b531d498,backendName:"webgl",kernelFunc:$465e7ad7fdd76a1f$export$2060d2db72cce88f};class $508d7b10a09cd16a$export$ce249f6fedcc44de{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=$188d3dc4367e297d$export$5acc770fc06a0138(this.outputShape.length);let a="";for(let e=0;e<4;e++){let t="thisRC = rc;";e%2==1&&(t+="thisRC.z += 1;"),e>1&&(t+="thisRC.y += 1;"),a+=`\n        ${t}\n        ${e>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${e}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${e>0?"}":""}\n      `}this.userCode=`\n      ${$508d7b10a09cd16a$var$getReshapedInputCoords(t,this.enableShapeUniforms)}\n      ${this.enableShapeUniforms?$f03ddf6569260af4$export$4ec1e3f6361de451():$f03ddf6569260af4$export$4c68558c71205a01(e)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};\n        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};\n\n        ${a}\n\n        setOutput(result);\n      }\n    `}}function $508d7b10a09cd16a$var$getReshapedInputCoords(e,t){return`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${t?$f03ddf6569260af4$export$a1b266196cc2d8ea(["r","c","d"],"inputShape"):$f03ddf6569260af4$export$53c37f67510642ce(["r","c","d"],e)}\n      return ivec3(r, c, d);\n    }\n  `}function $69187147e5856aab$export$2ae2c9dd4c61df98(e,t,a){const n=[$540278e56fef35f8$export$4dfd7bc0667970e0(e.shape),...$540278e56fef35f8$export$e8f6c350b57b8270(e.shape)],r={dtype:e.dtype,shape:n,dataId:e.dataId},o=[$540278e56fef35f8$export$4dfd7bc0667970e0(t),...$540278e56fef35f8$export$e8f6c350b57b8270(t)],s=new $508d7b10a09cd16a$export$ce249f6fedcc44de(o,n),c=[n],i=a.runWebGLProgram(s,[r],e.dtype,c,!0);return{dataId:i.dataId,shape:t,dtype:i.dtype}}function $a657ec5002bf637a$export$9eaad88cf88cee2b(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{shape:o}=n,s=a,c=$5d5df9ecf1c80076$exports.sizeFromShape(r.shape),i=$5d5df9ecf1c80076$exports.inferFromImplicitShape(o,c),d=$5d5df9ecf1c80076$exports.sizeFromShape(i);$5d5df9ecf1c80076$exports.assert(c===d,(()=>`The new shape (${i}) has ${d} elements and the old shape (${r.shape}) has ${c} elements. The new shape and old shape must have the same number of elements.`));const f=s.texData.get(r.dataId);return!f.isPacked||$540278e56fef35f8$export$951b388203a0422d(r.shape,i)||null!==f.texture&&$540278e56fef35f8$export$951b388203a0422d(f.shape,i)?(s.incRef(r.dataId),{dataId:r.dataId,shape:i,dtype:r.dtype}):$69187147e5856aab$export$2ae2c9dd4c61df98(r,i,s)}const $a657ec5002bf637a$export$cfa02e698602aca2={kernelName:$0eb90ddf241a18bf$export$755ddd847e5abe03,backendName:"webgl",kernelFunc:$a657ec5002bf637a$export$9eaad88cf88cee2b};class $ddcf105268e84398$export$a1460fd06abdca4{constructor(e,t){this.variableNames=["x"];const{windowSize:a,batchSize:n,inSize:r,outSize:o}=e;this.outputShape=[n,o];const s=4*Math.floor(a/4),c=a%4;let i="sumValue += dot(values, ones);";if(null!=t){const e=1/t;i=`sumValue += dot(values * ${$5d5df9ecf1c80076$exports.isInt(e)?e.toPrecision(2):e}, ones);`}let d="";r%a>0&&(d=`\n        if (inIdx < 0 || inIdx >= ${r}) {\n          return 0.0;\n        }\n      `),this.userCode=`\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${d}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${a};\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${s}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${i}\n        }\n\n        int inIdx = inOffset + ${s};\n        if (${1===c}) {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ${i}\n        } else if (${2===c}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ${i}\n        } else if (${3===c}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ${i}\n        }\n        setOutput(sumValue);\n      }\n    `}}class $3c3edef2fc6303c3$export$14f07173aed228a5{constructor(e,t){this.variableNames=["x"];const{windowSize:a,batchSize:n,inSize:r,outSize:o}=e;this.outputShape=[n,o];let s="0.0",c="";"prod"===t?s="1.0":"min"===t?(s="1.0 / 1e-20",c="min"):"max"===t&&(s="-1.0 / 1e-20",c="max");let i=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===t?i="sumValue":"prod"===t?i="prodValue":"all"===t?i="allValue":"any"===t&&(i="anyValue");const d=4*Math.floor(a/4),f=a%4;let $=`\n      if (${"sum"===t}) {\n        sumValue += dot(values, ones);\n      } else if (${"prod"===t}) {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ${c}(values, minMaxValue);\n        if (${"min"===t} || ${"max"===t}) {\n          minMaxValue = ${c}(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    `,u="vec4";"all"===t?(s="1.0",$="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",u="bvec4"):"any"===t&&(s="0.0",$="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",u="bvec4");let p="";r%a>0&&(p=`\n        if (inIdx < 0 || inIdx >= ${r}) {\n          return initializationValue;\n        }\n      `),this.userCode=`\n      const float initializationValue = ${s};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${p}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${a};\n\n        vec4 minMaxValue = vec4(${s});\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ${d}; i += 4) {\n          int inIdx = inOffset + i;\n          ${u} values = ${u}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${$}\n        }\n\n        int inIdx = inOffset + ${d};\n        if (${1===f}) {\n          ${u} values = ${u}(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ${$}\n        } else if (${2===f}) {\n          ${u} values = ${u}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ${$}\n        } else if (${3===f}) {\n          ${u} values = ${u}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ${$}\n        }\n        setOutput(${i});\n      }\n    `}}function $bdf8e0cb34e96e91$var$getReductionStages(e){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const a=t.length?t[t.length-1].outSize:e[1],n=$c4c4d404109848b6$exports.computeOptimalWindowSize(a);t.push({inSize:a,windowSize:n,outSize:Math.ceil(a/n)})}return t}function $bdf8e0cb34e96e91$export$533b26079ad0b4b(e,t,a,n){const r=$bdf8e0cb34e96e91$var$getReductionStages(e.shape);let o=e;for(let s=0;s<r.length;s++){const{inSize:c,windowSize:i,outSize:d}=r[s];let f,$;f="mean"===a?0===s?new $ddcf105268e84398$export$a1460fd06abdca4({windowSize:i,inSize:c,batchSize:e.shape[0],outSize:d},c):new $ddcf105268e84398$export$a1460fd06abdca4({windowSize:i,inSize:c,batchSize:e.shape[0],outSize:d}):new $3c3edef2fc6303c3$export$14f07173aed228a5({windowSize:i,inSize:c,batchSize:e.shape[0],outSize:d},a),$=o,o=n.runWebGLProgram(f,[o],t),$.dataId!==e.dataId&&n.disposeIntermediateTensorInfo($)}return o}class $fe6160a98146a3ce$export$e48ac6bd7e0ddfac{constructor(e,t){this.variableNames=["A"];const a=new Array(e.length);for(let n=0;n<a.length;n++)a[n]=e[t[n]];this.outputShape=a,this.rank=a.length;const n=$80499140d90ba595$export$859efd105c10c755(this.rank),r=$fe6160a98146a3ce$var$getSwitchedCoords(t);this.userCode=`\n    void main() {\n      ${n} resRC = getOutputCoords();\n      setOutput(getA(${r}));\n    }\n    `}}function $fe6160a98146a3ce$var$getSwitchedCoords(e){const t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const a=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],n=new Array(t);for(let t=0;t<e.length;t++)n[e[t]]=a[t];return n.join()}class $1d3c6fc24e64f8ba$export$4daa0c968248fb58{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const a=new Array(e.length);for(let n=0;n<a.length;n++)a[n]=e[t[n]];if(this.outputShape=a,this.rank=a.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const n=$80499140d90ba595$export$859efd105c10c755(this.rank),r=$28418db865ebcd1b$export$a7c2113d79df2971("rc",this.rank),o=new Array(this.rank);for(let e=0;e<t.length;e++)o[t[e]]=r[e];const s=`vec2(${o.slice(-2).join()})`,c=`++${r[this.rank-1]} < ${a[this.rank-1]}`,i=`getChannel(getA(${o.join()}), ${s})`;this.userCode=`\n    void main() {\n      ${n} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${i};\n      if(${c}) {\n        result[1] = ${i};\n      }\n      --${r[this.rank-1]};\n      if(++${r[this.rank-2]} < ${a[this.rank-2]}) {\n        result[2] = ${i};\n        if(${c}) {\n          result[3] = ${i};\n        }\n      }\n      setOutput(result);\n    }\n    `}}function $f4245f2e77d00e64$export$986b9e65182e08d(e,t,a){const n=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new $1d3c6fc24e64f8ba$export$4daa0c968248fb58(e.shape,t):new $fe6160a98146a3ce$export$e48ac6bd7e0ddfac(e.shape,t);return a.runWebGLProgram(n,[e],e.dtype)}function $fb0583331af57ce2$export$c29f6d05a9b60dfa(e,t,a,n){const r=t,o=e.shape.length,s=$5d5df9ecf1c80076$exports.parseAxisParam(r,e.shape);let c=s;const i=$c4c4d404109848b6$exports.getAxesPermutation(c,o),d=null!=i;let f=e;d&&(f=$f4245f2e77d00e64$export$986b9e65182e08d(e,i,n),c=$c4c4d404109848b6$exports.getInnerMostAxes(c.length,o)),$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("sum",c,o);const[$,u]=$c4c4d404109848b6$exports.computeOutAndReduceShapes(f.shape,c);let p=$;a&&(p=$c4c4d404109848b6$exports.expandShapeToKeepDim($,s));const l=$5d5df9ecf1c80076$exports.sizeFromShape(u),b=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:f},attrs:{shape:[$5d5df9ecf1c80076$exports.sizeFromShape(e.shape)/l,l]},backend:n}),h=$bdf8e0cb34e96e91$export$533b26079ad0b4b(b,$063ffdf621a4b072$export$3479b4fbed3c0d8d(e.dtype),"sum",n),x=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:h},attrs:{shape:p},backend:n});return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(h),d&&n.disposeIntermediateTensorInfo(f),x}function $458b4d5afd630183$export$8a63f25cc62965f1(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{axis:o,keepDims:s}=n;return $fb0583331af57ce2$export$c29f6d05a9b60dfa(r,o,s,a)}const $458b4d5afd630183$export$47edea402251c258={kernelName:$0eb90ddf241a18bf$export$534760f50726d5,backendName:"webgl",kernelFunc:$458b4d5afd630183$export$8a63f25cc62965f1};function $9aea914380a219cc$export$9cb09a71b7d66923(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{perm:o}=n,s=a,c=r.shape.length,i=new Array(c);for(let e=0;e<i.length;e++)i[e]=r.shape[o[e]];let d;if(s.shouldExecuteOnCPU([r])){const e=s.texData.get(r.dataId).values,t=$df118cc0d91a72de$export$a0105d4a7143676c(e,r.shape,r.dtype,o,i);d=s.makeTensorInfo(i,r.dtype);s.texData.get(d.dataId).values=t}else d=$f4245f2e77d00e64$export$986b9e65182e08d(r,o,s);return d}const $9aea914380a219cc$export$895a002a39b774be={kernelName:$0eb90ddf241a18bf$export$7e714455f9a1f8f7,backendName:"webgl",kernelFunc:$9aea914380a219cc$export$9cb09a71b7d66923},$9d5cbac0ca7d0bee$export$42c1ddb439199e73=1e3;function $9d5cbac0ca7d0bee$export$d524d65e88e1168b({a:e,b:t,transposeA:a,transposeB:n,backend:r,bias:o=null,preluActivationWeights:s=null,leakyreluAlpha:c=0,activation:i=null}){const d=e.shape.length,f=t.shape.length,$=a?e.shape[d-2]:e.shape[d-1],u=n?t.shape[f-1]:t.shape[f-2],p=a?e.shape[d-1]:e.shape[d-2],l=n?t.shape[f-2]:t.shape[f-1],b=e.shape.slice(0,-2),h=t.shape.slice(0,-2),x=$5d5df9ecf1c80076$exports.sizeFromShape(b),m=$5d5df9ecf1c80076$exports.sizeFromShape(h),g=$cbf310cf53e91f85$exports.assertAndGetBroadcastShape(e.shape.slice(0,-2),t.shape.slice(0,-2)).concat([p,l]);$5d5df9ecf1c80076$exports.assert($===u,(()=>`Error in matMul: inner shapes (${$}) and (${u}) of Tensors with shapes ${e.shape} and ${t.shape} and transposeA=${a} and transposeB=${n} must match.`));const v=a?[x,$,p]:[x,p,$],y=n?[m,l,u]:[m,u,l],w=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:e},backend:r,attrs:{shape:v}}),_=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:t},backend:r,attrs:{shape:y}}),I=[w,_],S=Math.max(x,m),T=a?w.shape[1]:w.shape[2],k=null!=o,E=null!=s,A="leakyrelu"===i,C=null!=i?$52a8e902063fb185$export$445d43a4039ec7b7(i,!0):null;let O;if((1===p||1===l)&&T>$9d5cbac0ca7d0bee$export$42c1ddb439199e73&&!1===(k||E||A||null!=C)){let e=w,t=_;a&&(e=$9aea914380a219cc$export$9cb09a71b7d66923({inputs:{x:w},backend:r,attrs:{perm:[0,2,1]}}),I.push(e)),n&&(t=$9aea914380a219cc$export$9cb09a71b7d66923({inputs:{x:_},backend:r,attrs:{perm:[0,2,1]}}),I.push(t));const o=1===l;let s=e;1!==l&&(s=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:e},backend:r,attrs:{shape:[S,T,1]}}),I.push(s));const c=1===l?2:1;let i=t;o&&(i=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:t},backend:r,attrs:{shape:[S,1,T]}}),I.push(i));const d=$465e7ad7fdd76a1f$export$2060d2db72cce88f({inputs:{a:s,b:i},backend:r});O=$458b4d5afd630183$export$8a63f25cc62965f1({inputs:{x:d},backend:r,attrs:{axis:c,keepDims:!0}}),I.push(d)}else{const i=$063ffdf621a4b072$export$7bcca02d1a156bdf(e.dtype,t.dtype),d=new $e8f5149e98857d9c$export$21e5f112101779d8(v,y,[S,p,l],a,n,k,C,E,A),f=[w,_];if(null!=o&&f.push(o),E&&f.push(s),A){const e=r.makeTensorInfo([],"float32",$5d5df9ecf1c80076$exports.createScalarValue(c,"float32"));f.push(e),I.push(e)}O=r.runWebGLProgram(d,f,i)}const N=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:O},backend:r,attrs:{shape:g}});I.push(O);for(const e of I)r.disposeIntermediateTensorInfo(e);return N}function $04cad3ea8d4e2dc1$export$d86ca0bbe0236889(e){const{inputs:t,backend:a,attrs:n}=e,{a:r,b:o,bias:s,preluActivationWeights:c}=t,{transposeA:i,transposeB:d,activation:f,leakyreluAlpha:$}=n;return $9d5cbac0ca7d0bee$export$d524d65e88e1168b({a:r,b:o,transposeA:i,transposeB:d,backend:a,bias:s,preluActivationWeights:c,leakyreluAlpha:$,activation:f})}const $04cad3ea8d4e2dc1$export$f70d36da1c218f84={kernelName:$0eb90ddf241a18bf$export$8d1af0f7c2a4da9e,backendName:"webgl",kernelFunc:$04cad3ea8d4e2dc1$export$d86ca0bbe0236889},$6b54450112973d80$var$ABS="return abs(x);";function $6b54450112973d80$export$2335f513bbd82c6d(e){const{inputs:t,backend:a}=e,{x:n}=t;if(a.shouldExecuteOnCPU([n])&&"complex64"!==n.dtype){const e=a.texData.get(n.dataId),t=$df118cc0d91a72de$export$d7efa3585619eabe(e.values);return a.makeTensorInfo(n.shape,n.dtype,t)}let r;return r=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new $76c09cc403ab00e4$export$4d8daca4f85ed73d(n.shape,$6b54450112973d80$var$ABS):new $b50143a2030a9a53$export$f93811a5a466fd42(n.shape,$6b54450112973d80$var$ABS),a.runWebGLProgram(r,[n],n.dtype)}const $6b54450112973d80$export$d66f48648b9d5ec7={kernelName:$0eb90ddf241a18bf$export$b73c596ee8758a66,backendName:"webgl",kernelFunc:$6b54450112973d80$export$2335f513bbd82c6d},$a96082cbb53d5d6d$var$ACOS=$b50143a2030a9a53$export$39f0cca2b63399f6+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n",$a96082cbb53d5d6d$export$fd6306be3fde5b04=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$a96082cbb53d5d6d$var$ACOS}),$a96082cbb53d5d6d$export$255826ca70737275={kernelName:$0eb90ddf241a18bf$export$3b952c9980dac550,backendName:"webgl",kernelFunc:$a96082cbb53d5d6d$export$fd6306be3fde5b04},$7349b5e59d6c5c11$var$ACOSH=$b50143a2030a9a53$export$39f0cca2b63399f6+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));",$7349b5e59d6c5c11$export$b26caf0f29211d08=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$7349b5e59d6c5c11$var$ACOSH}),$7349b5e59d6c5c11$export$3f520b71a56c9e70={kernelName:$0eb90ddf241a18bf$export$987da490b7c2e7dd,backendName:"webgl",kernelFunc:$7349b5e59d6c5c11$export$b26caf0f29211d08},$80e8768b21c6a111$var$ADD="return a + b;",$80e8768b21c6a111$export$d50bf7e4980f70a9=$52a8e902063fb185$export$29353c66e70e3e16({opSnippet:$80e8768b21c6a111$var$ADD,packedOpSnippet:$80e8768b21c6a111$var$ADD,supportsComplex:!0,cpuKernelImpl:$df118cc0d91a72de$export$c7f405723b4a93e7}),$80e8768b21c6a111$export$b1f3a580afb68e4c={kernelName:$0eb90ddf241a18bf$export$d0265b2c425512d6,backendName:"webgl",kernelFunc:$80e8768b21c6a111$export$d50bf7e4980f70a9};class $be82a4bf98f10649$export$9d269fc8eb4783d5{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const a=[];this.variableNames.forEach((e=>{a.push(`float v${e} = get${e}AtOutCoords();`)}));const n=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${a.join("\n        ")}\n\n        float result = ${n};\n        setOutput(result);\n      }\n    `}}class $daa8f7de43f59629$export$156b01c0aab97d90{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const a=[];this.variableNames.forEach((e=>{a.push(`vec4 v${e} = get${e}AtOutCoords();`)}));const n=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${a.join("\n        ")}\n\n        vec4 result = ${n};\n        setOutput(result);\n      }\n    `}}function $2b5ddf20b25251a2$export$37b75d0026f96b8d(e){const{inputs:t,backend:a}=e,n=t;if(1===n.length)return $bd8da3cc2e13c171$export$f0954fd7d5368655({inputs:{x:n[0]},backend:a});if(n.length>$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().get("WEBGL_MAX_TEXTURES_IN_SHADER")){const e=Math.floor(n.length/2),t=$2b5ddf20b25251a2$export$37b75d0026f96b8d({inputs:n.slice(0,e),backend:a}),r=$2b5ddf20b25251a2$export$37b75d0026f96b8d({inputs:n.slice(e),backend:a});return $2b5ddf20b25251a2$export$37b75d0026f96b8d({inputs:[t,r],backend:a})}const r=n.map((e=>e.dtype)).reduce(((e,t)=>$063ffdf621a4b072$export$7bcca02d1a156bdf(e,t))),o=n.map((e=>e.shape)),s=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK")?new $daa8f7de43f59629$export$156b01c0aab97d90(n[0].shape,o):new $be82a4bf98f10649$export$9d269fc8eb4783d5(n[0].shape,o);return a.runWebGLProgram(s,n,r)}const $2b5ddf20b25251a2$export$ff8000bc6f0313e1={kernelName:$0eb90ddf241a18bf$export$eef235ad06d3226a,backendName:"webgl",kernelFunc:$2b5ddf20b25251a2$export$37b75d0026f96b8d};function $6a93e7470bd44fc0$export$84bf76cd7afc7469(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{axis:o,keepDims:s}=n,c=r.shape.length,i=$5d5df9ecf1c80076$exports.parseAxisParam(o,r.shape);let d=i;const f=$c4c4d404109848b6$exports.getAxesPermutation(d,c);let $=r;null!=f&&($=$9aea914380a219cc$export$9cb09a71b7d66923({inputs:{x:r},backend:a,attrs:{perm:f}}),d=$c4c4d404109848b6$exports.getInnerMostAxes(d.length,c)),$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("all",d,c);const[u,p]=$c4c4d404109848b6$exports.computeOutAndReduceShapes($.shape,d),l=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:$},backend:a,attrs:{shape:[-1,$5d5df9ecf1c80076$exports.sizeFromShape(p)]}}),b=$bdf8e0cb34e96e91$export$533b26079ad0b4b(l,l.dtype,"all",a);let h;if(s){h=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:b},backend:a,attrs:{shape:$c4c4d404109848b6$exports.expandShapeToKeepDim(u,i)}})}else h=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:b},backend:a,attrs:{shape:u}});return a.disposeIntermediateTensorInfo(l),a.disposeIntermediateTensorInfo(b),null!=f&&a.disposeIntermediateTensorInfo($),h}const $6a93e7470bd44fc0$export$4e3f081eb1a330fa={kernelName:$0eb90ddf241a18bf$export$5dceb1ab650a1776,backendName:"webgl",kernelFunc:$6a93e7470bd44fc0$export$84bf76cd7afc7469};function $037e9c3c665e6484$export$4154a199d7d90455(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{axis:o,keepDims:s}=n,c=r.shape.length,i=$5d5df9ecf1c80076$exports.parseAxisParam(o,r.shape);let d=i;const f=$c4c4d404109848b6$exports.getAxesPermutation(d,c);let $=r;null!=f&&($=$9aea914380a219cc$export$9cb09a71b7d66923({inputs:{x:r},backend:a,attrs:{perm:f}}),d=$c4c4d404109848b6$exports.getInnerMostAxes(d.length,c)),$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("any",d,c);const[u,p]=$c4c4d404109848b6$exports.computeOutAndReduceShapes($.shape,d),l=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:$},backend:a,attrs:{shape:[-1,$5d5df9ecf1c80076$exports.sizeFromShape(p)]}}),b=$bdf8e0cb34e96e91$export$533b26079ad0b4b(l,l.dtype,"any",a);let h;if(s){h=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:b},backend:a,attrs:{shape:$c4c4d404109848b6$exports.expandShapeToKeepDim(u,i)}})}else h=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:b},backend:a,attrs:{shape:u}});return a.disposeIntermediateTensorInfo(l),a.disposeIntermediateTensorInfo(b),null!=f&&a.disposeIntermediateTensorInfo($),h}const $037e9c3c665e6484$export$1a8ff634f2df3da6={kernelName:$0eb90ddf241a18bf$export$b24b633b1364b94b,backendName:"webgl",kernelFunc:$037e9c3c665e6484$export$4154a199d7d90455};class $7ac46c0a566bfb94$export$7fa5759722b57eba{constructor(e,t,a){this.variableNames=["A"];const{windowSize:n,batchSize:r,outSize:o}=e;a||this.variableNames.push("bestIndicesA"),this.outputShape=[r,o];const s="max"===t?">":"<",c=a?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ${n}; i++) {\n          int inIdx = ${c};\n          float candidate = getA(batch, inIdx);\n          if (candidate ${s} bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    `}}class $17b112f40a7031e5$export$6b02cde2348cc418{constructor(e,t,a,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,$5d5df9ecf1c80076$exports.assert(e.length>2,(()=>`Packed arg${a.charAt(0).toUpperCase()+a.slice(1)} supports only inputs with rank above 2.`));const r=e[e.length-1],o=Math.ceil(r/t);this.outputShape=e.slice(0,-1),o>1&&this.outputShape.push(o),n||this.variableNames.push("bestIndicesA");const s=this.outputShape,c=s.length,i=$80499140d90ba595$export$859efd105c10c755(c),d=$28418db865ebcd1b$export$7a4d1d0d17b69972("coords",c);let f,$;if(1===o){$=c+1;const e=$80499140d90ba595$export$859efd105c10c755($);f=`\n        ${e} sourceLocR = ${e}(${d.join()}, 0);\n        ++${d[c-1]};\n        ${e} sourceLocG = ${e}(${d.join()}, 0);\n        ++${d[c-2]};\n        ${e} sourceLocA = ${e}(${d.join()}, 0);\n        --${d[c-1]};\n        ${e} sourceLocB = ${e}(${d.join()}, 0);\n        --${d[c-2]};`}else $=c,f=`\n        ${i} sourceLocR = coords;\n        ++${d[c-1]};\n        ${i} sourceLocG = coords;\n        ++${d[c-2]};\n        ${i} sourceLocA = coords;\n        --${d[c-1]};\n        ${i} sourceLocB = coords;\n        --${d[c-2]};`;const u=["x","y","z","w","u","v"].slice(0,$),p="."+u[$-1],l=u.map((e=>"int "+e)),b=$28418db865ebcd1b$export$7a4d1d0d17b69972("sourceLocR",$-1).concat("inIdx.r"),h=$28418db865ebcd1b$export$7a4d1d0d17b69972("sourceLocG",$-1).concat("inIdx.g"),x=$28418db865ebcd1b$export$7a4d1d0d17b69972("sourceLocB",$-1).concat("inIdx.b"),m=$28418db865ebcd1b$export$7a4d1d0d17b69972("sourceLocA",$-1).concat("inIdx.a"),g="max"===a?"greaterThan":"lessThan",v=n?"":`\n          inIdx = round(vec4(getBestIndicesAChannel(${b.join()}),\n                             getBestIndicesAChannel(${h.join()}),\n                             getBestIndicesAChannel(${x.join()}),\n                             getBestIndicesAChannel(${m.join()})));`,y=`vec4(\n            getAChannel(${b.join()}),\n            hasNextCol ? getAChannel(${h.join()}) : 0.,\n            hasNextRow ? getAChannel(${x.join()}) : 0.,\n            hasNextRow && hasNextCol ? getAChannel(${m.join()}) : 0.)`,w=n?"":`\n      float getBestIndicesAChannel(${l.join()}) {\n        return getChannel(getBestIndicesA(${u.join()}),\n                                          vec2(${u.slice(-2).join()}));\n      }`;this.userCode=`\n      float getAChannel(${l.join()}) {\n        return getChannel(getA(${u.join()}),\n                               vec2(${u.slice(-2).join()}));\n      }\n      ${w}\n      void main() {\n        ${i} coords = getOutputCoords();\n        bool hasNextCol = ${d[c-1]} < ${s[c-1]-1};\n        bool hasNextRow = ${d[c-2]} < ${s[c-2]-1};\n        ${f}\n        ivec4 srcIdx = ivec4(sourceLocR${p}, sourceLocG${p},\n          sourceLocB${p}, sourceLocA${p}) * ${t};\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ${y};\n\n        for (int i = 0; i < ${t}; i++) {\n          inIdx = srcIdx;\n          ${v}\n          vec4 candidate = ${y};\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(${g}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    `}}function $cb240fc24c2a6915$var$argReduce(e,t,a,n=null){let r=t.shape[0],o=t.shape[1];null!=n&&(r=n.shape[0],o=n.shape[1]);const s=$c4c4d404109848b6$exports.computeOptimalWindowSize(o),c={windowSize:s,inSize:o,batchSize:r,outSize:Math.ceil(o/s)},i=new $7ac46c0a566bfb94$export$7fa5759722b57eba(c,a,null==n),d=[t];null!=n&&d.push(n);const f=e.runWebGLProgram(i,d,"int32");if(1===f.shape[1])return f;const $=$cb240fc24c2a6915$var$argReduce(e,t,a,f);return e.disposeIntermediateTensorInfo(f),$}function $cb240fc24c2a6915$var$argReducePacked(e,t,a,n=null){const r=null!=n?n.shape:t.shape,o=r[r.length-1],s=$c4c4d404109848b6$exports.computeOptimalWindowSize(o),c=new $17b112f40a7031e5$export$6b02cde2348cc418(r,s,a,null==n),i=null==n?[t]:[t,n],d=e.runWebGLProgram(c,i,"int32");if(d.shape.length===t.shape.length){const n=$cb240fc24c2a6915$var$argReducePacked(e,t,a,d);return e.disposeIntermediateTensorInfo(d),n}return d}function $cb240fc24c2a6915$export$63dee7a356b9210b(e,t,a,n){const r=[a];if($c4c4d404109848b6$exports.assertAxesAreInnerMostDims("arg"+n.charAt(0).toUpperCase()+n.slice(1),r,t.shape.length),!$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const a=[],o=e.texData.get(t.dataId);let s=t;null!==o&&o.isPacked&&(s=e.unpackTensor(t),a.push(s));const[c,i]=$c4c4d404109848b6$exports.computeOutAndReduceShapes(s.shape,r),d=$5d5df9ecf1c80076$exports.sizeFromShape(i),f=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:s},backend:e,attrs:{shape:[-1,d]}});a.push(f);const $=$cb240fc24c2a6915$var$argReduce(e,f,n);a.push($);const u=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:$},backend:e,attrs:{shape:c}});return a.forEach((t=>e.disposeIntermediateTensorInfo(t))),u}return $cb240fc24c2a6915$var$argReducePacked(e,t,n)}function $c4e20eead768c166$export$7980a683c1b852b4(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{axis:o}=n;let s=$5d5df9ecf1c80076$exports.parseAxisParam(o,r.shape);const c=$c4c4d404109848b6$exports.getAxesPermutation(s,r.shape.length);let i=r;const d=[];null!=c&&(i=$9aea914380a219cc$export$9cb09a71b7d66923({inputs:{x:r},backend:a,attrs:{perm:c}}),d.push(i),s=$c4c4d404109848b6$exports.getInnerMostAxes(s.length,i.shape.length)),$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("argMax",[s[0]],i.shape.length);const f=$cb240fc24c2a6915$export$63dee7a356b9210b(a,i,s[0],"max");return d.forEach((e=>a.disposeIntermediateTensorInfo(e))),f}const $c4e20eead768c166$export$ec7419fc9ad0069e={kernelName:$0eb90ddf241a18bf$export$17612294a1503e1c,backendName:"webgl",kernelFunc:$c4e20eead768c166$export$7980a683c1b852b4};function $50264488190226d1$export$ec99a91cddfb29a2(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{axis:o}=n;let s=$5d5df9ecf1c80076$exports.parseAxisParam(o,r.shape);const c=$c4c4d404109848b6$exports.getAxesPermutation(s,r.shape.length);let i=r;const d=[];null!=c&&(i=$9aea914380a219cc$export$9cb09a71b7d66923({inputs:{x:r},backend:a,attrs:{perm:c}}),d.push(i),s=$c4c4d404109848b6$exports.getInnerMostAxes(s.length,i.shape.length)),$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("argMin",[s[0]],i.shape.length);const f=$cb240fc24c2a6915$export$63dee7a356b9210b(a,i,s[0],"min");return d.forEach((e=>a.disposeIntermediateTensorInfo(e))),f}const $50264488190226d1$export$21836a5e5fa09eb4={kernelName:$0eb90ddf241a18bf$export$baabd09270cbbd94,backendName:"webgl",kernelFunc:$50264488190226d1$export$ec99a91cddfb29a2},$16e73b3203885bb9$var$ASIN=$b50143a2030a9a53$export$39f0cca2b63399f6+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n",$16e73b3203885bb9$export$41726bdb1fc63f=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$16e73b3203885bb9$var$ASIN}),$16e73b3203885bb9$export$de5cb0ef95dd6700={kernelName:$0eb90ddf241a18bf$export$664c8ca7e7e5c126,backendName:"webgl",kernelFunc:$16e73b3203885bb9$export$41726bdb1fc63f},$f8555e331e8fbe29$var$ASINH=$b50143a2030a9a53$export$39f0cca2b63399f6+"return log(x + sqrt(x * x + 1.0));",$f8555e331e8fbe29$export$839d8a01b6af4fc0=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$f8555e331e8fbe29$var$ASINH}),$f8555e331e8fbe29$export$20d424616c76166={kernelName:$0eb90ddf241a18bf$export$847c88940cb7dcb5,backendName:"webgl",kernelFunc:$f8555e331e8fbe29$export$839d8a01b6af4fc0},$70ab348f0c0fb9cc$var$ATAN=$b50143a2030a9a53$export$39f0cca2b63399f6+"\n  return atan(x);\n",$70ab348f0c0fb9cc$export$628dc4eed22b0fbd=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$70ab348f0c0fb9cc$var$ATAN}),$70ab348f0c0fb9cc$export$159d632e3ff13624={kernelName:$0eb90ddf241a18bf$export$bac667d46ac043ae,backendName:"webgl",kernelFunc:$70ab348f0c0fb9cc$export$628dc4eed22b0fbd},$a0813095de8da1ec$var$ATAN2=$52a8e902063fb185$export$b6a0646d16261569+"\n  return atan(a, b);\n",$a0813095de8da1ec$var$ATAN2_PACKED="\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  "+$52a8e902063fb185$export$2bc6376b63d1db4+"\n  return result;\n",$a0813095de8da1ec$export$b8b770ee6a0d9760=$52a8e902063fb185$export$29353c66e70e3e16({opSnippet:$a0813095de8da1ec$var$ATAN2,packedOpSnippet:$a0813095de8da1ec$var$ATAN2_PACKED}),$a0813095de8da1ec$export$c53c7ab019edb8a0={kernelName:$0eb90ddf241a18bf$export$3bf4c619ce589f4b,backendName:"webgl",kernelFunc:$a0813095de8da1ec$export$b8b770ee6a0d9760},$ba0288580d21e851$var$ATANH=$b50143a2030a9a53$export$39f0cca2b63399f6+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;",$ba0288580d21e851$export$21ea955025ceb08b=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$ba0288580d21e851$var$ATANH}),$ba0288580d21e851$export$e9ce1ba75fc9b746={kernelName:$0eb90ddf241a18bf$export$98981a86fa2b1366,backendName:"webgl",kernelFunc:$ba0288580d21e851$export$21ea955025ceb08b};class $99413d750dd12542$export$ddaa65439647a5ac{constructor(e,t,a,n=!1,r=!1){if(this.variableNames=["x"],"avg"===t&&a)throw new Error("Cannot compute positions for average pool.");const o=e.filterWidth,s=e.strideHeight,c=e.strideWidth,i=e.dilationHeight,d=e.dilationWidth,f=e.effectiveFilterHeight,$=e.effectiveFilterWidth,u=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;const l="avg"===t,b=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,h=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let x="0.0";if(l||(x="-1.0 / 1e-20"),a){const t=">=";return void(this.userCode=`\n        const ivec2 strides = ivec2(${s}, ${c});\n        const ivec2 pads = ivec2(${u}, ${p});\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ${f};\n              wR += ${i}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${$};\n                wC += ${d}) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ${t} currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ${n?r?b:h:`wR * ${$} + wC`};\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let m=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(m="avgValue / count");const g=4*Math.floor(o/4),v=o%4,y=`\n      if (${l}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec2 strides = ivec2(${s}, ${c});\n      const ivec2 pads = ivec2(${u}, ${p});\n      const float initializationValue = ${x};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${x});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ${f};\n            wR += ${i}) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${g}; wC += 4) {\n            int xC = xCCorner + wC * ${d};\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${d}, d),\n              getValue(batch, xR, xC + 2 * ${d}, d),\n              getValue(batch, xR, xC + 3 * ${d}, d)\n            );\n\n            ${y}\n          }\n\n          int xC = xCCorner + ${g};\n          if (${1===v}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ${y}\n          } else if (${2===v}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${d}, d),\n              initializationValue,\n              initializationValue\n            );\n\n            ${y}\n          } else if (${3===v}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${d}, d),\n              getValue(batch, xR, xC + 2 * ${d}, d),\n              initializationValue\n            );\n\n            ${y}\n          }\n        }\n        setOutput(${m});\n      }\n    `}}class $99413d750dd12542$export$a835a97097fdbb0f{constructor(e,t,a,n=!1,r=!1){if(this.variableNames=["x"],"avg"===t&&a)throw new Error("Cannot compute positions for average pool.");const o=e.filterWidth,s=e.strideDepth,c=e.strideHeight,i=e.strideWidth,d=e.dilationDepth,f=e.dilationHeight,$=e.dilationWidth,u=e.effectiveFilterDepth,p=e.effectiveFilterHeight,l=e.effectiveFilterWidth,b=e.padInfo.front,h=e.padInfo.top,x=e.padInfo.left;this.outputShape=e.outShape;const m="avg"===t;let g="0.0";if(m||(g="-1.0 / 1e-20"),a){const t=">=";return void(this.userCode=`\n        const ivec3 strides =\n            ivec3(${s}, ${c}, ${i});\n        const ivec3 pads = ivec3(${b}, ${h}, ${x});\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ${u};\n              wD += ${d}) {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int wR = 0; wR < ${p};\n                wR += ${f}) {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int wC = 0; wC < ${l};\n                  wC += ${$}) {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ${t} currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ${n?r?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${p} * ${l} +\n                      wR * ${l} + wC`};\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let v=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(v="avgValue / count");const y=4*Math.floor(o/4),w=o%4,_=`\n      if (${m}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec3 strides =\n        ivec3(${s}, ${c}, ${i});\n      const ivec3 pads = ivec3(${b}, ${h}, ${x});\n      const float initializationValue = ${g};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${g});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ${u};\n            wD += ${d}) {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${p};\n            wR += ${f}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${y}; wC += 4) {\n              int xC = xCCorner + wC * ${$};\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${$}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${$}, ch),\n                getValue(batch, xD, xR, xC + 3 * ${$}, ch)\n              );\n\n              ${_}\n            }\n\n            int xC = xCCorner + ${y};\n            if (${1===w}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ${_}\n            } else if (${2===w}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${$}, ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ${_}\n            } else if (${3===w}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${$}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${$}, ch),\n                initializationValue\n              );\n\n              ${_}\n            }\n          }\n          setOutput(${v});\n        }\n      }\n    `}}function $4d8f0a7b62cb60e3$export$d5c65a2abd3d97dc(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t;$540278e56fef35f8$export$1412c17b2531581a(r,"avgPool");const{filterSize:o,strides:s,pad:c,dimRoundingMode:i}=n;$5d5df9ecf1c80076$exports.assert($c4c4d404109848b6$exports.eitherStridesOrDilationsAreOne(s,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`));const d=$c4c4d404109848b6$exports.computePool2DInfo(r.shape,o,s,1,c,i);if(1===d.filterWidth&&1===d.filterHeight&&$5d5df9ecf1c80076$exports.arraysEqual(d.inShape,d.outShape))return $bd8da3cc2e13c171$export$f0954fd7d5368655({inputs:{x:r},backend:a});const f=new $99413d750dd12542$export$ddaa65439647a5ac(d,"avg",!1);return a.runWebGLProgram(f,[r],"float32")}const $4d8f0a7b62cb60e3$export$6c901824a23e6150={kernelName:$0eb90ddf241a18bf$export$37f2cc7be1add88c,backendName:"webgl",kernelFunc:$4d8f0a7b62cb60e3$export$d5c65a2abd3d97dc};function $7bcc054e05fe0dd1$export$8e92f7d23b27f144(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{filterSize:o,strides:s,pad:c,dimRoundingMode:i,dataFormat:d}=n,f=$c4c4d404109848b6$exports.computePool3DInfo(r.shape,o,s,[1,1,1],c,i,d),$=new $99413d750dd12542$export$a835a97097fdbb0f(f,"avg",!1);return a.runWebGLProgram($,[r],"float32")}const $7bcc054e05fe0dd1$export$5a9c81d240244392={kernelName:$0eb90ddf241a18bf$export$390ecb697af103f6,backendName:"webgl",kernelFunc:$7bcc054e05fe0dd1$export$8e92f7d23b27f144};class $dd8fe6f6921513b9$export$5dc4ec478e6759de{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterHeight,a=e.filterWidth,n=e.strideHeight,r=e.strideWidth,o=e.dilationHeight,s=e.dilationWidth,c=e.effectiveFilterHeight,i=e.effectiveFilterWidth,d=c-1-e.padInfo.top,f=i-1-e.padInfo.left,$=1/(t*a);this.userCode=`\n      const ivec2 pads = ivec2(${d}, ${f});\n      const float avgMultiplier = float(${$});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${c};\n            wR += ${o}) {\n          float dyR = float(dyRCorner + wR) / ${n}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${i};\n            wC+= ${s}) {\n            float dyC = float(dyCCorner + wC) / ${r}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class $dd8fe6f6921513b9$export$f166702869bc274f{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterDepth,a=e.filterHeight,n=e.filterWidth,r=e.strideDepth,o=e.strideHeight,s=e.strideWidth,c=e.dilationDepth,i=e.dilationHeight,d=e.dilationWidth,f=e.effectiveFilterDepth,$=e.effectiveFilterHeight,u=e.effectiveFilterWidth,p=f-1-e.padInfo.front,l=$-1-e.padInfo.top,b=u-1-e.padInfo.left,h=1/(t*a*n);this.userCode=`\n      const ivec3 pads = ivec3(${p}, ${l}, ${b});\n      const float avgMultiplier = float(${h});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${f};\n            wD += ${c}) {\n          float dyD = float(dyDCorner + wD) / ${r}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${$};\n              wR += ${i}) {\n            float dyR = float(dyRCorner + wR) / ${o}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${u};\n                wC += ${d}) {\n              float dyC = float(dyCCorner + wC) / ${s}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}function $1f0ea56e827bf234$export$798cb4034e996ff4(e){const{inputs:t,backend:a,attrs:n}=e,{dy:r,input:o}=t,s=o,{filterSize:c,strides:i,pad:d,dimRoundingMode:f}=n,$=$c4c4d404109848b6$exports.computePool3DInfo(s.shape,c,i,[1,1,1],d,f),u=new $dd8fe6f6921513b9$export$f166702869bc274f($);return a.runWebGLProgram(u,[r],s.dtype)}const $1f0ea56e827bf234$export$1eeb8780807d0508={kernelName:$0eb90ddf241a18bf$export$7163112adf28c062,backendName:"webgl",kernelFunc:$1f0ea56e827bf234$export$798cb4034e996ff4};function $cc20591470607fa6$export$2f098171d1c79aea(e){const{inputs:t,backend:a,attrs:n}=e,{dy:r,input:o}=t,s=o;$540278e56fef35f8$export$1412c17b2531581a([r,o],"avgPoolGrad");const{filterSize:c,strides:i,pad:d}=n,f=$c4c4d404109848b6$exports.computePool2DInfo(s.shape,c,i,1,d),$=new $dd8fe6f6921513b9$export$5dc4ec478e6759de(f);return a.runWebGLProgram($,[r],s.dtype)}const $cc20591470607fa6$export$ac3f8709351ab225={kernelName:$0eb90ddf241a18bf$export$9873fd6046cd6951,backendName:"webgl",kernelFunc:$cc20591470607fa6$export$2f098171d1c79aea};function $ced9e0a0e586382d$export$8f97894b482227f0(e){const{inputs:t,backend:a,attrs:n}=e,{a:r,b:o}=t,{transposeA:s,transposeB:c}=n;return $9d5cbac0ca7d0bee$export$d524d65e88e1168b({a:r,b:o,transposeA:s,transposeB:c,backend:a})}const $ced9e0a0e586382d$export$d0dd993198185538={kernelName:$0eb90ddf241a18bf$export$9a3bf60b23f63c8,backendName:"webgl",kernelFunc:$ced9e0a0e586382d$export$8f97894b482227f0};class $361fbb4e62a887f5$export$bd15a4172044baef{constructor(e,t,a,n,r,o){this.outputShape=[],this.variableNames=["x","mean","variance"],$c4c4d404109848b6$exports.assertAndGetBroadcastShape(e,t),$c4c4d404109848b6$exports.assertAndGetBroadcastShape(e,a);let s="0.0";null!=n&&($c4c4d404109848b6$exports.assertAndGetBroadcastShape(e,n),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let c="1.0";null!=r&&($c4c4d404109848b6$exports.assertAndGetBroadcastShape(e,r),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ${s};\n        float scale = ${c};\n        float inv = scale * inversesqrt(variance + float(${o}));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    `}}class $092dd04d164f22a0$export$cfdd4076f282cff6{constructor(e,t,a,n,r,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],$c4c4d404109848b6$exports.assertAndGetBroadcastShape(e,t),$c4c4d404109848b6$exports.assertAndGetBroadcastShape(e,a);let s="vec4(0.0)";null!=n&&($c4c4d404109848b6$exports.assertAndGetBroadcastShape(e,n),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let c="vec4(1.0)";null!=r&&($c4c4d404109848b6$exports.assertAndGetBroadcastShape(e,r),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        vec4 offset = ${s};\n        vec4 scale = ${c};\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(${o}));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    `}}const $9f1e2fa9ea85d4c7$export$8ea8088e6d0cdd02=({inputs:e,backend:t,attrs:a})=>{const{x:n,mean:r,variance:o,offset:s,scale:c}=e;$5d5df9ecf1c80076$exports.assert(r.shape.length===o.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),$5d5df9ecf1c80076$exports.assert(null==s||r.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),$5d5df9ecf1c80076$exports.assert(null==c||r.shape.length===c.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));let{varianceEpsilon:i}=a;null==i&&(i=.001);const d=[n,r,o];let f=null;null!=s&&(f=s.shape,d.push(s));let $=null;null!=c&&($=c.shape,d.push(c));const u=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_NORMALIZATION")?new $092dd04d164f22a0$export$cfdd4076f282cff6(n.shape,r.shape,o.shape,f,$,i):new $361fbb4e62a887f5$export$bd15a4172044baef(n.shape,r.shape,o.shape,f,$,i);return t.runWebGLProgram(u,d,d[0].dtype)},$9f1e2fa9ea85d4c7$export$df2dc5c7a755e418={kernelName:$0eb90ddf241a18bf$export$3821a0416660aaa2,backendName:"webgl",kernelFunc:$9f1e2fa9ea85d4c7$export$8ea8088e6d0cdd02};class $fea3d6b1d4d7ebba$export$ef8bf52bc4951c85{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const t=$80499140d90ba595$export$859efd105c10c755(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const a=$fea3d6b1d4d7ebba$var$getCoords(this.rank);let n;n=`\n        ${t} sourceLoc;\n        ${t} coords = getOutputCoords();\n        ${e.map(((e,t)=>`sourceLoc.${$fea3d6b1d4d7ebba$var$coords[t]} = start[${t}] + coords.${$fea3d6b1d4d7ebba$var$coords[t]};`)).join("\n")}\n      `,this.userCode=`\n      void main() {\n        ${n}\n        setOutput(getSource(${a}));\n      }\n    `}}const $fea3d6b1d4d7ebba$var$coords=["x","y","z","w","u","v"];function $fea3d6b1d4d7ebba$var$getCoords(e){if(1===e)return"sourceLoc";if(e<=6)return $fea3d6b1d4d7ebba$var$coords.slice(0,e).map((e=>"sourceLoc."+e)).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}class $e4039a72a2a24622$export$a6c6101de259f77{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const t=$80499140d90ba595$export$859efd105c10c755(this.rank),a=$28418db865ebcd1b$export$7a4d1d0d17b69972("coords",this.rank),n=$28418db865ebcd1b$export$7a4d1d0d17b69972("sourceLoc",this.rank),r=1===this.rank?"sourceLoc":`vec2(${n.slice(-2).join()})`,o=`getChannel(getSource(${n.join()}), ${r})`,s=`\n      result.x = ${o};\n      if (++${a[this.rank-1]} < ${e[this.rank-1]}) {\n        ++${n[this.rank-1]};\n        result.y = ${o};\n        --${n[this.rank-1]};\n      }\n    `,c=1===this.rank?"":`\n      --${a[this.rank-1]};\n      if (++${a[this.rank-2]} < ${e[this.rank-2]}) {\n        ++${n[this.rank-2]};\n        result.z = ${o};\n        if (++${a[this.rank-1]} < ${e[this.rank-1]}) {\n          ++${n[this.rank-1]};\n          result.w = ${o};\n        }\n      }\n    `,i=this.rank<=4?`sourceLoc = coords +\n            ${t}(${e.map(((e,t)=>`start[${t}]`)).join()});`:e.map(((e,t)=>`${n[t]} = ${a[t]} + start[${t}];`)).join("\n");this.userCode=`\n      void main() {\n        ${t} coords = getOutputCoords();\n        ${t} sourceLoc;\n        ${i}\n        vec4 result = vec4(0.);\n        ${s}\n        ${c}\n        setOutput(result);\n      }\n    `}}function $4b9808982493bb56$var$shallowSlice(e,t,a,n){const r=n.texData.get(e.dataId),o=n.makeTensorInfo(a,e.dtype),s=n.texData.get(o.dataId);Object.assign(s,r),s.refCount=1,s.shape=a,s.dtype=e.dtype;let c=$6f2324169bf0e939$exports.computeFlatOffset(t,$5d5df9ecf1c80076$exports.computeStrides(e.shape));r.slice&&(c+=r.slice.flatOffset),s.slice={flatOffset:c,origDataId:r.slice&&r.slice.origDataId||e.dataId};const i=n.dataRefCount.get(s.slice.origDataId)||1;return n.dataRefCount.set(s.slice.origDataId,i+1),o}function $4b9808982493bb56$export$58adb3bec8346d0f(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{begin:o,size:s}=n,[c,i]=$6f2324169bf0e939$exports.parseSliceParams(r,o,s);if($6f2324169bf0e939$exports.assertParamsValid(r,c,i),0===$5d5df9ecf1c80076$exports.sizeFromShape(i))return a.makeTensorInfo(i,r.dtype,[]);if(a.shouldExecuteOnCPU([r])||"string"===r.dtype){const e=a.texData.get(r.dataId),t=$df118cc0d91a72de$export$45812d0d8578899(e.values,c,i,r.shape,r.dtype);return a.makeTensorInfo(i,r.dtype,t)}const{isPacked:d}=a.texData.get(r.dataId),f=$6f2324169bf0e939$exports.isSliceContinous(r.shape,c,i);if(d||!f){const e=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new $e4039a72a2a24622$export$a6c6101de259f77(i):new $fea3d6b1d4d7ebba$export$ef8bf52bc4951c85(i),t=[c];return a.runWebGLProgram(e,[r],r.dtype,t)}return a.uploadToGPU(r.dataId),$4b9808982493bb56$var$shallowSlice(r,c,i,a)}const $4b9808982493bb56$export$8d8a1e11dd2cc6c4={kernelName:$0eb90ddf241a18bf$export$b3f2e2de3a8baa1e,backendName:"webgl",kernelFunc:$4b9808982493bb56$export$58adb3bec8346d0f},$ce28ef000c88ac2b$export$ea37d960c1808536=e=>{const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{blockShape:o,crops:s}=n;$5d5df9ecf1c80076$exports.assert(r.shape.length<=4,(()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"));const c=o.reduce(((e,t)=>e*t)),i=$c4c4d404109848b6$exports.getReshaped(r.shape,o,c),d=$c4c4d404109848b6$exports.getPermuted(i.length,o.length),f=$c4c4d404109848b6$exports.getReshapedPermuted(r.shape,o,c),$=$c4c4d404109848b6$exports.getSliceBeginCoords(s,o.length),u=$c4c4d404109848b6$exports.getSliceSize(f,s,o.length),p=[],l=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:r},backend:a,attrs:{shape:i}}),b=$9aea914380a219cc$export$9cb09a71b7d66923({inputs:{x:l},backend:a,attrs:{perm:d}}),h=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:b},backend:a,attrs:{shape:f}}),x=$4b9808982493bb56$export$58adb3bec8346d0f({inputs:{x:h},backend:a,attrs:{begin:$,size:u}});return p.push(l),p.push(b),p.push(h),p.forEach((e=>a.disposeIntermediateTensorInfo(e))),x},$ce28ef000c88ac2b$export$44e08e19f97e5513={kernelName:$0eb90ddf241a18bf$export$e2743f47f61cca1f,backendName:"webgl",kernelFunc:$ce28ef000c88ac2b$export$ea37d960c1808536};function $18be0b18012218c5$export$7e474bab088ed182(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,weights:o}=t,{size:s}=n,c=a.readSync(r.dataId),i=a.readSync(o.dataId),d=$df118cc0d91a72de$export$566def819e5d4601(c,i,o.dtype,o.shape,s);return a.makeTensorInfo([s],o.dtype,d)}const $18be0b18012218c5$export$af9f0093738840fb={kernelName:$0eb90ddf241a18bf$export$45dfbbff595c32aa,backendName:"webgl",kernelFunc:$18be0b18012218c5$export$7e474bab088ed182};function $517c25fd3603cdbe$export$d226d344aedce941(e){const{inputs:t,backend:a}=e,{s0:n,s1:r}=t,o=a.readSync(n.dataId),s=a.readSync(r.dataId),c=$c4c4d404109848b6$exports.assertAndGetBroadcastShape(Array.from(o),Array.from(s));return a.makeTensorInfo([c.length],"int32",Int32Array.from(c))}const $517c25fd3603cdbe$export$8f7b2ec0c6f08fb2={kernelName:$0eb90ddf241a18bf$export$32877b1d6d497805,backendName:"webgl",kernelFunc:$517c25fd3603cdbe$export$d226d344aedce941},$cdb8370a92e0c0a2$var$NOT_EQUAL="return float(a != b);",$cdb8370a92e0c0a2$export$53a6892c50694894=$52a8e902063fb185$export$29353c66e70e3e16({opSnippet:$cdb8370a92e0c0a2$var$NOT_EQUAL,cpuKernelImpl:$df118cc0d91a72de$export$b91372753635df24,dtype:"bool"}),$cdb8370a92e0c0a2$export$d003d4d7e1500775={kernelName:$0eb90ddf241a18bf$export$385ebe9945cae0c5,backendName:"webgl",kernelFunc:$cdb8370a92e0c0a2$export$53a6892c50694894};function $75eebacc4325f6c8$export$9fc57fb453bdbd67(e){const{inputs:t,backend:a}=e,{input:n}=t;return $bd8da3cc2e13c171$export$f0954fd7d5368655({inputs:{x:a.texData.get(n.dataId).complexTensorInfos.real},backend:a})}const $75eebacc4325f6c8$export$4b7bce57557ae68b={kernelName:$0eb90ddf241a18bf$export$f41305719b94e675,backendName:"webgl",kernelFunc:$75eebacc4325f6c8$export$9fc57fb453bdbd67},$f6d2424a0a08dcb1$var$TO_INT="return float(int(x));";function $f6d2424a0a08dcb1$export$7d260a2a5f8bc19e(e,t){const a=new $b50143a2030a9a53$export$f93811a5a466fd42(e.shape,$f6d2424a0a08dcb1$var$TO_INT),n=t.runWebGLProgram(a,[e],"int32");return{dataId:n.dataId,shape:n.shape,dtype:n.dtype}}function $5136e31a37158c53$export$f2db7d5238e1d23f(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{dtype:o}=n;if("complex64"===o){if("complex64"===r.dtype)return $bd8da3cc2e13c171$export$f0954fd7d5368655({inputs:{x:r},backend:a});const e=$69223f1c830a49d7$export$4445a00dafa2633b(r.shape),t=$5136e31a37158c53$export$f2db7d5238e1d23f({inputs:{x:r},backend:a,attrs:{dtype:"float32"}}),n=$f2c80ac6e68da386$export$83a0e34f1302825b({inputs:{real:t,imag:e},backend:a});return e.dispose(),a.disposeIntermediateTensorInfo(t),n}if("complex64"===r.dtype){const e=$75eebacc4325f6c8$export$9fc57fb453bdbd67({inputs:{input:r},backend:a}),t=$5136e31a37158c53$export$f2db7d5238e1d23f({inputs:{x:e},backend:a,attrs:{dtype:o}});return a.disposeIntermediateTensorInfo(e),t}if(!$5d5df9ecf1c80076$exports.hasEncodingLoss(r.dtype,o)){const e=$bd8da3cc2e13c171$export$f0954fd7d5368655({inputs:{x:r},backend:a});return{dataId:e.dataId,shape:e.shape,dtype:o}}if("int32"===o)return $f6d2424a0a08dcb1$export$7d260a2a5f8bc19e(r,a);if("bool"===o){const e=a.makeTensorInfo([],"bool",$5d5df9ecf1c80076$exports.getTypedArrayFromDType("bool",1)),t=$cdb8370a92e0c0a2$export$53a6892c50694894({inputs:{a:r,b:e},backend:a});return a.disposeIntermediateTensorInfo(e),t}throw new Error(`Error in Cast: failed to cast ${r.dtype} to ${o}`)}const $5136e31a37158c53$export$ac4d0f0f3927a8f3={kernelName:$0eb90ddf241a18bf$export$107ecfb3d1ccbd77,backendName:"webgl",kernelFunc:$5136e31a37158c53$export$f2db7d5238e1d23f},$6ee083f79d1a8761$var$CEIL="return ceil(x);",$6ee083f79d1a8761$export$803ce6b71a0a94b2=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$6ee083f79d1a8761$var$CEIL,packedOpSnippet:$6ee083f79d1a8761$var$CEIL,cpuKernelImpl:$df118cc0d91a72de$export$bb3ce81256fe261b}),$6ee083f79d1a8761$export$df387212b1898306={kernelName:$0eb90ddf241a18bf$export$d4a1bccfd52ebd3,backendName:"webgl",kernelFunc:$6ee083f79d1a8761$export$803ce6b71a0a94b2};class $b59d29265f79f224$export$ce48b7c79e7985d1{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}class $5504bc08a60944b4$export$812909708a626d33{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}function $9492c58028c7b0c5$export$fa97baf70ad024c0(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{clipValueMin:o,clipValueMax:s}=n;let c;c=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_CLIP")?new $5504bc08a60944b4$export$812909708a626d33(r.shape):new $b59d29265f79f224$export$ce48b7c79e7985d1(r.shape);const i=[[o],[s]];return a.runWebGLProgram(c,[r],r.dtype,i)}const $9492c58028c7b0c5$export$f7ee8f07ce0ff4e1={kernelName:$0eb90ddf241a18bf$export$611c0e357ac37f7d,backendName:"webgl",kernelFunc:$9492c58028c7b0c5$export$fa97baf70ad024c0};class $537179a8f75bcef2$export$d03dbc86862098f5{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}function $5779cdd5508c6f13$var$makeComplexComponentTensorInfo(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}function $5779cdd5508c6f13$export$2837bc62566f8808(e){const{inputs:t,backend:a}=e,{x:n}=t,r=a.texData.get(n.dataId),o=new $537179a8f75bcef2$export$d03dbc86862098f5(n.shape),s=[$5779cdd5508c6f13$var$makeComplexComponentTensorInfo(n,r.complexTensorInfos.real),$5779cdd5508c6f13$var$makeComplexComponentTensorInfo(n,r.complexTensorInfos.imag)];return a.runWebGLProgram(o,s,s[0].dtype)}const $5779cdd5508c6f13$export$a4817d2978acc054={kernelName:$0eb90ddf241a18bf$export$32902e58f1b48f4b,backendName:"webgl",kernelFunc:$5779cdd5508c6f13$export$2837bc62566f8808};class $8a0b90e45b336c5c$export$9059cb52ee2cb142{constructor(e){this.outputShape=[],this.outputShape=$c4c4d404109848b6$exports.computeOutShape(e,1),this.variableNames=e.map(((e,t)=>`T${t}`));const t=new Array(e.length-1);t[0]=e[0][1];for(let a=1;a<t.length;a++)t[a]=t[a-1]+e[a][1];const a=[`if (yC < ${t[0]}) setOutput(getT0(yR, yC));`];for(let e=1;e<t.length;e++){const n=t[e-1];a.push(`else if (yC < ${t[e]}) setOutput(getT${e}(yR, yC-${n}));`)}const n=t.length,r=t[t.length-1];a.push(`else setOutput(getT${n}(yR, yC-${r}));`),this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ${a.join("\n        ")}\n      }\n    `}}class $16b50f630d357e10$export$e91e551248cfdb97{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=$c4c4d404109848b6$exports.computeOutShape(e,t);const a=this.outputShape,n=a.length,r=$80499140d90ba595$export$859efd105c10c755(n),o=$28418db865ebcd1b$export$7a4d1d0d17b69972("coords",n),s=["x","y","z","w","u","v"].slice(0,n);this.variableNames=e.map(((e,t)=>`T${t}`));const c=new Array(e.length-1);c[0]=e[0][t];for(let a=1;a<c.length;a++)c[a]=c[a-1]+e[a][t];const i=s[t],d=s.slice(-2),f=s.join();let $=`if (${i} < ${c[0]}) {\n        return getChannel(\n            getT0(${f}), vec2(${d.join()}));\n        }`;for(let e=1;e<c.length;e++){const t=c[e-1];$+=`\n        if (${i} < ${c[e]}  && ${i} >= ${c[e-1]}) {\n          return getChannel(\n            getT${e}(${$16b50f630d357e10$var$shiftedChannels(s,i,t)}),\n            vec2(${$16b50f630d357e10$var$shiftedChannels(d,i,t)}));\n        }`}const u=c.length,p=c[c.length-1];$+=`\n        return getChannel(\n          getT${u}(${$16b50f630d357e10$var$shiftedChannels(s,i,p)}),\n          vec2(${$16b50f630d357e10$var$shiftedChannels(d,i,p)}));`,this.userCode=`\n      float getValue(${s.map((e=>"int "+e))}) {\n        ${$}\n      }\n\n      void main() {\n        ${r} coords = getOutputCoords();\n        vec4 result = vec4(getValue(${o}), 0., 0., 0.);\n\n        ${o[n-1]} = ${o[n-1]} + 1;\n        if (${o[n-1]} < ${a[n-1]}) {\n          result.g = getValue(${o});\n        }\n\n        ${o[n-2]} = ${o[n-2]} + 1;\n        if (${o[n-2]} < ${a[n-2]}) {\n          result.a = getValue(${o});\n        }\n\n        ${o[n-1]} = ${o[n-1]} - 1;\n        if (${o[n-2]} < ${a[n-2]} &&\n            ${o[n-1]} < ${a[n-1]}) {\n          result.b = getValue(${o});\n        }\n        setOutput(result);\n      }\n    `}}function $16b50f630d357e10$var$shiftedChannels(e,t,a){const n=e.indexOf(t);return e.map(((e,t)=>t===n?`${e} - ${a}`:e)).join()}function $1c7a26f4e16d0676$export$d78fab5778ab392b(e){const{inputs:t,backend:a}=e,{input:n}=t;return $bd8da3cc2e13c171$export$f0954fd7d5368655({inputs:{x:a.texData.get(n.dataId).complexTensorInfos.imag},backend:a})}const $1c7a26f4e16d0676$export$ddfc128c2801add7={kernelName:$0eb90ddf241a18bf$export$303b4473993a24f,backendName:"webgl",kernelFunc:$1c7a26f4e16d0676$export$d78fab5778ab392b};function $67088ea337b69c9f$export$777da59f594f497d(e,t,a){const n=e[0].dtype;if("complex64"===n){const n=e.map((e=>$75eebacc4325f6c8$export$9fc57fb453bdbd67({inputs:{input:e},backend:a}))),r=e.map((e=>$1c7a26f4e16d0676$export$d78fab5778ab392b({inputs:{input:e},backend:a}))),o=$67088ea337b69c9f$export$777da59f594f497d(n,t,a),s=$67088ea337b69c9f$export$777da59f594f497d(r,t,a),c=$f2c80ac6e68da386$export$83a0e34f1302825b({inputs:{real:o,imag:s},backend:a});return n.forEach((e=>a.disposeIntermediateTensorInfo(e))),r.forEach((e=>a.disposeIntermediateTensorInfo(e))),a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(s),c}let r=a.shouldExecuteOnCPU(e);if("string"===n&&(r=!0),r){const r=e.map((e=>{const n=$5d5df9ecf1c80076$exports.sizeFromShape(e.shape.slice(t));return $a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:e},backend:a,attrs:{shape:[-1,n]}})})),o=r.map((e=>({vals:a.readSync(e.dataId),shape:e.shape}))),s=$c4c4d404109848b6$exports.computeOutShape(r.map((e=>e.shape)),1),c=1===r[0].shape[0],i=$df118cc0d91a72de$export$95e7342d25849d64(o,s,n,c),d=$c4c4d404109848b6$exports.computeOutShape(e.map((e=>e.shape)),t),f=a.makeTensorInfo(d,n,i);return r.forEach((e=>a.disposeIntermediateTensorInfo(e))),f}if(e.length>$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const n=Math.floor(e.length/2),r=$67088ea337b69c9f$export$777da59f594f497d(e.slice(0,n),t,a),o=$67088ea337b69c9f$export$777da59f594f497d(e.slice(n),t,a),s=$67088ea337b69c9f$export$777da59f594f497d([r,o],t,a);return a.disposeIntermediateTensorInfo(r),a.disposeIntermediateTensorInfo(o),s}if($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].shape.length>1){const r=new $16b50f630d357e10$export$e91e551248cfdb97(e.map((e=>e.shape)),t);return a.runWebGLProgram(r,e,n)}const{tensors2D:o,outShape:s}=$67088ea337b69c9f$var$computeTensors2D(e,t,a),c=new $8a0b90e45b336c5c$export$9059cb52ee2cb142(o.map((e=>e.shape))),i=a.runWebGLProgram(c,o,n);o.forEach((e=>a.disposeIntermediateTensorInfo(e)));const d=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:i},attrs:{shape:s},backend:a});return a.disposeIntermediateTensorInfo(i),d}function $67088ea337b69c9f$var$computeTensors2D(e,t,a){const n=$c4c4d404109848b6$exports.computeOutShape(e.map((e=>e.shape)),t);return{tensors2D:e.map((e=>$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:e},attrs:{shape:[-1,$5d5df9ecf1c80076$exports.sizeFromShape(e.shape.slice(t))]},backend:a}))),outShape:n}}function $e4393aace784e89d$export$ee1b3e54f0441b22(e){const{inputs:t,backend:a,attrs:n}=e,{axis:r}=n,o=$5d5df9ecf1c80076$exports.parseAxisParam(r,t[0].shape)[0],s=$c4c4d404109848b6$exports.computeOutShape(t.map((e=>e.shape)),o);if(0===$5d5df9ecf1c80076$exports.sizeFromShape(s))return a.makeTensorInfo(s,t[0].dtype,[]);const c=t.filter((e=>$5d5df9ecf1c80076$exports.sizeFromShape(e.shape)>0));if(1===c.length)return $bd8da3cc2e13c171$export$f0954fd7d5368655({inputs:{x:c[0]},backend:a});const i=c.map((e=>e.shape));return $c4c4d404109848b6$exports.assertParamsConsistent(i,o),$67088ea337b69c9f$export$777da59f594f497d(c,o,a)}const $e4393aace784e89d$export$c8cf96dae25282e5={kernelName:$0eb90ddf241a18bf$export$936bbfc007425eea,backendName:"webgl",kernelFunc:$e4393aace784e89d$export$ee1b3e54f0441b22};class $85aeabb333332f1d$export$8dc36706147178e9{constructor(e,t=!1,a=null,n=!1,r=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const o=e.padInfo.top,s=e.padInfo.left,c=e.strideHeight,i=e.strideWidth,d=e.dilationHeight,f=e.dilationWidth,$=e.filterHeight,u=e.filterWidth,p=4*Math.floor(e.inChannels/4),l=e.inChannels%4,b="channelsLast"===e.dataFormat,h=b?1:2,x=b?2:3,m=b?3:1;let g="",v="";a&&(g=n?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${a}\n        }`:r?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${a}\n        }`:`\n          float activation(float x) {\n            ${a}\n          }\n        `,v="result = activation(result);");const y=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),n&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${g}\n\n      const ivec2 strides = ivec2(${c}, ${i});\n      const ivec2 pads = ivec2(${o}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[${m}];\n\n        ivec2 xRCCorner =\n            ivec2(coords[${h}], coords[${x}]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${$}; wR++) {\n          int xR = xRCorner + wR * ${d};\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${u}; wC++) {\n            int xC = xCCorner + wC * ${f};\n\n            if (xC < 0 || xC >= ${e.inWidth}) {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ${p}; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (${b}) {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (${1===l}) {\n\n              if (${b}) {\n                dotProd +=\n                    getX(batch, xR, xC, ${p}) *\n                    getW(wR, wC, ${p}, d2);\n              } else {\n                dotProd +=\n                    getX(batch, ${p}, xR, xC) *\n                    getW(wR, wC, ${p}, d2);\n              }\n\n            } else if (${2===l}) {\n              vec2 wValues = vec2(\n                getW(wR, wC, ${p}, d2),\n                getW(wR, wC, ${p} + 1, d2)\n              );\n\n              if (${b}) {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ${p}),\n                  getX(batch, xR, xC, ${p} + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ${p}, xR, xC),\n                  getX(batch, ${p} + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (${3===l}) {\n              vec3 wValues = vec3(\n                getW(wR, wC, ${p}, d2),\n                getW(wR, wC, ${p} + 1, d2),\n                getW(wR, wC, ${p} + 2, d2)\n              );\n\n              if (${b}) {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ${p}),\n                  getX(batch, xR, xC, ${p} + 1),\n                  getX(batch, xR, xC, ${p} + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ${p}, xR, xC),\n                  getX(batch, ${p} + 1, xR, xC),\n                  getX(batch, ${p} + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ${y}\n        ${v}\n        setOutput(result);\n      }\n    `}}class $85aeabb333332f1d$export$67aff94cf1ececaf{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const t=e.padInfo.front,a=e.padInfo.top,n=e.padInfo.left,r=e.strideDepth,o=e.strideHeight,s=e.strideWidth,c=e.dilationDepth,i=e.dilationHeight,d=e.dilationWidth,f=e.filterDepth,$=e.filterHeight,u=e.filterWidth,p=4*Math.floor(e.inChannels/4),l=e.inChannels%4;this.userCode=`\n      const ivec3 strides = ivec3(${r}, ${o}, ${s});\n      const ivec3 pads = ivec3(${t}, ${a}, ${n});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${f}; wF++) {\n          int xF = xFCorner + wF * ${c};\n\n          if (xF < 0 || xF >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${$}; wR++) {\n            int xR = xRCorner + wR * ${i};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${u}; wC++) {\n              int xC = xCCorner + wC * ${d};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ${p}; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (${1===l}) {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ${p}) *\n                  getW(wF, wR, wC, ${p}, d2);\n              } else if (${2===l}) {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ${p}),\n                  getX(batch, xF, xR, xC, ${p} + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ${p}, d2),\n                  getW(wF, wR, wC, ${p} + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (${3===l}) {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ${p}),\n                  getX(batch, xF, xR, xC, ${p} + 1),\n                  getX(batch, xF, xR, xC, ${p} + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ${p}, d2),\n                  getW(wF, wR, wC, ${p} + 1, d2),\n                  getW(wF, wR, wC, ${p} + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class $ba17c7ad46d03e70$export$d76a638e68b7f211{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=$188d3dc4367e297d$export$5acc770fc06a0138(this.outputShape.length);const{dataFormat:a}=t,n=$fa9d8600b244c481$export$3ebf4a18d6319f7a(),r="channelsLast"===a,o=r?0:1,s=r?1:2,c=this.enableShapeUniforms?"if(blockIndex < outShape[1] && pos < outShape[0]) {":`if(blockIndex < ${e[1]} && pos < ${e[0]}) {`;let i="";for(let e=0;e<=1;e++)for(let t=0;t<=1;t++)i+=`\n          blockIndex = rc.y + ${t};\n          pos = rc.x + ${e};\n\n          ${c}\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[${o}] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[${s}] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (${r}) {\n                  innerDims = vec2(d1, ch);\n                  result[${2*e+t}] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[${2*e+t}] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        `;this.userCode=`\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ${i}\n\n        ${n.output} = result;\n      }\n    `}}function $ed283aa158d86712$export$fe56ce0f8b4bfd45({x:e,filter:t,convInfo:a,backend:n,bias:r=null,preluActivationWeights:o=null,leakyreluAlpha:s=0,activation:c=null}){const i=e.shape,d=n.texData.get(e.dataId),f=a.inChannels,$=i[0]*i[1]*i[2],u=a.outChannels,p="channelsLast"===a.dataFormat;let l;const b=[];if(!((1===$||1===u)&&f>$9d5cbac0ca7d0bee$export$42c1ddb439199e73)&&d.isPacked&&p&&null!=d.texture&&i[2]%2!=0&&$5d5df9ecf1c80076$exports.arraysEqual(d.shape.slice(-3),i.slice(-3))){const f=i[0]*i[1]*(i[2]+1),$={dataId:e.dataId,shape:[1,f,a.inChannels],dtype:e.dtype},u=d.shape;d.shape=d.shape.slice(),d.shape[d.shape.length-2]++,$5d5df9ecf1c80076$exports.assert($540278e56fef35f8$export$951b388203a0422d(d.shape,$.shape),(()=>`packed reshape ${d.shape} to ${$.shape} isn't free`));const p=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:t},backend:n,attrs:{shape:[1,a.inChannels,a.outChannels]}});b.push(p);const h=$9d5cbac0ca7d0bee$export$d524d65e88e1168b({a:$,b:p,backend:n,transposeA:false,transposeB:false,bias:r,activation:c,preluActivationWeights:o,leakyreluAlpha:s}),x=n.texData.get(h.dataId);$5d5df9ecf1c80076$exports.assert(x.isPacked,(()=>"batchMatMul result is expected to be packed")),d.shape=u,x.shape=a.outShape,l=$bd8da3cc2e13c171$export$f0954fd7d5368655({inputs:{x:h},backend:n}),l.shape=a.outShape,b.push(h)}else{const d=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:e},backend:n,attrs:{shape:[1,p?i[0]*i[1]*i[2]:i[0]*i[2]*i[3],a.inChannels]}}),f=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:t},backend:n,attrs:{shape:[1,a.inChannels,a.outChannels]}}),$=$9d5cbac0ca7d0bee$export$d524d65e88e1168b({a:d,b:f,transposeA:false,transposeB:false,backend:n,bias:r,activation:c,preluActivationWeights:o,leakyreluAlpha:s});l=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:$},backend:n,attrs:{shape:a.outShape}}),b.push(d),b.push(f),b.push($)}for(const e of b)n.disposeIntermediateTensorInfo(e);return l}function $ed283aa158d86712$export$65b699e5c77381b8({x:e,filter:t,convInfo:a,backend:n,bias:r=null,preluActivationWeights:o=null,leakyreluAlpha:s=0,activation:c=null}){const{filterWidth:i,filterHeight:d,inChannels:f,outWidth:$,outHeight:u,dataFormat:p}=a,l="channelsLast"===p,b=i*d*f,h=u*$,x=[b,h],m=[],g=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:e},backend:n,attrs:{shape:e.shape.slice(1)}}),v=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:t},backend:n,attrs:{shape:[1,b,$5d5df9ecf1c80076$exports.sizeFromShape(t.shape)/b]}});m.push(g),m.push(v);const y=new $ba17c7ad46d03e70$export$d76a638e68b7f211(x,a),w=[g.shape,[a.padInfo.top,a.padInfo.left],[a.strideHeight,a.strideWidth],[a.dilationHeight,a.dilationWidth],[a.inChannels],[a.filterWidth*a.inChannels],[a.outWidth]],_=n.runWebGLProgram(y,[g],"float32",w),I=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:_},backend:n,attrs:{shape:[1,x[0],x[1]]}});m.push(_),m.push(I);const S=null!=r,T=null!=o,k="leakyrelu"===c,E=c?$52a8e902063fb185$export$445d43a4039ec7b7(c,!0):null,A=new $e8f5149e98857d9c$export$21e5f112101779d8(I.shape,v.shape,[1,h,a.outChannels],!0,!1,S,E,T,k),C=[I,v];if(r&&C.push(r),T&&C.push(o),k){const e=n.makeTensorInfo([],"float32",$5d5df9ecf1c80076$exports.createScalarValue(s,"float32"));C.push(e),m.push(e)}const O=n.runWebGLProgram(A,C,"float32"),N=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:O},backend:n,attrs:{shape:l?[1,u,$,a.outChannels]:[1,a.outChannels,u,$]}});m.push(O);for(const e of m)n.disposeIntermediateTensorInfo(e);return N}function $eb843d19a09e5d8e$export$188f9215482e3db8(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,filter:o}=t,{strides:s,pad:c,dataFormat:i,dilations:d,dimRoundingMode:f}=n,$=$c4c4d404109848b6$exports.convertConv2DDataFormat(i),u=$c4c4d404109848b6$exports.computeConv2DInfo(r.shape,o.shape,s,d,c,f,!1,$);let p;if(1!==u.filterHeight||1!==u.filterWidth||1!==u.dilationHeight||1!==u.dilationWidth||1!==u.strideHeight||1!==u.strideWidth||"SAME"!==u.padInfo.type&&"VALID"!==u.padInfo.type)if($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_CONV_IM2COL")&&1===r.shape[0])p=$ed283aa158d86712$export$65b699e5c77381b8({x:r,filter:o,convInfo:u,backend:a});else{const e=new $85aeabb333332f1d$export$8dc36706147178e9(u);p=a.runWebGLProgram(e,[r,o],"float32")}else p=$ed283aa158d86712$export$fe56ce0f8b4bfd45({x:r,filter:o,convInfo:u,backend:a});const l=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:p},backend:a,attrs:{shape:u.outShape}});return a.disposeIntermediateTensorInfo(p),l}const $eb843d19a09e5d8e$export$4a39bf13b4378042={kernelName:$0eb90ddf241a18bf$export$57742e605d475795,backendName:"webgl",kernelFunc:$eb843d19a09e5d8e$export$188f9215482e3db8};class $b46d43de05a9a44c$export$1223560f67be2f2d{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,a=e.strideWidth,n=e.padInfo.top,r=e.padInfo.left,o="channelsLast"===e.dataFormat;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${n};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${a} - ${r};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              if (${o}) {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class $b46d43de05a9a44c$export$5dc650171c0f6623{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,a=e.filterWidth,n=e.strideHeight,r=e.strideWidth,o="channelsLast"===e.dataFormat,s=t-1-e.padInfo.top,c=a-1-e.padInfo.left,i=o?1:2,d=o?2:3,f=o?3:1;this.userCode=`\n      const ivec2 pads = ivec2(${s}, ${c});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[${f}];\n\n        ivec2 dyCorner = ivec2(coords[${i}], coords[${d}]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${n}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${a}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${r}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${a} - 1 - wC;\n\n            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n\n              if (${o}) {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class $b46d43de05a9a44c$export$932d18866f409cf3{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideDepth,a=e.strideHeight,n=e.strideWidth,r=e.padInfo.front,o=e.padInfo.top,s=e.padInfo.left;this.userCode=`\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yF = 0; yF < ${e.outDepth}; yF++) {\n            int xF = wF + yF * ${t} - ${r};\n\n            if (xF < 0 || xF >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int yR = 0; yR < ${e.outHeight}; yR++) {\n              int xR = wR + yR * ${a} - ${o};\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int yC = 0; yC < ${e.outWidth}; yC++) {\n                int xC = wC + yC * ${n} - ${s};\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class $b46d43de05a9a44c$export$acda329ff653a25{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterDepth,a=e.filterHeight,n=e.filterWidth,r=e.strideDepth,o=e.strideHeight,s=e.strideWidth,c=t-1-e.padInfo.front,i=a-1-e.padInfo.top,d=n-1-e.padInfo.left;this.userCode=`\n      const ivec3 pads = ivec3(${c}, ${i}, ${d});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${t}; wF++) {\n          float dyF = float(dyFCorner + wF) / ${r}.0;\n\n          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ${t} - 1 - wF;\n\n          for (int wR = 0; wR < ${a}; wR++) {\n            float dyR = float(dyRCorner + wR) / ${o}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ${a} - 1 - wR;\n\n            for (int wC = 0; wC < ${n}; wC++) {\n              float dyC = float(dyCCorner + wC) / ${s}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ${n} - 1 - wC;\n\n              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}function $a7d4f4a1de3bb334$export$652a30c9379f3de7(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,dy:o}=t,{strides:s,pad:c,dataFormat:i,dimRoundingMode:d,filterShape:f}=n,$=$c4c4d404109848b6$exports.convertConv2DDataFormat(i),u=$c4c4d404109848b6$exports.computeConv2DInfo(r.shape,f,s,1,c,d,!1,$),p=new $b46d43de05a9a44c$export$1223560f67be2f2d(u);return a.runWebGLProgram(p,[r,o],"float32")}const $a7d4f4a1de3bb334$export$7a95f55d2d2e7d24={kernelName:$0eb90ddf241a18bf$export$32a8943c0f1ca5a7,backendName:"webgl",kernelFunc:$a7d4f4a1de3bb334$export$652a30c9379f3de7};function $526d9a7476a0a421$export$633310eed0c26e72(e){const{inputs:t,backend:a,attrs:n}=e,{dy:r,filter:o}=t,{inputShape:s,strides:c,pad:i,dataFormat:d,dimRoundingMode:f}=n,$=$c4c4d404109848b6$exports.convertConv2DDataFormat(d),u=$c4c4d404109848b6$exports.computeConv2DInfo(s,o.shape,c,1,i,f,!1,$),p=new $b46d43de05a9a44c$export$5dc650171c0f6623(u);return a.runWebGLProgram(p,[r,o],"float32")}const $526d9a7476a0a421$export$19bbc19fff1ed26f={kernelName:$0eb90ddf241a18bf$export$e26961e8ed0eb404,backendName:"webgl",kernelFunc:$526d9a7476a0a421$export$633310eed0c26e72};function $19e25d5622646f57$export$1929932f31d07956(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,filter:o}=t,{strides:s,pad:c,dilations:i}=n,d=$c4c4d404109848b6$exports.computeConv3DInfo(r.shape,o.shape,s,i,c),f=new $85aeabb333332f1d$export$67aff94cf1ececaf(d);return a.runWebGLProgram(f,[r,o],"float32")}const $19e25d5622646f57$export$1fe590fda0829040={kernelName:$0eb90ddf241a18bf$export$9d3874201dd21933,backendName:"webgl",kernelFunc:$19e25d5622646f57$export$1929932f31d07956};function $9c0571070f561399$export$b57760dc3101cea7(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,dy:o}=t,{strides:s,pad:c,filterShape:i}=n,d=$c4c4d404109848b6$exports.computeConv3DInfo(r.shape,i,s,1,c),f=new $b46d43de05a9a44c$export$932d18866f409cf3(d);return a.runWebGLProgram(f,[r,o],"float32")}const $9c0571070f561399$export$6dce9169640850fa={kernelName:$0eb90ddf241a18bf$export$dd2885efe6043eee,backendName:"webgl",kernelFunc:$9c0571070f561399$export$b57760dc3101cea7};function $99bd2b1852dcb80d$export$deb6d1ca1fa2977b(e){const{inputs:t,backend:a,attrs:n}=e,{dy:r,filter:o}=t,{pad:s,strides:c,inputShape:i}=n,d=$c4c4d404109848b6$exports.computeConv3DInfo(i,o.shape,c,1,s),f=new $b46d43de05a9a44c$export$acda329ff653a25(d);return a.runWebGLProgram(f,[r,o],"float32")}const $99bd2b1852dcb80d$export$cdcac766a3ef1744={kernelName:$0eb90ddf241a18bf$export$a54f552d6d7d521f,backendName:"webgl",kernelFunc:$99bd2b1852dcb80d$export$deb6d1ca1fa2977b},$d98645fe5ce478b6$var$COS=$52a8e902063fb185$export$bf39b1cb254b6187+"\n  return cos(x);\n",$d98645fe5ce478b6$export$50d414a77b60d802=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$d98645fe5ce478b6$var$COS}),$d98645fe5ce478b6$export$ff099a1da5235a7e={kernelName:$0eb90ddf241a18bf$export$ddfd0a983d257666,backendName:"webgl",kernelFunc:$d98645fe5ce478b6$export$50d414a77b60d802},$aa43acecb8f4032b$var$COSH="\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n",$aa43acecb8f4032b$export$2e2fd1ad24e4d350=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$aa43acecb8f4032b$var$COSH}),$aa43acecb8f4032b$export$c5824052b09ba0ed={kernelName:$0eb90ddf241a18bf$export$5e311a1c57b0d27c,backendName:"webgl",kernelFunc:$aa43acecb8f4032b$export$2e2fd1ad24e4d350};class $1a37733a80b295b6$export$c889a58f7ea63106{constructor(e,t,a,n,r){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[o,s,c,i]=e,[d]=t,[f,$]=a;this.outputShape=[d,f,$,i];const u="bilinear"===n?1:0,[p,l]=[s-1+".0",c-1+".0"],[b,h,x]=f>1?[""+(s-1)/(f-1),"(y2-y1) * height_ratio",`y1*${p} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${p}`],[m,g,v]=$>1?[""+(c-1)/($-1),"(x2-x1) * width_ratio",`x1*${l} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${l}`];this.userCode=`\n      const float height_ratio = float(${b});\n      const float width_ratio = float(${m});\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ${o}) {\n          return;\n        }\n\n        float height_scale = ${h};\n        float width_scale = ${g};\n\n        float in_y = ${x};\n        if( in_y < 0.0 || in_y > ${p} ) {\n          setOutput(float(${r}));\n          return;\n        }\n        float in_x = ${v};\n        if( in_x < 0.0 || in_x > ${l} ) {\n          setOutput(float(${r}));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(${u} == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    `}}const $882c73936836e3b8$export$6f0f0090e1f6cd3c=e=>{const{inputs:t,backend:a,attrs:n}=e,{image:r,boxes:o,boxInd:s}=t,{cropSize:c,method:i,extrapolationValue:d}=n,f=new $1a37733a80b295b6$export$c889a58f7ea63106(r.shape,o.shape,c,i,d);return a.runWebGLProgram(f,[r,o,s],"float32")},$882c73936836e3b8$export$f7086edcf0050c7f={kernelName:$0eb90ddf241a18bf$export$50bc9557793c2e04,backendName:"webgl",kernelFunc:$882c73936836e3b8$export$6f0f0090e1f6cd3c};class $4d4c3475e0519d95$export$fbdcedadd00dd392{constructor(e,t,a){this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}],this.outputShape=e;const n=e.length,r=t?"1.0":`getX(${$4d4c3475e0519d95$var$getCoords(n,"coords")})`,o=e[e.length-1];let s="",c="";t?(s=a?"end != "+(o-1):"end != 0",c=a?"end + 1":"end - 1"):(s=a?`end + pow2 < ${o}`:"end >= pow2",c=a?"end + pow2":"end - pow2"),this.userCode=`\n      void main() {\n        ${$80499140d90ba595$export$859efd105c10c755(n)} coords = getOutputCoords();\n        int end = ${$4d4c3475e0519d95$var$getFinalCoord(n,"coords")};\n        float val = ${r};\n        int pow2 = int(pow(2.0, index));\n        if (${s}) {\n          int idx = ${c};\n          ${$4d4c3475e0519d95$var$getFinalCoord(n,"coords")} = idx;\n          val *= getX(${$4d4c3475e0519d95$var$getCoords(n,"coords")});\n        }\n        setOutput(val);\n      }\n    `}}function $4d4c3475e0519d95$var$getCoords(e,t){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw Error(`Cumulative product for rank ${e} is not yet supported`)}function $4d4c3475e0519d95$var$getFinalCoord(e,t){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw Error(`Cumulative product for rank ${e} is not yet supported`)}function $66e0ad8bc8b08907$export$dc7513e907e94b8d(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{axis:o,exclusive:s,reverse:c}=n,i=r.shape.length,d=$c4c4d404109848b6$exports.getAxesPermutation([o],i);let f=r;null!=d&&(f=$9aea914380a219cc$export$9cb09a71b7d66923({inputs:{x:r},backend:a,attrs:{perm:d}}));const $=$c4c4d404109848b6$exports.getInnerMostAxes(1,i)[0];if($!==i-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${r.shape.length-1} but got axis=${o}`);const u=f.shape[$];let p=$bd8da3cc2e13c171$export$f0954fd7d5368655({inputs:{x:f},backend:a});for(let e=0;e<=Math.ceil(Math.log2(u))-1;e++){const t=new $4d4c3475e0519d95$export$fbdcedadd00dd392(f.shape,!1,c),n=[[e]],r=p;p=a.runWebGLProgram(t,[p],p.dtype,n),a.disposeIntermediateTensorInfo(r)}if(s){const e=new $4d4c3475e0519d95$export$fbdcedadd00dd392(f.shape,s,c),t=p;p=a.runWebGLProgram(e,[p],p.dtype),a.disposeIntermediateTensorInfo(t)}if(null!=d){const e=$9aea914380a219cc$export$9cb09a71b7d66923({inputs:{x:p},backend:a,attrs:{perm:$c4c4d404109848b6$exports.getUndoAxesPermutation(d)}});return a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(f),e}return p}const $66e0ad8bc8b08907$export$db50d81ed60c5a35={kernelName:$0eb90ddf241a18bf$export$e581acc6014c47a,backendName:"webgl",kernelFunc:$66e0ad8bc8b08907$export$dc7513e907e94b8d};class $f000f14d7adce974$export$1633a8add7a7cc3e{constructor(e,t,a){this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}],this.outputShape=e;const n=e.length,r=t?"0.0":`getX(${$f000f14d7adce974$var$getCoords(n,"coords")})`,o=e[e.length-1];let s="",c="";t?(s=a?"end != "+(o-1):"end != 0",c=a?"end + 1":"end - 1"):(s=a?`end + pow2 < ${o}`:"end >= pow2",c=a?"end + pow2":"end - pow2"),this.userCode=`\n      void main() {\n        ${$80499140d90ba595$export$859efd105c10c755(n)} coords = getOutputCoords();\n        int end = ${$f000f14d7adce974$var$getFinalCoord(n,"coords")};\n        float val = ${r};\n        int pow2 = int(pow(2.0, index));\n        if (${s}) {\n          int idx = ${c};\n          ${$f000f14d7adce974$var$getFinalCoord(n,"coords")} = idx;\n          val += getX(${$f000f14d7adce974$var$getCoords(n,"coords")});\n        }\n        setOutput(val);\n      }\n    `}}function $f000f14d7adce974$var$getCoords(e,t){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw Error(`Cumulative sum for rank ${e} is not yet supported`)}function $f000f14d7adce974$var$getFinalCoord(e,t){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw Error(`Cumulative sum for rank ${e} is not yet supported`)}function $ec40030936a2b4a5$export$71990b1e1c4912fe(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{axis:o,exclusive:s,reverse:c}=n,i=r.shape.length,d=$c4c4d404109848b6$exports.getAxesPermutation([o],i);let f=r;null!=d&&(f=$9aea914380a219cc$export$9cb09a71b7d66923({inputs:{x:r},backend:a,attrs:{perm:d}}));const $=$c4c4d404109848b6$exports.getInnerMostAxes(1,i)[0];if($!==i-1)throw new Error(`WebGL cumsum shader expects an inner-most axis=${r.shape.length-1} but got axis=${o}`);const u=f.shape[$];let p=$bd8da3cc2e13c171$export$f0954fd7d5368655({inputs:{x:f},backend:a});for(let e=0;e<=Math.ceil(Math.log2(u))-1;e++){const t=new $f000f14d7adce974$export$1633a8add7a7cc3e(f.shape,!1,c),n=[[e]],r=p;p=a.runWebGLProgram(t,[p],p.dtype,n),a.disposeIntermediateTensorInfo(r)}if(s){const e=new $f000f14d7adce974$export$1633a8add7a7cc3e(f.shape,s,c),t=p;p=a.runWebGLProgram(e,[p],p.dtype),a.disposeIntermediateTensorInfo(t)}if(null!=d){const e=$9aea914380a219cc$export$9cb09a71b7d66923({inputs:{x:p},backend:a,attrs:{perm:$c4c4d404109848b6$exports.getUndoAxesPermutation(d)}});return a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(f),e}return p}const $ec40030936a2b4a5$export$2f6196f3316e7ed2={kernelName:$0eb90ddf241a18bf$export$706617d894ad63da,backendName:"webgl",kernelFunc:$ec40030936a2b4a5$export$71990b1e1c4912fe};function $e7adb1b3aec4ad24$export$436934e6cf1946f1(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,weights:o}=t,{size:s,binaryOutput:c}=n;if(1===r.shape.length){const e=a.readSync(r.dataId),t=a.readSync(o.dataId),n=$df118cc0d91a72de$export$566def819e5d4601(e,t,o.dtype,o.shape,s);return a.makeTensorInfo([s],o.dtype,n)}if(2===r.shape.length){const e=a.bufferSync(r),t=a.bufferSync(o),n=$df118cc0d91a72de$export$447b89266e53682e(e,t,s,c);return a.makeTensorInfo(n.shape,o.dtype,n.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${r.shape.length}.`)}const $e7adb1b3aec4ad24$export$88ba267b84334692={kernelName:$0eb90ddf241a18bf$export$5bab6834954299c5,backendName:"webgl",kernelFunc:$e7adb1b3aec4ad24$export$436934e6cf1946f1};class $7fafefd07dabffb6$export$eb07f17369165f28{constructor(e,t,a){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=a,this.userCode=`\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${t};\n      int offset_h = imod(h, ${t});\n      int in_w = w / ${t};\n      int offset_w = imod(w, ${t});\n      int offset_d = (offset_h * ${t} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}function $3558828806793664$export$3b50daec0f185f12(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{blockSize:o,dataFormat:s}=n,c=r.shape[0],i=("NHWC"===s?r.shape[1]:r.shape[2])*o,d=("NHWC"===s?r.shape[2]:r.shape[3])*o,f=("NHWC"===s?r.shape[3]:r.shape[1])/(o*o),$=new $7fafefd07dabffb6$export$eb07f17369165f28("NHWC"===s?[c,i,d,f]:[c,f,i,d],o,s);return a.runWebGLProgram($,[r],r.dtype)}const $3558828806793664$export$9c5b88dcb1d2008b={kernelName:$0eb90ddf241a18bf$export$fb0ee52d0cd6f233,backendName:"webgl",kernelFunc:$3558828806793664$export$3b50daec0f185f12};class $20f3162f1e3bdf35$export$4ead5a4ba22ede40{constructor(e,t=!1,a=null,n=!1,r=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=$188d3dc4367e297d$export$5acc770fc06a0138(this.outputShape.length);const o=e.filterHeight,s=e.filterWidth,c=e.outChannels/e.inChannels;let i="",d="";a&&(i=n?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${a}\n        }`:r?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${a}\n        }`:`\n          float activation(float x) {\n            ${a}\n          }\n        `,d="result = activation(result);");const f=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),n&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${i}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${c};\n        int q = d2 - d1 * ${c};\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ${o}; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${s}; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ${f}\n        ${d}\n        setOutput(result);\n      }\n    `}}class $a72f0601da5189fd$export$acb9287627a2b170{constructor(e,t=!1,a=null,n=!1,r=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=$188d3dc4367e297d$export$5acc770fc06a0138(this.outputShape.length);const o=e.outChannels/e.inChannels,s=e.padInfo.left,c=e.strideWidth,i=e.dilationWidth,d=e.filterHeight,f=e.filterWidth,$=f;let u="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let e=0;e<f;e++)u+=`\n          vec4 xTexelC${2*e};\n          int xTexelC${2*e}Ready;\n          vec4 xTexelC${2*e+1};\n          int xTexelC${2*e+1}Ready;\n          vec4 xC${e};`;u+=`\n    for (int r = 0; r < ${d}; r++) {\n      `;for(let e=0;e<f;e++)u+=`\n          xTexelC${2*e} = vec4(0.0);\n          xTexelC${2*e}Ready = 0;\n          xTexelC${2*e+1} = vec4(0.0);\n          xTexelC${2*e+1}Ready = 0;\n          xC${e} = vec4(0.0);`;u+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let e=0;e<($+1)/2;e++){const t=2*e;if(u+=`\n          xC = xCCorner + ${t*i};\n          `,1===c){if(t<f&&(s%2==1?(u+=`\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n              `,u+=1===i&&t>0?`\n                xC${t} = vec4(xTexelC${t-2}.zw, xTexelC${t}.xy);\n                `:`\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC${t} = vec4(previous.zw, xTexelC${t}.xy);\n                  } else {\n                    xC${t} = vec4(0.0, 0.0, xTexelC${t}.xy);\n                  }\n                  `):u+=`\n                if (xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n\n                xC${t} = xTexelC${t};\n                `,t+1<f)){const e=s%2==0?$5d5df9ecf1c80076$exports.nearestLargerEven(i):i;i%2==0&&s%2==1||i%2!=0&&s%2!=1?(u+=`\n                  xCOffset = xC + imod(pads[1], 2) + ${e};\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                    xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC${t+1}.zw = vec2(0.0);\n                    }\n                    xTexelC${t+1}Ready = 1;\n                  }\n                  `,i>1&&(u+=`\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                      xTexelC${t} = getX(batch, xR, xCOffset, d1);\n                      xTexelC${t}Ready = 1;\n                    }\n                    `),u+=`\n                  xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.xy);\n                  `):u+=1===e?`\n                    xC${t+1} = xTexelC${t};\n                    `:`\n                    xCOffset = xC + ${e};\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                      xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC${t+1}.zw = vec2(0.0);\n                      }\n                      xTexelC${t+1}Ready = 1;\n                    }\n\n                    xC${t+1} = xTexelC${t+1};\n                    `}}else t<f&&(s%2==1?(u+=`\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${t+1}Ready == 0) {\n                  xTexelC${t+1} = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC${t+1}.zw = vec2(0.0);\n                  }\n                  xTexelC${t+1}Ready = 1;\n                }\n\n                xC${t} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n              `,t+1<f&&(u+=`\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC${t+1} = vec4(xTexelC${t+1}.xy, final.xy);\n                `)):(u+=`\n                if(xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                  xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${t+1}.zw = vec2(0.);\n                  }\n                  xTexelC${t+1}Ready = 1;\n                }\n\n                xC${t} = vec4(\n                  xTexelC${t}.xy, xTexelC${t+1}.xy);\n              `,t+1<f&&(u+=`\n                  xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n                `)));t<f&&(u+=`\n            wTexel = getW(r, ${t}, d1, q);\n            dotProd += xC${t} * vec4(wTexel.xz, wTexel.xz);\n          `,t+1<f&&(u+=`\n              wTexel = getW(r, ${t+1}, d1, q);\n              dotProd += xC${t+1} * vec4(wTexel.xz, wTexel.xz);\n            `))}u+="\n    }\n  ",u+="\n      }\n    ";let p="",l="";a&&(p=n?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${a}\n        }`:r?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${a}\n        }`:`vec4 activation(vec4 x) {\n          ${a}\n        }`,l="result = activation(result);");const b=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),n&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${p}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${o};\n        int q = d2 - d1 * ${o};\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ${u}\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ${b}\n        ${l}\n        setOutput(result);\n      }\n    `}}function $f6d502e4d8ad8f42$export$14e793fe8822afd1(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,filter:o}=t,{strides:s,pad:c,dilations:i,dimRoundingMode:d}=n;let f=i;null==f&&(f=[1,1]),$5d5df9ecf1c80076$exports.assert($c4c4d404109848b6$exports.eitherStridesOrDilationsAreOne(s,f),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${s} and dilations '${f}'`));const $=$c4c4d404109848b6$exports.computeConv2DInfo(r.shape,o.shape,s,f,c,d,!0);let u;u=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_DEPTHWISECONV")&&$.strideWidth<=2&&$.outChannels/$.inChannels==1?new $a72f0601da5189fd$export$acb9287627a2b170($):new $20f3162f1e3bdf35$export$4ead5a4ba22ede40($);const p=[[$.padInfo.top,$.padInfo.left],[$.strideHeight,$.strideWidth],[$.dilationHeight,$.dilationWidth],[$.inHeight,$.inWidth]];return a.runWebGLProgram(u,[r,o],"float32",p)}const $f6d502e4d8ad8f42$export$240667804b7c390e={kernelName:$0eb90ddf241a18bf$export$7c0fc590ff9e156f,backendName:"webgl",kernelFunc:$f6d502e4d8ad8f42$export$14e793fe8822afd1};class $b4ca1615145262b8$export$9f5b7866589daeae{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,a=e.strideWidth,n=e.padInfo.top,r=e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ${o} + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${n};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${a} - ${r};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class $b4ca1615145262b8$export$9b7e054f73b1374b{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,a=e.filterWidth,n=e.strideHeight,r=e.strideWidth,o=t-1-e.padInfo.top,s=a-1-e.padInfo.left,c=e.outChannels/e.inChannels;this.userCode=`\n      const ivec2 pads = ivec2(${o}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${n}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${a}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${r}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${a} - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ${c}; dm++) {\n              int d2 = d1 * ${c} + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}function $98c4a6853021b7f7$export$cc0ae65e9edc7e1a(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,dy:o}=t,{strides:s,dilations:c,pad:i,dimRoundingMode:d,filterShape:f}=n,$=$c4c4d404109848b6$exports.computeConv2DInfo(r.shape,f,s,c,i,d,!0),u=new $b4ca1615145262b8$export$9f5b7866589daeae($);return a.runWebGLProgram(u,[r,o],"float32")}const $98c4a6853021b7f7$export$30bc0ac3775583fc={kernelName:$0eb90ddf241a18bf$export$c99f139e0d4d1833,backendName:"webgl",kernelFunc:$98c4a6853021b7f7$export$cc0ae65e9edc7e1a};function $c0fa1c4c64b74ca4$export$37e2ab95a4a4c24b(e){const{inputs:t,backend:a,attrs:n}=e,{dy:r,filter:o}=t,{strides:s,dilations:c,pad:i,dimRoundingMode:d,inputShape:f}=n,$=$c4c4d404109848b6$exports.computeConv2DInfo(f,o.shape,s,c,i,d,!0),u=new $b4ca1615145262b8$export$9b7e054f73b1374b($);return a.runWebGLProgram(u,[r,o],"float32")}const $c0fa1c4c64b74ca4$export$55d12409e744bebe={kernelName:$0eb90ddf241a18bf$export$8649ca3b17033a24,backendName:"webgl",kernelFunc:$c0fa1c4c64b74ca4$export$37e2ab95a4a4c24b};class $4eb1a874021aea7d$export$d3d3824ae4245092{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}function $042d8728f45ccff1$export$c042e7c2f59bc046(e){const{inputs:t,backend:a}=e,{x:n}=t,r=[...n.shape,...n.shape],o=$5d5df9ecf1c80076$exports.sizeFromShape(n.shape),s=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:n},backend:a,attrs:{shape:[o]}}),c=new $4eb1a874021aea7d$export$d3d3824ae4245092(o),i=a.runWebGLProgram(c,[s],s.dtype),d=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:i},backend:a,attrs:{shape:r}});return a.disposeIntermediateTensorInfo(s),a.disposeIntermediateTensorInfo(i),d}const $042d8728f45ccff1$export$56dc5d812a22748f={kernelName:$0eb90ddf241a18bf$export$ca73a25315ddeb7f,backendName:"webgl",kernelFunc:$042d8728f45ccff1$export$c042e7c2f59bc046};class $7bf521d2681a041a$export$b3acfd0493b4c03e{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:t,inWidth:a,padInfo:n,strideHeight:r,strideWidth:o,filterHeight:s,filterWidth:c,dilationHeight:i,dilationWidth:d}=e,{top:f,left:$}=n;this.userCode=`\n      const ivec2 strides = ivec2(${r}, ${o});\n      const ivec2 pads = ivec2(${f}, ${$});\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ${s}; h++) {\n          int hIn = hBeg + h * ${i};\n\n          if (hIn >= 0 && hIn < ${t}) {\n            for (int w = 0; w < ${c}; w++) {\n              int wIn = wBeg + w * ${d};\n\n              if (wIn >= 0 && wIn < ${a}) {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    `}}function $66dee96079b82851$export$544ec6096a7ab30(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,filter:o}=t,{strides:s,pad:c,dilations:i}=n,d=$c4c4d404109848b6$exports.computeDilation2DInfo(r.shape,o.shape,s,c,"NHWC",i);let f;const $=new $7bf521d2681a041a$export$b3acfd0493b4c03e(d);f=a.runWebGLProgram($,[r,o],"float32");const u=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:f},backend:a,attrs:{shape:d.outShape}});return a.disposeIntermediateTensorInfo(f),u}const $66dee96079b82851$export$36d3c11f61a8891a={kernelName:$0eb90ddf241a18bf$export$dbbb7830c6497701,backendName:"webgl",kernelFunc:$66dee96079b82851$export$544ec6096a7ab30};function $fb3c1ac02c1dec33$export$27265e7daac5c403(e){const{inputs:t,backend:a,attrs:n}=e,{equation:r}=n,o=t,{allDims:s,summedDims:c,idDims:i}=$c4c4d404109848b6$exports.decodeEinsumEquation(r,o.length);$c4c4d404109848b6$exports.checkEinsumDimSizes(s.length,i,o);const{path:d,steps:f}=$c4c4d404109848b6$exports.getEinsumComputePath(c,i),$=f.length;let u=null,p=s.length;const l=[];for(let e=0;e<$;++e){for(const t of f[e]){const{permutationIndices:e,expandDims:n}=$c4c4d404109848b6$exports.getEinsumPermutation(p,i[t]);let r;$c4c4d404109848b6$exports.isIdentityPermutation(e)?r=o[t]:(r=$9aea914380a219cc$export$9cb09a71b7d66923({inputs:{x:o[t]},backend:a,attrs:{perm:e}}),l.push(r));const s=r.shape.slice();for(let e=0;e<n.length;++e)s.splice(n[e],0,1);$5d5df9ecf1c80076$exports.arraysEqual(r.shape,s)||(r=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:r},backend:a,attrs:{shape:s}}),l.push(r)),null===u?u=r:(u=$465e7ad7fdd76a1f$export$2060d2db72cce88f({inputs:{a:r,b:u},backend:a}),l.push(u))}e<$-1&&(d[e]>=0&&(u=$458b4d5afd630183$export$8a63f25cc62965f1({inputs:{x:u},backend:a,attrs:{axis:d[e]-(s.length-p),keepDims:!1}}),l.push(u)),p--)}for(const e of l)e!==u&&a.disposeIntermediateTensorInfo(e);return u}const $fb3c1ac02c1dec33$export$40bbf341885a23b7={kernelName:$0eb90ddf241a18bf$export$2541d8be32f3c641,backendName:"webgl",kernelFunc:$fb3c1ac02c1dec33$export$27265e7daac5c403},$7be9e9006cba6731$var$ELU="return (x >= 0.0) ? x : (exp(x) - 1.0);",$7be9e9006cba6731$var$ELU_PACKED="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",$7be9e9006cba6731$var$elu=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$7be9e9006cba6731$var$ELU,packedOpSnippet:$7be9e9006cba6731$var$ELU_PACKED}),$7be9e9006cba6731$export$b990686634ee3cce={kernelName:$0eb90ddf241a18bf$export$64636e173424d83d,backendName:"webgl",kernelFunc:$7be9e9006cba6731$var$elu},$a629049db1ddba29$var$ELU_DER="return (b >= 1.0) ? a : a * (b + 1.0);",$a629049db1ddba29$var$ELU_DER_PACKED="\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",$a629049db1ddba29$export$a346244024505ff9=e=>{const{inputs:t,backend:a}=e,{dy:n,y:r}=t,o=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new $452eea476760f668$export$7ef3bdc75c177be0($a629049db1ddba29$var$ELU_DER_PACKED,n.shape,r.shape):new $c6931e3cab81bc9a$export$9045e9161086790b($a629049db1ddba29$var$ELU_DER,n.shape,r.shape);return a.runWebGLProgram(o,[n,r],n.dtype)},$a629049db1ddba29$export$59bb07dd04647a1d={kernelName:$0eb90ddf241a18bf$export$9906be4699a73c53,backendName:"webgl",kernelFunc:$a629049db1ddba29$export$a346244024505ff9},$ba28df06087b8253$var$PACKED_EQUAL="\n  return vec4(equal(a, b));\n",$ba28df06087b8253$var$EQUAL="return float(a == b);",$ba28df06087b8253$export$411ce8e5a71e3069=$52a8e902063fb185$export$29353c66e70e3e16({opSnippet:$ba28df06087b8253$var$EQUAL,packedOpSnippet:$ba28df06087b8253$var$PACKED_EQUAL,dtype:"bool",cpuKernelImpl:$df118cc0d91a72de$export$13d1298222b29d06}),$ba28df06087b8253$export$3c8bc3d8ee318217={kernelName:$0eb90ddf241a18bf$export$8dcf9f58ce5cdfc,backendName:"webgl",kernelFunc:$ba28df06087b8253$export$411ce8e5a71e3069},$f0adcb0a7665f069$var$ERF=`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${$c4c4d404109848b6$exports.ERF_P};\n  float a1 = ${$c4c4d404109848b6$exports.ERF_A1};\n  float a2 = ${$c4c4d404109848b6$exports.ERF_A2};\n  float a3 = ${$c4c4d404109848b6$exports.ERF_A3};\n  float a4 = ${$c4c4d404109848b6$exports.ERF_A4};\n  float a5 = ${$c4c4d404109848b6$exports.ERF_A5};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`,$f0adcb0a7665f069$export$d3896f355fc09423=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$f0adcb0a7665f069$var$ERF}),$f0adcb0a7665f069$export$d044ffef16079bd={kernelName:$0eb90ddf241a18bf$export$c2ee2551ce71f1d0,backendName:"webgl",kernelFunc:$f0adcb0a7665f069$export$d3896f355fc09423},$24b9061ef42cd820$export$e17bfbab9ca97165=$52a8e902063fb185$export$bf39b1cb254b6187+"\n  return exp(x);\n",$24b9061ef42cd820$var$EXP_PACKED="\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",$24b9061ef42cd820$export$b310ec824aaee37f=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$24b9061ef42cd820$export$e17bfbab9ca97165,packedOpSnippet:$24b9061ef42cd820$var$EXP_PACKED,cpuKernelImpl:$df118cc0d91a72de$export$f72e179c9610cb8c,dtype:"float32"}),$24b9061ef42cd820$export$2fd7ea0fcf021f34={kernelName:$0eb90ddf241a18bf$export$f908be7a96fb3363,backendName:"webgl",kernelFunc:$24b9061ef42cd820$export$b310ec824aaee37f};function $7696b29b8dc93b48$export$d660d8ed21f46635(e){const{inputs:t,attrs:a,backend:n}=e,{dim:r}=a,{input:o}=t,s=o.shape.length,c=o.shape.slice();let i=r;return r<0&&($5d5df9ecf1c80076$exports.assert(-(s+1)<=r,(()=>`Axis must be in the interval [${-(s+1)}, ${s}]`)),i=s+r+1),c.splice(i,0,1),$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:o},backend:n,attrs:{shape:c}})}const $7696b29b8dc93b48$export$86341ba0ce5d8e60={kernelName:$0eb90ddf241a18bf$export$2391750b1d901146,backendName:"webgl",kernelFunc:$7696b29b8dc93b48$export$d660d8ed21f46635},$842081bc1aa5721c$var$EXPM1="return exp(x) - 1.0;",$842081bc1aa5721c$export$b6c0a80d46d3391d=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$842081bc1aa5721c$var$EXPM1,packedOpSnippet:$842081bc1aa5721c$var$EXPM1,cpuKernelImpl:$df118cc0d91a72de$export$5903785c29f035f5}),$842081bc1aa5721c$export$16db8a08b36f938={kernelName:$0eb90ddf241a18bf$export$261f26143a1ff3,backendName:"webgl",kernelFunc:$842081bc1aa5721c$export$b6c0a80d46d3391d};class $4c18e1fe564a5589$export$234ba885e3a114f6{constructor(e,t,a){this.variableNames=["real","imag"];const n=t[1];this.outputShape=t;const r=a?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,o=a?`${n}.0`:"1.0";let s;if("real"===e)s="return real * expR - imag * expI;";else{if("imag"!==e)throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);s="return real * expI + imag * expR;"}this.userCode=`\n      const float exponentMultiplier = ${r};\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ${s}\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(${n});\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ${n}; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ${o};\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    `}}function $3901677cd90cac70$export$75d3742a7578721e(e,t,a){const n=a.texData.get(e.dataId),r=$5d5df9ecf1c80076$exports.sizeFromShape(e.shape),o=e.shape[e.shape.length-1],s=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:e},backend:a,attrs:{shape:[r/o,o]}}),c=s.shape,i=new $4c18e1fe564a5589$export$234ba885e3a114f6("real",c,t),d=new $4c18e1fe564a5589$export$234ba885e3a114f6("imag",c,t),f=[{dataId:n.complexTensorInfos.real.dataId,dtype:n.complexTensorInfos.real.dtype,shape:c},{dataId:n.complexTensorInfos.imag.dataId,dtype:n.complexTensorInfos.imag.dtype,shape:c}],$=a.runWebGLProgram(i,f,"float32"),u=a.runWebGLProgram(d,f,"float32"),p=$f2c80ac6e68da386$export$83a0e34f1302825b({inputs:{real:$,imag:u},backend:a});a.disposeIntermediateTensorInfo($),a.disposeIntermediateTensorInfo(u);const l=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:p},backend:a,attrs:{shape:e.shape}});return a.disposeIntermediateTensorInfo(s),a.disposeIntermediateTensorInfo(p),l}function $a21a1f60702eee9d$export$a535ef183b6128fa(e){const{inputs:t,backend:a}=e,{input:n}=t;return $3901677cd90cac70$export$75d3742a7578721e(n,!1,a)}const $a21a1f60702eee9d$export$a4d564e380763c78={kernelName:$0eb90ddf241a18bf$export$677347237c014ba,backendName:"webgl",kernelFunc:$a21a1f60702eee9d$export$a535ef183b6128fa};class $3e7857b7ed4a84ca$export$758181b12323e997{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}function $98a1beb87e149ba1$export$9563e054e6f787fb(e){const{backend:t,attrs:a}=e,{shape:n,value:r}=a;let{dtype:o}=a;if(o=o||$5d5df9ecf1c80076$exports.inferDtype(r),"string"===o){const e=$5d5df9ecf1c80076$exports.getArrayFromDType(o,$5d5df9ecf1c80076$exports.sizeFromShape(n));return e.fill(r),t.makeTensorInfo(n,o,e)}{const e=new $3e7857b7ed4a84ca$export$758181b12323e997(n,r),a=[[r]];return t.runWebGLProgram(e,[],o,a)}}const $98a1beb87e149ba1$export$c953bf474b2bde62={kernelName:$0eb90ddf241a18bf$export$ffffe40bfa0649a3,backendName:"webgl",kernelFunc:$98a1beb87e149ba1$export$9563e054e6f787fb};class $2f0dafba7ee166e7$export$872622c1de722f28{constructor(e){this.variableNames=["Image"],this.outputShape=[];const t=e[2];this.outputShape=e,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ${t} - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ${t}) {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const $415de6113b18dcc5$export$c9ec83cb23304466={kernelName:$0eb90ddf241a18bf$export$34e7296fc8558df5,backendName:"webgl",kernelFunc:({inputs:e,backend:t})=>{const{image:a}=e,n=t,r=new $2f0dafba7ee166e7$export$872622c1de722f28(a.shape);return n.runWebGLProgram(r,[a],a.dtype)}},$f95cd1f8d1472558$var$FLOOR="return floor(x);",$f95cd1f8d1472558$export$a3fe094919f356fd=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$f95cd1f8d1472558$var$FLOOR,packedOpSnippet:$f95cd1f8d1472558$var$FLOOR,cpuKernelImpl:$df118cc0d91a72de$export$195a28e6add8ab7e}),$f95cd1f8d1472558$export$7e9a0f96fa6bd01c={kernelName:$0eb90ddf241a18bf$export$4880b0ae5643c62b,backendName:"webgl",kernelFunc:$f95cd1f8d1472558$export$a3fe094919f356fd},$0b41ef4576e13551$var$INT_DIV="\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",$0b41ef4576e13551$var$INT_DIV_PACKED="\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",$0b41ef4576e13551$export$112397bc52715a8=$52a8e902063fb185$export$29353c66e70e3e16({opSnippet:$0b41ef4576e13551$var$INT_DIV,packedOpSnippet:$0b41ef4576e13551$var$INT_DIV_PACKED,dtype:"int32"}),$0b41ef4576e13551$export$7eac933a0c7fd37f={kernelName:$0eb90ddf241a18bf$export$d79b5692ede26c2f,backendName:"webgl",kernelFunc:$0b41ef4576e13551$export$112397bc52715a8};class $1a0dccff29e80c2b$export$7ffba7be7a218615{constructor(e){this.variableNames=["A"];const t=$fa9d8600b244c481$export$3ebf4a18d6319f7a(),[a,n]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${n}.0, ${a}.0);\n\n        vec4 values = ${t.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `}}class $c473a2ac661f9ccd$export$5f4cf05de268f9cf{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=$fa9d8600b244c481$export$3ebf4a18d6319f7a(),[a,n]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${n}.0, ${a}.0);\n            vec4 values = ${t.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${t.output} = result;\n      }\n    `}}const $b51365c5fd188fcb$export$b22e14d614fc7178={kernelName:$0eb90ddf241a18bf$export$d0eb4e7054966c48,backendName:"webgl",kernelFunc:$b51365c5fd188fcb$var$fromPixels};let $b51365c5fd188fcb$var$fromPixels2DContext;function $b51365c5fd188fcb$var$fromPixels(e){const{inputs:t,backend:a,attrs:n}=e;let{pixels:r}=t;const{numChannels:o}=n,s="undefined"!=typeof HTMLVideoElement&&r instanceof HTMLVideoElement,c="undefined"!=typeof HTMLImageElement&&r instanceof HTMLImageElement,[i,d]=s?[r.videoWidth,r.videoHeight]:[r.width,r.height],f=[d,i],$=[d,i,o];(c||s)&&(null==$b51365c5fd188fcb$var$fromPixels2DContext&&($b51365c5fd188fcb$var$fromPixels2DContext=document.createElement("canvas").getContext("2d")),$b51365c5fd188fcb$var$fromPixels2DContext.canvas.width=i,$b51365c5fd188fcb$var$fromPixels2DContext.canvas.height=d,$b51365c5fd188fcb$var$fromPixels2DContext.drawImage(r,0,0,i,d),r=$b51365c5fd188fcb$var$fromPixels2DContext.canvas);const u=a.makeTensorInfo(f,"int32");a.texData.get(u.dataId).usage=$7a7191ee47308025$export$6bf4bd1b6beb0bfd.PIXELS,a.gpgpu.uploadPixelDataToTexture(a.getTexture(u.dataId),r);const p=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK")?new $c473a2ac661f9ccd$export$5f4cf05de268f9cf($):new $1a0dccff29e80c2b$export$7ffba7be7a218615($),l=a.runWebGLProgram(p,[u],"int32");return a.disposeData(u.dataId),l}function $df1f08c37a93d043$export$b4f4a900a93010a(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,filter:o,bias:s,preluActivationWeights:c}=t,{strides:i,pad:d,dataFormat:f,dilations:$,dimRoundingMode:u,activation:p,leakyreluAlpha:l}=n,b=$c4c4d404109848b6$exports.convertConv2DDataFormat(f),h=$c4c4d404109848b6$exports.computeConv2DInfo(r.shape,o.shape,i,$,d,u,!1,b);let x;const m=[];if(1!==h.filterHeight||1!==h.filterWidth||1!==h.dilationHeight||1!==h.dilationWidth||1!==h.strideHeight||1!==h.strideWidth||"SAME"!==h.padInfo.type&&"VALID"!==h.padInfo.type)if($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_CONV_IM2COL")&&1===r.shape[0])x=$ed283aa158d86712$export$65b699e5c77381b8({x:r,filter:o,convInfo:h,backend:a,bias:s,activation:p,preluActivationWeights:c,leakyreluAlpha:l});else{const e=null!=s,t=null!=c,n="leakyrelu"===p,i=p?$52a8e902063fb185$export$445d43a4039ec7b7(p,!1):null,d=new $85aeabb333332f1d$export$8dc36706147178e9(h,e,i,t,n),f=[r,o];if(s&&f.push(s),c&&f.push(c),n){const e=a.makeTensorInfo([],"float32",$5d5df9ecf1c80076$exports.createScalarValue(l,"float32"));f.push(e),m.push(e)}x=a.runWebGLProgram(d,f,"float32")}else x=$ed283aa158d86712$export$fe56ce0f8b4bfd45({x:r,filter:o,convInfo:h,backend:a,bias:s,activation:p,preluActivationWeights:c,leakyreluAlpha:l});const g=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:x},backend:a,attrs:{shape:h.outShape}});return m.push(x),m.forEach((e=>a.disposeIntermediateTensorInfo(e))),g}const $df1f08c37a93d043$export$5b64efa829ddf94e={kernelName:$0eb90ddf241a18bf$export$86f8a8e3a8f2a8f2,backendName:"webgl",kernelFunc:$df1f08c37a93d043$export$b4f4a900a93010a};function $0a34d20ed8844edd$export$d61de7729228094b(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,filter:o,bias:s,preluActivationWeights:c}=t,{strides:i,pad:d,dilations:f,dimRoundingMode:$,activation:u,leakyreluAlpha:p}=n,l=[];let b=f;null==b&&(b=[1,1]),$5d5df9ecf1c80076$exports.assert($c4c4d404109848b6$exports.eitherStridesOrDilationsAreOne(i,b),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${i} and dilations '${b}'`));const h=$c4c4d404109848b6$exports.computeConv2DInfo(r.shape,o.shape,i,b,d,$,!0),x=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_DEPTHWISECONV")&&h.strideWidth<=2&&h.outChannels/h.inChannels==1,m=u?$52a8e902063fb185$export$445d43a4039ec7b7(u,x):null,g=[r,o],v=null!=s,y=null!=c,w="leakyrelu"===u;if(v&&g.push(s),y&&g.push(c),w){const e=a.makeTensorInfo([],"float32",$5d5df9ecf1c80076$exports.createScalarValue(p,"float32"));g.push(e),l.push(e)}let _;_=x?new $a72f0601da5189fd$export$acb9287627a2b170(h,v,m,y,w):new $20f3162f1e3bdf35$export$4ead5a4ba22ede40(h,v,m,y,w);const I=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]],S=a.runWebGLProgram(_,g,"float32",I);return l.forEach((e=>a.disposeIntermediateTensorInfo(e))),S}const $0a34d20ed8844edd$export$58481cc3409b412c={kernelName:$0eb90ddf241a18bf$export$5a249e8f498c02c1,backendName:"webgl",kernelFunc:$0a34d20ed8844edd$export$d61de7729228094b};class $34bce4ac330e57c0$export$ffd508d535a7dba1{constructor(e,t,a){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=a;const n=$80499140d90ba595$export$859efd105c10c755(t.length),r=$80499140d90ba595$export$859efd105c10c755(a.length),o=this.sliceDim>1?"strides[j]":"strides";this.userCode=`\n        ${n} strides = ${n}(${this.strides});\n         void main() {\n          ${r} coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < ${this.sliceDim}; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * ${o};\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      `}}function $8149ee31588a4ae0$export$3c586830e482d2b9(e){const{inputs:t,backend:a}=e,{params:n,indices:r}=t,o=r.shape,s=o[o.length-1],c=$5d5df9ecf1c80076$exports.sizeFromShape(n.shape),[i,d,f,$]=$c4c4d404109848b6$exports.prepareAndValidate(n,r),u=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:r},backend:a,attrs:{shape:[d,s]}}),p=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:n},backend:a,attrs:{shape:[$5d5df9ecf1c80076$exports.sizeFromShape(n.shape)/f,f]}});if(a.shouldExecuteOnCPU([n,r])||"string"===n.dtype){const e=a.readSync(r.dataId),t=a.bufferSync(n),o=$df118cc0d91a72de$export$e3196a12dce24214(e,t,n.dtype,d,s,f,$,n.shape,c);return a.makeTensorInfo(i,n.dtype,o.values)}const l=new $34bce4ac330e57c0$export$ffd508d535a7dba1(s,$,[d,f]),b=a.runWebGLProgram(l,[p,u],p.dtype),h=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:b},backend:a,attrs:{shape:i}});return a.disposeIntermediateTensorInfo(u),a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(b),h}const $8149ee31588a4ae0$export$d9700eb1c7f5c969={kernelName:$0eb90ddf241a18bf$export$4ef6e37a23721703,backendName:"webgl",kernelFunc:$8149ee31588a4ae0$export$3c586830e482d2b9};class $047bf7665f75aaae$export$e8921930334c8ed5{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;const a=$80499140d90ba595$export$859efd105c10c755(this.rank),n=$047bf7665f75aaae$var$getSourceCoords(e,2);this.userCode=`\n      void main() {\n        ${a} resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;\n        setOutput(inBounds * getA(${n}));\n      }\n    `}}function $047bf7665f75aaae$var$getSourceCoords(e,t){const a=["resRC.x","resRC.y","resRC.z","resRC.w"],n=[];for(let t=0;t<e.length;t++)2===t?n.push("index"):n.push(`${a[t]}`);return n.join()}function $f1c0752cdde010b6$export$3d75b4295ded9925(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,indices:o}=t,{axis:s,batchDims:c}=n,i=$5d5df9ecf1c80076$exports.parseAxisParam(s,r.shape)[0];if($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().get("DEBUG")){const e=a.readSync(o.dataId),t=r.shape[i];for(let a=0;a<e.length;++a){const n=e[a];$5d5df9ecf1c80076$exports.assert(n<=t-1&&n>=0,(()=>`GatherV2: the index value ${n} is not in [0, ${t-1}]`))}}const d=$c4c4d404109848b6$exports.segment_util.collectGatherOpShapeInfo(r,o,i,c),f=$5d5df9ecf1c80076$exports.sizeFromShape(o.shape),$=[],u=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:r},backend:a,attrs:{shape:[d.batchSize,d.outerSize,d.dimSize,d.sliceSize]}}),p=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:o},backend:a,attrs:{shape:[d.batchSize,f/d.batchSize]}});$.push(u),$.push(p);const l=[d.batchSize,d.outerSize,f/d.batchSize,d.sliceSize];if(a.shouldExecuteOnCPU([r,o])||"string"===r.dtype){const e=a.bufferSync(p),t=a.bufferSync(u),n=$df118cc0d91a72de$export$cffe0fde89e98de6(t,e,l);return $.forEach((e=>a.disposeIntermediateTensorInfo(e))),a.makeTensorInfo(d.outputShape,n.dtype,n.values)}const b=new $047bf7665f75aaae$export$e8921930334c8ed5(u.shape,l),h=a.runWebGLProgram(b,[u,p],u.dtype);$.push(h);const x=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:h},backend:a,attrs:{shape:d.outputShape}});return $.forEach((e=>a.disposeIntermediateTensorInfo(e))),x}const $f1c0752cdde010b6$export$b1bd3139c91d8765={kernelName:$0eb90ddf241a18bf$export$ccd988942e5c0181,backendName:"webgl",kernelFunc:$f1c0752cdde010b6$export$3d75b4295ded9925},$ee855cf792779f9f$var$GREATER="return float(a > b);",$ee855cf792779f9f$var$GREATER_PACKED="\n  return vec4(greaterThan(a, b));\n",$ee855cf792779f9f$export$9dca161faaf6308b=$52a8e902063fb185$export$29353c66e70e3e16({opSnippet:$ee855cf792779f9f$var$GREATER,packedOpSnippet:$ee855cf792779f9f$var$GREATER_PACKED,cpuKernelImpl:$df118cc0d91a72de$export$eabb8927944259dd,dtype:"bool"}),$ee855cf792779f9f$export$8c4f7e92d92310f8={kernelName:$0eb90ddf241a18bf$export$d0a25eac5ee3f515,backendName:"webgl",kernelFunc:$ee855cf792779f9f$export$9dca161faaf6308b},$f1f85d36f2b6a3b9$var$GREATER_EQUAL="return float(a >= b);",$f1f85d36f2b6a3b9$var$GREATER_EQUAL_PACKED="\n  return vec4(greaterThanEqual(a, b));\n",$f1f85d36f2b6a3b9$export$c2fd4164cadc1fa2=$52a8e902063fb185$export$29353c66e70e3e16({opSnippet:$f1f85d36f2b6a3b9$var$GREATER_EQUAL,packedOpSnippet:$f1f85d36f2b6a3b9$var$GREATER_EQUAL_PACKED,dtype:"bool",cpuKernelImpl:$df118cc0d91a72de$export$a3d2e203d979d298}),$f1f85d36f2b6a3b9$export$7a6926f9fcac24ca={kernelName:$0eb90ddf241a18bf$export$3b7d21bc9aee0851,backendName:"webgl",kernelFunc:$f1f85d36f2b6a3b9$export$c2fd4164cadc1fa2};function $1cbb29500fbc43fe$export$776649b0bf8ce1fd(e){const{inputs:t,backend:a}=e,{input:n}=t;return $3901677cd90cac70$export$75d3742a7578721e(n,!0,a)}const $1cbb29500fbc43fe$export$dc267425bf21b465={kernelName:$0eb90ddf241a18bf$export$21c6f576ae8100e8,backendName:"webgl",kernelFunc:$1cbb29500fbc43fe$export$776649b0bf8ce1fd},$be28df1cb3164f29$var$IS_FINITE="return float(!isnan(x) && !isinf(x));",$be28df1cb3164f29$export$65f0b13f2f82375a=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$be28df1cb3164f29$var$IS_FINITE,dtype:"bool"}),$be28df1cb3164f29$export$4d45c8f7b9ffdaf1={kernelName:$0eb90ddf241a18bf$export$b9fcc0946d7d485e,backendName:"webgl",kernelFunc:$be28df1cb3164f29$export$65f0b13f2f82375a},$a0ddf7e93e358d6b$var$IS_INF="return float(isinf(x));",$a0ddf7e93e358d6b$export$e5d3415c656f7096=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$a0ddf7e93e358d6b$var$IS_INF,dtype:"bool"}),$a0ddf7e93e358d6b$export$bc383b82282e9b5a={kernelName:$0eb90ddf241a18bf$export$74b5a3bc735b152,backendName:"webgl",kernelFunc:$a0ddf7e93e358d6b$export$e5d3415c656f7096},$5a0a3acc2bdcacf0$var$IS_NAN="return float(isnan(x));",$5a0a3acc2bdcacf0$export$c9f5652083b8129d=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$5a0a3acc2bdcacf0$var$IS_NAN,dtype:"bool"}),$5a0a3acc2bdcacf0$export$d58ff790c765c1f0={kernelName:$0eb90ddf241a18bf$export$9912dc4fc649dbec,backendName:"webgl",kernelFunc:$5a0a3acc2bdcacf0$export$c9f5652083b8129d},$18dadd2f0ce9b560$var$LESS="return float(a < b);",$18dadd2f0ce9b560$var$LESS_PACKED="\n  return vec4(lessThan(a, b));\n",$18dadd2f0ce9b560$export$bb1a638da8ad190f=$52a8e902063fb185$export$29353c66e70e3e16({opSnippet:$18dadd2f0ce9b560$var$LESS,packedOpSnippet:$18dadd2f0ce9b560$var$LESS_PACKED,cpuKernelImpl:$df118cc0d91a72de$export$74c893b3c5e74e60,dtype:"bool"}),$18dadd2f0ce9b560$export$8d4530ce8b6ffc3c={kernelName:$0eb90ddf241a18bf$export$728c50f1c88ac779,backendName:"webgl",kernelFunc:$18dadd2f0ce9b560$export$bb1a638da8ad190f},$07c8e8dc2030df0c$export$8342242c3b80421d="return float(a <= b);",$07c8e8dc2030df0c$export$b12559c17f42d056="\n  return vec4(lessThanEqual(a, b));\n",$07c8e8dc2030df0c$export$c24ad19a692bb92=$52a8e902063fb185$export$29353c66e70e3e16({opSnippet:$07c8e8dc2030df0c$export$8342242c3b80421d,packedOpSnippet:$07c8e8dc2030df0c$export$b12559c17f42d056,cpuKernelImpl:$df118cc0d91a72de$export$6d1533a3ea9565f,dtype:"bool"}),$07c8e8dc2030df0c$export$9f26bd257393dd8={kernelName:$0eb90ddf241a18bf$export$84afd0d8f7fb8c5d,backendName:"webgl",kernelFunc:$07c8e8dc2030df0c$export$c24ad19a692bb92};function $0f6d2eaed67e58cc$export$865a19adce4d7a46(e){const{backend:t,attrs:a}=e,{start:n,stop:r,num:o}=a,s=$df118cc0d91a72de$export$c86a2be8970d7a7d(n,r,o);return t.makeTensorInfo([s.length],"float32",s)}const $0f6d2eaed67e58cc$export$46b96f742c70959b={kernelName:$0eb90ddf241a18bf$export$34f0ab8eba543ee6,backendName:"webgl",kernelFunc:$0f6d2eaed67e58cc$export$865a19adce4d7a46},$2790847d2a56a311$var$LOG=$52a8e902063fb185$export$bf39b1cb254b6187+"\n  return x < 0.0 ? 0./0. : log(x);\n",$2790847d2a56a311$var$LOG_PACKED="\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",$2790847d2a56a311$export$bef1f36f5486a6a3=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$2790847d2a56a311$var$LOG,packedOpSnippet:$2790847d2a56a311$var$LOG_PACKED,cpuKernelImpl:$df118cc0d91a72de$export$e88dde64a338f813}),$2790847d2a56a311$export$a4ae1f00643ddd14={kernelName:$0eb90ddf241a18bf$export$ce30dbb46644d06c,backendName:"webgl",kernelFunc:$2790847d2a56a311$export$bef1f36f5486a6a3},$52c7e4f19fa81c46$var$LOG1P=$52a8e902063fb185$export$bf39b1cb254b6187+"\n  return log(1.0 + x);\n",$52c7e4f19fa81c46$export$144dcf16adfb9698=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$52c7e4f19fa81c46$var$LOG1P}),$52c7e4f19fa81c46$export$c458b9e5ba980198={kernelName:$0eb90ddf241a18bf$export$70f05bf9ddcfca68,backendName:"webgl",kernelFunc:$52c7e4f19fa81c46$export$144dcf16adfb9698},$52ee86f70964e74b$var$LOGICAL_AND="return float(a >= 1.0 && b >= 1.0);",$52ee86f70964e74b$var$LOGICAL_AND_PACKED="\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",$52ee86f70964e74b$export$db5dd0ef9d505f=$52a8e902063fb185$export$29353c66e70e3e16({opSnippet:$52ee86f70964e74b$var$LOGICAL_AND,packedOpSnippet:$52ee86f70964e74b$var$LOGICAL_AND_PACKED,dtype:"bool"}),$52ee86f70964e74b$export$257f1e82e69113fb={kernelName:$0eb90ddf241a18bf$export$8a27ff10dff4d6e5,backendName:"webgl",kernelFunc:$52ee86f70964e74b$export$db5dd0ef9d505f},$ce3b83302fe289e5$var$LOGICAL_NOT="return float(!(x >= 1.0));",$ce3b83302fe289e5$export$c836ff7b605b1617=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$ce3b83302fe289e5$var$LOGICAL_NOT}),$ce3b83302fe289e5$export$68e2dd0840056271={kernelName:$0eb90ddf241a18bf$export$4393bee5596c68c2,backendName:"webgl",kernelFunc:$ce3b83302fe289e5$export$c836ff7b605b1617},$80fb8119e91624cc$var$LOGICAL_OR="return float(a >= 1.0 || b >= 1.0);",$80fb8119e91624cc$var$LOGICAL_OR_PACKED="\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",$80fb8119e91624cc$export$e2a73975983cadd8=$52a8e902063fb185$export$29353c66e70e3e16({opSnippet:$80fb8119e91624cc$var$LOGICAL_OR,packedOpSnippet:$80fb8119e91624cc$var$LOGICAL_OR_PACKED,dtype:"bool"}),$80fb8119e91624cc$export$ce04b6546987ef43={kernelName:$0eb90ddf241a18bf$export$c49f9f5ffc6f678c,backendName:"webgl",kernelFunc:$80fb8119e91624cc$export$e2a73975983cadd8};class $2ce12ac0500ab6fb$export$2214c2ca22968528{constructor(e,t,a,n,r){this.variableNames=["x"],this.outputShape=[];const o=t,s=e[3]-1;let c;this.outputShape=e;const i=`float(${a}) + float(${n}) * sum`;c=.5===r?`inversesqrt(${i})`:1===r?`1.0/(${i})`:`exp(log(${i}) * float(-${r}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -${o}; j <= ${o}; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ${s}) {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ${c};\n        setOutput(val);\n      }\n    `}}class $5d355e5213345613$export$3942340f6b6d7fe9{constructor(e,t,a,n,r){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const o=t,s=e[3]-1;let c;this.outputShape=e;const i=`float(${a}) + float(${n}) * sum`;c=.5===r?`inversesqrt(${i})`:1===r?`1.0/(${i})`:`exp(log(${i}) * float(-${r}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ${this.outputShape[3]};\n        bool hasNextRow = c < ${this.outputShape[2]};\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ${o};\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ${o}; j <= ${o}; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${s}));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ${c};\n        setOutput(result);\n      }\n    `}}const $7acbc8dd31ce6dd0$export$4e4a7896ae51c2f1=e=>{const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{depthRadius:o,bias:s,alpha:c,beta:i}=n,d=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_NORMALIZATION")?new $5d355e5213345613$export$3942340f6b6d7fe9(r.shape,o,s,c,i):new $2ce12ac0500ab6fb$export$2214c2ca22968528(r.shape,o,s,c,i);return a.runWebGLProgram(d,[r],r.dtype)},$7acbc8dd31ce6dd0$export$6fb124d5a6994734={kernelName:$0eb90ddf241a18bf$export$eb2f713fc3e1ca9a,backendName:"webgl",kernelFunc:$7acbc8dd31ce6dd0$export$4e4a7896ae51c2f1};class $c7b2c97b7c3a39ed$export$f121c71e68d75e{constructor(e,t,a,n,r){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=a,this.alpha=n,this.beta=r,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ${this.depth}; ++d) {\n          int depthBegin = int(max(0.0, float(d - ${t})));\n          int depthEnd = int(min(float(${this.depth}),\n              float(d + ${t} + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ${this.depth};\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(${n}) * norm + float(${a});\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(${n})\n                * float(${r})\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ${r});\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    `}}const $b6ae5bb1bf4d1bbd$export$c1529e4348811bb5=e=>{const{inputs:t,backend:a,attrs:n}=e,{x:r,y:o,dy:s}=t,{depthRadius:c,bias:i,alpha:d,beta:f}=n,$=new $c7b2c97b7c3a39ed$export$f121c71e68d75e(r.shape,c,i,d,f);return a.runWebGLProgram($,[r,o,s],r.dtype)},$b6ae5bb1bf4d1bbd$export$99a62fc039d7aca0={kernelName:$0eb90ddf241a18bf$export$73ba43cd0ce95b10,backendName:"webgl",kernelFunc:$b6ae5bb1bf4d1bbd$export$c1529e4348811bb5};function $c47ca3e32ec91c30$export$23c9b99bdac85be0(e,t,a,n){const r=$5d5df9ecf1c80076$exports.sizeFromShape(t),o=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:e},attrs:{shape:[$5d5df9ecf1c80076$exports.sizeFromShape(e.shape)/r,r]},backend:n}),s=$bdf8e0cb34e96e91$export$533b26079ad0b4b(o,e.dtype,"max",n),c=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:s},attrs:{shape:a},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),c}function $4e94fae75a0e27ea$export$8960430cfd85939f(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{reductionIndices:o,keepDims:s}=n,c=r.shape.length,i=$5d5df9ecf1c80076$exports.parseAxisParam(o,r.shape);let d=i;const f=$c4c4d404109848b6$exports.getAxesPermutation(d,c),$=null!=f,u=a.shouldExecuteOnCPU([r]);let p=r;if($){if(u){const e=a.texData.get(p.dataId).values,t=new Array(c);for(let e=0;e<t.length;e++)t[e]=r.shape[f[e]];const n=$df118cc0d91a72de$export$a0105d4a7143676c(e,r.shape,r.dtype,f,t);p=a.makeTensorInfo(t,r.dtype);a.texData.get(p.dataId).values=n}else p=$f4245f2e77d00e64$export$986b9e65182e08d(r,f,a);d=$c4c4d404109848b6$exports.getInnerMostAxes(d.length,c)}$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("max",d,c);const[l,b]=$c4c4d404109848b6$exports.computeOutAndReduceShapes(p.shape,d);let h,x=l;if(s&&(x=$c4c4d404109848b6$exports.expandShapeToKeepDim(l,i)),u){const e=a.texData.get(p.dataId).values,t=$df118cc0d91a72de$export$a94164c9f637858e(e,$5d5df9ecf1c80076$exports.sizeFromShape(b),x,r.dtype);h=a.makeTensorInfo(x,r.dtype);a.texData.get(h.dataId).values=t}else h=$c47ca3e32ec91c30$export$23c9b99bdac85be0(p,b,x,a);return $&&a.disposeIntermediateTensorInfo(p),h}const $4e94fae75a0e27ea$export$7d79147246e312bb={kernelName:$0eb90ddf241a18bf$export$d36c09e5d02927e7,backendName:"webgl",kernelFunc:$4e94fae75a0e27ea$export$8960430cfd85939f},$ee31de3dcb345861$var$MAXIMUM=$c6931e3cab81bc9a$export$39f0cca2b63399f6+"\n  return max(a, b);\n",$ee31de3dcb345861$var$MAXIMUM_PACKED="\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  "+$452eea476760f668$export$39f0cca2b63399f6+"\n  return result;\n",$ee31de3dcb345861$export$b25e0be55f42c9a=$52a8e902063fb185$export$29353c66e70e3e16({opSnippet:$ee31de3dcb345861$var$MAXIMUM,packedOpSnippet:$ee31de3dcb345861$var$MAXIMUM_PACKED,cpuKernelImpl:$df118cc0d91a72de$export$b3afdc53a543e175}),$ee31de3dcb345861$export$45b97bdc342e72a2={kernelName:$0eb90ddf241a18bf$export$d8d02ac92d161004,backendName:"webgl",kernelFunc:$ee31de3dcb345861$export$b25e0be55f42c9a};function $081056074f9ac811$export$e4aadcf115842782(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t;$540278e56fef35f8$export$1412c17b2531581a(r,"maxPool");const{filterSize:o,strides:s,pad:c,dimRoundingMode:i}=n;$5d5df9ecf1c80076$exports.assert($c4c4d404109848b6$exports.eitherStridesOrDilationsAreOne(s,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`));const d=$c4c4d404109848b6$exports.computePool2DInfo(r.shape,o,s,1,c,i);if(1===d.filterWidth&&1===d.filterHeight&&$5d5df9ecf1c80076$exports.arraysEqual(d.inShape,d.outShape))return $bd8da3cc2e13c171$export$f0954fd7d5368655({inputs:{x:r},backend:a});const f=new $99413d750dd12542$export$ddaa65439647a5ac(d,"max",!1);return a.runWebGLProgram(f,[r],r.dtype)}const $081056074f9ac811$export$45c8263b38f19e33={kernelName:$0eb90ddf241a18bf$export$39ea33024ddd5cf,backendName:"webgl",kernelFunc:$081056074f9ac811$export$e4aadcf115842782};function $823992e9477da082$export$822a6e53be1125f9(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{filterSize:o,strides:s,pad:c,dataFormat:i,dimRoundingMode:d}=n,f=$c4c4d404109848b6$exports.computePool3DInfo(r.shape,o,s,[1,1,1],c,d,i),$=new $99413d750dd12542$export$a835a97097fdbb0f(f,"max",!1);return a.runWebGLProgram($,[r],r.dtype)}const $823992e9477da082$export$91a8fc5da39ec855={kernelName:$0eb90ddf241a18bf$export$88fdc64af890fc53,backendName:"webgl",kernelFunc:$823992e9477da082$export$822a6e53be1125f9};class $681f3b1d9e7bac97$export$ab6144ed51884dd{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideHeight,a=e.strideWidth,n=e.dilationHeight,r=e.effectiveFilterHeight,o=e.effectiveFilterWidth,s=r-1-e.padInfo.top,c=o-1-e.padInfo.left,i=r*o-1;this.userCode=`\n      const ivec2 pads = ivec2(${s}, ${c});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${r};\n          wR += ${n}) {\n          float dyR = float(dyRCorner + wR) / ${t}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${o}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${a}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ${i} - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ${o} + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class $681f3b1d9e7bac97$export$ae61ae287bf9d719{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideDepth,a=e.strideHeight,n=e.strideWidth,r=e.dilationDepth,o=e.dilationHeight,s=e.dilationWidth,c=e.effectiveFilterDepth,i=e.effectiveFilterHeight,d=e.effectiveFilterWidth,f=c-1-e.padInfo.front,$=i-1-e.padInfo.top,u=d-1-e.padInfo.left,p=c*i*d-1;this.userCode=`\n      const ivec3 pads = ivec3(${f}, ${$}, ${u});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${c};\n           wD += ${r}) {\n          float dyD = float(dyDCorner + wD) / ${t}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${i};\n              wR += ${o}) {\n            float dyR = float(dyRCorner + wR) / ${a}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${d};\n                wC += ${s}) {\n              float dyC = float(dyCCorner + wC) / ${n}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ${p} -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ${i} * ${d} +\n                  wR * ${d} + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}function $ca619ffae9bc11b2$export$e68b9bef571dd4ea(e){const{inputs:t,backend:a,attrs:n}=e,{dy:r,input:o}=t,s=o,{filterSize:c,strides:i,pad:d,dimRoundingMode:f}=n,$=$c4c4d404109848b6$exports.computePool3DInfo(s.shape,c,i,[1,1,1],d,f),u=new $99413d750dd12542$export$a835a97097fdbb0f($,"max",!0),p=a.runWebGLProgram(u,[s],s.dtype),l=new $681f3b1d9e7bac97$export$ae61ae287bf9d719($),b=a.runWebGLProgram(l,[r,p],s.dtype);return a.disposeIntermediateTensorInfo(p),b}const $ca619ffae9bc11b2$export$5201426bb10bd5eb={kernelName:$0eb90ddf241a18bf$export$52be2c00371a1350,backendName:"webgl",kernelFunc:$ca619ffae9bc11b2$export$e68b9bef571dd4ea};function $193a3ee0017d55c8$export$85dfd1121f049514(e){const{inputs:t,backend:a,attrs:n}=e,{dy:r,input:o,output:s}=t,c=o;$540278e56fef35f8$export$1412c17b2531581a([o,s],"maxPoolGrad");const{filterSize:i,strides:d,pad:f,dimRoundingMode:$}=n,u=$c4c4d404109848b6$exports.computePool2DInfo(c.shape,i,d,1,f,$),p=new $99413d750dd12542$export$ddaa65439647a5ac(u,"max",!0),l=a.runWebGLProgram(p,[c],c.dtype),b=new $681f3b1d9e7bac97$export$ab6144ed51884dd(u),h=a.runWebGLProgram(b,[r,l],c.dtype);return a.disposeIntermediateTensorInfo(l),h}const $193a3ee0017d55c8$export$e01a7f8dbee29127={kernelName:$0eb90ddf241a18bf$export$f0f010b1d1db8a46,backendName:"webgl",kernelFunc:$193a3ee0017d55c8$export$85dfd1121f049514};function $9f95c42149441dea$export$3cc34964a47e7a3f(e,t,a,n){let r=new $99413d750dd12542$export$ddaa65439647a5ac(a,"max",!1);const o=n.runWebGLProgram(r,[e],"float32");r=new $99413d750dd12542$export$ddaa65439647a5ac(a,"max",!0,!0,t);return[o,n.runWebGLProgram(r,[e],"float32")]}const $2f2da996f5ec63a1$export$a069ee2247a7d1ce={kernelName:$0eb90ddf241a18bf$export$deac4b7497b4047f,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:a})=>{const{x:n}=e,{filterSize:r,strides:o,pad:s,includeBatchInIndex:c}=t,i=a;$5d5df9ecf1c80076$exports.assert(4===n.shape.length,(()=>`Error in maxPool: input must be rank 4 but got rank ${n.shape.length}.`));const d=[1,1];$5d5df9ecf1c80076$exports.assert($c4c4d404109848b6$exports.eitherStridesOrDilationsAreOne(o,d),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${d}'`));const f=$c4c4d404109848b6$exports.computePool2DInfo(n.shape,r,o,d,s),[$,u]=$9f95c42149441dea$export$3cc34964a47e7a3f(n,c,f,i);return[$,u]}};function $041070f991420391$export$320c6ab5e6e7bcef(e,t,a,n){const r=$5d5df9ecf1c80076$exports.sizeFromShape(t),o=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:e},attrs:{shape:[$5d5df9ecf1c80076$exports.sizeFromShape(e.shape)/r,r]},backend:n}),s=$bdf8e0cb34e96e91$export$533b26079ad0b4b(o,"float32","mean",n),c=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:s},attrs:{shape:a},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),c}const $59350d83abbb54f3$export$b934af0ccd0cdbe1={kernelName:$0eb90ddf241a18bf$export$1c2d59c4b681fbd8,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:a})=>{const{x:n}=e,{keepDims:r,axis:o}=t,s=a,c=n.shape.length,i=$5d5df9ecf1c80076$exports.parseAxisParam(o,n.shape);let d=i;const f=$c4c4d404109848b6$exports.getAxesPermutation(d,c),$=null!=f,u=s.shouldExecuteOnCPU([n]),p=[];let l=n;if($){if(u){const e=s.texData.get(l.dataId).values,t=new Array(c);for(let e=0;e<t.length;e++)t[e]=n.shape[f[e]];const a=$df118cc0d91a72de$export$a0105d4a7143676c(e,n.shape,n.dtype,f,t);l=s.makeTensorInfo(t,n.dtype);s.texData.get(l.dataId).values=a}else l=$f4245f2e77d00e64$export$986b9e65182e08d(n,f,s);p.push(l),d=$c4c4d404109848b6$exports.getInnerMostAxes(d.length,c)}$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("sum",d,c);const[b,h]=$c4c4d404109848b6$exports.computeOutAndReduceShapes(l.shape,d);let x=b;r&&(x=$c4c4d404109848b6$exports.expandShapeToKeepDim(b,i));const m=$041070f991420391$export$320c6ab5e6e7bcef(l,h,x,s);for(const e of p)s.disposeIntermediateTensorInfo(e);return m}};function $48fe3d1dc61e2528$export$96ec731ed4dcb222(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{axis:o,keepDims:s}=n,c=r.shape.length,i=$5d5df9ecf1c80076$exports.parseAxisParam(o,r.shape);let d=i;const f=$c4c4d404109848b6$exports.getAxesPermutation(d,c);let $=r;null!=f&&($=$9aea914380a219cc$export$9cb09a71b7d66923({inputs:{x:r},backend:a,attrs:{perm:f}}),d=$c4c4d404109848b6$exports.getInnerMostAxes(d.length,r.shape.length)),$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("min",d,c);const[u,p]=$c4c4d404109848b6$exports.computeOutAndReduceShapes($.shape,d),l=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:$},backend:a,attrs:{shape:[-1,$5d5df9ecf1c80076$exports.sizeFromShape(p)]}}),b=$bdf8e0cb34e96e91$export$533b26079ad0b4b(l,l.dtype,"min",a);let h;if(s){h=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:b},backend:a,attrs:{shape:$c4c4d404109848b6$exports.expandShapeToKeepDim(u,i)}})}else h=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:b},backend:a,attrs:{shape:u}});return a.disposeIntermediateTensorInfo(l),a.disposeIntermediateTensorInfo(b),null!=f&&a.disposeIntermediateTensorInfo($),h}const $48fe3d1dc61e2528$export$3cd9f9a31b38cf18={kernelName:$0eb90ddf241a18bf$export$dfed19fabc75a31d,backendName:"webgl",kernelFunc:$48fe3d1dc61e2528$export$96ec731ed4dcb222},$3bcb09f497d9d672$var$MINIMUM=$c6931e3cab81bc9a$export$39f0cca2b63399f6+"\n  return min(a, b);\n",$3bcb09f497d9d672$var$MINIMUM_PACKED="\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  "+$452eea476760f668$export$39f0cca2b63399f6+"\n  return result;\n",$3bcb09f497d9d672$export$916782c1f0ddb132=$52a8e902063fb185$export$29353c66e70e3e16({opSnippet:$3bcb09f497d9d672$var$MINIMUM,packedOpSnippet:$3bcb09f497d9d672$var$MINIMUM_PACKED,cpuKernelImpl:$df118cc0d91a72de$export$1f01be3f637863fa}),$3bcb09f497d9d672$export$ea24ffbbbce8d546={kernelName:$0eb90ddf241a18bf$export$23cb308301e89d6b,backendName:"webgl",kernelFunc:$3bcb09f497d9d672$export$916782c1f0ddb132};class $c1da93cfe6f9026a$export$284b676bb83fc2a7{constructor(e,t,a){this.variableNames=["x"],this.outputShape=t.map(((t,a)=>t[0]+e[a]+t[1]));const n=e.length,r=$80499140d90ba595$export$859efd105c10c755(n),o=t.map((e=>e[0])).join(","),s=t.map(((t,a)=>t[0]+e[a])).join(","),c=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,n),i="reflect"===a?0:1;this.userCode=1!==n?`\n      ${r} start = ${r}(${o});\n      ${r} end = ${r}(${s});\n\n      void main() {\n        ${r} outC = getOutputCoords();\n        for (int i = 0; i < ${n}; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ${i};\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ${i};\n          }\n        }\n        ${r} coords = outC - start;\n        setOutput(getX(${c}));\n      }\n    `:`\n        int start = ${o};\n        int end = ${s};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ${i};\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ${i};\n          }\n          setOutput(getX(outC - start));\n        }\n      `}}class $ae3f73357ea339f4$export$8b179cde16652b52{constructor(e,t,a){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(((t,a)=>t[0]+e[a]+t[1]));const n=e.length,r=$80499140d90ba595$export$859efd105c10c755(n),o=t.map((e=>e[0])).join(","),s=t.map(((t,a)=>t[0]+e[a])).join(","),c=$28418db865ebcd1b$export$7a4d1d0d17b69972("rc",n),i=$28418db865ebcd1b$export$7a4d1d0d17b69972("source",n),d=`${c[n-1]} < ${this.outputShape[n-1]}`,f=1===n?"source":`vec2(${i.slice(-2).join()})`,$="reflect"===a?0:1;let u="";if(1===n){const e=`\n        ${r} source = rc;\n        if (source < start) {\n          source = start * 2 - source - ${$};\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ${$};\n        }\n        source -= start;\n      `;u=`\n        ${r} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${i.join()}), ${f});\n        ${c[n-1]} += 1;\n        if(${d}) {\n          ${e}\n          result[1] = getChannel(getX(${i.join()}), ${f});\n        }\n      `}else{const e=`\n        ${r} source = rc;\n        ${r} lt = ${r}(lessThan(source, start));\n        ${r} gte = ${r}(greaterThanEqual(source, end));\n        ${r} orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ${$}) +\n                gte * ((end - 1) * 2 - source + ${$});\n        source -= start;\n      `;u=`\n        ${r} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${i.join()}), ${f});\n        ${c[n-1]} += 1;\n        if(${d}) {\n          ${e}\n          result[1] = getChannel(getX(${i.join()}), ${f});\n        }\n        rc = outputLoc;\n        ${c[n-2]} += 1;\n        if(${c[n-2]} < ${this.outputShape[n-2]}) {\n          ${e}\n          result[2] = getChannel(getX(${i.join()}), ${f});\n          ${c[n-1]} += 1;\n          if(${d}) {\n            ${e}\n            result[3] = getChannel(getX(${i.join()}), ${f});\n          }\n        }\n      `}this.userCode=`\n      const ${r} start = ${r}(${o});\n      const ${r} end = ${r}(${s});\n\n      void main() {\n        ${r} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${u}\n        setOutput(result);\n      }\n    `}}const $90fa76363dc8c4cf$export$cd4ff5cd9b95abe8=({inputs:e,backend:t,attrs:a})=>{const{x:n}=e,{paddings:r,mode:o}=a,s=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new $ae3f73357ea339f4$export$8b179cde16652b52(n.shape,r,o):new $c1da93cfe6f9026a$export$284b676bb83fc2a7(n.shape,r,o);return t.runWebGLProgram(s,[n],n.dtype)},$90fa76363dc8c4cf$export$2cfd6c6c7daeb5fc={kernelName:$0eb90ddf241a18bf$export$f4c0e95fd7fd31e5,backendName:"webgl",kernelFunc:$90fa76363dc8c4cf$export$cd4ff5cd9b95abe8},$fe078aab81f622f7$var$MOD="if (b == 0.0) return NAN;\n  return mod(a, b);",$fe078aab81f622f7$var$MOD_PACKED="\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  "+$452eea476760f668$export$39f0cca2b63399f6+"\n  return result;\n",$fe078aab81f622f7$export$842a2cf37af977e1=$52a8e902063fb185$export$29353c66e70e3e16({opSnippet:$fe078aab81f622f7$var$MOD,packedOpSnippet:$fe078aab81f622f7$var$MOD_PACKED}),$fe078aab81f622f7$export$9037685a81180a9c={kernelName:$0eb90ddf241a18bf$export$e4835a5e3f3674d5,backendName:"webgl",kernelFunc:$fe078aab81f622f7$export$842a2cf37af977e1};class $a7d7039ec8897e91$export$f8cda6c8ea4f2110{constructor(e,t,a){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,a],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ${t-1}; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(${t-1}));\n      }\n    `}}const $5e9e1e0ccee9a3fc$var$DIV="\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",$5e9e1e0ccee9a3fc$var$DIV_PACKED="\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",$5e9e1e0ccee9a3fc$export$f76766520aabd67=$52a8e902063fb185$export$29353c66e70e3e16({opSnippet:$5e9e1e0ccee9a3fc$var$DIV,packedOpSnippet:$5e9e1e0ccee9a3fc$var$DIV_PACKED,checkOutOfBounds:!0}),$5e9e1e0ccee9a3fc$export$15c5d6176b30b9a6={kernelName:$0eb90ddf241a18bf$export$b9880b86e1014bb8,backendName:"webgl",kernelFunc:$5e9e1e0ccee9a3fc$export$f76766520aabd67},$021f484e8f76acdb$var$SUB="return a - b;",$021f484e8f76acdb$export$f93b5905241a7cca=$52a8e902063fb185$export$29353c66e70e3e16({opSnippet:$021f484e8f76acdb$var$SUB,packedOpSnippet:$021f484e8f76acdb$var$SUB,supportsComplex:!0,cpuKernelImpl:$df118cc0d91a72de$export$be7474e96b733333}),$021f484e8f76acdb$export$5d068476dad60c4d={kernelName:$0eb90ddf241a18bf$export$d7a01e11500dfb6f,backendName:"webgl",kernelFunc:$021f484e8f76acdb$export$f93b5905241a7cca};function $6a3ed46e036ec236$export$e008137e76238601(e){const{inputs:t,backend:a,attrs:n}=e,{logits:r}=t,{dim:o}=n,s=$5d5df9ecf1c80076$exports.parseAxisParam([o],r.shape),c=$4e94fae75a0e27ea$export$8960430cfd85939f({inputs:{x:r},backend:a,attrs:{reductionIndices:s,keepDims:!1}}),i=$c4c4d404109848b6$exports.expandShapeToKeepDim(c.shape,s),d=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:c},backend:a,attrs:{shape:i}}),f=$021f484e8f76acdb$export$f93b5905241a7cca({inputs:{a:r,b:d},backend:a}),$=$24b9061ef42cd820$export$b310ec824aaee37f({inputs:{x:f},backend:a}),u=$458b4d5afd630183$export$8a63f25cc62965f1({inputs:{x:$},backend:a,attrs:{axis:s,keepDims:!1}}),p=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:u},backend:a,attrs:{shape:i}}),l=$5e9e1e0ccee9a3fc$export$f76766520aabd67({inputs:{a:$,b:p},backend:a});return a.disposeIntermediateTensorInfo(c),a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(f),a.disposeIntermediateTensorInfo($),a.disposeIntermediateTensorInfo(u),a.disposeIntermediateTensorInfo(p),l}const $6a3ed46e036ec236$export$c022691f23e2ee69={kernelName:$0eb90ddf241a18bf$export$350a526055d3ca6e,backendName:"webgl",kernelFunc:$6a3ed46e036ec236$export$e008137e76238601};function $5d4ba8369b08cb3e$export$f4d580f3101a1c7e(e){const{inputs:t,backend:a,attrs:n}=e,{logits:r}=t,{numSamples:o,seed:s,normalized:c}=n,i=c?r:$6a3ed46e036ec236$export$e008137e76238601({inputs:{logits:r},backend:a,attrs:{dim:r.shape.length-1}}),d=i.shape[0],f=i.shape[1],$=new $a7d7039ec8897e91$export$f8cda6c8ea4f2110(d,f,o),u=[[s]],p=a.runWebGLProgram($,[i],"int32",u);return c||a.disposeIntermediateTensorInfo(i),p}const $5d4ba8369b08cb3e$export$ad960e364767f0e2={kernelName:$0eb90ddf241a18bf$export$ee0a8cfb693e0e3f,backendName:"webgl",kernelFunc:$5d4ba8369b08cb3e$export$f4d580f3101a1c7e},$fd8ebdf3acec077f$var$NEG=$b50143a2030a9a53$export$39f0cca2b63399f6+"\n  return -x;\n",$fd8ebdf3acec077f$var$NEG_PACKED="\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n";function $fd8ebdf3acec077f$export$d9493ff0dfa0fdd5(e){const{inputs:t,backend:a}=e,{x:n}=t;if(a.shouldExecuteOnCPU([n])){const e=a.texData.get(n.dataId),[t,r]=$df118cc0d91a72de$export$1cbcde7624effb15(e.values,n.shape,n.dtype);return a.makeTensorInfo(r,n.dtype,t)}let r;return r=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new $76c09cc403ab00e4$export$4d8daca4f85ed73d(n.shape,$fd8ebdf3acec077f$var$NEG_PACKED):new $b50143a2030a9a53$export$f93811a5a466fd42(n.shape,$fd8ebdf3acec077f$var$NEG),a.runWebGLProgram(r,[n],n.dtype)}const $fd8ebdf3acec077f$export$cc7b18b8229c3db={kernelName:$0eb90ddf241a18bf$export$c07c549000872073,backendName:"webgl",kernelFunc:$fd8ebdf3acec077f$export$d9493ff0dfa0fdd5},$86af495d78df5ada$var$nonMaxSuppressionV3Impl=$97d6759176c7a39f$exports.nonMaxSuppressionV3Impl;function $86af495d78df5ada$export$8917e4bf7f7f5d42(e){$c4c4d404109848b6$exports.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:a,attrs:n}=e,{boxes:r,scores:o}=t,{maxOutputSize:s,iouThreshold:c,scoreThreshold:i}=n,d=a.readSync(r.dataId),f=a.readSync(o.dataId),{selectedIndices:$}=$86af495d78df5ada$var$nonMaxSuppressionV3Impl(d,f,s,c,i);return a.makeTensorInfo([$.length],"int32",new Int32Array($))}const $86af495d78df5ada$export$549561cd158f260a={kernelName:$0eb90ddf241a18bf$export$5e11788439c2f04,backendName:"webgl",kernelFunc:$86af495d78df5ada$export$8917e4bf7f7f5d42},$e071184b1db51e61$var$nonMaxSuppressionV4Impl=$97d6759176c7a39f$exports.nonMaxSuppressionV4Impl;function $e071184b1db51e61$export$ad519bdebe8f4dcf(e){$c4c4d404109848b6$exports.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:a,attrs:n}=e,{boxes:r,scores:o}=t,{maxOutputSize:s,iouThreshold:c,scoreThreshold:i,padToMaxOutputSize:d}=n,f=a.readSync(r.dataId),$=a.readSync(o.dataId),{selectedIndices:u,validOutputs:p}=$e071184b1db51e61$var$nonMaxSuppressionV4Impl(f,$,s,c,i,d);return[a.makeTensorInfo([u.length],"int32",new Int32Array(u)),a.makeTensorInfo([],"int32",new Int32Array([p]))]}const $e071184b1db51e61$export$906b8fb32c570e9d={kernelName:$0eb90ddf241a18bf$export$7df908154366fe7f,backendName:"webgl",kernelFunc:$e071184b1db51e61$export$ad519bdebe8f4dcf},$29314b879ddfc6ef$var$nonMaxSuppressionV5Impl=$97d6759176c7a39f$exports.nonMaxSuppressionV5Impl;function $29314b879ddfc6ef$export$49e389fdbe01a534(e){$c4c4d404109848b6$exports.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:a,attrs:n}=e,{boxes:r,scores:o}=t,{maxOutputSize:s,iouThreshold:c,scoreThreshold:i,softNmsSigma:d}=n,f=a.readSync(r.dataId),$=a.readSync(o.dataId),u=s,p=c,l=i,b=d,{selectedIndices:h,selectedScores:x}=$29314b879ddfc6ef$var$nonMaxSuppressionV5Impl(f,$,u,p,l,b);return[a.makeTensorInfo([h.length],"int32",new Int32Array(h)),a.makeTensorInfo([x.length],"float32",new Float32Array(x))]}const $29314b879ddfc6ef$export$4c00b682f309701d={kernelName:$0eb90ddf241a18bf$export$cb45d3fcefce2ef0,backendName:"webgl",kernelFunc:$29314b879ddfc6ef$export$49e389fdbe01a534};class $01c2fc118fa67b30$export$314e506cf5800fc5{constructor(e,t,a,n){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(${n}), float(${a}),\n                      float(index == coords.y)));\n      }\n    `}}const $e195a66093eaf91d$export$341b5490a776d041=e=>{const{inputs:t,backend:a,attrs:n}=e,{indices:r}=t,{depth:o,onValue:s,offValue:c}=n,i=$5d5df9ecf1c80076$exports.sizeFromShape(r.shape),d=new $01c2fc118fa67b30$export$314e506cf5800fc5(i,o,s,c),f=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:r},backend:a,attrs:{shape:[i]}}),$=a.runWebGLProgram(d,[f],r.dtype);a.disposeIntermediateTensorInfo(f);const u=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:$},backend:a,attrs:{shape:[...r.shape,o]}});return a.disposeIntermediateTensorInfo($),u},$e195a66093eaf91d$export$dde5645b472b80b2={kernelName:$0eb90ddf241a18bf$export$18982b43ba8c02e9,backendName:"webgl",kernelFunc:$e195a66093eaf91d$export$341b5490a776d041};function $bf84cec6f630299c$export$cb1f824e7733584d(e){const{inputs:t,backend:a}=e,{x:n}=t;if("complex64"===n.dtype){const e=$75eebacc4325f6c8$export$9fc57fb453bdbd67({inputs:{input:n},backend:a}),t=$bf84cec6f630299c$export$cb1f824e7733584d({inputs:{x:e},backend:a}),r=$1c7a26f4e16d0676$export$d78fab5778ab392b({inputs:{input:n},backend:a}),o=$bf84cec6f630299c$export$cb1f824e7733584d({inputs:{x:r},backend:a}),s=$f2c80ac6e68da386$export$83a0e34f1302825b({inputs:{real:t,imag:o},backend:a});return a.disposeIntermediateTensorInfo(e),a.disposeIntermediateTensorInfo(t),a.disposeIntermediateTensorInfo(r),a.disposeIntermediateTensorInfo(o),s}return $98a1beb87e149ba1$export$9563e054e6f787fb({attrs:{shape:n.shape,dtype:n.dtype,value:"string"===n.dtype?"":0},backend:a})}const $bf84cec6f630299c$export$15368df05c479e41={kernelName:$0eb90ddf241a18bf$export$430969a37eda1e88,backendName:"webgl",kernelFunc:$bf84cec6f630299c$export$cb1f824e7733584d};function $9733707a200b44fd$export$fb6afd6214fee9e9(e){const{inputs:t,backend:a}=e,{x:n}=t;if("string"===n.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===n.dtype){const e=$75eebacc4325f6c8$export$9fc57fb453bdbd67({inputs:{input:n},backend:a}),t=$9733707a200b44fd$export$fb6afd6214fee9e9({inputs:{x:e},backend:a}),r=$1c7a26f4e16d0676$export$d78fab5778ab392b({inputs:{input:n},backend:a}),o=$bf84cec6f630299c$export$cb1f824e7733584d({inputs:{x:r},backend:a}),s=$f2c80ac6e68da386$export$83a0e34f1302825b({inputs:{real:t,imag:o},backend:a});return a.disposeIntermediateTensorInfo(e),a.disposeIntermediateTensorInfo(t),a.disposeIntermediateTensorInfo(r),a.disposeIntermediateTensorInfo(o),s}return $98a1beb87e149ba1$export$9563e054e6f787fb({attrs:{shape:n.shape,dtype:n.dtype,value:1},backend:a})}const $9733707a200b44fd$export$d8d7015eb6ab37d0={kernelName:$0eb90ddf241a18bf$export$a2962e735c809d91,backendName:"webgl",kernelFunc:$9733707a200b44fd$export$fb6afd6214fee9e9};function $762ea755a2e2850d$export$2a703dbb0cb35339(e){const{inputs:t,backend:a,attrs:n}=e,{axis:r}=n;if(1===t.length)return $7696b29b8dc93b48$export$d660d8ed21f46635({inputs:{input:t[0]},backend:a,attrs:{dim:r}});const o=t[0].shape,s=t[0].dtype;t.forEach((e=>{$5d5df9ecf1c80076$exports.assertShapesMatch(o,e.shape,"All tensors passed to stack must have matching shapes"),$5d5df9ecf1c80076$exports.assert(s===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const c=[],i=$e4393aace784e89d$export$ee1b3e54f0441b22({inputs:t.map((e=>{const t=$7696b29b8dc93b48$export$d660d8ed21f46635({inputs:{input:e},backend:a,attrs:{dim:r}});return c.push(t),t})),backend:a,attrs:{axis:r}});return c.forEach((e=>a.disposeIntermediateTensorInfo(e))),i}const $762ea755a2e2850d$export$1645fa8803aa1f86={kernelName:$0eb90ddf241a18bf$export$c26f40b29201e5b7,backendName:"webgl",kernelFunc:$762ea755a2e2850d$export$2a703dbb0cb35339};class $f6dc6f02a03d740b$export$15f19b307ce21f0a{constructor(e,t,a){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,a)=>t[0]+e[a]+t[1]));const n=e.length,r=$80499140d90ba595$export$859efd105c10c755(n),o=t.map((e=>e[0])).join(","),s=t.map(((t,a)=>t[0]+e[a])).join(","),c=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,n);this.userCode=1!==n?`\n      ${r} start = ${r}(${o});\n      ${r} end = ${r}(${s});\n\n      void main() {\n        ${r} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ${r} coords = outC - start;\n          setOutput(getX(${c}));\n        }\n      }\n    `:`\n        int start = ${o};\n        int end = ${s};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `}}class $3850fbe65ba64dad$export$ed21e062cfba77c5{constructor(e,t,a){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,a)=>t[0]+e[a]+t[1]));const n=e.length,r=$80499140d90ba595$export$859efd105c10c755(n),o=t.map((e=>e[0])).join(","),s=t.map(((t,a)=>t[0]+e[a])).join(","),c=$28418db865ebcd1b$export$7a4d1d0d17b69972("rc",n),i=$28418db865ebcd1b$export$7a4d1d0d17b69972("source",n),d=`${c[n-1]} < ${this.outputShape[n-1]}`,f=1===n?"source":`vec2(${i.slice(-2).join()})`,$=[`${r} rc = outputLoc;`,`${c[n-1]} += 1;\n       if(${d}) {\n      `,1===n?"":`}\n       rc = outputLoc;\n       ${c[n-2]} += 1;\n       if(${c[n-2]} < ${this.outputShape[n-2]}) {`,1===n?"":`  ${c[n-1]} += 1;\n         if(${d}) {`],u=1===n?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let p="";for(let e=0,t=1===n?2:4;e<t;e++)p+=`\n        ${$[e]}\n        if (${u}) {\n          result[${e}] = float(value);\n        } else {\n          ${r} source = rc - start;\n          result[${e}] = getChannel(getX(${i.join()}), ${f});\n        }\n      `;p+=1===n?"} ":"}}",this.userCode=`\n      const ${r} start = ${r}(${o});\n      const ${r} end = ${r}(${s});\n\n      void main() {\n        ${r} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${p}\n        setOutput(result);\n      }\n    `}}const $7375fdb8c5f39b42$export$f676d6ad4f38bb89=e=>{const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{paddings:o,constantValue:s}=n;if(0===$5d5df9ecf1c80076$exports.sizeFromShape(r.shape)){return $98a1beb87e149ba1$export$9563e054e6f787fb({backend:a,attrs:{shape:o.map(((e,t)=>e[0]+r.shape[t]+e[1])),value:s,dtype:r.dtype}})}const c=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new $3850fbe65ba64dad$export$ed21e062cfba77c5(r.shape,o,s):new $f6dc6f02a03d740b$export$15f19b307ce21f0a(r.shape,o,s),i=[[s]];return a.runWebGLProgram(c,[r],r.dtype,i)},$7375fdb8c5f39b42$export$b0317e720bfd61fc={kernelName:$0eb90ddf241a18bf$export$5d47ba206577f0f2,backendName:"webgl",kernelFunc:$7375fdb8c5f39b42$export$f676d6ad4f38bb89},$7ad4bde32e3d1f21$var$POW="\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",$7ad4bde32e3d1f21$var$POW_PACKED="\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  "+$452eea476760f668$export$39f0cca2b63399f6+"\n  return result;\n",$7ad4bde32e3d1f21$export$9c297f60e22e3389=$52a8e902063fb185$export$29353c66e70e3e16({opSnippet:$7ad4bde32e3d1f21$var$POW,packedOpSnippet:$7ad4bde32e3d1f21$var$POW_PACKED}),$7ad4bde32e3d1f21$export$b823d49786719761={kernelName:$0eb90ddf241a18bf$export$ce28d653ec559ee,backendName:"webgl",kernelFunc:$7ad4bde32e3d1f21$export$9c297f60e22e3389};function $591306ef3131d1c5$export$5e143010dea16c85(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{axis:o,keepDims:s}=n,c=r.shape.length,i=[],d=$5d5df9ecf1c80076$exports.parseAxisParam(o,r.shape);let f=d;const $=$c4c4d404109848b6$exports.getAxesPermutation(f,c);let u,p=r;if(null!=$&&(p=$9aea914380a219cc$export$9cb09a71b7d66923({inputs:{x:r},backend:a,attrs:{perm:$}}),f=$c4c4d404109848b6$exports.getInnerMostAxes(f.length,c),i.push(p)),$c4c4d404109848b6$exports.assertAxesAreInnerMostDims("prod",f,c),a.shouldExecuteOnCPU([p])){const e=a.texData.get(p.dataId).values,{outVals:t,outShape:n,outDtype:r}=$df118cc0d91a72de$export$2d654219115cec80(p.shape,p.dtype,e,f);u=a.makeTensorInfo(n,r,t)}else{const[e,t]=$c4c4d404109848b6$exports.computeOutAndReduceShapes(p.shape,f),n=$5d5df9ecf1c80076$exports.sizeFromShape(t),o=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:p},backend:a,attrs:{shape:[-1,n]}}),s=$bdf8e0cb34e96e91$export$533b26079ad0b4b(o,$063ffdf621a4b072$export$3479b4fbed3c0d8d(r.dtype),"prod",a);u=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:s},backend:a,attrs:{shape:e}}),i.push(o),i.push(s)}if(s){i.push(u);const e=$c4c4d404109848b6$exports.expandShapeToKeepDim(u.shape,d);u=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:u},backend:a,attrs:{shape:e}})}return i.forEach((e=>a.disposeIntermediateTensorInfo(e))),u}const $591306ef3131d1c5$export$d556aa935cef5c0c={kernelName:$0eb90ddf241a18bf$export$b8a16d526a791fb0,backendName:"webgl",kernelFunc:$591306ef3131d1c5$export$5e143010dea16c85},$5fab99c5931ad906$export$d02631cccf789723=e=>{const{backend:t,attrs:a}=e,{start:n,stop:r,step:o,dtype:s}=a,c=$df118cc0d91a72de$export$fbee6deed7e76443(n,r,o,s);return t.makeTensorInfo([c.length],s,c)},$5fab99c5931ad906$export$361c4075706e31c2={kernelName:$0eb90ddf241a18bf$export$9a58ef0d7ad3278c,backendName:"webgl",kernelFunc:$5fab99c5931ad906$export$d02631cccf789723},$eb208064ef74eb67$var$RECIPROCAL="return 1.0 / x;",$eb208064ef74eb67$export$163bc8c839a1ac04=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$eb208064ef74eb67$var$RECIPROCAL}),$eb208064ef74eb67$export$412a6b66203fdf72={kernelName:$0eb90ddf241a18bf$export$c6e4a23ed5e0415b,backendName:"webgl",kernelFunc:$eb208064ef74eb67$export$163bc8c839a1ac04},$2bd8788179b82b06$var$RELU=$b50143a2030a9a53$export$39f0cca2b63399f6+"\n  return (x < 0.0) ? 0.0 : x;\n",$2bd8788179b82b06$var$RELU_PACKED="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",$2bd8788179b82b06$export$16d1e4612cc0139f=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$2bd8788179b82b06$var$RELU,packedOpSnippet:$2bd8788179b82b06$var$RELU_PACKED}),$2bd8788179b82b06$export$731f9199bde068eb={kernelName:$0eb90ddf241a18bf$export$9a6ff968bf961432,backendName:"webgl",kernelFunc:$2bd8788179b82b06$export$16d1e4612cc0139f},$4952ec268d997047$var$RELU6=$b50143a2030a9a53$export$39f0cca2b63399f6+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",$4952ec268d997047$var$RELU6_PACKED="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",$4952ec268d997047$export$4a62bcb95e9c44c4=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$4952ec268d997047$var$RELU6,packedOpSnippet:$4952ec268d997047$var$RELU6_PACKED}),$4952ec268d997047$export$92c30890ad649d53={kernelName:$0eb90ddf241a18bf$export$3be9e924f629054e,backendName:"webgl",kernelFunc:$4952ec268d997047$export$4a62bcb95e9c44c4};class $b2485ca05934dfc8$export$52b2ccd78b972549{constructor(e,t,a,n,r){this.variableNames=["A"],this.outputShape=[];const[o,s,c,i]=e;this.outputShape=[o,t,a,i];const d=[n&&t>1?s-1:s,n&&a>1?c-1:c],f=[n&&t>1?t-1:t,n&&a>1?a-1:a];let $;$=r?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${d[0]/f[0]},\n          ${d[1]/f[1]});\n      const vec2 inputShapeRC = vec2(${s}.0, ${c}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${$};\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `}}class $d658760b53efa9fa$export$b334a0f2524628a{constructor(e,t,a,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,s,c,i]=e;this.outputShape=[o,t,a,i];const d=[n&&t>1?s-1:s,n&&a>1?c-1:c],f=[n&&t>1?t-1:t,n&&a>1?a-1:a];let $;$=r?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${d[0]/f[0]},\n          ${d[1]/f[1]},\n          ${d[1]/f[1]});\n      const vec3 inputShapeRC = vec3(${s}.0, ${c}.0,\n                                     ${c}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${$};\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${i-1};\n        bool hasNextRow = coords.z < ${a-1};\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    `}}function $4b9bf7d38d53f64e$export$1f1cbc7da93d06a0(e){const{inputs:t,backend:a,attrs:n}=e,{images:r}=t,{alignCorners:o,halfPixelCenters:s,size:c}=n,[i,d]=c,f=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new $d658760b53efa9fa$export$b334a0f2524628a(r.shape,i,d,o,s):new $b2485ca05934dfc8$export$52b2ccd78b972549(r.shape,i,d,o,s);return a.runWebGLProgram(f,[r],"float32")}const $4b9bf7d38d53f64e$export$a37a56137abc1357={kernelName:$0eb90ddf241a18bf$export$24f2f15d869e0fd,backendName:"webgl",kernelFunc:$4b9bf7d38d53f64e$export$1f1cbc7da93d06a0};class $92b73e2b5b916c4d$export$dd552814323a3592{constructor(e,t,a){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,n,r]=t,[,o,s]=e,c=[a&&o>1?n-1:n,a&&s>1?r-1:r],i=[a&&o>1?o-1:o,a&&s>1?s-1:s],d=c[0]/i[0],f=c[1]/i[1],$=1/d,u=1/f,p=2*Math.ceil($)+2,l=2*Math.ceil(u)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${d});\n        const float widthScale = float(${f});\n\n        const float invHeightScale = float(${$});\n        const float invWidthScale = float(${u});\n\n        const int winHeight = int(${p});\n        const int winWidth = int(${l});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${o}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${s}) {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ${n-1}.0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ${r-1}.0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}function $329efa8b078472fd$export$8899506794ec394(e){const{inputs:t,backend:a,attrs:n}=e,{images:r,dy:o}=t,{alignCorners:s}=n,c=new $92b73e2b5b916c4d$export$dd552814323a3592(o.shape,r.shape,s);return a.runWebGLProgram(c,[o],o.dtype)}const $329efa8b078472fd$export$51f84ca614e84763={kernelName:$0eb90ddf241a18bf$export$2d3cf759f1538c13,backendName:"webgl",kernelFunc:$329efa8b078472fd$export$8899506794ec394};class $ebe91c4cffe4c2d7$export$2218952be90fb74a{constructor(e,t,a,n,r){this.variableNames=["A"],this.outputShape=[];const[o,s,c,i]=e;this.outputShape=[o,t,a,i];const d=[n&&t>1?s-1:s,n&&a>1?c-1:c],f=[n&&t>1?t-1:t,n&&a>1?a-1:a],$=n?"0.5":"0.0";let u;u=r?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${d[0]/f[0]},\n          ${d[1]/f[1]});\n      const vec2 inputShapeRC = vec2(${s}.0, ${c}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${u};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${$})));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    `}}class $4b53b326dc8f4c6f$export$a616f6d9a33abf84{constructor(e,t,a,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,s,c,i]=e;this.outputShape=[o,t,a,i];const d=[n&&t>1?s-1:s,n&&a>1?c-1:c],f=[n&&t>1?t-1:t,n&&a>1?a-1:a],$=n?"0.5":"0.0";let u;u=r?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${d[0]/f[0]},\n          ${d[1]/f[1]},\n          ${d[1]/f[1]});\n      const vec3 inputShapeRC = vec3(${s}.0, ${c}.0,\n                                     ${c}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${u};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${$})));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${i-1};\n        bool hasNextRow = coords.z < ${a-1};\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    `}}function $b9b77e8eafbd55ac$export$74a902ae74ac2560(e){const{inputs:t,backend:a,attrs:n}=e,{images:r}=t,{alignCorners:o,halfPixelCenters:s,size:c}=n,[i,d]=c,f=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new $4b53b326dc8f4c6f$export$a616f6d9a33abf84(r.shape,i,d,o,s):new $ebe91c4cffe4c2d7$export$2218952be90fb74a(r.shape,i,d,o,s);return a.runWebGLProgram(f,[r],r.dtype)}const $b9b77e8eafbd55ac$export$2b6a92caba113b89={kernelName:$0eb90ddf241a18bf$export$6c8d8ec26192bb18,backendName:"webgl",kernelFunc:$b9b77e8eafbd55ac$export$74a902ae74ac2560};class $3a03f4189021428d$export$b6671a84abe827c4{constructor(e,t,a){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,n,r]=t,[,o,s]=e,c=[a&&o>1?n-1:n,a&&s>1?r-1:r],i=[a&&o>1?o-1:o,a&&s>1?s-1:s],d=c[0]/i[0],f=c[1]/i[1],$=1/d,u=1/f,p=2*Math.ceil($)+2,l=2*Math.ceil(u)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${d});\n        const float widthScale = float(${f});\n\n        const float invHeightScale = float(${$});\n        const float invWidthScale = float(${u});\n\n        const int winHeight = int(${p});\n        const int winWidth = int(${l});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${o}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${s}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${c[0]}) *\n                (float(dyR) / float(${i[0]}));\n\n            float sourceFracCol =\n                float(${c[1]}) *\n                  (float(dyC) / float(${i[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${n}) - 1),\n                ${a} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${r}) - 1),\n                ${a} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}function $1db47ea5f987fdcb$export$2b75795f158f1b18(e){const{inputs:t,backend:a,attrs:n}=e,{images:r,dy:o}=t,{alignCorners:s}=n,c=new $3a03f4189021428d$export$b6671a84abe827c4(o.shape,r.shape,s);return a.runWebGLProgram(c,[o],o.dtype)}const $1db47ea5f987fdcb$export$2b08d810b5090fe1={kernelName:$0eb90ddf241a18bf$export$b84ac31c55aa023b,backendName:"webgl",kernelFunc:$1db47ea5f987fdcb$export$2b75795f158f1b18};class $7dc10db9a587c1f2$export$abc2effa29e77e92{constructor(e,t){this.variableNames=["x"];const a=e.length;if(a>4)throw new Error(`WebGL backend: Reverse of rank-${a} tensor is not yet supported`);if(this.outputShape=e,1===a)return void(this.userCode=`\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${e[0]} - coord - 1));\n        }\n      `);const n=e.map(((a,n)=>(a=>-1!==t.indexOf(a)&&1!==e[a]?`${e[a]} - coords[${a}] - 1`:`coords[${a}]`)(n))).join(","),r=$80499140d90ba595$export$859efd105c10c755(a);this.userCode=`\n      void main() {\n        ${r} coords = getOutputCoords();\n        setOutput(getX(${n}));\n      }\n    `}}class $227e883467949534$export$e427e51a4a356956{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const a=e.length;if(a>4)throw new Error(`WebGL backend: Reverse of rank-${a} tensor is not yet supported`);this.outputShape=e;const n=$28418db865ebcd1b$export$7a4d1d0d17b69972("rc",a),r=`${n[a-1]} + 1 < ${this.outputShape[a-1]}`,o=`${n[a-2]} + 1 < ${this.outputShape[a-2]}`,s=$80499140d90ba595$export$859efd105c10c755(a);var c;function i(a){const n=e.map(((n,r)=>function(a,n){return-1!==t.indexOf(a)&&1!==e[a]?`${e[a]} - ${n[a]} - 1`:`${n[a]}`}(r,a)));return`getChannel(getX(${n.join(",")}), vec2(${n.slice(-2).join(",")}))`}this.userCode=1===a?`\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(${e[0]} - rc - 1),\n            ${e[0]} - rc - 1);\n          if(${r}){\n              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),\n                ${e[0]} - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      `:`\n        void main() {\n          ${s} rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ${c=n.slice(),i(c)};\n          if(${r}){\n            result.g = ${function(e){return e[a-1]="("+e[a-1]+" + 1)",i(e)}(n.slice())};\n          }\n          if(${o}) {\n            result.b = ${function(e){return e[a-2]="("+e[a-2]+" + 1)",i(e)}(n.slice())};\n            if(${r}) {\n              result.a = ${function(e){return e[a-1]="("+e[a-1]+" + 1)",e[a-2]="("+e[a-2]+" + 1)",i(e)}(n.slice())};\n            }\n          }\n          setOutput(result);\n        }\n    `}}function $d2c59c753311805a$export$66c1ae025e96b4bc(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{dims:o}=n,s=r.shape.length,c=$5d5df9ecf1c80076$exports.parseAxisParam(o,r.shape);if(0===s)return $bd8da3cc2e13c171$export$f0954fd7d5368655({inputs:{x:r},backend:a});const i=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new $227e883467949534$export$e427e51a4a356956(r.shape,c):new $7dc10db9a587c1f2$export$abc2effa29e77e92(r.shape,c);return a.runWebGLProgram(i,[r],r.dtype)}const $d2c59c753311805a$export$cab6a4e8d2ed8e8d={kernelName:$0eb90ddf241a18bf$export$53c81f36b32e1bba,backendName:"webgl",kernelFunc:$d2c59c753311805a$export$66c1ae025e96b4bc};class $b5725a460f5ad74b$export$a37df1d4e69844e7{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const a=e[1],n=e[2];this.outputShape=e;let r="";r="number"==typeof t?`float outputValue = ${t.toFixed(2)};`:`\n        vec3 fill = vec3(${t.join(",")});\n        float outputValue = fill[coords[3]];`,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ${r}\n          if(coordX >= 0 && coordX < ${n} && coordY >= 0 && coordY < ${a}) {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const $7152e6834cf703c8$export$44ba8c83417ab668={kernelName:$0eb90ddf241a18bf$export$c5a44649815d1c3,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:a})=>{const{image:n}=e,{radians:r,fillValue:o,center:s}=t,c=a,i=new $b5725a460f5ad74b$export$a37df1d4e69844e7(n.shape,o),[d,f]=$c4c4d404109848b6$exports.getImageCenter(s,n.shape[1],n.shape[2]),$=[[d,f,Math.sin(r),Math.cos(r)]];return c.runWebGLProgram(i,[n],n.dtype,$)}},$5b2614f01fd65d8d$var$ROUND="\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n",$5b2614f01fd65d8d$export$2077e0241d6afd3c=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$5b2614f01fd65d8d$var$ROUND}),$5b2614f01fd65d8d$export$6c09e3291f636503={kernelName:$0eb90ddf241a18bf$export$c5ed3eef16c0612f,backendName:"webgl",kernelFunc:$5b2614f01fd65d8d$export$2077e0241d6afd3c},$23705f1a5f6b590b$var$RSQRT="return inversesqrt(x);",$23705f1a5f6b590b$export$1cc01d192953037e=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$23705f1a5f6b590b$var$RSQRT,cpuKernelImpl:$df118cc0d91a72de$export$431ccb02913a1aee}),$23705f1a5f6b590b$export$941104b789956ef6={kernelName:$0eb90ddf241a18bf$export$7cc53aa09f5f3a2d,backendName:"webgl",kernelFunc:$23705f1a5f6b590b$export$1cc01d192953037e};class $126422cd7a6e1d20$export$8d0317f5c5cbc1ac{constructor(e,t,a,n,r,o,s=!0){this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;const c=$80499140d90ba595$export$859efd105c10c755(r.length),i=$80499140d90ba595$export$859efd105c10c755(o.length);let d="";1===a?d="i":2===a&&(d="i, j");const f=`getIndices(${d})`;let $="";1===n?$="i":2===n&&($="i, coords[1]");const u=`getUpdates(${$})`,p=t>1?"strides[j]":"strides";this.userCode=`\n        ${c} strides = ${c}(${r});\n\n        void main() {\n          ${i} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${e}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${t}; j++) {\n              int index = round(${f});\n              flattenedIndex += index * ${p};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ${u};\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      `}}function $bd7b81355b119934$export$b6f42038a536d877(e){const{inputs:t,backend:a,attrs:n}=e,{indices:r,updates:o}=t,{shape:s}=n,{sliceRank:c,numUpdates:i,sliceSize:d,strides:f,outputSize:$}=$c4c4d404109848b6$exports.calculateShapes(o,r,s),u=[$/d,d];if(0===$)return a.makeTensorInfo(s,r.dtype);const p=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:r},backend:a,attrs:{shape:[i,c]}}),l=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:o},backend:a,attrs:{shape:[i,d]}}),b=a.makeTensorInfo([],"float32",new Float32Array([0])),h=new $126422cd7a6e1d20$export$8d0317f5c5cbc1ac(i,c,p.shape.length,l.shape.length,f,u),x=a.runWebGLProgram(h,[l,p,b],l.dtype),m=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:x},backend:a,attrs:{shape:s}});return a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(l),a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(b),m}const $bd7b81355b119934$export$573371744f044f5={kernelName:$0eb90ddf241a18bf$export$28eef6f0168af686,backendName:"webgl",kernelFunc:$bd7b81355b119934$export$b6f42038a536d877};class $a8119e0db7cab16d$export$845ed2d1f74ef297{constructor(e,t,a){let n,r;if(this.variableNames=["c","a","b"],this.outputShape=t,a>4)throw Error(`Where for rank ${a} is not yet supported`);if(1===a)r="resRC",n="resRC";else{const a=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],s=[];for(let n=0;n<t.length;n++)s.push(`${a[n]}`),n<e&&o.push(`${a[n]}`);n=o.join(),r=s.join()}const o=$80499140d90ba595$export$859efd105c10c755(a);this.userCode=`\n      void main() {\n        ${o} resRC = getOutputCoords();\n        float cVal = getC(${n});\n        if (cVal >= 1.0) {\n          setOutput(getA(${r}));\n        } else {\n          setOutput(getB(${r}));\n        }\n      }\n    `}}function $806ba802f7b41a00$export$2e6c959c16ff56b8(e){const{inputs:t,backend:a}=e,{condition:n,t:r,e:o}=t,s=new $a8119e0db7cab16d$export$845ed2d1f74ef297(n.shape.length,r.shape,r.shape.length);return a.runWebGLProgram(s,[n,r,o],$063ffdf621a4b072$export$7bcca02d1a156bdf(r.dtype,o.dtype))}const $806ba802f7b41a00$export$7ff911e710ee72fc={kernelName:$0eb90ddf241a18bf$export$ef9b1a59e592288f,backendName:"webgl",kernelFunc:$806ba802f7b41a00$export$2e6c959c16ff56b8},$c9811bf5ca70c421$var$SELU=`\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ${$c4c4d404109848b6$exports.SELU_SCALEALPHA};\n  float scale = ${$c4c4d404109848b6$exports.SELU_SCALE};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`,$c9811bf5ca70c421$export$a5f8240d9e99b438=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$c9811bf5ca70c421$var$SELU}),$c9811bf5ca70c421$export$8afc8558705c1a39={kernelName:$0eb90ddf241a18bf$export$6760d858e6f2594a,backendName:"webgl",kernelFunc:$c9811bf5ca70c421$export$a5f8240d9e99b438},$72aa99fb916575e6$var$SIGMOID=$52a8e902063fb185$export$bf39b1cb254b6187+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",$72aa99fb916575e6$var$SIGMOID_PACKED="\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",$72aa99fb916575e6$export$3b295495ca3cad7c=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$72aa99fb916575e6$var$SIGMOID,packedOpSnippet:$72aa99fb916575e6$var$SIGMOID_PACKED,cpuKernelImpl:$df118cc0d91a72de$export$9b816377c2ca1f1f}),$72aa99fb916575e6$export$195d1cf7c59f3ef={kernelName:$0eb90ddf241a18bf$export$fde18c826dda6b1b,backendName:"webgl",kernelFunc:$72aa99fb916575e6$export$3b295495ca3cad7c},$172166aebb0a4ece$var$SIGN="\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n",$172166aebb0a4ece$export$c5552dfdbc7cec71=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$172166aebb0a4ece$var$SIGN}),$172166aebb0a4ece$export$9c0fb3eb2124ceb7={kernelName:$0eb90ddf241a18bf$export$1db683ad541682f6,backendName:"webgl",kernelFunc:$172166aebb0a4ece$export$c5552dfdbc7cec71},$ea368921c1f273af$var$SIN=$52a8e902063fb185$export$bf39b1cb254b6187+"\n  return sin(x);\n",$ea368921c1f273af$export$5de3937cb4b592ed=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$ea368921c1f273af$var$SIN}),$ea368921c1f273af$export$d993ec4e5c253b66={kernelName:$0eb90ddf241a18bf$export$75be1b631f7687,backendName:"webgl",kernelFunc:$ea368921c1f273af$export$5de3937cb4b592ed},$f62c076f096ce4fe$var$SINH="\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n",$f62c076f096ce4fe$export$545004b505d7c555=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$f62c076f096ce4fe$var$SINH}),$f62c076f096ce4fe$export$b92766b47f18ac85={kernelName:$0eb90ddf241a18bf$export$b8c187376329d79b,backendName:"webgl",kernelFunc:$f62c076f096ce4fe$export$545004b505d7c555},$99d92d1b9ff9b59a$var$SOFTPLUS="\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n",$99d92d1b9ff9b59a$export$76aa560a8c2b0055=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$99d92d1b9ff9b59a$var$SOFTPLUS}),$99d92d1b9ff9b59a$export$d9bcfe553d12d9e3={kernelName:$0eb90ddf241a18bf$export$c5af433747f1fd0a,backendName:"webgl",kernelFunc:$99d92d1b9ff9b59a$export$76aa560a8c2b0055},$a7727a331ffa1060$export$effb9d7cae92012f=e=>{const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{blockShape:o,paddings:s}=n;$5d5df9ecf1c80076$exports.assert(r.shape.length<=4,(()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"));const c=o.reduce(((e,t)=>e*t)),i=[[0,0]];i.push(...s);for(let e=1+o.length;e<r.shape.length;++e)i.push([0,0]);const d=[],f=$7375fdb8c5f39b42$export$f676d6ad4f38bb89({inputs:{x:r},backend:a,attrs:{paddings:i,constantValue:0}}),$=$c4c4d404109848b6$exports.getReshaped(f.shape,o,c,!1),u=$c4c4d404109848b6$exports.getPermuted($.length,o.length,!1),p=$c4c4d404109848b6$exports.getReshapedPermuted(f.shape,o,c,!1),l=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:f},backend:a,attrs:{shape:$}}),b=$9aea914380a219cc$export$9cb09a71b7d66923({inputs:{x:l},backend:a,attrs:{perm:u}}),h=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:b},backend:a,attrs:{shape:p}});return d.push(f),d.push(l),d.push(b),d.forEach((e=>a.disposeIntermediateTensorInfo(e))),h},$a7727a331ffa1060$export$2f85417863d2050b={kernelName:$0eb90ddf241a18bf$export$f63ac5409312707c,backendName:"webgl",kernelFunc:$a7727a331ffa1060$export$effb9d7cae92012f};function $fa9499409930536a$export$c82a1904a15b5028(e){const{inputs:t,backend:a}=e,{indices:n,values:r,denseShape:o,defaultValue:s}=t;if(1!==o.shape.length)throw new Error(`Dense shape must be a vector, saw:\n         ${o.shape}`);if(2!==n.shape.length)throw new Error(`Indices must be a matrix, saw:\n         ${n.shape}`);if(1!==r.shape.length)throw new Error(`Values must be a vector, saw:\n         ${r.shape}`);if(0!==s.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${s.shape}`);const c=a.readSync(n.dataId),i=a.readSync(r.dataId),d=a.readSync(o.dataId),f=a.readSync(s.dataId)[0],[$,u,p,l,b]=$df118cc0d91a72de$export$6cee5fb970d08428(c,n.shape,n.dtype,i,r.dtype,d,f);return[a.makeTensorInfo(u,n.dtype,$),a.makeTensorInfo([u[0]],r.dtype,p),a.makeTensorInfo([l.length],"bool",new Uint8Array(l.map((e=>Number(e))))),a.makeTensorInfo([b.length],n.dtype,new Int32Array(b))]}const $fa9499409930536a$export$818286c593224d1a={kernelName:$0eb90ddf241a18bf$export$8f1933853a5c8cca,backendName:"webgl",kernelFunc:$fa9499409930536a$export$c82a1904a15b5028};function $b00fad2454bcdf07$export$1408c45865e11fc6(e){const{inputs:t,backend:a}=e,{inputIndices:n,inputShape:r,newShape:o}=t;if(2!==n.shape.length)throw new Error(`Input indices should be a matrix but received shape ${n.shape}`);if(1!==r.shape.length)throw new Error(`Input shape should be a vector but received shape ${r.shape}`);if(1!==o.shape.length)throw new Error(`Target shape should be a vector but received shape ${o.shape}`);const s=Array.from(a.readSync(r.dataId)),c=a.readSync(n.dataId),i=Array.from(a.readSync(o.dataId)),[d,f,$]=$df118cc0d91a72de$export$d17b3360054ff370(c,n.shape,n.dtype,s,i);return[a.makeTensorInfo(f,n.dtype,d),a.makeTensorInfo([$.length],o.dtype,new Int32Array($))]}const $b00fad2454bcdf07$export$eb106efc10374803={kernelName:$0eb90ddf241a18bf$export$f08f0dca44fa542,backendName:"webgl",kernelFunc:$b00fad2454bcdf07$export$1408c45865e11fc6};function $98b400a71eb69b19$export$dbc0c9096869d04e(e){const{inputs:t,backend:a}=e,{data:n,indices:r,segmentIds:o}=t;if(n.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n              ${r.shape}`);if(1!==o.shape.length)throw new Error(`Segment ids should be a vector but received shape\n              ${o.shape}`);const s=a.readSync(n.dataId),c=a.readSync(r.dataId),i=a.readSync(o.dataId),[d,f]=$df118cc0d91a72de$export$a503222c03b33888(s,n.shape,n.dtype,c,i,!0);return a.makeTensorInfo(f,n.dtype,d)}const $98b400a71eb69b19$export$51e7224ae14d7f78={kernelName:$0eb90ddf241a18bf$export$610b077aecc2447b,backendName:"webgl",kernelFunc:$98b400a71eb69b19$export$dbc0c9096869d04e};function $f9212820d61f9e31$export$2255ce53fc777865(e){const{inputs:t,backend:a}=e,{data:n,indices:r,segmentIds:o}=t;if(n.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n             ${r.shape}`);if(1!==o.shape.length)throw new Error(`Segment ids should be a vector but received shape\n             ${o.shape}`);const s=a.readSync(n.dataId),c=a.readSync(r.dataId),i=a.readSync(o.dataId),[d,f]=$df118cc0d91a72de$export$a503222c03b33888(s,n.shape,n.dtype,c,i);return a.makeTensorInfo(f,n.dtype,d)}const $f9212820d61f9e31$export$73fa0270f28b9555={kernelName:$0eb90ddf241a18bf$export$68351c28d7116b56,backendName:"webgl",kernelFunc:$f9212820d61f9e31$export$2255ce53fc777865};function $ebcce31972396c45$export$1be4b823dd1a3080(e){const{inputs:t,backend:a,attrs:n}=e,{sparseIndices:r,sparseValues:o,defaultValue:s}=t,{outputShape:c}=n,{sliceRank:i,numUpdates:d,strides:f,outputSize:$}=$c4c4d404109848b6$exports.calculateShapes(o,r,c),u=new $126422cd7a6e1d20$export$8d0317f5c5cbc1ac(d,i,r.shape.length,o.shape.length,f,[$,1],!1),p=a.runWebGLProgram(u,[o,r,s],o.dtype),l=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:p},backend:a,attrs:{shape:c}});return a.disposeIntermediateTensorInfo(p),l}const $ebcce31972396c45$export$7bc088f8ad44ef99={kernelName:$0eb90ddf241a18bf$export$2c426709a9332421,backendName:"webgl",kernelFunc:$ebcce31972396c45$export$1be4b823dd1a3080};function $a169c890299434a7$export$c0085d48b0a75d8f(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{numOrSizeSplits:o,axis:s}=n,c=$5d5df9ecf1c80076$exports.parseAxisParam(s,r.shape)[0],i=$c4c4d404109848b6$exports.prepareSplitSize(r,o,c),d=r.shape.length,f=new Array(d).fill(0),$=r.shape.slice();return i.map((e=>{const t=[...$];t[c]=e;const n=$4b9808982493bb56$export$58adb3bec8346d0f({inputs:{x:r},backend:a,attrs:{begin:f,size:t}});return f[c]+=e,n}))}const $a169c890299434a7$export$317be24be3af9ea0={kernelName:$0eb90ddf241a18bf$export$8dffabb4071f05aa,backendName:"webgl",kernelFunc:$a169c890299434a7$export$c0085d48b0a75d8f},$0a124144e63a722d$var$SQRT="return sqrt(x);",$0a124144e63a722d$export$eba8049fb5020b81=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$0a124144e63a722d$var$SQRT,packedOpSnippet:$0a124144e63a722d$var$SQRT,cpuKernelImpl:$df118cc0d91a72de$export$548a22b20eeaf85b}),$0a124144e63a722d$export$a592ba9268f10eeb={kernelName:$0eb90ddf241a18bf$export$21ab404ab9d512a6,backendName:"webgl",kernelFunc:$0a124144e63a722d$export$eba8049fb5020b81},$97c1f411feb9bf79$var$SQUARE="return x * x;",$97c1f411feb9bf79$export$dd4f28cef696bc7d=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$97c1f411feb9bf79$var$SQUARE}),$97c1f411feb9bf79$export$7c77bece4d51efc4={kernelName:$0eb90ddf241a18bf$export$b09fb900337259de,backendName:"webgl",kernelFunc:$97c1f411feb9bf79$export$dd4f28cef696bc7d},$93f0a6a27a18a2f2$var$SQUARED_DIFFERENCE="return (a - b) * (a - b);",$93f0a6a27a18a2f2$export$b178697fb6d0b37f=$52a8e902063fb185$export$29353c66e70e3e16({opSnippet:$93f0a6a27a18a2f2$var$SQUARED_DIFFERENCE,packedOpSnippet:$93f0a6a27a18a2f2$var$SQUARED_DIFFERENCE}),$93f0a6a27a18a2f2$export$9ed4691d69db8a43={kernelName:$0eb90ddf241a18bf$export$2f922d20d66089c6,backendName:"webgl",kernelFunc:$93f0a6a27a18a2f2$export$b178697fb6d0b37f};function $253d58517ec0ad1a$export$35d34bc0ed591a92({inputs:e,attrs:t,backend:a}){const{x:n}=e,r=$b50143a2030a9a53$export$39f0cca2b63399f6+`\n    return x > 0.0 ? 1.0 : float(${t.alpha});\n  `,o=new $b50143a2030a9a53$export$f93811a5a466fd42(n.shape,r);return a.runWebGLProgram(o,[n],n.dtype)}const $253d58517ec0ad1a$export$c42ffaf52eb2647={kernelName:$0eb90ddf241a18bf$export$fd55ce593607084a,backendName:"webgl",kernelFunc:$253d58517ec0ad1a$export$35d34bc0ed591a92};class $ef4675b108e6fc50$export$335c52ce94f359f6{constructor(e,t,a){this.variableNames=["x"],this.outputShape=a;const n=a.length,r=$80499140d90ba595$export$859efd105c10c755(a.length),o=$80499140d90ba595$export$859efd105c10c755(a.length);let s="";if(1===n)s="coords * strides + begin";else{let e=0;s=a.map(((t,n)=>(e++,1===a.length?`coords * strides[${n}] + begin[${n}]`:`coords[${e-1}] * strides[${n}] + begin[${n}]`))).join(",")}this.userCode=`\n      ${r} begin = ${r}(${e});\n      ${r} strides = ${r}(${t});\n\n      void main() {\n        ${o} coords = getOutputCoords();\n        setOutput(getX(${s}));\n      }\n    `}}function $fd0d0db6ec6131dc$export$4ae57224f3b0605c(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{begin:o,end:s,strides:c,beginMask:i,endMask:d,ellipsisMask:f,newAxisMask:$,shrinkAxisMask:u}=n,{finalShapeSparse:p,finalShape:l,isIdentity:b,sliceDim0:h,isSimpleSlice:x,begin:m,end:g,strides:v}=$6f2324169bf0e939$exports.sliceInfo(r.shape,o,s,c,i,d,f,$,u);let y;if(b)y=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:r},backend:a,attrs:{shape:l}});else if(h||x){$5d5df9ecf1c80076$exports.assert(r.shape.length>=1,(()=>`Input must have rank at least 1, got: ${r.shape.length}`));const e=$6f2324169bf0e939$exports.computeOutShape(m,g,v),t=$4b9808982493bb56$export$58adb3bec8346d0f({inputs:{x:r},backend:a,attrs:{begin:m,size:e}});y=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:t},backend:a,attrs:{shape:l}}),a.disposeIntermediateTensorInfo(t)}else{if(a.shouldExecuteOnCPU([r])){const e=a.readSync(r.dataId),t=$05a66951e325e00b$export$ab1029bcae9ddb4a(r.shape,r.dtype,e),n=$df118cc0d91a72de$export$efd4e188e5de0188(p,t,v,m);y=a.makeTensorInfo(l,r.dtype,n.values)}else{const e=new $ef4675b108e6fc50$export$335c52ce94f359f6(m,v,p);y=a.runWebGLProgram(e,[r],r.dtype)}}const w=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:y},backend:a,attrs:{shape:l}});return a.disposeIntermediateTensorInfo(y),w}const $fd0d0db6ec6131dc$export$81773633114187bd={kernelName:$0eb90ddf241a18bf$export$60c7f9ac271417a9,backendName:"webgl",kernelFunc:$fd0d0db6ec6131dc$export$4ae57224f3b0605c};function $c00e9bc59ae48f2f$export$3490514dcc63b044(e){const{inputs:t,backend:a,attrs:n}=e,{separator:r,nGramWidths:o,leftPad:s,rightPad:c,padWidth:i,preserveShortSequences:d}=n,{data:f,dataSplits:$}=t,u=a.readSync(f.dataId),p=a.readSync($.dataId),[l,b]=$df118cc0d91a72de$export$bb9e83cb65884ef3(u,p,r,o,s,c,i,d);return[a.makeTensorInfo([l.length],"string",l),a.makeTensorInfo($.shape,"int32",b)]}const $c00e9bc59ae48f2f$export$35e13284eed34c22={kernelName:$0eb90ddf241a18bf$export$11a7f4af7d96ad41,backendName:"webgl",kernelFunc:$c00e9bc59ae48f2f$export$3490514dcc63b044};function $7e7733d1826ae81c$export$aa7f8babb17e7672(e){const{inputs:t,backend:a,attrs:n}=e,{skipEmpty:r}=n,{input:o,delimiter:s}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");if(1!==o.shape.length)throw new Error(`Input must be a vector, got shape: ${o.shape}`);if(0!==s.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${s.shape}`);const c=a.readSync(o.dataId),i=a.readSync(s.dataId)[0],[d,f,$]=$df118cc0d91a72de$export$bb4b4a9a1db97dea(c,i,r),u=f.length;return[a.makeTensorInfo([u,2],"int32",d),a.makeTensorInfo([u],"string",f),a.makeTensorInfo([2],"int32",new Int32Array($))]}const $7e7733d1826ae81c$export$c51cbbd627a96532={kernelName:$0eb90ddf241a18bf$export$7e266f7223b9d396,backendName:"webgl",kernelFunc:$7e7733d1826ae81c$export$aa7f8babb17e7672};function $6ddf184d15ffb408$export$6195616d6fd0c848(e){const{inputs:t,backend:a,attrs:n}=e,{numBuckets:r}=n,{input:o}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const s=a.readSync(o.dataId),c=$df118cc0d91a72de$export$d7d8a9bba3df6e63(s,r);return a.makeTensorInfo(o.shape,"int32",c)}const $6ddf184d15ffb408$export$a88a78b2b233f507={kernelName:$0eb90ddf241a18bf$export$a5639899909bc8ae,backendName:"webgl",kernelFunc:$6ddf184d15ffb408$export$6195616d6fd0c848},$fdfe79ddc78f7700$var$TAN="return tan(x);",$fdfe79ddc78f7700$export$fcdd3b0b3246a325=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$fdfe79ddc78f7700$var$TAN}),$fdfe79ddc78f7700$export$97648844df7611f3={kernelName:$0eb90ddf241a18bf$export$115b2d5263ba5985,backendName:"webgl",kernelFunc:$fdfe79ddc78f7700$export$fcdd3b0b3246a325},$670a503af2a33908$var$TANH="\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n",$670a503af2a33908$export$7128670e45beef9a=$52a8e902063fb185$export$ba4daf5748026fba({opSnippet:$670a503af2a33908$var$TANH}),$670a503af2a33908$export$a2fc7de1a1e4eee0={kernelName:$0eb90ddf241a18bf$export$893b6e865e352c83,backendName:"webgl",kernelFunc:$670a503af2a33908$export$7128670e45beef9a};class $d2381a012a0a236e$export$215140f0ab19f420{constructor(e,t){this.variableNames=["A"];const a=new Array(e.length);for(let n=0;n<a.length;n++)a[n]=e[n]*t[n];this.outputShape=a,this.rank=a.length;const n=$80499140d90ba595$export$859efd105c10c755(this.rank),r=$d2381a012a0a236e$var$getSourceCoords(e);this.userCode=`\n      void main() {\n        ${n} resRC = getOutputCoords();\n        setOutput(getA(${r}));\n      }\n    `}}function $d2381a012a0a236e$var$getSourceCoords(e){const t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(1===t)return`imod(resRC, ${e[0]})`;const a=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],n=[];for(let t=0;t<e.length;t++)n.push(`imod(${a[t]}, ${e[t]})`);return n.join()}function $c4192ece1fedd37d$export$3c17558da18e4d75(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{reps:o}=n;if("string"===r.dtype||r.shape.length>5){const e=a.readSync(r.dataId),t="string"===r.dtype?e.map((e=>$5d5df9ecf1c80076$exports.decodeString(e))):e,n=$05a66951e325e00b$export$ab1029bcae9ddb4a(r.shape,r.dtype,t),s=$df118cc0d91a72de$export$349e02a266ab3131(n,o);return a.makeTensorInfo(s.shape,s.dtype,s.values)}const s=new $d2381a012a0a236e$export$215140f0ab19f420(r.shape,o);return a.runWebGLProgram(s,[r],r.dtype)}const $c4192ece1fedd37d$export$a5a9f8050ba7f41e={kernelName:$0eb90ddf241a18bf$export$235cb65c20ad2b7,backendName:"webgl",kernelFunc:$c4192ece1fedd37d$export$3c17558da18e4d75};class $9c7abe745217ca72$export$5ee54e3c81d6f6e7{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class $9c7abe745217ca72$export$c3fbf8b38d821ac9{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}function $e0b8ac26e5ffc2a5$var$disposeIntermediateTensorInfoOrNull(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function $e0b8ac26e5ffc2a5$var$roundUpToPow2(e){let t=1;for(;t<e;)t*=2;return t}function $e0b8ac26e5ffc2a5$export$7e641efc73a2d81(e){const{inputs:t,backend:a,attrs:n}=e,{x:r}=t,{k:o,sorted:s}=n,c=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),i=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),d=r.shape,f=d[d.length-1];if(a.shouldExecuteOnCPU([r])||f<c||o>i){const e=a.readSync(r.dataId),[t,n]=$df118cc0d91a72de$export$cc4aa6851cf96e2b(e,d,r.dtype,o,s);return[a.makeTensorInfo(t.shape,t.dtype,t.values),a.makeTensorInfo(n.shape,n.dtype,n.values)]}if(0===o)return d[d.length-1]=0,[a.makeTensorInfo(d,r.dtype,[]),a.makeTensorInfo(d,"int32",[])];if(1===f)return[r,$98a1beb87e149ba1$export$9563e054e6f787fb({attrs:{shape:d,dtype:"int32",value:0},backend:a})];const $=a.texData.get(r.dataId),u=null!==$&&$.isPacked,p=u?a.unpackTensor(r):r,l=$5d5df9ecf1c80076$exports.sizeFromShape(d)/f,b=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:p},attrs:{shape:[l,f]},backend:a});u&&$e0b8ac26e5ffc2a5$var$disposeIntermediateTensorInfoOrNull(a,p);const h=$e0b8ac26e5ffc2a5$var$roundUpToPow2(o),x=$e0b8ac26e5ffc2a5$var$roundUpToPow2(f);let m=null;const g=()=>null===m?[b,b]:[b,m],v=(e,t,n)=>{const r=g(),o=new $9c7abe745217ca72$export$5ee54e3c81d6f6e7(n),s=[[f],[null===m?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],c=m;m=a.runWebGLProgram(o,r,"int32",s),$e0b8ac26e5ffc2a5$var$disposeIntermediateTensorInfoOrNull(a,c)};for(let e=1;e<h;e*=2){const t=2*e;for(let a=e;a>=1;a/=2)v(t,a,[l,x])}for(let e=x;e>h;e/=2){const t=g(),n=new $9c7abe745217ca72$export$c3fbf8b38d821ac9([l,e/2]),r=[[f],[null===m?1:0],[h]],o=m;m=a.runWebGLProgram(n,t,"int32",r),$e0b8ac26e5ffc2a5$var$disposeIntermediateTensorInfoOrNull(a,o);const s=h/2,c=2*s;for(let e=s;e>=1;e/=2)v(c,e,m.shape)}let y=m;m=$4b9808982493bb56$export$58adb3bec8346d0f({inputs:{x:m},backend:a,attrs:{begin:0,size:[l,o]}}),$e0b8ac26e5ffc2a5$var$disposeIntermediateTensorInfoOrNull(a,y);let w=$f1c0752cdde010b6$export$3d75b4295ded9925({inputs:{x:b,indices:m},backend:a,attrs:{axis:1,batchDims:1}});$e0b8ac26e5ffc2a5$var$disposeIntermediateTensorInfoOrNull(a,b);const _=d.slice(0,-1);_.push(o),y=m,m=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:m},attrs:{shape:_},backend:a}),$e0b8ac26e5ffc2a5$var$disposeIntermediateTensorInfoOrNull(a,y);const I=w;return w=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:w},attrs:{shape:_},backend:a}),$e0b8ac26e5ffc2a5$var$disposeIntermediateTensorInfoOrNull(a,I),[w,m]}const $e0b8ac26e5ffc2a5$export$cffaee31213314ce={kernelName:$0eb90ddf241a18bf$export$c593cd1ea0d02ebd,backendName:"webgl",kernelFunc:$e0b8ac26e5ffc2a5$export$7e641efc73a2d81};class $bdcd9e8cbcefd8bb$export$c83a293baf8f269d{constructor(e,t,a,n,r,o){this.variableNames=["Image","Transforms"],this.outputShape=o;const s="nearest"===a?1:2;let c;switch(n){case"constant":default:c=1;break;case"reflect":c=2;break;case"wrap":c=3;break;case"nearest":c=4}this.userCode=`\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(${c} == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${c} == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${c} == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${t}) {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(${r});\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(${r});\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(${t}));\n                float mapY = mapCoord(inY, float(${e}));\n\n                if (${s} == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        `}}function $81ca05cb220df226$export$51186ad6e864892a(e){const{inputs:t,backend:a,attrs:n}=e,{image:r,transforms:o}=t,{interpolation:s,fillMode:c,fillValue:i,outputShape:d}=n,[f,$,u,p]=r.shape,[l,b]=null!=d?d:[$,u],h=new $bdcd9e8cbcefd8bb$export$c83a293baf8f269d($,u,s,c,i,[f,l,b,p]);return a.runWebGLProgram(h,[r,o],"float32")}const $81ca05cb220df226$export$1c7a3de6335954ed={kernelName:$0eb90ddf241a18bf$export$563a914cafbdc389,backendName:"webgl",kernelFunc:$81ca05cb220df226$export$51186ad6e864892a};function $6cfdf2e6dbdbe47a$export$7a5d5c156e7dc406(e){const{inputs:t,attrs:a,backend:n}=e,{axis:r}=a,{x:o}=t;$540278e56fef35f8$export$1412c17b2531581a(o,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const s=n.readSync(o.dataId),{outputValues:c,outputShape:i,indices:d}=$df118cc0d91a72de$export$c417de669ad2e148(s,r,o.shape,o.dtype);return[n.makeTensorInfo(i,o.dtype,c),n.makeTensorInfo([d.length],"int32",d)]}const $6cfdf2e6dbdbe47a$export$78cd70dcd092910e={kernelName:$0eb90ddf241a18bf$export$8e3adf126971a183,backendName:"webgl",kernelFunc:$6cfdf2e6dbdbe47a$export$7a5d5c156e7dc406};function $f89d9fab963b5e7d$export$417857010dc9287f(e){const{inputs:t,backend:a,attrs:n}=e,{value:r}=t;let{axis:o}=n;o<0&&(o+=r.shape.length);const s=r,c=s.shape.length,i=r.shape[o],d=new Array(c-1);let f=0;for(let e=0;e<c;e++)e!==o&&(d[f++]=s.shape[e]);const $=[],u=new Array(c).fill(0),p=s.shape.slice();p[o]=1;const l=new Array(i);for(let e=0;e<l.length;e++){u[o]=e;const t=$4b9808982493bb56$export$58adb3bec8346d0f({inputs:{x:s},backend:a,attrs:{begin:u,size:p}}),n=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:t},backend:a,attrs:{shape:d}});l[e]=n,$.push(t)}return $.forEach((e=>a.disposeIntermediateTensorInfo(e))),l}const $f89d9fab963b5e7d$export$d06292128cae50d6={kernelName:$0eb90ddf241a18bf$export$441ad6bfc5db8ab4,backendName:"webgl",kernelFunc:$f89d9fab963b5e7d$export$417857010dc9287f};class $2e14d6bfbfc8b527$export$543f739d986d05c3{constructor(e,t){this.variableNames=["x","segmentIds"];const a=e.windowSize,n=e.batchSize,r=e.inSize,o=e.numSegments,s=o*Math.ceil(r/a);this.outputShape=[n,s];const c=4*Math.floor(a/4),i=a%4,d="\n        sumValue += dot(values, segFilter);\n    ";let f="";r%a>0&&(f=`\n        if (inIdx < 0 || inIdx >= ${r}) {\n          return initializationValue;\n        }\n      `);let $="";r%a>0&&($=`\n        if (inIdx < 0 || inIdx >= ${r}) {\n          return -1.0;\n        }\n      `),this.userCode=`\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        ${f}\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ${$}\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ${o})) * float(${a}));\n        int currentSeg = int(mod(float(outIdx), float(${o})));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${c}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ${d}\n        }\n\n        int inIdx = inOffset + ${c};\n        if (${1===i}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ${d}\n        } else if (${2===i}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ${d}\n        } else if (${3===i}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ${d}\n        }\n        setOutput(sumValue);\n      }\n    `}}function $7cebc2159746a5c1$export$ba7c4d144d85a309(e){const{inputs:t,backend:a,attrs:n}=e,{x:r,segmentIds:o}=t,{numSegments:s}=n,c=r.shape.length,i=[];let d=0;const f=$c4c4d404109848b6$exports.getAxesPermutation([d],c);let $=r;null!=f&&($=$9aea914380a219cc$export$9cb09a71b7d66923({inputs:{x:r},backend:a,attrs:{perm:f}}),i.push($),d=$c4c4d404109848b6$exports.getInnerMostAxes(1,c)[0]);const u=$c4c4d404109848b6$exports.segment_util.computeOutShape($.shape,d,s),p=$5d5df9ecf1c80076$exports.sizeFromShape([$.shape[d]]),l=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:$},backend:a,attrs:{shape:[-1,p]}});i.push(l);const b=$063ffdf621a4b072$export$3479b4fbed3c0d8d(r.dtype),h=(e,t,n,r,o)=>{const s=e.shape[0],c=e.shape[1],d=$c4c4d404109848b6$exports.segment_util.segOpComputeOptimalWindowSize(c,o),f=new $2e14d6bfbfc8b527$export$543f739d986d05c3({windowSize:d,inSize:c,batchSize:s,numSegments:o},t),$=a.compileAndRun(f,[e,n],r);if(i.push($),$.shape[1]===o)return $;const u=$5fab99c5931ad906$export$d02631cccf789723({backend:a,attrs:{start:0,stop:o,step:1,dtype:"float32"}}),p=$c4192ece1fedd37d$export$3c17558da18e4d75({inputs:{x:u},backend:a,attrs:{reps:[c/d]}});i.push(u),i.push(p);return h($,t,p,r,o)},x=$a657ec5002bf637a$export$9eaad88cf88cee2b({inputs:{x:h(l,"unsortedSegmentSum",o,b,s)},backend:a,attrs:{shape:u}});let m=x;if(null!=f){i.push(x);const e=$c4c4d404109848b6$exports.getUndoAxesPermutation(f);m=$9aea914380a219cc$export$9cb09a71b7d66923({inputs:{x:m},backend:a,attrs:{perm:e}})}return i.forEach((e=>a.disposeIntermediateTensorInfo(e))),m}const $7cebc2159746a5c1$export$71e3626a4ca29968={kernelName:$0eb90ddf241a18bf$export$af810663cded5fe2,backendName:"webgl",kernelFunc:$7cebc2159746a5c1$export$ba7c4d144d85a309},$e725ec65616244d1$var$kernelConfigs=[$04cad3ea8d4e2dc1$export$f70d36da1c218f84,$6b54450112973d80$export$d66f48648b9d5ec7,$a96082cbb53d5d6d$export$255826ca70737275,$7349b5e59d6c5c11$export$3f520b71a56c9e70,$80e8768b21c6a111$export$b1f3a580afb68e4c,$2b5ddf20b25251a2$export$ff8000bc6f0313e1,$6a93e7470bd44fc0$export$4e3f081eb1a330fa,$037e9c3c665e6484$export$1a8ff634f2df3da6,$c4e20eead768c166$export$ec7419fc9ad0069e,$50264488190226d1$export$21836a5e5fa09eb4,$16e73b3203885bb9$export$de5cb0ef95dd6700,$f8555e331e8fbe29$export$20d424616c76166,$70ab348f0c0fb9cc$export$159d632e3ff13624,$a0813095de8da1ec$export$c53c7ab019edb8a0,$ba0288580d21e851$export$e9ce1ba75fc9b746,$4d8f0a7b62cb60e3$export$6c901824a23e6150,$7bcc054e05fe0dd1$export$5a9c81d240244392,$1f0ea56e827bf234$export$1eeb8780807d0508,$cc20591470607fa6$export$ac3f8709351ab225,$ced9e0a0e586382d$export$d0dd993198185538,$9f1e2fa9ea85d4c7$export$df2dc5c7a755e418,$ce28ef000c88ac2b$export$44e08e19f97e5513,$18be0b18012218c5$export$af9f0093738840fb,$517c25fd3603cdbe$export$8f7b2ec0c6f08fb2,$5136e31a37158c53$export$ac4d0f0f3927a8f3,$6ee083f79d1a8761$export$df387212b1898306,$9492c58028c7b0c5$export$f7ee8f07ce0ff4e1,$f2c80ac6e68da386$export$67917f7910d27fd8,$5779cdd5508c6f13$export$a4817d2978acc054,$e4393aace784e89d$export$c8cf96dae25282e5,$eb843d19a09e5d8e$export$4a39bf13b4378042,$a7d4f4a1de3bb334$export$7a95f55d2d2e7d24,$526d9a7476a0a421$export$19bbc19fff1ed26f,$19e25d5622646f57$export$1fe590fda0829040,$9c0571070f561399$export$6dce9169640850fa,$99bd2b1852dcb80d$export$cdcac766a3ef1744,$d98645fe5ce478b6$export$ff099a1da5235a7e,$aa43acecb8f4032b$export$c5824052b09ba0ed,$882c73936836e3b8$export$f7086edcf0050c7f,$66e0ad8bc8b08907$export$db50d81ed60c5a35,$ec40030936a2b4a5$export$2f6196f3316e7ed2,$e7adb1b3aec4ad24$export$88ba267b84334692,$3558828806793664$export$9c5b88dcb1d2008b,$f6d502e4d8ad8f42$export$240667804b7c390e,$98c4a6853021b7f7$export$30bc0ac3775583fc,$c0fa1c4c64b74ca4$export$55d12409e744bebe,$042d8728f45ccff1$export$56dc5d812a22748f,$66dee96079b82851$export$36d3c11f61a8891a,$fb3c1ac02c1dec33$export$40bbf341885a23b7,$7be9e9006cba6731$export$b990686634ee3cce,$a629049db1ddba29$export$59bb07dd04647a1d,$ba28df06087b8253$export$3c8bc3d8ee318217,$f0adcb0a7665f069$export$d044ffef16079bd,$24b9061ef42cd820$export$2fd7ea0fcf021f34,$7696b29b8dc93b48$export$86341ba0ce5d8e60,$842081bc1aa5721c$export$16db8a08b36f938,$a21a1f60702eee9d$export$a4d564e380763c78,$98a1beb87e149ba1$export$c953bf474b2bde62,$415de6113b18dcc5$export$c9ec83cb23304466,$f95cd1f8d1472558$export$7e9a0f96fa6bd01c,$0b41ef4576e13551$export$7eac933a0c7fd37f,$b51365c5fd188fcb$export$b22e14d614fc7178,$df1f08c37a93d043$export$5b64efa829ddf94e,$0a34d20ed8844edd$export$58481cc3409b412c,$8149ee31588a4ae0$export$d9700eb1c7f5c969,$f1c0752cdde010b6$export$b1bd3139c91d8765,$ee855cf792779f9f$export$8c4f7e92d92310f8,$f1f85d36f2b6a3b9$export$7a6926f9fcac24ca,$bd8da3cc2e13c171$export$c426d3942537ad84,$1cbb29500fbc43fe$export$dc267425bf21b465,$1c7a26f4e16d0676$export$ddfc128c2801add7,$be28df1cb3164f29$export$4d45c8f7b9ffdaf1,$a0ddf7e93e358d6b$export$bc383b82282e9b5a,$5a0a3acc2bdcacf0$export$d58ff790c765c1f0,$46cf96e229dbf880$export$aa04ab963fdf437f,$18dadd2f0ce9b560$export$8d4530ce8b6ffc3c,$07c8e8dc2030df0c$export$9f26bd257393dd8,$0f6d2eaed67e58cc$export$46b96f742c70959b,$2790847d2a56a311$export$a4ae1f00643ddd14,$52c7e4f19fa81c46$export$c458b9e5ba980198,$52ee86f70964e74b$export$257f1e82e69113fb,$ce3b83302fe289e5$export$68e2dd0840056271,$80fb8119e91624cc$export$ce04b6546987ef43,$7acbc8dd31ce6dd0$export$6fb124d5a6994734,$b6ae5bb1bf4d1bbd$export$99a62fc039d7aca0,$4e94fae75a0e27ea$export$7d79147246e312bb,$ee31de3dcb345861$export$45b97bdc342e72a2,$081056074f9ac811$export$45c8263b38f19e33,$823992e9477da082$export$91a8fc5da39ec855,$ca619ffae9bc11b2$export$5201426bb10bd5eb,$193a3ee0017d55c8$export$e01a7f8dbee29127,$2f2da996f5ec63a1$export$a069ee2247a7d1ce,$59350d83abbb54f3$export$b934af0ccd0cdbe1,$48fe3d1dc61e2528$export$3cd9f9a31b38cf18,$3bcb09f497d9d672$export$ea24ffbbbce8d546,$90fa76363dc8c4cf$export$2cfd6c6c7daeb5fc,$fe078aab81f622f7$export$9037685a81180a9c,$5d4ba8369b08cb3e$export$ad960e364767f0e2,$465e7ad7fdd76a1f$export$745576778aafee88,$fd8ebdf3acec077f$export$cc7b18b8229c3db,$86af495d78df5ada$export$549561cd158f260a,$e071184b1db51e61$export$906b8fb32c570e9d,$29314b879ddfc6ef$export$4c00b682f309701d,$cdb8370a92e0c0a2$export$d003d4d7e1500775,$e195a66093eaf91d$export$dde5645b472b80b2,$9733707a200b44fd$export$d8d7015eb6ab37d0,$762ea755a2e2850d$export$1645fa8803aa1f86,$7375fdb8c5f39b42$export$b0317e720bfd61fc,$7ad4bde32e3d1f21$export$b823d49786719761,$766650300a041c16$export$a5c4a9b694579636,$591306ef3131d1c5$export$d556aa935cef5c0c,$5fab99c5931ad906$export$361c4075706e31c2,$75eebacc4325f6c8$export$4b7bce57557ae68b,$5e9e1e0ccee9a3fc$export$15c5d6176b30b9a6,$eb208064ef74eb67$export$412a6b66203fdf72,$2bd8788179b82b06$export$731f9199bde068eb,$4952ec268d997047$export$92c30890ad649d53,$a657ec5002bf637a$export$cfa02e698602aca2,$4b9bf7d38d53f64e$export$a37a56137abc1357,$329efa8b078472fd$export$51f84ca614e84763,$b9b77e8eafbd55ac$export$2b6a92caba113b89,$1db47ea5f987fdcb$export$2b08d810b5090fe1,$d2c59c753311805a$export$cab6a4e8d2ed8e8d,$7152e6834cf703c8$export$44ba8c83417ab668,$5b2614f01fd65d8d$export$6c09e3291f636503,$23705f1a5f6b590b$export$941104b789956ef6,$bd7b81355b119934$export$573371744f044f5,$806ba802f7b41a00$export$7ff911e710ee72fc,$c9811bf5ca70c421$export$8afc8558705c1a39,$72aa99fb916575e6$export$195d1cf7c59f3ef,$172166aebb0a4ece$export$9c0fb3eb2124ceb7,$ea368921c1f273af$export$d993ec4e5c253b66,$f62c076f096ce4fe$export$b92766b47f18ac85,$4b9808982493bb56$export$8d8a1e11dd2cc6c4,$6a3ed46e036ec236$export$c022691f23e2ee69,$99d92d1b9ff9b59a$export$d9bcfe553d12d9e3,$a7727a331ffa1060$export$2f85417863d2050b,$fa9499409930536a$export$818286c593224d1a,$b00fad2454bcdf07$export$eb106efc10374803,$98b400a71eb69b19$export$51e7224ae14d7f78,$f9212820d61f9e31$export$73fa0270f28b9555,$ebcce31972396c45$export$7bc088f8ad44ef99,$a169c890299434a7$export$317be24be3af9ea0,$0a124144e63a722d$export$a592ba9268f10eeb,$97c1f411feb9bf79$export$7c77bece4d51efc4,$93f0a6a27a18a2f2$export$9ed4691d69db8a43,$253d58517ec0ad1a$export$c42ffaf52eb2647,$fd0d0db6ec6131dc$export$81773633114187bd,$c00e9bc59ae48f2f$export$35e13284eed34c22,$7e7733d1826ae81c$export$c51cbbd627a96532,$6ddf184d15ffb408$export$a88a78b2b233f507,$021f484e8f76acdb$export$5d068476dad60c4d,$458b4d5afd630183$export$47edea402251c258,$fdfe79ddc78f7700$export$97648844df7611f3,$670a503af2a33908$export$a2fc7de1a1e4eee0,$c4192ece1fedd37d$export$a5a9f8050ba7f41e,$e0b8ac26e5ffc2a5$export$cffaee31213314ce,$81ca05cb220df226$export$1c7a3de6335954ed,$9aea914380a219cc$export$895a002a39b774be,$6cfdf2e6dbdbe47a$export$78cd70dcd092910e,$f89d9fab963b5e7d$export$d06292128cae50d6,$7cebc2159746a5c1$export$71e3626a4ca29968,$bf84cec6f630299c$export$15368df05c479e41];for(const e of $e725ec65616244d1$var$kernelConfigs)$dd56e1b20444f968$export$f3f7c443f3a606e6(e);const $d31325ffea64bf93$var$ENV=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3();$d31325ffea64bf93$var$ENV.registerFlag("HAS_WEBGL",(()=>$d31325ffea64bf93$var$ENV.getNumber("WEBGL_VERSION")>0)),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_VERSION",(()=>$540278e56fef35f8$export$9232c111e2230c00(2)?2:$540278e56fef35f8$export$9232c111e2230c00(1)?1:0)),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(()=>!1)),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_BUFFER_SUPPORTED",(()=>2===$d31325ffea64bf93$var$ENV.get("WEBGL_VERSION"))),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_CPU_FORWARD",(()=>!0)),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_FORCE_F16_TEXTURES",(()=>!1)),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_PACK",(()=>$d31325ffea64bf93$var$ENV.getBool("HAS_WEBGL"))),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_PACK_NORMALIZATION",(()=>$d31325ffea64bf93$var$ENV.getBool("WEBGL_PACK"))),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_PACK_CLIP",(()=>$d31325ffea64bf93$var$ENV.getBool("WEBGL_PACK"))),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_PACK_DEPTHWISECONV",(()=>$d31325ffea64bf93$var$ENV.getBool("WEBGL_PACK"))),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(()=>$d31325ffea64bf93$var$ENV.getBool("WEBGL_PACK"))),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(()=>$d31325ffea64bf93$var$ENV.getBool("WEBGL_PACK"))),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(()=>$d31325ffea64bf93$var$ENV.getBool("WEBGL_PACK"))),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(()=>$d31325ffea64bf93$var$ENV.getBool("WEBGL_PACK"))),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_PACK_REDUCE",(()=>$d31325ffea64bf93$var$ENV.getBool("WEBGL_PACK"))),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_LAZILY_UNPACK",(()=>$d31325ffea64bf93$var$ENV.getBool("WEBGL_PACK"))),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_CONV_IM2COL",(()=>$d31325ffea64bf93$var$ENV.getBool("WEBGL_PACK"))),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(()=>$540278e56fef35f8$export$9dbf32263e41ec5($d31325ffea64bf93$var$ENV.getNumber("WEBGL_VERSION")))),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(()=>$540278e56fef35f8$export$ce91baf6aebded89($d31325ffea64bf93$var$ENV.getNumber("WEBGL_VERSION")))),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(()=>{const e=$d31325ffea64bf93$var$ENV.getNumber("WEBGL_VERSION");return 0===e?0:$540278e56fef35f8$export$8a49d28f4bb7b8a0(e)})),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(()=>$d31325ffea64bf93$var$ENV.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!$4344898573a8cf3b$exports.isMobile())),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(()=>$540278e56fef35f8$export$d571cb60e9b5ec74($d31325ffea64bf93$var$ENV.getNumber("WEBGL_VERSION")))),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(()=>!$d31325ffea64bf93$var$ENV.getBool("WEBGL_FORCE_F16_TEXTURES")&&$d31325ffea64bf93$var$ENV.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(()=>$540278e56fef35f8$export$9cd61c8662dbbc66($d31325ffea64bf93$var$ENV.getNumber("WEBGL_VERSION")))),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_FENCE_API_ENABLED",(()=>$540278e56fef35f8$export$77efcdc20b17e5f2($d31325ffea64bf93$var$ENV.getNumber("WEBGL_VERSION")))),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(()=>$d31325ffea64bf93$var$ENV.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0)),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(()=>-1),(e=>{if(e<0&&-1!==e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)})),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_FLUSH_THRESHOLD",(()=>$4344898573a8cf3b$exports.isMobile()?1:-1),(e=>{if(e<0&&-1!==e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)})),$d31325ffea64bf93$var$ENV.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(()=>128)),$d31325ffea64bf93$var$ENV.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(()=>!1)),$d31325ffea64bf93$var$ENV.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(()=>1e5)),$d31325ffea64bf93$var$ENV.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(()=>128));class $6e9a2a78cdef4974$export$f6ee51c6efbee026{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=$7a7191ee47308025$export$81d5c79efa1086f2.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=$fa9d8600b244c481$export$3ebf4a18d6319f7a();this.outputShape=e,this.enableShapeUniforms=$188d3dc4367e297d$export$5acc770fc06a0138(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?$f03ddf6569260af4$export$ae684ebb20c3e80c(["r","c","d"],e):$f03ddf6569260af4$export$53c37f67510642ce(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${t.output} = result;\n      }\n    `}}class $c27401cb5ab3d160$export$4434db41c70879cb{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=$7a7191ee47308025$export$81d5c79efa1086f2.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=$fa9d8600b244c481$export$3ebf4a18d6319f7a();this.outputShape=e,this.enableShapeUniforms=$188d3dc4367e297d$export$5acc770fc06a0138(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?$f03ddf6569260af4$export$ae684ebb20c3e80c(["r","c","d"],e):$f03ddf6569260af4$export$53c37f67510642ce(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${t.output} = result;\n      }\n    `}}class $1fa3fba0b4b1ed69$export$dae4f112167b5aac{constructor(e){this.variableNames=["A"],this.outTexUsage=$7a7191ee47308025$export$6bf4bd1b6beb0bfd.DOWNLOAD;const t=$fa9d8600b244c481$export$3ebf4a18d6319f7a();this.outputShape=e,this.userCode=`\n      ${$f03ddf6569260af4$export$2ac12a308a563905}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${t.output} = encode_float(x);\n      }\n    `}}class $95c546bc9f91f33d$export$97e262e8a4818e2e{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=$7a7191ee47308025$export$6bf4bd1b6beb0bfd.DOWNLOAD;const t=$fa9d8600b244c481$export$3ebf4a18d6319f7a();this.outputShape=e,this.userCode=`\n      ${$f03ddf6569260af4$export$2ac12a308a563905}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${t.output} = encode_float(x);\n      }\n    `}}class $3c64c65062dfbf96$export$b2e063313033aeab{constructor(e,t=!1){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const a=$fa9d8600b244c481$export$3ebf4a18d6319f7a();this.outputShape=e,this.enableShapeUniforms=$188d3dc4367e297d$export$5acc770fc06a0138(this.outputShape.length);let n="result";t&&(n="floor(result * 255. + 0.5)"),this.userCode=`\n      ${this.enableShapeUniforms?$f03ddf6569260af4$export$4ec1e3f6361de451():$f03ddf6569260af4$export$4c68558c71205a01(e)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / texShape[1];\n        int c = imod(flatIndex, texShape[1]);\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n        vec4 values = ${a.texture2D}(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ${a.output} = vec4(${n}, 0., 0., 0.);\n      }\n    `}}class $3cf0d87b2e22835f$export$3b3e6b1f67c8c4d5{constructor(e,t=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const a=$fa9d8600b244c481$export$3ebf4a18d6319f7a();this.outputShape=e,this.enableShapeUniforms=$188d3dc4367e297d$export$5acc770fc06a0138(this.outputShape.length);let n="",r="result";t&&(r="floor(result * 255. + 0.5)");for(let t=0;t<=1;t++)for(let r=0;r<=1;r++){const o=2*t+r;n+=`\n          localCoords = coords;\n          if(localCoords[2] + ${r} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {\n          localCoords[2] += ${r};\n          if (localCoords[1] + ${t} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {\n            localCoords[1] += ${t};\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ${a.texture2D}(A, uv);\n\n            if (offset == 0) {\n              result[${o}] = values[0];\n            } else if (offset == 1) {\n              result[${o}] = values[1];\n            } else if (offset == 2) {\n              result[${o}] = values[2];\n            } else {\n              result[${o}] = values[3];\n            }\n          }\n        }\n        `}this.userCode=`\n        ${this.enableShapeUniforms?$f03ddf6569260af4$export$4ec1e3f6361de451():$f03ddf6569260af4$export$4c68558c71205a01(e)}\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ${n}\n\n          ${a.output} = ${r};\n        }\n    `}}function $80ba07da72fbd214$export$4ca6704ce1875929(e){const t=$fa9d8600b244c481$export$3ebf4a18d6319f7a();return $540278e56fef35f8$export$4ca6704ce1875929(e,`${t.version}\n    precision highp float;\n    ${t.attribute} vec3 clipSpacePos;\n    ${t.attribute} vec2 uv;\n    ${t.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}function $80ba07da72fbd214$export$8ddd35f9c5bd5634(e){return $540278e56fef35f8$export$3871e1d1e28ac6cb(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function $80ba07da72fbd214$export$2be7df49658092d0(e){return $540278e56fef35f8$export$f9b26b97ca2b25e9(e,new Uint16Array([0,1,2,2,1,3]))}function $80ba07da72fbd214$var$createAndConfigureTexture(e,t,a,n,r,o){$540278e56fef35f8$export$3543950a45505554(t,a);const s=$540278e56fef35f8$export$37b981a8c575f415(e),c=e.TEXTURE_2D;return $540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bindTexture(c,s))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.texParameteri(c,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.texParameteri(c,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.texParameteri(c,e.TEXTURE_MIN_FILTER,e.NEAREST))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.texParameteri(c,e.TEXTURE_MAG_FILTER,e.NEAREST))),1===$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_VERSION")?$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.texImage2D(c,0,n,t,a,0,r,o,null))):$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.texStorage2D(c,1,n,t,a))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bindTexture(e.TEXTURE_2D,null))),{texture:s,texShape:[a,t]}}function $80ba07da72fbd214$export$46e83db9ed4a55ec(e){return e.internalFormatFloat}function $80ba07da72fbd214$export$b6545ebc87bceaba(e,t,a,n){const[r,o]=$7a7191ee47308025$export$95fb8493b25f77a4(t,a);return $80ba07da72fbd214$var$createAndConfigureTexture(e,r,o,$80ba07da72fbd214$export$46e83db9ed4a55ec(n),n.textureFormatFloat,e.FLOAT)}function $80ba07da72fbd214$export$c3c5df7eccaed480(e){return e.internalFormatHalfFloat}function $80ba07da72fbd214$export$3e231b7a052616c2(e,t,a,n){const[r,o]=$7a7191ee47308025$export$95fb8493b25f77a4(t,a);return $80ba07da72fbd214$var$createAndConfigureTexture(e,r,o,$80ba07da72fbd214$export$c3c5df7eccaed480(n),n.textureFormatFloat,n.textureTypeHalfFloat)}function $80ba07da72fbd214$export$ed62004e3546feef(e){return e.downloadTextureFormat}function $80ba07da72fbd214$export$23456bef7917c292(e,t,a,n){const[r,o]=$7a7191ee47308025$export$95fb8493b25f77a4(t,a);return $80ba07da72fbd214$var$createAndConfigureTexture(e,r,o,$80ba07da72fbd214$export$ed62004e3546feef(n),e.RGBA,e.UNSIGNED_BYTE)}function $80ba07da72fbd214$export$dcae4a9709a9d6(e){return e.internalFormatPackedFloat}function $80ba07da72fbd214$export$9edab265a05c8d3a(e,t,a,n){const[r,o]=$7a7191ee47308025$export$2754e02fa98f5582(t,a);return $80ba07da72fbd214$var$createAndConfigureTexture(e,r,o,$80ba07da72fbd214$export$dcae4a9709a9d6(n),e.RGBA,e.FLOAT)}function $80ba07da72fbd214$export$9b8d6c2b6b2037b0(e){return e.internalFormatPackedHalfFloat}function $80ba07da72fbd214$export$9c51ae7c3160b50c(e,t,a,n){const[r,o]=$7a7191ee47308025$export$2754e02fa98f5582(t,a);return $80ba07da72fbd214$var$createAndConfigureTexture(e,r,o,$80ba07da72fbd214$export$9b8d6c2b6b2037b0(n),e.RGBA,n.textureTypeHalfFloat)}function $80ba07da72fbd214$export$9080d84e4e2d38c9(e,t,a){$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,a)));return $540278e56fef35f8$export$4c858b3c953a013f(e,t,"clipSpacePos",a,3,20,0)&&$540278e56fef35f8$export$4c858b3c953a013f(e,t,"uv",a,2,20,12)}function $80ba07da72fbd214$export$fe948dd2858cae63(e,t,a,n,r,o){let s,c,i;$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),r instanceof Uint8Array?(s=new Uint8Array(a*n*4),c=e.UNSIGNED_BYTE,i=e.RGBA):(s=new Float32Array(a*n*4),c=e.FLOAT,i=o.internalFormatPackedFloat),s.set(r),2===$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_VERSION")?$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,a,n,e.RGBA,c,s))):$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.texImage2D(e.TEXTURE_2D,0,i,a,n,0,e.RGBA,c,s))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}function $80ba07da72fbd214$export$2d42c33b8625a8d7(e,t,a){$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),a.data instanceof Uint8Array?2===$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_VERSION")?$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,a.width,a.height,e.RGBA,e.UNSIGNED_BYTE,a.data))):$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a.width,a.height,0,e.RGBA,e.UNSIGNED_BYTE,a.data))):2===$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_VERSION")?$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,a))):$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,a))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}function $80ba07da72fbd214$export$2983fc3c819070e9(e,t,a,n){const r=e.createBuffer();$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,r)));const o=16*t*a;return $540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.readPixels(0,0,a,t,e.RGBA,e.FLOAT,0))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null))),r}function $80ba07da72fbd214$export$3d2780ea6b3027ca(e,t,a){const n=e,r=new Float32Array(a);return n.bindBuffer(n.PIXEL_PACK_BUFFER,t),n.getBufferSubData(n.PIXEL_PACK_BUFFER,0,r),n.bindBuffer(n.PIXEL_PACK_BUFFER,null),r}function $80ba07da72fbd214$export$6bc5a1ce24b8dc6c(e,t,a,n){const[r,o]=$7a7191ee47308025$export$95fb8493b25f77a4(t,a),s=new Uint8Array($7a7191ee47308025$export$9427543edb6e188a(t*a,4));return $540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.readPixels(0,0,r,o,n.downloadTextureFormat,e.UNSIGNED_BYTE,s))),new Float32Array(s.buffer)}function $80ba07da72fbd214$export$4fe1bc4caaf85c22(e,t,a,n,r,o,s,c){const i=e,d=new Float32Array($7a7191ee47308025$export$12d4e412f879b1d4(o,s));return i.bindBuffer(i.PIXEL_PACK_BUFFER,t),i.getBufferSubData(i.PIXEL_PACK_BUFFER,0,d),i.bindBuffer(i.PIXEL_PACK_BUFFER,null),d}function $80ba07da72fbd214$export$7287c6a301610ce2(e,t,a){const n=new Float32Array(t*a*4);return $540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.readPixels(0,0,a,t,e.RGBA,e.FLOAT,n))),n}class $a3a1b7ff88e2fd9b$export$fa7a74a0ce382ac5{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];const t=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,$78b97bd3b14a7841$export$4b8d5e1525955c68(t,e)):this.gl=$78b97bd3b14a7841$export$c7a808a518b9a146(t);let a="WEBGL_color_buffer_float";const n="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=$540278e56fef35f8$export$3a5e7a891790a26c(this.gl,e),$540278e56fef35f8$export$4f402f57c05c9ec3(this.gl,t))this.textureHalfFloatExtension=$540278e56fef35f8$export$3a5e7a891790a26c(this.gl,t);else if($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(a),$540278e56fef35f8$export$4f402f57c05c9ec3(this.gl,n))this.colorBufferHalfFloatExtension=$540278e56fef35f8$export$3a5e7a891790a26c(this.gl,n);else if($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(a="EXT_color_buffer_float",$540278e56fef35f8$export$4f402f57c05c9ec3(this.gl,a))this.colorBufferFloatExtension=this.gl.getExtension(a);else{if(!$540278e56fef35f8$export$4f402f57c05c9ec3(this.gl,n))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(n)}this.vertexBuffer=$80ba07da72fbd214$export$8ddd35f9c5bd5634(this.gl),this.indexBuffer=$80ba07da72fbd214$export$2be7df49658092d0(this.gl),this.framebuffer=$540278e56fef35f8$export$366d1e3e32f5a700(this.gl),this.textureConfig=$7a7191ee47308025$export$129d92ae6e74c416(this.gl,this.textureHalfFloatExtension)}get debug(){return $3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.finish())),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.deleteFramebuffer(this.framebuffer))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,null))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.deleteBuffer(this.indexBuffer))),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),$80ba07da72fbd214$export$b6545ebc87bceaba(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),$80ba07da72fbd214$export$3e231b7a052616c2(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),$80ba07da72fbd214$export$23456bef7917c292(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),$80ba07da72fbd214$export$2d42c33b8625a8d7(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,a,n){this.throwIfDisposed(),$80ba07da72fbd214$export$fe948dd2858cae63(this.gl,e,t,a,n,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),$80ba07da72fbd214$export$9c51ae7c3160b50c(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),$80ba07da72fbd214$export$9edab265a05c8d3a(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&($540278e56fef35f8$export$d3c809959a3c24fa(this.gl,this.framebuffer),this.outputTexture=null),$540278e56fef35f8$export$7642ac97981532b8(this.gl,(()=>this.gl.deleteTexture(e)))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,a){return this.downloadMatrixDriver(e,(()=>$80ba07da72fbd214$export$6bc5a1ce24b8dc6c(this.gl,t,a,this.textureConfig)))}downloadPackedMatrixFromBuffer(e,t,a,n,r,o){return $80ba07da72fbd214$export$4fe1bc4caaf85c22(this.gl,e,t,a,n,r,o,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return $80ba07da72fbd214$export$3d2780ea6b3027ca(this.gl,e,t)}createBufferFromTexture(e,t,a){this.bindTextureToFrameBuffer(e);const n=$80ba07da72fbd214$export$2983fc3c819070e9(this.gl,t,a,this.textureConfig);return this.unbindTextureToFrameBuffer(),n}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,a;if($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_FENCE_API_ENABLED")){const n=e,r=n.fenceSync(n.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),a=()=>{const e=n.clientWaitSync(r,0,0);return e===n.ALREADY_SIGNALED||e===n.CONDITION_SATISFIED},t=r}else $3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),a=()=>this.isQueryAvailable(t,$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):a=()=>!0;return{query:t,isFencePassed:a}}downloadMatrixFromPackedTexture(e,t,a){return this.downloadMatrixDriver(e,(()=>$80ba07da72fbd214$export$7287c6a301610ce2(this.gl,t,a)))}createProgram(e){this.throwIfDisposed();const t=this.gl;null==this.vertexShader&&(this.vertexShader=$80ba07da72fbd214$export$4ca6704ce1875929(t));const a=$540278e56fef35f8$export$327d24a04cd0dc17(t);return $540278e56fef35f8$export$7642ac97981532b8(t,(()=>t.attachShader(a,this.vertexShader))),$540278e56fef35f8$export$7642ac97981532b8(t,(()=>t.attachShader(a,e))),$540278e56fef35f8$export$d879afae78b531a5(t,a),this.debug&&$540278e56fef35f8$export$e2dfaf93681cde16(t,a),this.vertexAttrsAreBound||(this.setProgram(a),this.vertexAttrsAreBound=$80ba07da72fbd214$export$9080d84e4e2d38c9(t,this.program,this.vertexBuffer)),a}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&$540278e56fef35f8$export$7642ac97981532b8(this.gl,(()=>this.gl.deleteProgram(e)))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&$540278e56fef35f8$export$e2dfaf93681cde16(this.gl,this.program),$540278e56fef35f8$export$7642ac97981532b8(this.gl,(()=>this.gl.useProgram(e)))}getUniformLocation(e,t,a=!0){return this.throwIfDisposed(),a?$540278e56fef35f8$export$748cafa2cdf50d8(this.gl,e,t):$540278e56fef35f8$export$d27256445dd7e8dd(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),$540278e56fef35f8$export$7642ac97981532b8(this.gl,(()=>this.gl.getAttribLocation(e,t)))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,a){this.throwIfDisposed(),this.throwIfNoProgram(),$540278e56fef35f8$export$f9ffd997f3c8b98f(this.gl,e,t,a)}setOutputMatrixTexture(e,t,a){this.setOutputMatrixTextureDriver(e,a,t)}setOutputPackedMatrixTexture(e,t,a){this.throwIfDisposed();const[n,r]=$7a7191ee47308025$export$2754e02fa98f5582(t,a);this.setOutputMatrixTextureDriver(e,n,r)}setOutputMatrixWriteRegion(e,t,a,n){this.setOutputMatrixWriteRegionDriver(a,e,n,t)}setOutputPackedMatrixWriteRegion(e,t,a,n){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&$540278e56fef35f8$export$e2dfaf93681cde16(this.gl,this.program),$540278e56fef35f8$export$ca09b577525e6519(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;this.debug&&this.debugValidate(),$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),$540278e56fef35f8$export$7642ac97981532b8(this.gl,(()=>this.gl.finish()))}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=$540278e56fef35f8$export$3a5e7a891790a26c(this.gl,2===$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),a=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,a),a}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await $5d5df9ecf1c80076$exports.repeatedTry((()=>this.disposed||this.isQueryAvailable(e,$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))),this.getQueryTime(e,$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{const t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,a=this.getQueryTimerExtensionWebGL2(),n=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),n&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),a=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),a&&!this.disjoint}}pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=$a3a1b7ff88e2fd9b$export$4a09b41294052731(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||$5d5df9ecf1c80076$exports.repeatedTry((()=>(this.pollItems(),0===this.itemsToPoll.length)))}bindTextureToFrameBuffer(e){this.throwIfDisposed(),$540278e56fef35f8$export$4e154f0d71f19013(this.gl,e,this.framebuffer),this.debug&&$540278e56fef35f8$export$ca09b577525e6519(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?($540278e56fef35f8$export$4e154f0d71f19013(this.gl,this.outputTexture,this.framebuffer),this.debug&&$540278e56fef35f8$export$ca09b577525e6519(this.gl)):$540278e56fef35f8$export$d3c809959a3c24fa(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const a=t();return this.unbindTextureToFrameBuffer(),a}setOutputMatrixTextureDriver(e,t,a){this.throwIfDisposed();const n=this.gl;$540278e56fef35f8$export$4e154f0d71f19013(n,e,this.framebuffer),this.debug&&$540278e56fef35f8$export$ca09b577525e6519(n),this.outputTexture=e,$540278e56fef35f8$export$7642ac97981532b8(n,(()=>n.viewport(0,0,t,a))),$540278e56fef35f8$export$7642ac97981532b8(n,(()=>n.scissor(0,0,t,a)))}setOutputMatrixWriteRegionDriver(e,t,a,n){this.throwIfDisposed(),$540278e56fef35f8$export$7642ac97981532b8(this.gl,(()=>this.gl.scissor(e,t,a,n)))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}function $a3a1b7ff88e2fd9b$export$4a09b41294052731(e){let t=0;for(;t<e.length;++t){if(!e[t]())break}return t-1}class $703603782a16ffeb$export$5ebf74a9a135ce1d{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=$188d3dc4367e297d$export$5acc770fc06a0138(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=$28418db865ebcd1b$export$7a4d1d0d17b69972("rc",this.rank),t=$80499140d90ba595$export$859efd105c10c755(this.rank),a=this.getOutOfBoundsCondition(e),n=this.getSetup(e),r=this.getOutput(e);this.userCode=`\n        void main() {\n          ${t} rc = getOutputCoords();\n\n          if(${a}) {\n            setOutput(vec4(0));\n          } else {\n            ${n}\n\n            setOutput(vec4(${r}));\n          }\n        }\n      `}}getSourceCoordsArr(e){const t=[];for(let a=0;a<=1;a++)for(let n=0;n<=1;n++){let r=`${0===a?"r":"rp1"}, ${0===n?"c":"cp1"}`;for(let t=2;t<this.rank;t++)r=`${e[e.length-1-t]},`+r;t.push(r)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let t="";for(let a=this.rank-2;a<this.rank;a++)t+=`${e[a]} >= ${this.enableShapeUniforms?`outShape[${a}]`:this.outputShape[a]}`,a<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";const t=e.slice(-2),a=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],n=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`\n      int r = ${t[0]};\n      int c = ${t[1]};\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ${a};\n      bool rEdge = rp1 >= ${n};\n    `}getOutput(e){const t=this.getSourceCoordsArr(e);if(1===this.rank){return`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`}return`getA(${t[0]}),\n            cEdge ? 0. : getA(${t[1]}),\n            rEdge ? 0. : getA(${t[2]}),\n            rEdge || cEdge ? 0. : getA(${t[3]})`}}class $b18fea1a9b358819$export$337f59f8fd79d24f{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}acquireTexture(e,t,a){const n=$b18fea1a9b358819$var$getPhysicalFromLogicalTextureType(t,a),r=$b18fea1a9b358819$var$getKeyFromTextureShape(e,n,a);r in this.freeTextures||(this.freeTextures[r]=[]),r in this.usedTextures||(this.usedTextures[r]=[]);const o=$b18fea1a9b358819$export$66c19e55ce03e099(e,n,this.gpgpu.gl,this.gpgpu.textureConfig,a);if(this.freeTextures[r].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();const e=this.freeTextures[r].shift();return this.usedTextures[r].push(e),e}let s;return n===$7a7191ee47308025$export$bde70ab3692e385c.PACKED_2X2_FLOAT32?s=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):n===$7a7191ee47308025$export$bde70ab3692e385c.PACKED_2X2_FLOAT16?s=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):n===$7a7191ee47308025$export$bde70ab3692e385c.UNPACKED_FLOAT32?s=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):n===$7a7191ee47308025$export$bde70ab3692e385c.UNPACKED_FLOAT16?s=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):n===$7a7191ee47308025$export$bde70ab3692e385c.PACKED_4X1_UNSIGNED_BYTE&&(s=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[r].push(s),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),s}releaseTexture(e,t,a,n){if(null==this.freeTextures)return;const r=$b18fea1a9b358819$var$getPhysicalFromLogicalTextureType(a,n),o=$b18fea1a9b358819$var$getKeyFromTextureShape(t,r,n);o in this.freeTextures||(this.freeTextures[o]=[]);const s=$b18fea1a9b358819$export$66c19e55ce03e099(t,r,this.gpgpu.gl,this.gpgpu.textureConfig,n),c=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==c&&this._numBytesAllocated>c?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=s):(this.freeTextures[o].push(e),this.numFreeTextures++,this._numBytesFree+=s),this.numUsedTextures--;const i=this.usedTextures[o],d=i.indexOf(e);if(d<0)throw new Error("Cannot release a texture that was never provided by this texture manager");i.splice(d,1),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const t=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*t)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));for(const e in this.usedTextures)this.usedTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function $b18fea1a9b358819$var$numBytesForInternalFormat(e,t){const a=e;if(t===a.R32F)return 4;if(t===a.R16F)return 2;if(t===a.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===a.RGBA16F)return 8;if(t===a.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}function $b18fea1a9b358819$export$66c19e55ce03e099(e,t,a,n,r){const o=$b18fea1a9b358819$var$internalFormatForPhysicalTexType(t,n);let s;if(r){const[t,a]=$7a7191ee47308025$export$2754e02fa98f5582(e[0],e[1]);s=t*a}else{const[t,a]=$7a7191ee47308025$export$95fb8493b25f77a4(e[0],e[1]);s=t*a}return s*$b18fea1a9b358819$var$numBytesForInternalFormat(a,o)}function $b18fea1a9b358819$var$internalFormatForPhysicalTexType(e,t){switch(e){case $7a7191ee47308025$export$bde70ab3692e385c.PACKED_2X2_FLOAT32:return $80ba07da72fbd214$export$dcae4a9709a9d6(t);case $7a7191ee47308025$export$bde70ab3692e385c.PACKED_2X2_FLOAT16:return $80ba07da72fbd214$export$9b8d6c2b6b2037b0(t);case $7a7191ee47308025$export$bde70ab3692e385c.UNPACKED_FLOAT32:return $80ba07da72fbd214$export$46e83db9ed4a55ec(t);case $7a7191ee47308025$export$bde70ab3692e385c.UNPACKED_FLOAT16:return $80ba07da72fbd214$export$c3c5df7eccaed480(t);case $7a7191ee47308025$export$bde70ab3692e385c.PACKED_4X1_UNSIGNED_BYTE:return $80ba07da72fbd214$export$ed62004e3546feef(t);default:throw new Error(`Unknown physical texture type ${e}`)}}function $b18fea1a9b358819$var$getPhysicalTextureForRendering(e){return $3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?$7a7191ee47308025$export$bde70ab3692e385c.PACKED_2X2_FLOAT32:$7a7191ee47308025$export$bde70ab3692e385c.UNPACKED_FLOAT32:e?$7a7191ee47308025$export$bde70ab3692e385c.PACKED_2X2_FLOAT16:$7a7191ee47308025$export$bde70ab3692e385c.UNPACKED_FLOAT16}function $b18fea1a9b358819$var$getPhysicalFromLogicalTextureType(e,t){if(e===$7a7191ee47308025$export$6bf4bd1b6beb0bfd.UPLOAD)return $7a7191ee47308025$export$bde70ab3692e385c.PACKED_2X2_FLOAT32;if(e===$7a7191ee47308025$export$6bf4bd1b6beb0bfd.RENDER||null==e)return $b18fea1a9b358819$var$getPhysicalTextureForRendering(t);if(e===$7a7191ee47308025$export$6bf4bd1b6beb0bfd.DOWNLOAD||e===$7a7191ee47308025$export$6bf4bd1b6beb0bfd.PIXELS)return $7a7191ee47308025$export$bde70ab3692e385c.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function $b18fea1a9b358819$var$getKeyFromTextureShape(e,t,a){return`${e[0]}_${e[1]}_${t}_${a}`}class $ad8d4be6b28cd50c$export$c457dd67217cb5eb{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=$188d3dc4367e297d$export$5acc770fc06a0138(this.outputShape.length);const t=e.length,a=$28418db865ebcd1b$export$7a4d1d0d17b69972("rc",t),n=$80499140d90ba595$export$859efd105c10c755(t),r=$28418db865ebcd1b$export$8f96407d418c6727(t,a),o=a.slice(-2),s=t<=1?"rc":`vec2(${o.join(",")})`;this.userCode=`\n      void main() {\n        ${n} rc = getOutputCoords();\n        vec4 packedInput = getA(${r});\n\n        setOutput(getChannel(packedInput, ${s}));\n      }\n    `}}const $d37ddc5e8d6b8536$var$whereImpl=$97d6759176c7a39f$exports.whereImpl,$d37ddc5e8d6b8536$export$76e53a66c52b6d4d=1e-7,$d37ddc5e8d6b8536$export$49716d145771e6a2=1e-4,$d37ddc5e8d6b8536$var$binaryCaches={};function $d37ddc5e8d6b8536$export$5863a14c5c829662(e){return e in $d37ddc5e8d6b8536$var$binaryCaches||($d37ddc5e8d6b8536$var$binaryCaches[e]={}),$d37ddc5e8d6b8536$var$binaryCaches[e]}const $d37ddc5e8d6b8536$var$CPU_HANDOFF_SIZE_THRESHOLD=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),$d37ddc5e8d6b8536$var$BEFORE_PAGING_CONSTANT=600;function $d37ddc5e8d6b8536$var$numMBBeforeWarning(){return null==$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().global.screen?1024:$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().global.screen.height*$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().global.screen.width*window.devicePixelRatio*$d37ddc5e8d6b8536$var$BEFORE_PAGING_CONSTANT/1024/1024}class $d37ddc5e8d6b8536$export$33567d88bc7c6249 extends $ac24014badd54b1e$export$543916c62202b50a{constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(null!=e){if(e instanceof $a3a1b7ff88e2fd9b$export$fa7a74a0ce382ac5)t=e;else{const a=$78b97bd3b14a7841$export$c7a808a518b9a146($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_VERSION"),e);t=new $a3a1b7ff88e2fd9b$export$fa7a74a0ce382ac5(a)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const e=$78b97bd3b14a7841$export$c7a808a518b9a146($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_VERSION"));t=new $a3a1b7ff88e2fd9b$export$fa7a74a0ce382ac5(e),this.binaryCache=$d37ddc5e8d6b8536$export$5863a14c5c829662($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new $b18fea1a9b358819$export$337f59f8fd79d24f(this.gpgpu),this.numMBBeforeWarning=$d37ddc5e8d6b8536$var$numMBBeforeWarning(),this.texData=new $ac24014badd54b1e$export$e95767ffe2e60cec(this,$2f175fd57ae81f5b$export$d3c662a6136faebb())}nextDataId(){return $d37ddc5e8d6b8536$export$33567d88bc7c6249.nextDataId++}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}write(e,t,a){if(($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===a&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const n={id:this.nextDataId()};return this.texData.set(n,{shape:t,dtype:a,values:e,usage:$7a7191ee47308025$export$6bf4bd1b6beb0bfd.UPLOAD,refCount:1}),n}refCount(e){if(this.texData.has(e)){return this.texData.get(e).refCount}return 0}incRef(e){this.texData.get(e).refCount++}decRef(e){if(this.texData.has(e)){this.texData.get(e).refCount--}}move(e,t,a,n,r){if($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===n)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:a,dtype:n,values:t,usage:$7a7191ee47308025$export$6bf4bd1b6beb0bfd.UPLOAD,refCount:r})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const t=this.texData.get(e),{values:a,dtype:n,complexTensorInfos:r,slice:o,shape:s,isPacked:c}=t;if(null!=o){let t;t=c?new $76c09cc403ab00e4$export$4d8daca4f85ed73d(s,$b50143a2030a9a53$export$c07b68c109124fe2):new $b50143a2030a9a53$export$f93811a5a466fd42(s,$b50143a2030a9a53$export$c07b68c109124fe2);const a=this.runWebGLProgram(t,[{dataId:e,shape:s,dtype:n}],n),r=this.readSync(a.dataId);return this.disposeIntermediateTensorInfo(a),r}if(null!=a)return this.convertAndCacheOnCPU(e);if("string"===n)return a;const i=null!=this.activeTimers;let d,f;if(i&&(d=$5d5df9ecf1c80076$exports.now()),"complex64"===n){const e=this.readSync(r.real.dataId),t=this.readSync(r.imag.dataId);f=$c4c4d404109848b6$exports.mergeRealAndImagArrays(e,t)}else f=this.getValuesFromTexture(e);return i&&(this.downloadWaitMs+=$5d5df9ecf1c80076$exports.now()-d),this.convertAndCacheOnCPU(e,f)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise((e=>t.push(e)))}const t=this.texData.get(e),{values:a,shape:n,slice:r,dtype:o,complexTensorInfos:s,isPacked:c}=t;if(null!=r){let t;t=c?new $76c09cc403ab00e4$export$4d8daca4f85ed73d(n,$b50143a2030a9a53$export$c07b68c109124fe2):new $b50143a2030a9a53$export$f93811a5a466fd42(n,$b50143a2030a9a53$export$c07b68c109124fe2);const a=this.runWebGLProgram(t,[{dataId:e,shape:n,dtype:o}],o),r=this.read(a.dataId);return this.disposeIntermediateTensorInfo(a),r}if(null!=a)return this.convertAndCacheOnCPU(e);if($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("DEBUG")&&!$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let i,d,f=null;if("complex64"!==o&&$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().get("WEBGL_BUFFER_SUPPORTED")){i=this.decode(e);const t=this.texData.get(i.dataId);f=this.gpgpu.createBufferFromTexture(t.texture.texture,...$7a7191ee47308025$export$2cc7cc972aa2533d(n))}if(this.pendingRead.set(e,[]),"complex64"!==o&&await this.gpgpu.createAndWaitForFence(),"complex64"===o){const e=await Promise.all([this.read(s.real.dataId),this.read(s.imag.dataId)]),t=e[0],a=e[1];d=$c4c4d404109848b6$exports.mergeRealAndImagArrays(t,a)}else if(null==f)d=this.getValuesFromTexture(e);else{const e=$5d5df9ecf1c80076$exports.sizeFromShape(n);d=this.gpgpu.downloadFloat32MatrixFromBuffer(f,e)}if(null!=i&&this.disposeIntermediateTensorInfo(i),null!=f){const e=this.gpgpu.gl;$540278e56fef35f8$export$7642ac97981532b8(e,(()=>e.deleteBuffer(f)))}const $=this.convertAndCacheOnCPU(e,d),u=this.pendingRead.get(e);return this.pendingRead.delete(e),u.forEach((e=>e($))),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&$2f175fd57ae81f5b$export$d3c662a6136faebb().removeDataId(e,this),this.pendingDeletes--),$}readToGPU(e,t={}){const a=this.texData.get(e),{values:n,shape:r,slice:o,dtype:s,isPacked:c,texture:i}=a;if("complex64"===s)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=o){let a;a=c?new $76c09cc403ab00e4$export$4d8daca4f85ed73d(r,$b50143a2030a9a53$export$c07b68c109124fe2):new $b50143a2030a9a53$export$f93811a5a466fd42(r,$b50143a2030a9a53$export$c07b68c109124fe2);const n=this.runWebGLProgram(a,[{dataId:e,shape:r,dtype:s}],s),o=this.readToGPU(n,t);return this.disposeIntermediateTensorInfo(n),o}if(null==i)throw null!=n?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const d=this.decode(e,t.customTexShape),f=$2f175fd57ae81f5b$export$d3c662a6136faebb().makeTensorFromDataId(d.dataId,d.shape,d.dtype),$=this.texData.get(d.dataId);return Object.assign({tensorRef:f},$.texture)}bufferSync(e){const t=this.readSync(e.dataId);let a=t;if("string"===e.dtype)try{a=t.map((e=>$5d5df9ecf1c80076$exports.decodeString(e)))}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return $05a66951e325e00b$export$ab1029bcae9ddb4a(e.shape,e.dtype,a)}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const a=e[t];if(!$540278e56fef35f8$export$829768a5b7625879(a)){if($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error(`The value ${a} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`);throw Error(`The value ${a} cannot be represented on this device.`)}}}getValuesFromTexture(e){const{shape:t,dtype:a,isPacked:n}=this.texData.get(e),r=$5d5df9ecf1c80076$exports.sizeFromShape(t);if($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const a=this.decode(e),n=this.texData.get(a.dataId),o=this.gpgpu.downloadMatrixFromPackedTexture(n.texture.texture,...$7a7191ee47308025$export$2cc7cc972aa2533d(t)).subarray(0,r);return this.disposeIntermediateTensorInfo(a),o}const o=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK")&&!0===n,s=o?$540278e56fef35f8$export$f944c0101b593a79(t):t,c=o?new $95c546bc9f91f33d$export$97e262e8a4818e2e(s):new $1fa3fba0b4b1ed69$export$dae4f112167b5aac(s),i=this.runWebGLProgram(c,[{shape:s,dtype:a,dataId:e}],"float32"),d=this.texData.get(i.dataId),f=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(d.texture.texture,d.texShape[0],d.texShape[1]).subarray(0,r);return this.disposeIntermediateTensorInfo(i),f}timerAvailable(){return $3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const t=this.activeTimers,a=[];let n=!1;null==this.programTimersStack?(this.programTimersStack=a,n=!0):this.activeTimers.push(a),this.activeTimers=a,e();const r=$5d5df9ecf1c80076$exports.flatten(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),o=$5d5df9ecf1c80076$exports.flatten(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=t,n&&(this.programTimersStack=null);const s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(r);s.kernelMs=$5d5df9ecf1c80076$exports.sum(e),s.getExtraProfileInfo=()=>e.map(((e,t)=>({name:o[t],ms:e}))).map((e=>`${e.name}: ${e.ms}`)).join(", ")}else s.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,s})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return $3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:$5d5df9ecf1c80076$exports.now(),endMs:null}}endTimer(e){return $3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=$5d5df9ecf1c80076$exports.now(),e)}async getQueryTime(e){if($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e,t=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:a}=this.texData.get(e);return null!=a&&(this.disposeData(a.real.dataId,t),this.disposeData(a.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:t,dtype:a,texShape:n,usage:r,isPacked:o,slice:s}=this.texData.get(e),c=s&&s.origDataId||e,i=this.dataRefCount.get(c);i>1?this.dataRefCount.set(c,i-1):(this.dataRefCount.delete(c),null!=t&&(this.numBytesInGPU-=this.computeBytes(n,a),this.textureManager.releaseTexture(t,n,r,o)));const d=this.texData.get(e);d.texture=null,d.texShape=null,d.isPacked=!1,d.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,t=$d37ddc5e8d6b8536$var$CPU_HANDOFF_SIZE_THRESHOLD){return $3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_CPU_FORWARD")&&e.every((e=>null==this.texData.get(e.dataId).texture&&$5d5df9ecf1c80076$exports.sizeFromShape(e.shape)<t))}getGPGPUContext(){return this.gpgpu}where(e){$c4c4d404109848b6$exports.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const t=e.dataSync();return $d37ddc5e8d6b8536$var$whereImpl(e.shape,t)}packedUnaryOp(e,t,a){const n=new $76c09cc403ab00e4$export$4d8daca4f85ed73d(e.shape,t),r=this.compileAndRun(n,[e],a);return $2f175fd57ae81f5b$export$d3c662a6136faebb().makeTensorFromDataId(r.dataId,r.shape,r.dtype)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const t=$df118cc0d91a72de$export$d7efa3585619eabe(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,$b50143a2030a9a53$export$3f020f6dcff67a1b,e.dtype);const t=new $b50143a2030a9a53$export$f93811a5a466fd42(e.shape,$b50143a2030a9a53$export$3f020f6dcff67a1b),a=this.compileAndRun(t,[e]);return $2f175fd57ae81f5b$export$d3c662a6136faebb().makeTensorFromDataId(a.dataId,a.shape,a.dtype)}makeTensorInfo(e,t,a){let n;if("string"===t&&null!=a&&a.length>0&&$5d5df9ecf1c80076$exports.isString(a[0])){const r=a.map((e=>$5d5df9ecf1c80076$exports.encodeString(e)));n=this.write(r,e,t)}else n=this.write(a,e,t);return this.texData.get(n).usage=null,{dataId:n,shape:e,dtype:t}}makeOutput(e,t,a){const{dataId:n}=this.makeTensorInfo(e,t,a);return $2f175fd57ae81f5b$export$d3c662a6136faebb().makeTensorFromDataId(n,e,t,this)}unpackTensor(e){const t=new $ad8d4be6b28cd50c$export$c457dd67217cb5eb(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new $703603782a16ffeb$export$5ebf74a9a135ce1d(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const a=[$540278e56fef35f8$export$4dfd7bc0667970e0(e.shape),...$540278e56fef35f8$export$e8f6c350b57b8270(e.shape)],n={dtype:e.dtype,shape:a,dataId:e.dataId},r=[$540278e56fef35f8$export$4dfd7bc0667970e0(t),...$540278e56fef35f8$export$e8f6c350b57b8270(t)],o=new $508d7b10a09cd16a$export$ce249f6fedcc44de(r,a),s=[a],c=this.runWebGLProgram(o,[n],e.dtype,s,!0);return{dataId:c.dataId,shape:t,dtype:c.dtype}}decode(e,t){const a=this.texData.get(e),{isPacked:n,shape:r,dtype:o}=a;if(null!=t){const e=$5d5df9ecf1c80076$exports.sizeFromShape(r),a=t[0]*t[1]*4;$5d5df9ecf1c80076$exports.assert(e<=a,(()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."))}const s=$540278e56fef35f8$export$f944c0101b593a79(r);let c;c=n?new $c27401cb5ab3d160$export$4434db41c70879cb(s):new $6e9a2a78cdef4974$export$f6ee51c6efbee026(s);const i=[null!=t?t:$7a7191ee47308025$export$2cc7cc972aa2533d(s)];return{dtype:o,shape:r,dataId:this.runWebGLProgram(c,[{shape:s,dtype:o,dataId:e}],o,i,!0,t).dataId}}runWebGLProgram(e,t,a,n,r=!1,o){const s=this.makeTensorInfo(e.outputShape,a),c=this.texData.get(s.dataId);if(e.packedOutput&&(c.isPacked=!0),e.outPackingScheme===$7a7191ee47308025$export$81d5c79efa1086f2.DENSE){const t=null!=o?o:$7a7191ee47308025$export$2cc7cc972aa2533d(e.outputShape);c.texShape=t.map((e=>2*e))}if(null!=e.outTexUsage&&(c.usage=e.outTexUsage),0===$5d5df9ecf1c80076$exports.sizeFromShape(s.shape))return c.values=$5d5df9ecf1c80076$exports.getTypedArrayFromDType(s.dtype,0),s;const i=[],d=t.map((t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let a=this.texData.get(t.dataId);if(null==a.texture){if(!e.packedInputs&&$5d5df9ecf1c80076$exports.sizeFromShape(t.shape)<=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:a.values};e.packedInputs&&(a.isPacked=!0,a.shape=t.shape)}if(this.uploadToGPU(t.dataId),!!a.isPacked!=!!e.packedInputs)t=a.isPacked?this.unpackTensor(t):this.packTensor(t),i.push(t),a=this.texData.get(t.dataId);else if(a.isPacked&&!$540278e56fef35f8$export$951b388203a0422d(a.shape,t.shape)){const e=t,n=t.shape;t.shape=a.shape,t=this.packedReshape(t,n),i.push(t),a=this.texData.get(t.dataId),e.shape=n}return{shape:t.shape,texData:a,isUniform:!1}}));this.uploadToGPU(s.dataId);const f={shape:s.shape,texData:c,isUniform:!1},$=$188d3dc4367e297d$export$2a17a6d53fe6f5d9(e,d,f),u=this.getAndSaveBinary($,(()=>$188d3dc4367e297d$export$5ca2cb6073dd12df(this.gpgpu,e,d,f))),p=null!=this.activeTimers;let l;p&&(l=this.startTimer()),$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().get("ENGINE_COMPILE_ONLY")||$188d3dc4367e297d$export$4e01d2c5eea12ae3(this.gpgpu,u,d,f,n),i.forEach((e=>this.disposeIntermediateTensorInfo(e))),p&&(l=this.endTimer(l),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(l)}));const b=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().get("WEBGL_FLUSH_THRESHOLD");if(b>0){const e=$5d5df9ecf1c80076$exports.now();e-this.lastGlFlushTime>b&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("WEBGL_LAZILY_UNPACK")&&c.isPacked&&!1===r){const e=this.unpackTensor(s);return this.disposeIntermediateTensorInfo(s),e}return s}compileAndRun(e,t,a,n,r=!1){a=a||t[0].dtype;return this.runWebGLProgram(e,t,a,n,r)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){if(!this.disposed){if(!$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("IS_TEST")){Object.keys(this.binaryCache).forEach((e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]}))}this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=$2f175fd57ae81f5b$export$b841c6a213a653eb((()=>{if(!$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().getBool("DEBUG");$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().set("DEBUG",!1);const t=this.abs($23abd4a5c2de03d8$export$7de3fcd3cdba2a46(1e-8)).dataSync()[0];if($3a44a12dab85f91a$export$a7b6bc01c63cdfc3().set("DEBUG",e),t>0)return 32}return 16}))),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?$d37ddc5e8d6b8536$export$76e53a66c52b6d4d:$d37ddc5e8d6b8536$export$49716d145771e6a2}uploadToGPU(e){const t=this.texData.get(e),{shape:a,dtype:n,values:r,texture:o,usage:s,isPacked:c}=t;if(null!=o)return;const i=null!=this.activeTimers;let d;i&&(d=$5d5df9ecf1c80076$exports.now());let f=t.texShape;if(null==f&&(f=$540278e56fef35f8$export$80bf57c6927be1d9(a,c),t.texShape=f),null!=r){const e=$540278e56fef35f8$export$f944c0101b593a79(a);let o,s=f[1],$=f[0];const u=r instanceof Uint8Array||r instanceof Uint8ClampedArray;!c&&u||([s,$]=$7a7191ee47308025$export$2754e02fa98f5582(f[0],f[1])),o=c?new $3cf0d87b2e22835f$export$3b3e6b1f67c8c4d5(e,u):new $3c64c65062dfbf96$export$b2e063313033aeab(e,u);const p=u?[$,s]:f,l=this.makeTensorInfo(p,n),b=this.texData.get(l.dataId);b.usage=u?$7a7191ee47308025$export$6bf4bd1b6beb0bfd.PIXELS:$7a7191ee47308025$export$6bf4bd1b6beb0bfd.UPLOAD,b.texShape=p,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(l.dataId),s,$,r);const h=[[$,s]],x=!0,m=this.runWebGLProgram(o,[l],n,h,x),g=this.texData.get(m.dataId);t.texShape=g.texShape,t.isPacked=g.isPacked,t.usage=g.usage,$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().get("ENGINE_COMPILE_ONLY")?this.disposeData(m.dataId):(t.texture=g.texture,t.values=null,this.texData.delete(m.dataId)),this.disposeIntermediateTensorInfo(l),i&&(this.uploadWaitMs+=$5d5df9ecf1c80076$exports.now()-d)}else{const e=this.acquireTexture(f,s,n,c);t.texture=e}}convertAndCacheOnCPU(e,t){const a=this.texData.get(e),{dtype:n}=a;return this.releaseGPUData(e),null!=t&&(a.values=$d37ddc5e8d6b8536$var$float32ToTypedArray(t,n)),a.values}acquireTexture(e,t,a,n){if(this.numBytesInGPU+=this.computeBytes(e,a),!this.warnedAboutMemory&&this.numBytesInGPU>1048576*this.numMBBeforeWarning){const e=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${e} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,t,n)}computeBytes(e,t){return e[0]*e[1]*$5d5df9ecf1c80076$exports.bytesPerElement(t)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}for(const[,t]of Object.entries(this.binaryCache)){const a=new Promise((e=>{try{this.checkCompletion_(t),e(!0)}catch(e){throw e}}));e.push(a)}return Promise.all(e)}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await $acfddc1a67f6665a$export$68d2d147c928d1dd(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw $540278e56fef35f8$export$f7b23987b58d218(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}getUniformLocations(){for(const[,e]of Object.entries(this.binaryCache)){const{uniformLocations:t,customUniformLocations:a,infLoc:n,nanLoc:r,inShapesLocations:o,inTexShapesLocations:s,outShapeLocation:c,outShapeStridesLocation:i,outTexShapeLocation:d}=$188d3dc4367e297d$export$d421ceceafba9cc0(this.gpgpu,e.program,e.webGLProgram);e.uniformLocations=t,e.customUniformLocations=a,e.infLoc=n,e.nanLoc=r,e.inShapesLocations=o,e.inTexShapesLocations=s,e.outShapeLocation=c,e.outShapeStridesLocation=i,e.outTexShapeLocation=d}}}function $d37ddc5e8d6b8536$var$float32ToTypedArray(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const a="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<a.length;++t)a[t]=Math.round(e[t]);return a}throw new Error(`Unknown dtype ${t}`)}function $823709dbf78e06d0$export$3f638ed94e6c5baa(){$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().set("WEBGL_FORCE_F16_TEXTURES",!0)}$d37ddc5e8d6b8536$export$33567d88bc7c6249.nextDataId=0,$4344898573a8cf3b$exports.isBrowser()&&$2f175fd57ae81f5b$export$1ac8c3a90eff05d("webgl",(()=>new $d37ddc5e8d6b8536$export$33567d88bc7c6249),2);const $25a3b3d06f0224e4$export$d55298c9efc5ed14={forceHalfFloat:$823709dbf78e06d0$export$3f638ed94e6c5baa},$c2bb2fc37bec5772$var$wasm_factory=$2f175fd57ae81f5b$export$e4a6d214466a2c7b("wasm");var $5a041349c9178111$exports={};$5a041349c9178111$exports=new URL(parcelRequire("gLWzh").resolve("huCb9"),import.meta.url).toString();var $1a91664ff07cfc75$exports={};$1a91664ff07cfc75$exports=new URL(parcelRequire("gLWzh").resolve("iORpO"),import.meta.url).toString();var $f8f4b7f0cb7c9954$exports={};async function $c2bb2fc37bec5772$export$111ebbd6ec0d37d6(e,t,a,n,r,o,s){if(s&&o>1)$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().set("WASM_HAS_SIMD_SUPPORT",!0),$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().set("WASM_HAS_MULTITHREAD_SUPPORT",!0);else if(s)$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().set("WASM_HAS_SIMD_SUPPORT",!0),$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().set("WASM_HAS_MULTITHREAD_SUPPORT",!1);else{if(o>1)return console.log("In TJFS multithreading works only with SIMD.\nEnable SIMD please!"),{avg:-1,interval:-1};$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().set("WASM_HAS_SIMD_SUPPORT",!1),$3a44a12dab85f91a$export$a7b6bc01c63cdfc3().set("WASM_HAS_MULTITHREAD_SUPPORT",!1)}$2f175fd57ae81f5b$export$c299110fbe92c80c("wasm"),$2f175fd57ae81f5b$export$1ac8c3a90eff05d("wasm",$c2bb2fc37bec5772$var$wasm_factory),$2b6045978b44b795$export$b13f278778f0c389(o),await $2f175fd57ae81f5b$export$7953970fabc9c2("wasm"),console.log("TFJS WASM"),o>$2b6045978b44b795$export$2878a7293fa21941()&&console.log(`Max num of threads for TFJS = ${$2b6045978b44b795$export$2878a7293fa21941()}`),console.log(`threads = ${$2b6045978b44b795$export$2878a7293fa21941()}`),console.log(`simd = ${s}`),console.log(`count = ${n}`),console.log(`warmup = ${r}`),console.log(`N = ${e}`),console.log(`K = ${t}`),console.log(`M = ${a}`);for(let n=0;n<r;n++){const n=$51c648d3f52d38e2$export$65df3ad1ad888abb($39a3a51852fd890d$export$2a73984e4f41e1c1(e*t),[e,t]),r=$51c648d3f52d38e2$export$65df3ad1ad888abb($39a3a51852fd890d$export$2a73984e4f41e1c1(t*a),[t,a]),o=$f3b2f4ddf56c3ba6$export$6706882a873e9a8f(n,r);n.dispose(),r.dispose(),o.dispose()}const c=new Array(n);for(let r=0;r<n;r++){const n=$51c648d3f52d38e2$export$65df3ad1ad888abb($39a3a51852fd890d$export$2a73984e4f41e1c1(e*t),[e,t]),o=$51c648d3f52d38e2$export$65df3ad1ad888abb($39a3a51852fd890d$export$2a73984e4f41e1c1(t*a),[t,a]),s=performance.now(),i=$f3b2f4ddf56c3ba6$export$6706882a873e9a8f(n,o),d=performance.now();c[r]=d-s,n.dispose(),o.dispose(),i.dispose()}const i=c.reduce(((e,t)=>e+t),0)/n,d=Math.sqrt(c.reduce(((e,t)=>e+Math.pow(t-i,2)))/n)/Math.sqrt(n);return{avg:i,interval:1.96*d}}async function $c2bb2fc37bec5772$export$d70bd4925955bf48(e,t,a,n,r){await $2f175fd57ae81f5b$export$7953970fabc9c2("webgl"),console.log("TFJS WEBGL"),console.log(`count = ${n}`),console.log(`warmup = ${r}`),console.log(`N = ${e}`),console.log(`K = ${t}`),console.log(`M = ${a}`);for(let n=0;n<r;n++){const n=$51c648d3f52d38e2$export$65df3ad1ad888abb($39a3a51852fd890d$export$2a73984e4f41e1c1(e*t),[e,t]),r=$51c648d3f52d38e2$export$65df3ad1ad888abb($39a3a51852fd890d$export$2a73984e4f41e1c1(t*a),[t,a]),o=$f3b2f4ddf56c3ba6$export$6706882a873e9a8f(n,r);n.dispose(),r.dispose(),o.dispose()}const o=new Array(n);for(let r=0;r<n;r++){const n=$51c648d3f52d38e2$export$65df3ad1ad888abb($39a3a51852fd890d$export$2a73984e4f41e1c1(e*t),[e,t]),s=$51c648d3f52d38e2$export$65df3ad1ad888abb($39a3a51852fd890d$export$2a73984e4f41e1c1(t*a),[t,a]),c=performance.now(),i=$f3b2f4ddf56c3ba6$export$6706882a873e9a8f(n,s),d=performance.now();o[r]=d-c,n.dispose(),s.dispose(),i.dispose()}const s=o.reduce(((e,t)=>e+t),0)/n,c=Math.sqrt(o.reduce(((e,t)=>e+Math.pow(t-s,2)))/n)/Math.sqrt(n);return{avg:s,interval:1.96*c}}async function $c2bb2fc37bec5772$export$44d28064ef62086c(e,t,a,n,r){await $2f175fd57ae81f5b$export$7953970fabc9c2("cpu"),console.log("TFJS CPU"),console.log(`count = ${n}`),console.log(`warmup = ${r}`),console.log(`N = ${e}`),console.log(`K = ${t}`),console.log(`M = ${a}`);for(let n=0;n<r;n++){const n=$51c648d3f52d38e2$export$65df3ad1ad888abb($39a3a51852fd890d$export$2a73984e4f41e1c1(e*t),[e,t]),r=$51c648d3f52d38e2$export$65df3ad1ad888abb($39a3a51852fd890d$export$2a73984e4f41e1c1(t*a),[t,a]),o=$f3b2f4ddf56c3ba6$export$6706882a873e9a8f(n,r);n.dispose(),r.dispose(),o.dispose()}const o=new Array(n);for(let r=0;r<n;r++){const n=$51c648d3f52d38e2$export$65df3ad1ad888abb($39a3a51852fd890d$export$2a73984e4f41e1c1(e*t),[e,t]),s=$51c648d3f52d38e2$export$65df3ad1ad888abb($39a3a51852fd890d$export$2a73984e4f41e1c1(t*a),[t,a]),c=performance.now(),i=$f3b2f4ddf56c3ba6$export$6706882a873e9a8f(n,s),d=performance.now();o[r]=d-c,n.dispose(),s.dispose(),i.dispose()}const s=o.reduce(((e,t)=>e+t),0)/n,c=Math.sqrt(o.reduce(((e,t)=>e+Math.pow(t-s,2)))/n)/Math.sqrt(n);return{avg:s,interval:1.96*c}}async function $c2bb2fc37bec5772$export$4c1e078f3ed46cf5(){return await $2f175fd57ae81f5b$export$7953970fabc9c2("wasm"),$2b6045978b44b795$export$2878a7293fa21941()}$f8f4b7f0cb7c9954$exports=new URL(parcelRequire("gLWzh").resolve("lRd4M"),import.meta.url).toString(),$2b6045978b44b795$export$96f76c6576699053({"tfjs-backend-wasm.wasm":new URL($5a041349c9178111$exports).toString(),"tfjs-backend-wasm-simd.wasm":new URL($1a91664ff07cfc75$exports).toString(),"tfjs-backend-wasm-threaded-simd.wasm":new URL($f8f4b7f0cb7c9954$exports).toString()});var $hFL4C=parcelRequire("hFL4C"),$56c1ef3c4ddfc275$exports={};$56c1ef3c4ddfc275$exports=new URL(parcelRequire("gLWzh").resolve("1jutt"),import.meta.url).toString();var $ff6b6a2c73f1e344$exports={};$ff6b6a2c73f1e344$exports=new URL(parcelRequire("gLWzh").resolve("bxp69"),import.meta.url).toString();var $b582b9e256250eda$exports={};$b582b9e256250eda$exports=new URL(parcelRequire("gLWzh").resolve("d5WcL"),import.meta.url).toString();var $667aaa4a2e1fe23a$exports={};$667aaa4a2e1fe23a$exports=new URL(parcelRequire("gLWzh").resolve("2RcWn"),import.meta.url).toString(),$hFL4C.env.wasm.wasmPaths={"ort-wasm.wasm":new URL($56c1ef3c4ddfc275$exports).toString(),"ort-wasm-simd.wasm":new URL($ff6b6a2c73f1e344$exports).toString(),"ort-wasm-threaded.wasm":new URL($b582b9e256250eda$exports).toString(),"ort-wasm-simd-threaded.wasm":new URL($667aaa4a2e1fe23a$exports).toString()};var $5dbdbcd61eb611f5$exports={};$5dbdbcd61eb611f5$exports=new URL(parcelRequire("gLWzh").resolve("gcfuw"),import.meta.url).toString();const $51a955c02e361374$var$model_path=new URL($5dbdbcd61eb611f5$exports).toString();async function $51a955c02e361374$export$2ced01523e5cbd11(e,t,a,n,r){console.log("ORT WEBGL"),console.log(`count = ${n}`),console.log(`warmup = ${r}`),$hFL4C.env.webgl.contextId="webgl2",$hFL4C.env.webgl.pack=!0,$hFL4C.env.webgl.textureCacheMode="full",console.log(`N = ${e}`),console.log(`K = ${t}`),console.log(`M = ${a}`);const o=await $hFL4C.InferenceSession.create($51a955c02e361374$var$model_path,{executionProviders:["webgl"]});for(let n=0;n<r;n++){const n=$39a3a51852fd890d$export$2a73984e4f41e1c1(e*t),r=new $hFL4C.Tensor(n,[e,t]),s=$39a3a51852fd890d$export$2a73984e4f41e1c1(t*a),c={left:r,right:new $hFL4C.Tensor(s,[t,a])};await o.run(c)}const s=new Array(n);for(let r=0;r<n;r++){const n=$39a3a51852fd890d$export$2a73984e4f41e1c1(e*t),c=new $hFL4C.Tensor(n,[e,t]),i=$39a3a51852fd890d$export$2a73984e4f41e1c1(t*a),d={left:c,right:new $hFL4C.Tensor(i,[t,a])},f=performance.now(),$=(await o.run(d),performance.now());s[r]=$-f}const c=s.reduce(((e,t)=>e+t),0)/n,i=Math.sqrt(s.reduce(((e,t)=>e+Math.pow(t-c,2)))/n)/Math.sqrt(n);return{avg:c,interval:1.96*i}}async function $51a955c02e361374$export$d18f8127d9466c7b(e,t,a,n,r,o,s){console.log("ORT WASM"),$hFL4C.env.wasm.numThreads=o,$hFL4C.env.wasm.simd=s;const c=await $hFL4C.InferenceSession.create($51a955c02e361374$var$model_path,{executionProviders:["wasm"]});console.log(`threads = ${$hFL4C.env.wasm.numThreads}`),console.log(`simd = ${$hFL4C.env.wasm.simd}`),console.log(`count = ${n}`),console.log(`warmup = ${r}`),console.log(`N = ${e}`),console.log(`K = ${t}`),console.log(`M = ${a}`);for(let n=0;n<r;n++){const n=$39a3a51852fd890d$export$2a73984e4f41e1c1(e*t),r=new $hFL4C.Tensor(n,[e,t]),o=$39a3a51852fd890d$export$2a73984e4f41e1c1(t*a),s={left:r,right:new $hFL4C.Tensor(o,[t,a])};await c.run(s)}const i=new Array(n);for(let r=0;r<n;r++){const n=$39a3a51852fd890d$export$2a73984e4f41e1c1(e*t),o=new $hFL4C.Tensor(n,[e,t]),s=$39a3a51852fd890d$export$2a73984e4f41e1c1(t*a),d={left:o,right:new $hFL4C.Tensor(s,[t,a])},f=performance.now(),$=(await c.run(d),performance.now());i[r]=$-f}const d=i.reduce(((e,t)=>e+t),0)/n,f=Math.sqrt(i.reduce(((e,t)=>e+Math.pow(t-d,2)))/n)/Math.sqrt(n);return{avg:d,interval:1.96*f}}const $f0fb2d7177b24bca$var$N_field=document.getElementById("N"),$f0fb2d7177b24bca$var$K_field=document.getElementById("K"),$f0fb2d7177b24bca$var$M_field=document.getElementById("M"),$f0fb2d7177b24bca$var$count_field=document.getElementById("count"),$f0fb2d7177b24bca$var$warmup_field=document.getElementById("warmup"),$f0fb2d7177b24bca$var$tfjs_cpu_count_field=document.getElementById("tfjs-cpu-count"),$f0fb2d7177b24bca$var$ort_cpu_count_field=document.getElementById("ort-cpu-count");function $f0fb2d7177b24bca$var$get_parameters(){return{N:$f0fb2d7177b24bca$var$N_field.valueAsNumber,K:$f0fb2d7177b24bca$var$K_field.valueAsNumber,M:$f0fb2d7177b24bca$var$M_field.valueAsNumber,count:$f0fb2d7177b24bca$var$count_field.valueAsNumber,warmup:$f0fb2d7177b24bca$var$warmup_field.valueAsNumber}}document.getElementById("tfjs-wasm").onclick=async e=>{const t=$f0fb2d7177b24bca$var$get_parameters(),a=$f0fb2d7177b24bca$var$tfjs_cpu_count_field.valueAsNumber,n="yes"===document.querySelector('input[name="tfjs-simd"]:checked').value,r=await $c2bb2fc37bec5772$export$111ebbd6ec0d37d6(t.N,t.K,t.M,t.count,t.warmup,a,n);r.avg>0&&console.log(`TFJS WASM time = ${r.avg.toPrecision(3)}±${r.interval.toPrecision(3)}`)},document.getElementById("tfjs-webgl").onclick=async e=>{const t=$f0fb2d7177b24bca$var$get_parameters(),a=await $c2bb2fc37bec5772$export$d70bd4925955bf48(t.N,t.K,t.M,t.count,t.warmup);console.log(`TFJS WEBGL time = ${a.avg.toPrecision(3)}±${a.interval.toPrecision(3)}`)},document.getElementById("tfjs-cpu").onclick=async e=>{const t=$f0fb2d7177b24bca$var$get_parameters(),a=await $c2bb2fc37bec5772$export$44d28064ef62086c(t.N,t.K,t.M,t.count,t.warmup);console.log(`TFJS CPU time = ${a.avg.toPrecision(3)}±${a.interval.toPrecision(3)}`)},document.getElementById("ort-wasm").onclick=async e=>{const t=$f0fb2d7177b24bca$var$get_parameters(),a=$f0fb2d7177b24bca$var$ort_cpu_count_field.valueAsNumber,n="yes"===document.querySelector('input[name="ort-simd"]:checked').value,r=await $51a955c02e361374$export$d18f8127d9466c7b(t.N,t.K,t.M,t.count,t.warmup,a,n);console.log(`ORT WASM time = ${r.avg.toPrecision(3)}±${r.interval.toPrecision(3)}`)},document.getElementById("ort-webgl").onclick=async e=>{const t=$f0fb2d7177b24bca$var$get_parameters(),a=await $51a955c02e361374$export$2ced01523e5cbd11(t.N,t.K,t.M,t.count,t.warmup);console.log(`ORT WEBGL time = ${a.avg.toPrecision(3)}±${a.interval.toPrecision(3)}`)},$c2bb2fc37bec5772$export$4c1e078f3ed46cf5().then((e=>{$f0fb2d7177b24bca$var$tfjs_cpu_count_field.valueAsNumber=e,$f0fb2d7177b24bca$var$ort_cpu_count_field.valueAsNumber=navigator.hardwareConcurrency}));
//# sourceMappingURL=index.13c60f53.js.map
